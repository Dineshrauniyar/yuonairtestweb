/*! For license information please see main.4ef0fbff.js.LICENSE.txt */
(function(){var __webpack_modules__={6532:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case u:case l:case d:case m:case p:case c:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},8457:function(e,t,n){"use strict";n(6532)},4334:function(module){var t;window,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=96)}([function(e,t,n){"use strict";n.r(t);var r,i=n(11),a=n.n(i),o=n(14),s=n(2),c=n(1),l=n(48),u=n.n(l),d=n(49),f=n.n(d),h=new Array(32).fill(void 0);function p(e){return h[e]}h.push(void 0,null,!0,!1);var m=h.length;function v(e){var t=p(e);return function(e){e<36||(h[e]=m,m=e)}(e),t}var g=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});g.decode();var y=null;function b(){return null!==y&&y.buffer===r.memory.buffer||(y=new Uint8Array(r.memory.buffer)),y}function _(e,t){return g.decode(b().subarray(e,e+t))}function x(e){m===h.length&&h.push(h.length+1);var t=m;return m=h[t],h[t]=e,t}var w=0,S=new TextEncoder("utf-8"),E="function"==typeof S.encodeInto?function(e,t){return S.encodeInto(e,t)}:function(e,t){var n=S.encode(e);return t.set(n),{read:e.length,written:n.length}},k=null;function N(){return null!==k&&k.buffer===r.memory.buffer||(k=new Int32Array(r.memory.buffer)),k}var j,T=function(){function e(){u()(this,e)}return f()(e,[{key:"free",value:function(){var e=this.ptr;this.ptr=0,r.__wbg_signmanager_free(e)}},{key:"get_digest",value:function(e){return v(r.signmanager_get_digest(this.ptr,x(e)))}}],[{key:"__wrap",value:function(t){var n=Object.create(e.prototype);return n.ptr=t,n}},{key:"new",value:function(){var t=r.signmanager_new();return e.__wrap(t)}}]),e}(),I=!1,C=null,R=0,O="free",A=[],P=[],L=0;(C?Promise.resolve(C):new Promise((function(e){I||r||function e(){var t={wbg:{}};t.wbg.__wbindgen_object_drop_ref=function(e){v(e)},t.wbg.__wbindgen_string_new=function(e,t){return x(_(e,t))},t.wbg.__wbindgen_string_get=function(e,t){var n=p(t),i="string"==typeof n?n:void 0,a=null==i?0:function(e,t,n){if(void 0===n){var r=S.encode(e),i=t(r.length);return b().subarray(i,i+r.length).set(r),w=r.length,i}for(var a=e.length,o=(i=t(a),b()),s=0;s<a;s++){var c=e.charCodeAt(s);if(c>127)break;o[i+s]=c}if(s!==a){0!==s&&(e=e.slice(s)),i=n(i,a,a=s+3*e.length);var l=b().subarray(i+s,i+a);s+=E(e,l).written}return w=s,i}(i,r.__wbindgen_malloc,r.__wbindgen_realloc),o=w;N()[e/4+1]=o,N()[e/4+0]=a},t.wbg.__wbindgen_throw=function(e,t){throw new Error(_(e,t))};for(var n=Uint8Array.from(atob("55ZBgM/2Bzm2JGhNn//ljJsSorhWUYE66a1Hf8O7pfQGR2zfol8qRP6CDhsi3iG7nFZu9stSyPq/qu2Rr2w8QkTGP6Gm2cg3J5qsQgq5bcHA9mDpGv/b24uEwsixZVl1eGkdV4SB/6ayw2v48hLmNA+w5UlnTCiWwerzESQPidpSUMbamXL3pU815EQm12GhhZ9aWzo568gdZvXevBc/WHfFKQSuTgWva4e4eSmW7UxpH8sY4HlDsCTMu0WwEB8B95XsZwOp3GLgfOQmJBw036DgIKU+XGn4KpIEq77WE/h6R7sZKsFUp+u+2cDnW7IPNe7xfd9areFo0EUh0/9K9CqxUkLqMB5hlgS1fwQHRzKPhQ7gALyc6HwMCPooS0M1NrzjdfH3vUn0PeQ1GBlnrnXgiu8TunfHg5TcbBfPEbxbyiiow1Np+VEBlHNh00PiAWyu024NHaPbDGfMtzu4WF02fgkh8Pxb7bCSpCZndjTytQgAzfZxk2bbe6NoHHFnsviqYzHVpxoPEk7icHRWcZC28d2muthq673KCMQay1fJcPqSTuYhWUZS5eylIguT33lP+TBbOWQI8KtCzBN5FzqILfKzRkzrJ3L192BUF8SILdwmriv10HU9ZlQAyQA1VdegnzOl/dYk2GGsB3724y7w/7aJLHJzEfwrfIzFd5CoAft7ct+zQW2G4Wm2kpoz6uJfgrNyykQgwCO6pkPy1ADrBUuJon9ySjhgcFru6AKa99wTlIhzBw3FKFt9Aa1/1KWWy7W1wAIGzRTs/7rLXRkKFjNqGVXBdoVNTpHFtfEFsuX0X98ISr0Bennlx0h2Yl/CGNb5Kc7i3bio1XJHX24avcMsEAwfdfskCki4/dkStn7QC97YJC3z+7gD84IiEEeGcnn7gHJyeALr0ssbqDUcKqxEyheyFs9FToJziLB+eYw6nMQLmYTrQyrg3b+3YBdgx7pzNEDSyz3tmaPaikwcLSyB/Igo6U/oP/fS2TZLtmN03m4iS76YrDJAgI+2W1GboabuixVcLdxm6SQ4CzUnHSPl1knhcGhW/+OcKa53tB5j5C4wEpiENv6T9PUu4K0YwtEAqFbd/eN2wVAYCKn/nlVA8uiESxCfgs0411mRFk4i1pixJLPP5AFPG9QFZnj6X19TqmhmIhl8D6Q1rOvPCqPZV/z04HjayX4qPzPzP/5NVilN/sHhQe7ulriGmU/3rj5QEuiOymsL7EdCQMc/4mXDPdVrDBfbt6dnv11oLYGmqOP1oSBj02FtsmYrMn9pRg7HJoCh86jAnzuOYn4tGnQ4gw/89sb64NAXcoIbTIjyiHBAQCCK2Yn4I/fNF10rkQlvSvkpqLG2eYpJmpWrcouNDEUtJFR607oNraLdmUKyLc1g7SNpS+ofp1FL6rua/HFSrb5kTF2Vcy2gl+6MACbFRChKoP/un7IbYJuOima/JWFZcs/MXokIx+ijuqjMtVKaYRTzNI5ncPa2y/EXTNdUUFpMhbE7sa39Uoh6Hci/viXy2KFTNbiw+BkWOPnyOr04LjIYKlJ8ud/KvjuvNUGQOHJvj6tpZJxj97tr0OrgZCAxSHGU5JQfqEd/U0QfzGM8Wh3zdsnd9LhoIIRJAtyA2PmjwJk4zTxeYlgwPqAVTU3+9bA1QD+jLZZ3Ffk3MRq+Ar2RT8YN6ASR4bItt3omBj0LJe0zeGY3OzfhljL6LA1m4+IUp+CzeWo0aEjnvRk3iCJeajgdC+NUGB5qh8PWKtBeC58woavnRjvRNphXS4b9M7Aymcfq26B2YY2lS+wLf763OnGJlVdV/srgyAUJJZjarxom4zrYy23kLFB8zFzWuwSMue5Xm1YWape91JGDuRLIctrJWU47/XfLm6Zgei4xOwq1RcjikGuaZtDwcFg9aKtO+JOGJsCjy9AiPnmt+rmdX83GsT3KtTETnLv6ZQcnGtmt4H8AjFgGYePdQc40cj8VAOV8NCLspyW5w63b3g37GXJrzjm9Fym3fh27psjo5RuTs7XCSrNENxKm9jCcXPqWxyuXJSn6dhdWnw5SAnUjixXviWS4HsnYjw4Xt4cSwkqCB9naLstVXt5D2HgG4fzHFNHvnETft0mrhU81IBDTSyNFdDvFEX8cifoc6FcNq7pzXlotl2ZS1FIzNXddZrdXpBNYZPV52gtCok6ePpUR/Y8jyJpE9P3q8dmFVivVGgmKTcBKMDDbzeOfl4MpOGBtBX/Lab/kzqG42sTyOyGUyOoFXYGMUWJ33GPI2KNa/mW8zVl+imshfbj7PiK1qRUn74KjAkH4wjKnu50AONYUaiveSdwnEc1zCjZSJ3dmBKSxhWAcO2PdHBg5m9+JCiPGCVfK9dzoM8Bm7xx9noJiqt4hNiVa5di1Fd1JRN4rnd1DbKglKpAVSoqvJPxmuyH56TFE4BQjhfKbDMZezQJqx+KXDiW1JWGeDYaPVBWPYeZX6STIzC/DjS7UFlqoKgGGAGP17x8wmMRE6O/axG5jDzloCGxCmrymT0ZGCh4g54O1iDYUtmJr7Bo1d+H9RQj2Y10BxcMkLFTIZVjm9e3vtIbeRx0OdXE1Ou37J/WeJZyPXn1fszvp/KonCqVnt862LrxfoB/0sF5gk4Y/f6LVneU5hun9/V1OVre9XrnDBhcVaQa9Ye6gs8sHW9HCNchaFbkUpxSiyxVEFZIlbejbjSPFlkYOLhtQHduwZWRHWA9akqykJNG3PKvOZAaJG5nWQq8+e4K0JF/AXTKIIr4J7zDt8ZR4xb9T2gxjl1nfqzidMRIY5B4rkw0oetta+j8rqkFpTEGA+hU/tw7bDtpkPYvCguwncnCjwULNFT9I9jXx3H4Ws3WWMCit29F7kGq2Ka+rU/MjnuP0lsXkoB1rr8LawHH5gaf8rajq/BhKrGTIfjDiZG5qz+L7SZBZsMSZZ9pM1QhKju+GTD9iC+9HlhfXMtj94gz8U4h7eGXziEO7lo7LwLL6/DVMrGbkv68JYUYhGz2yBm/8cbQEh5vhakbhmpv1K6XYM9rzdsd9bwYcYt3cfKE3m+/NrUa42+RpJBdFg7cAmxsZ7/0TMyVw6Aqu2gzldb2ag4iLrPNEyW1ywaJ2DXMgPi/sjnDzhuo+vIUrc86j4ZLhT4GAN6uqwbnXq5UDzX7TfuB48oMvvE1sK5q6owkdWfklgnC6pSBpK7wl+e3kuvaYnGRGJJMBQuVgWL1awHrVtfOTsSE1vc0ZdG+a/Jbza6pHbyfi5L7FXJAGdQTk0EP3VT54+F7RZ/MJ9fj56aMxzhJRwQJ6df3cM26qSc5bW/zP3PFXypTOBwzCvVtwGQzkGvDW7XGwgLbTNHDpQXOd2BQ5Zd9bjQqGg+S+kIqWZVZCqVLfyFPF9bEOHfPepL6nRDJUD2l5uRnXqeTvidaSIoqS1Fbc6mLPtYnbp6uuts6Qo8TbMzFuI7NuaPuKnQIyVu7vUGJ8jg1uVOjlMNKdVtLPr9/ZEKVZVj7lsFA+nm3zRjjr1DRKhr/wY1CI1iXKVTeQZ0i2PSnN99j4iVTSwNAYQLWWD+KyZ/xRLVxmZQPuSkLeKBRAkavxjWnIFQb1dn72wMSUdcB9cNCNJNdyTkrl44MRR+pUuiVrTAnTlzL33X32eEYwT+vn564yxFJLUDyIMNjJ0nx+GreKSOglI2et0kAwRHKYFclH9GVTiVlB0TWeUJGD+7JYogF7BizjTGyPOUEWQCguIEmtC4fHD5461T80Z3Mp7rhNTI+Cswuknr9hrIZmpRyFSrSrP8R4S1Cf34Tu4RNrDxpofVK9nGTklZPsYM6eiP29Lx264fsX9oLdYhq7vCwcrRMJ1a5d0QHXUYRV5IqTFBoUSpxkQ6IHHL8ckM4NCzwk8K0CA3pj5Jp2a9wZjfKq7R/eukzQFuhMxV2qgHf2E3t7/SA8N7sMvsmF0p3J96QRE3rA85ekH1q8nrBVujlIqahmL0Qto3+JxdqAfnKMCblQGSKVWZgWLMm82MG/9pjhdkMzG7C2GRLGMty2y8NhX1pZWHNbLOmvaC424LNz/Nl5tkPv7fVbCT2ItB+/dx3ZhVhmgSLd1zL+2PsNFmj7VGBruTttezlo1mDKErjY27nTswjf2fY/Uq8lPcVAgRpJM+m7jS/8dk8cdl7fkY7Tuj4TfiSe0tiNSoJgZwom4+9haoBQ65AifaB7pUiTc0MAXCvG+nDydkRIbKx5fL6gAlyMAnBbQf+Qh1naLfzzwLVTP0EEyoenW2W1zKqfMql5rwGlyCB9mSa2s25yHf4SDSBlgEVMJtplpRgegZvDakpWDKgx3UR4W7yKW+RD7bd7rEa/GQmA/q0RYAOIaXfO/2CgEUPtNhPS2uqy29lBYFPPv5SHQ0t/jRxQLBpe09ateAWKypt9TWS7Z5gynOePS5M2NC16AhF0Xz6s7DUjtI0xNho9Y6GK16J5V8HqHypV/OAz7+VBzTaiR57XGH4r62GoAiJqfWOM7okzKCeeSBnOIKPHtwgM0SQbvCvv7rmS6ZAacu4BbXZ5R9gOhdR9H3bi7lWLBNnqqLPIy0k6m4XBhtl40B6z/5AcJxjtKfwvIExl7VsQRqbW8gpPMsmJZfSp3uC35g1AkP+BJlju3RVoFZNo3JR18A5uc60NGD4zvzIdGTAOth4ZAZx0ZGQItHuNcLz/0CiavJdkjD65h4avf1vf7LFZ1uogJz6vLK3uDisXIBIGkXOlIpxTdjjjTQt6Khy50bYbXsG9JBrSUGhsBWpeRUnq2cZWOifhfueY95gFIDAu37oKR3FQ1YxGMg3UMq+L2VN2rtqodelSHof8SyYZVQWs7L0bjtgolId1tAAjHI7J1/+JIRXeUBjjaGGQAU+az9XFfiqn+VRAGG8JDdP/WmEqjhYpcy00LIBIBzCF9I9mbXCv8IX9fhPlI5NqWGO/v0ikpfn+hb5U16FcPYsx+xLb4la6nSbvrTDP5MthPyeLIIY7ZE/rNU4ajgPmI0/3RvD7WtEbo8UGPjnev55N2ELuFpEPzkNu9MzXqq8K0cWxk4lT2DQPi3rDO8x8i5jX7wWQi8e0neCMb0SUO67zRfaekZONGfaFl47LByciUuy5dhqxMPokhTE2WbzxqCyt/s2TqG66R0ocYHmzv9f7tJ+TES8NFyzL3fhNoZoW5IxWNE+stYWutd3LPwa7HKhhRAbl5uCEbEGjrUzTXwbzG0qvpmNtpnYnmKjzTaSAFNCxfw9edcjaxCiRKKIDd6GS/eDsGBgTvJexDfwGmVWm9jadZhee9jRFiZFtL6m7sY1oQa8F9ycxSuPANXCqWkApcaEfQLkt1yyfeRs5yC5O/6XGJ4TEtJmCTPJFRr95au20STIPgkoEF1mzZ+5ZRtWKUYuWJVZDwcA/lTy6oYp0/d0LGPRUXnXRm0qtIXQVdnoVhKZPeWACt9rujRL57MEDi2kHtfV/ucu+k03bN0fQlbalUJ0faY99GC6L8MO8MXTSmqDAxNSpqpIFPhgHgAg0YK/GZhlQjbQXE4tMDEDO9obNfp4W6m8fdznMesSSRINBG5FDf//DkT9pSRQsIdSg4VK7W7j2d2jsQUIyjJmbd/2zCTaqh0Yq0cH6mS/5g/cq3eGOiJbaCNo6oVwGURzXVAeVaGIfJFhd2A59sVp+rVfe1f8B6bVbCLIKgGUgpUokO0vTg6ouAxXGQKtveMhhBT83ukPIRZ02+qF1kvM+nNCVy8uzrB0+W9QIKbMio2m/7zW78xd5Tf9itocpLbRuNC5cuS/GyRGXw6fzFzjM1UITlQ5dlvoyYxuvb7ol4S1MyhkfMNZbif6/xic0wB3uSScez3oFTRbCHBd0cbJL3cLwfQjCBpGBrRVC7174qW4XWnw0eYGSSzTVSEDOlMaTUIGJO+s7/z8JxaZprcEsoB4+vt9/+uwtM/iyqLVPidu8ZTh+F1rsEWKwZhDAg/giVc6VzRq+DJCrhn81b/LYlLJOdgoAjID2VnwgU+mQhCL6KhgIqqiVraD25UIYEqxMcZ1aRcZvHa8x5gh5onPtsVcl53Xek9BOYqkyj64acX921zwqoY0lmNA81NE7BzVts3cwWDZ4Dk6uuzwtfJuJc7vVS+fdVDEg3ATwC9oG5/Vb1swTyzTsl2V4m+93bSQo5STFG5AruTDWTym6Lxtt4OrAeIVgdoyTJL+keHiHTNiL0/nO5oYwftSQK1aYBuA0e12t/FVN+LsCk0L/hfCCcke89LuP4d46qnFo3NLpHb+NFrvekXVT4GiZgMW2H0orIY0TpS15wlxVUaGCUo7YSN0yWDRU5+p41dCOs5/vXq1do7K+Byjj35/mPlQ+VEDqqF7OIBQrXfHgCXYPy8ye3Ih3io+tYA6nK0/2clIERrpA0AMHKLTGEO7q/IzIcOCwYN9W/ISH4v4uk9MhzNu7Fg2IPCq5CQF1GLuzQu+wNv2h94NIA2UJydawv5X2bHkZjv+kB/WQCYjxUNEU8ssUdxDZstpv2qNAHmI6BMD84olxMiwFdK5J80zc9x7de/cz3ZNIkkGIpMCZJqKKkaLVo1MLnR/h/hQeUvfqJmvkPeIre3EjnliNkKJKL0KNaupHzY7Eoztaj0cNOhJ5dxIRB2is3kLcSK1FZswRJR0B5OXX+Q4UlFIrhR10lIge3Fg5DnaGoZoOyFaaHztrdF251JubDsCZRDSWA0y6ysykO+h4jhXtuWF7D5Wp7B4Hx3EQvKsmPPZYcLevowjlWghHbRBEhwPI3bzjhNWXlqtym5ObYAeYxuHyvyYue2X4651f7Om3+m8KT7Y/JqLWXwgayCdzxHuJidti1ITuf/oXzeCfTRbG5ytXlDk/epX061W6BO074jI7nV518OkYtRJDnPqdDFAf0uWcATfk0h17+gP7GHjy0Rc0Ive9XmvA6gCkoMjNjMEA7GQ3xy7e12DzfNpIfND7GKKojMifTrvkDXrfa3o4wNYktY6/VlBdHtrcH9F7uMWICej/BjZXVX83WFGcVHx3nOXxSL59kE9bSmHc3Xp8iDbPuSG5GIRp3fTFHnmTzzGedl6al2gUbGFKtkC0jFNtKTk2rr8LEObiGgfCoSpTWknvAYDQBoj93s0KiRNPOqgY++Xka2cQiDwqUsLl8/i57YC/V6sy5/NvhViRRZgCzcyjNHGzZsYA5YMtUntyfC1gNFP7cL3AwVA+326NJI7MQJoxTqcHL/YhntsnYTR5R6GVVvFYIlW8Nv9qn3daoGXMz0MoAsXpCzbiHZ0XWkfw2qlJkmZjgQtMAEhHXNgokGRPfOprmtlvNZaNlGB1EjQTVX1Y4tCyJFZhdhID4CowB23uQF16NifyxH+DGnQrnxeklnG7UQV2BRVdr6ZEKZYv7Gj+PbpojzAskvbdtaFsataqPrLDoejjc6ZfPA5zA0iYcCvcNjzuy9SuT0uG8NWMTLv2OsImL++PQV1sifUENAwi4O3yBvzTy4J77B7mMBpjCYGXAyjFGFZL4eAazSmvZ8thJ0FFW+keLHL+ft1dQBKmXY6JatelGebcIC/PyLBHdfX9bRcauGg4xEO7mMl8AjlcPMczkPniNQpiQFqcDJYrFGoxMV2hskxMn0bRQT8Ajc6w6sQYkGl0CQUImPrGfie9dsk4mrCLMIFOqcm0WT8O8AiREEGmooBTO7WI0qk506NsV7ffvc0rVJERJKcyRyCmFZdTSn/SrBfjV7SXT3pQlgluoY4FBUCDDkzwBgjkrE1oFUA3ls+xVP10w5jjBIMwKBSQqRVAEDXw+Dyj+jH3ila8czULWsCKhWd4qGsMFN7++OGBAz9eXHjAO9m++mTXF6qiyG35Q+61yjYQKsBrjR4NNexrwVGqBwAZA6cr5mp8AhoyzPomJ6TLfWEJjEeRI3QsX5oQkNuyF7u650QFka+VjFeNRY6ALklleTW9I0v4ABKDCXTGkjv80vqVNk+FTL0bJK7ndSjjMJD7OBFIEywBPJFrxTdyzocmxEgG0zu1VDgsQuXITYCx1RRty89A/F+CdSAlbMlIkptCC0GrF/jFS8PAU+6TNV1eBqJrCr9BgH1mth8FtdfE7druR+xyZKn5idfUKzGW6ACGF4M61IRoSs9o6xmaj3dnAVQvFWUsMcR6MI3xTKJNyMxkhXhhvT0IxialnG7i/BBzXfMXYh5jl4BXzCSNlxU4+aboEgIDr48/+pfj8J3WcNccFfzV6eiX05qkNktmafoBcxrEsrM8WQV0VVSRybQyXPOqJ1yndwBI6BOGO9oGxGDAd+HcKaZlptCMJsR1Cp3m7F9HpBFSu/NYVj+WSDY7jWSFBlTBSCFyyPEUn8S9NmBVa+mwGVsz0Q+fxe23w1w6wVO7sVnZqRpmXJeXg72QFkl7Qda1lBzn/FW+rRwLvFxCsuad67Wmzab1RJdzPGsuq8AzW6tL+JiwW/VPUSBbBmV1+EjqQ28x1u9W5Eoy7zhsU8NT87CtNbZ0lPEpsoWMewxC80kPanfWPrQXmixWDXXz7uf1kBTr1J/iYuls7fUsyAChXjKcKOaCF4ySqkhMTGmjNqYiG5joBUi/SZpWvgxk28pyIPhf28YULINiqmbWPBKuTCLFruV7JfRgGM87XfNEFc7tgnYx503k/0UXJfpmjx6wKbKcvV5fqrctx+OrIn++TxRxSKlTScEIwd2vG5mg/p5wsQDpiD+X91XbkReKLB25Jvp/IJaJh715RXqBzwCwlY3URonyy+oZoTD8Ym8XMMv/dMllh0LCFZkZFn2gYcLG9iO+I5S/GyxwjajQLQtwH7o+n50vimC+ES8ePOpPDwlu4oG8KhS7NL/OTdIWPIHbSa6/9DfjOq9W66EpaK57R78PpEzVNLkTP2L6lllqDT6SDhIDIvQS3SQbxG96khXgvW/rME+tiXFXi+BC0udi9keyGlc3sLBN3CP3QXzswhBGTxvz2LmRMkU3rLuSkYR1Gzr7vj1VxTN1y1iciA0DswsPZ38eB6X10Uzk6HZqjzBK+EJ5osJJJ/s3b0MFRIWYlM15TPm1uzeOk1zQ96quClQLEZbpxmV/eAduIotXUYQZjWAkTulBJt7kw9uEnLo7OpZrf8k+0ZQP0agcOTLbfrekHji86Mxr7rTwve82mePKoAkkEthE45VI+f1VqpyWNW1kbBbVVfuatKt6MEKqyTUyxSFGHk81kY7CxkgMNexiikN0+IeiUNsfuktjfOAiMfDhbTe4rtxSEPvO4CCUGaktA58TGnSO8rHdCicmGkNrwWsnXgUWjhp8bllNcnQN10TbwxYPAwQKW/JJiYQadr4THXO+vWudiq3I47vqmEM/Ab3Dlq11Q7RmRWntYOEyESbTI8PZYwbtsmjcSwBtTAIHQ5h3I633h3FpOkT2c0PlMjzj0Q/OuqaTVt639fowVppqvSlNcK5KupBnrxfKHQK+SoKSuaO8PNMkYkbcEAc9F0I4uzPfRVP/q5QkvJVsVoJ8BEWW/q1+kivHEMQfb+J2NfJjSTG+WhjHjL8eqi7FgfVewxwmqG9IOnTkwDjAHUaJMIyhVkadW/+GQjLyNP4zyHcLAdWcB5zQ2kc/blAx2RKfG+ON3RfC+iQ5Th7V2i5abkoy0pjfyOwTjIvaq9slSCtoNGBZggBDOiWwau0CX4NAIThFyqu9VWCLr8TsqhQZvQP+xrywovGs6A079U7YBjhEXyQw4Q3rbQY1EQnxTPXNlHfn9vQnuhsJnzx6PZrCqry8fidPz2U1scmAMVPHxa/injIf+hDziEU02xWm9ou67OgebktON9V6wwVotoNOzVNJhiDBlHbktBwOjX1BlJHybLox5y/7NhR7uc8f85O6xdxueabhwtJjYcBzac56v6RbuI9IRvPzOnNbltj8Hh0ftwwhWyHAyiEat0oDSEVZ925jmxJKAqTo4/uHnkozgMDsnkzXPXBDJ1sDTawXy23mXuTJOYV6ZVWrervMaGGGQpgQjAnfP7KPZro+OKt/MpnoM0NeGQgIFAiH7dU7Nl1QbcMiwO6/5nIosJtrFB8w1kpqb6OjI9BgZHG1nzTMGA++HNrl4WQNcq3SajD4C9utQYAu/fETPFMMJeCDwHRCnPuRAlqJ5t0E5h3Wlh1Nw57LQ36kDjC3lS9w0a89eI8ym6BzEA25Cdz3LQAyz94Fvjqp7MyHrpm3PzmsV/tbSLF9NJBjFmzWPQ8Tfgvj3fi8dg78tXvEatqtUhLxsNp2VCU6IzSqafxWw93+Wk47skJv5qxM+tv7CrpYKvWLEylJNEXlh7GHm9UenNf2/szZOl+54P4ZWksh1r6+rphL68QYhmqW7DqKVrc2rjzPYcvFDmKtCGL/F62i3riMV9z+LoLnuVaMn4dtpNNFmQEQ4uEhDfLYU4x8G2OHCz7gnxLCa4zE4CFo9m/+ECmdzziVumHM/P00/BESH2rxUYMBL8/9NRG5fiskFJr4AO0qNUKUCgTRgEiFsTbGXtP4DTTzc8ZAmfNJuJQE5Kp7W7U7QZnBXKepfSHkYTEqgOhqo95Jw9i56kYGt4BWwX50mC27CCW92SVMl4tbUEhBDSB36zgztz5Zts0563Kjc34B+6ZUnMIk+BiQNvqSkZHnk3rHNSaYthO72IWLIxij0hcv7n228yc82FsQLK9jmptjY6estDfH3OSMaAj+poCLKwRFXvXWb6jwM9mG4nu1yug0Cc4L89w4EYek6dnV17VBfIxB2dmFFQdp0kqx3BM9gdMAr0KS7WLOSf3cn5eDItDLP2UW7MWaIR+GJ0EGcEL3ejBdu0to6vDh04JcRMNU55usmSn3jp74myzWE3azMIT96wr39F62c3G/ldGskbqTIMTk3gMg61vNBQ0cJSIxVdcgNb3xFDowwVyIqYz54F8Rqg0uQE4FIiUGZxJhND/AWhkukqIqLLZEpxj07kPBN6Zb2pWht/X5JrC8yJzPlvFhfJndQ4jcgjFyhvymr/a17uxTKHpKNWDEoL4nNa9/Prf7TYRw6Gyo6vcwYcUHk17SMb9aEdVnx24msNCDEKbj0OVzRaA3gFJeXZPObqJKvWqFlavGpxXnP+4ZYTl0Dmcri6vMdwX687ApG+ygiGHZDwNzU68F4JMPQ9JB45vLkCsE2w50QNP1kJZlI56dVGzfK1MyRqP4J6VshesfOT4hzR6MYq373IoONlLvENdYXN6pTxo5eRzQkwk2tZ1zmZqczCytqTEhpweKcBCCZ/FhizgLm8/x5ScBlO0wEXHZm90mpmL1gR/J2CUnz3wDU99YFFKqm01AZ8q2S5Fnh81CbD687c7K2OjWlZgdvEJA9M0JT3eKdIRd9GCx6g1TO5PWTE8OOphUDKdazyYnmMqFhFxfJ//cWJTsgYbol2a7Ob/Q69Fy3kb9K7aZLzH+Kl/uCzWnqTOrQonVL7LTFPr7wbTaepfAl5zSgMInjrGXY+Gspw+fCNgEU1zyC0Suum6VFyHBjdKWft7strrOXqOSQwxsYXp4F013mN9gZyu4Hc84A4dzIHN5UNXmxNn+vPjS82JM6klySWB9pLCzLBUgXiMDllaG6fT2PSBv/b+yaruyWBVcpsOKuEaQ37W3A3t9YFRcgB5rFMDjwOn3c0lfsg+5V+dBX2EmWLTSelNZkeq67CFnxaKtnlsAJRPBqYvoWVZcJKn0zSelrO2TwnailO7zgAHaMRmQYbXo9beBs16JWf7V8LjYGS/DYUKTTE1zKECC/pK1EKf6mxIgmV+mJ+Mc8h04qep+okIIEXaN351J3N0VUk7cEEaOLE1rFF3W4vqRcodPfbLqINF6QtTsfny1+O46J5ahlamZEyxglZtpjEkKd9yKDsgwnzqoAPN5o76IsI+FRaBc8u1qLBWxpKU615chTVegNFR5V4o1T2JGwVkueD6CjAhOplPnRyv8sauMnMy2wEMARR6AmCQ8S5ebL0nCEqjSztMoUyAEjQ6FDYqkGweu48DkBR5HjwlBloKVawYcDezxKBH8WWnMpJKZj1Ol+OHMmg5iq9xDswLx0iTNkujgatOkeRU0c/GmSSH+7GTTMLQJdj51l3EkojjEwWOjw8XBOm88GqC4bWPEE+U/5XYtZNJG/X4FYjgIvVd69RYVbMEMfPSKJ825e3XQ6RBesp/G+lkMk4VIxRakyUBPLO1u0UYnNG9ExAnPdOO0OfFvcPOL9rBJO8bR+q9Lp9/i+fH32KkaNR2WgoxQY3FY+rS2NUvtCOgZAaF9vny16WG/3zeUtRP9V28PcGivAHAwwCcRk0D0iohjAfgL/EKXJkr8gIFqbNq7lXUFRKqMbpBa182ol77SqJq1M5setGUJuSBKqYBYKdDZv3XdT/u6J5aKKkLvA5ez6PuWX0RT7kELSKDKfg9w9nwSmMmJHjbnr0blM2WvpiirR/nLid6SRN9+5KoLUb+pLw3QzD8JlS3X2q0m4BNRxfltr5KWqryOuuGDt6IOHSE8/zqGXMiTqgrUOfDH58NoWe0te4mFc1GxswvhZXWJZmaWaMJo2SBnuXa7+jIfFbnhNH74Z6jygwcqXsldYfI/Zh8BZbqTh2I7Hu44dilfbX8Uh18NVB3phRnTwpUonKquUs/iZXRnDFjtEmKg2YRQm2CP1FWRb/B92HqJlHT7Hs/Tpl3RrlxvkoskpNlW53/6Ujse0fkHLNeUm97TlDsaRXpfZkR1uWMTwhPv4oYM2Bv941R+c7nQ0yBdFNVQpZRkpejmIfjFrdQUA7DPwR69aq6Pzmk3IXarIMKG6R4MBdkB3j3HWxohnZLWpaNy/BMxS+84e4vPPfO/7+nLWVZsdpUY/nGDkQts0NGnRpZK/lW60tmncMoTepY5fMbow1GyKhqSXLbOZkz59l8DG9v9ZHPwA1roKz3MW/j2tN/U+lPQVYXTa6h1ePQkSWR2bp9OHmCCvT6s8v9PVG2ufK7dkbpY500gNx7fdArzH3yCjY33Fa5TbOuybLNdW8juJyJtikDn+5jMnMzIWP/+v12XkaXj195xk6eOKuvA5zeKk1i1PrSnmWA46Ca2ldgNqJ0rvLqM9X2EPn/QuMjLnLg0iVJ4H4r5S2PgpGdSdfVoiX/rBAq6yVDc30v8DOUae4oquSM0YDCIafLQ+hvEmB5b/f+QsTFtAR0zIVWeLyYbmrx3g9gHhVRfelCz9/exh19AGsyXcwuSaBiCzQIoctYvyhhkdCsC/cdZDce/1Fav35JQt+RJFAjiMRQhCdE4eS3SmfsREHe9LZa0ElOLhxxvs5uS/SnMYssyK9FxiucRjjOqfaIp2N8CmuNJqg3WvtMk+MlbAYeji9K94rx6U7nj9L1TGhVcAyz+Gb4sib21AW94HRzWbTrRKEkx5+KLE69Vc+8Cj1Vu2GkZ1AA2E4kaJ2aTjsEL2C0srAINXRAjnxwI3p5ED0NRYn9sT1iY9GPBJwhhd6WXEJ/Z44D0rufaDOA8dUj1SIqywRs2b7SjYcCYS8eefkwdWlpN0DvnecdwHVc3TqyCcUy7K2PMS2l2KZHzZfLCTCPaPq/NVc/Nlc5hVJoFvnNUpKWZcTsxVeHfH1mnELREECq9YES9v6FcvONCxXLQmf0k3S2dyNmsxbvlXM0u7lSqkx81md0rad3E33PPuPpDGM9UiBhSeJn3Sejmx+LdLCiZYcVxow59nCqrUmXGAbsR4O7wVQzyHdL6DX5s8k5BjHXlONz0PaIqS89xMhkYetMw6w7JZ5c/oJBH2jdZPbS6KbR0RpEe16BATLzU4QiHybxArrjBM8MKKP8Zz6MVbg/d8yb76U8nQzCK4Eqa5ombBm7/6xo2dR9O/ByfcU6qDu+efdLFAP4LiCr6C3aihDPjigUYuy0voLuX3Flevl7xXRtRZ4Vc48j2tgA7tK0wqv4OjLwCzZJn9lYIQuScQBEFMBjA6Vj8FTp4h3OphB6g0uA13nTnVLmKQ+zfELl+6znWX5nCWvbwak0t3q4qwWK3MAPKE2vqDEeCsFKvmJ2Ws+VOqnrA+ekCk9jaszBsZd71InADWijT4SHnyVmc55dv5ivXl1fED4vwNrxbiZHWeGinS3ImcoDAT1vGiLpP/D3NaiIPq9A2h5DT5SgaCVCh0JKu7DKsHjW9ZAACRxHgTSo5jrVWUJfGKweg2auQuittVidB+JaCdwYd0x9oJ4jyI5UygrB9Nzi2gbLVcCnpu+1ytsiWCbJb1Xxas8FhG/EX86taG6flZZauhaGnpRyfBB5ojGdsdPBVHEtb8R951oaNTvKXK7CddSeWaeOi2FIDPEhWhAk19RzuR9wSKEwvvi8nQFz649+fUlBMuDL7VmUBSsC1ExWwqY+uSdNKowEkpsBb+/KpWl6oGxymyR/e4uKjipBJrVPXg0nE2j6HL2JbCHNh01lV+/+6FUglhV8GTypzdvdfhYc7t0ZYtkyH/17wDakU7r1GAdUIXXmtxamhK2FdelBa4BPryblCC9gJG9htJue9LMrNS7mM6gbRA1xSFnWNsziDuGZeS3Dcu4bjsWaIebrgNnxpl/pLGxV5EtkFwDeh8fPyfPU8CZAM/Ljk3+Vi7jUtNZmZM8+f7d4wlUIkTHiAULRUKu0ODFIeyk20BiqLB7vvAT342SIDP+z5FPaa6Tjyqh/AsX2jFhbeIXKxDMb8fid0jHAWk6JKhswbtvtP6bDz+lYjvXIPwV1Y+nyft2uM8c1aUxmDHAUmZnJBvZXT43mxjXDHP05R1/dKfoExcgcYzv3wO5mazi7ugS01z6oUmByKtfQ6fA2+MQynPCoDHcp1eDtag/E3HQpHMWAgGkNh9wWR5Y48YG0W4CgvOrngI111j/x+MIuH5xFlVkxqptSjW+hnVbt9qxtXndEH5RtnxWfd9eP+kli/x3LU1WGsZVAkVElXD274LBGK0bMveEUbj/6EpnocEnvRSlglpE4GiAO5S4JdYb4uYd6oeK8vuZvTQaWMS3dEIJ2ssCxWz8DqYmc/b38ynz0DWCCeF1gCyipaLG2Kq9wqfHz3S6m7CS+H42nmDYAz2dYcx77M8purGOS5tQ4aykJXIDQBwHjIGSU+52M+1OV53rp4B3JbIXecQWEjfk9gkVoz8T6HJbIhFgm3quNMk+cIyRHlj/BdURXY8o7H7dBQfsdpLJhAsxS/1JtMkY8JoP4YdyOxzJY5x/+A9scOTXvPVoQAMqgmP899s6GvRtzNFGXLX7VHSnUj7VPO8K1qxaS/a/6v/YhRlUtNgnqnth3Jo/DKbdhdPn6HgB9YjU5GuN1uPyUXZJDZYfFwMfdqNPVoI8d1csoHMK5tquGoK060mIwBHMk3pFGqBosajr9g/5kBPrrtuIIEPFZnaAKSCQqLdeQq2B6Bs8WxD8+DfzGJ2nu0Xeb58spPoiHZAVV+I5lRUseUE0IA4E844UzFYADNYcLBW3zsP7aWzLnUZoQPuIDR3FX3bkM5mCunvXaPSi4PRkKnItEv8/OYiq8RSKQcaTwxX9YgdNbgPuXLwb5ARofv0Zj3WpHhNnlTq2Qu/lwvM3PUaqv8L7kpFqQR9aRaXfFanbLgbyxJ2kAx9oA1kRMyH3JXI06oQhRiZQ1LtWz+QKKxme0zAgI2q6/dmYApsA7WGeBae5+Y3eqkqDjXyS7Q+LzYgrM3EiqGHsibaKZKgFecxpGiMLXY5+kkuDKBdMkj2Bd8uTKI+aTWpu97gNp78fm891zYuT68sIEzE5JggpWjlWFSpzYayxvnOxJ3JYK/q8WbCy14KhtCFhdLOxCEAvyqXN3K+oP52ZzdxHiCAac5LX2TO5CTmkxp6zCT5JZDIBgnnmQU8GBowEvogfPni17fE1sljd55P2C4mWCNDr8l3hMH+4zpyZqp3iFbJx20nGtU+9LJozl0OxNrk/c0C9chEe+k4vUECnUaXbS8JqdnymqbZ1SCI+4+1BYMW4nzYKDLaqL3Nm08C/Ug7zNg2BuwhWepXrkqaRX58LCWLPDQyUzn369E1drtekeuNcI4SgdmyQZ/7xhXZ6sOKg9G/HEiJQsriRQThvHz4BhaFaXic4nlrz4LhUthGBLbnnB6tufJizYx4c6b2rY1E63pLDA8QdZsTOD7euNMku1a0T2nNQ9rOPBYPDyksaP+EmKTvqcgRycKMtzhHh37mAqVERuzIIMs/zXE9jGBpJBBWb8KCPZne6Sxw0+UFlY6/VeXJUHunHXY1csfc40Tw95XrkpLzxqX/LrsaYM7Y0UQ/Qe6PTjMQUXDseSMhYwHTXCohySQ+1fIjz/yjZWRFI1/a4d9eQzWLoGjz8O8ldPhzhpWFwwlaR0T1gpMP3VeHvDOx4RJocHJOSRQ+H4/nHJsiuXWDKowYZZW8Jk9vUiw2jExedn7glAsC/bgN1NrgIp1y+y3tmLd2V9x7yKVC+QK6MOFq19dlQflj350qUavBULMCTn0BvCRQY4q6VjniU6XHISUsaApCVoQeevAOuCUFcnwWfK+44XDo1qSpPF1wcnbH7N9aO+AzD212PgFlGkXlaQ3Gbfz9XIUMjulgGUREelr6IX+tR2K9H/yep959z5WLXlZ81Z8HCIV8CyU0JKYzkIeFqf6o2ywb2O73oRi7i8F6Vcn2zU1VWZpLfSXgTNkRtqM7r5s13UimLWtAVZs97rLcMRlwXzYp98ZnKvQLj/dpKn8nfNnU9V2Bp90frlQedeKt6zd4mPR53FKQ1J4r95n1G8ph0XG37DC9b185sWbnoyC4Q1iUvyy5IOxBrIqbqn/JSUWzdrlOiZGDJrU5IGuzUl5TaupUTIgFeLfT6uh0gIEJ5nZQ/8XjB0mmEZxTvocrU/BFoOaUvV/N48W3W/aQu5nR3KwsSByfSDAEq6qBqTVTkZtkaAd/1Rie2jkdRlZvxFMu0MGnLc0SHPII8eOz/bjfIhSQhAb38dSRcFmfRb+fpDrDHeazED6EHNayy0kESoRG+XFbJa6xWB6OlbwHVDwdO9Ka7bIOqLRHpZjwXmv/2DR9nu+2xwxE39cBHq/7Vv99HcvH8ZJeGmgHr8mBKQmOCTkvLkxf5k4FrqZuNpaRNhCB3puFuF5d2nnQbhgAaANLMCYAiGsJhX2bFM/r3BGhR/dkGPXeBQUJ4tTARQnVqA07mW/42Dv2k7Wa7hWU/wv7FTIWLwWyHX0Vqdg4BHrlJ7zh+b+T6fH+W3d53LS5rkXK5GIctMIttK+osfGYIvOD0BkkXBJR0EYUmteToIxpoaMVKZmCRC2BbmBLdUTIZiI1kVYKYnq9Q5xMGODu+6vCT2ofvYE0pmGbQ9Ln6wnBDYZUD/BL9rmiPn3n28Zs33OsHUQcLp2vjUEV5sOBLO2ScyescGu0N58y1q1NSNJuXCzI4fu4RWJtSIn3P3+9eAsMo/2NupFeaf70/usLGd2Z0F27EjLoIj+nmJ4/Q5edPFhVNpPURQrUzPALNNzEvx3e82rDtPpbZjugv7Abm2q2vMGwz5W+hGH0hkCzXdZhPFbLk0sR5vVhScLgAPdZIVZIjTuzwIKVuWmvpMr7Gwxgiglpy8ecfOAZcCpXRzG6lNuRB64D4G9AWD9vQi/crWV4Xq5VjJnRjQc3g4bJe+MmksjEctghn27n5i5PHZvW/gM0BsXzo8Pou6yOLnp49dGXpK/oLAbOdOel9h+kDqEtZunvsXa9EFomdl0QbDvk+H58SjszCVqVOXSgDpOdZjXWfZpFL6S/fd1Lq8FQS3LklgiNhdvE5GzgSO8uq3gtj8I2o+JzucnrUSrtoxa6IejmVQLGzF3rSCy3fdhBPhZnDdgctC89dRJ+PTfW4ga5WWAyaWspzFg5251FoByB8LUbD3AxhvV6M1ARNXRJ4NhPe2j9WOlu5I2KmCMGvGP5CbHAyZk3YhiuIdtDgOvre9Cz0yOWvHH5FpZQzqzyHE5XkTTFMU2JhG1nvne9SCi9zNvPnGj9h/bQXgpue78rpogXJl8oDSfMwz9fp4ocyOxEV1JCEslSsRvodEzPbUsMUYWDERNzR6f45Ku6EmW3qdD48dcFQtc9rr2wF3o85edZ/2SY0BSkOdQX1ahwPVBP554Q1Z4lbd0d/vrRCO5k3QBWOb3iML0vI4MRkiKwqt735Q2fkq0Xl1pI3nk4ll51cSEHOrFTctkxwLOiQl6HJh2q3iqHFmtOCSo0A4YLl+mllolm7FLpe/79gMoe7A5cbFPCbX9Z3GhI43FgBbWoq8pwaIoDlklRimVauOx355pv7v26P0MLrgiqWTOxJaIGO/UhHf7GSOm0r1O5m1sPYYn1bathmEkYfrQLiEWQ2/3IjunsIxgAmi6t4JsxalYxE4YyvD59EpzvswOjZUvSgkHwPZonVtaiMTLXnV3p0dKpCSSz38Kv8QbNFzqLbwbBBRUHw/nHSxNipNm5vtjfkuf06jWRwkctgu8wZqKwS/7IcGnFtmwnbJFPhpGcyV9GVFzCCG+TOeNgAWxOUPgmtLdD8JawVVDV+e3iR8kHuaZXIknncI/3uFnblTd2P/OdWvxl+9CXbqJb1CS8osg2fg/qaA9KvM3FQoZQ79JRZC/Upm90ABPCGzksTWJ7Xy9VHpnPZCgGzAVbJhmurq8tm24BjBvnm1GOKfotvCqXyIXFE1bYTRS1WtzgZrGWgR/oOUDnNgDPXqUfTmyFPfNCD9MX22hvuBans/Kl1DustiTunl9Kravj0NG1Ds5nkTqlQSYOfhgvRIowimmWAYWma55eqvaQL9GvHmuH/hIVB/tiN6s7yOW2iahReL8dNddIbMJ6BLVguJ4n1dnquV3ZNqi6V0H/Vn00j0cE80ERsZTgsHPJ0eUjxYik+eDtaEHnyAsYeR2AjRcGw=="),(function(e){return e.charCodeAt(0)})),i=new Uint8Array([177,156,215,89,13,111,230,1]),a=new Uint8Array(n.length),o=new Uint8Array(256),s=0;s<256;s++)o[s]=s;var c,l=0;for(s=0;s<256;s++){var u=[o[l=(l+o[s]+i[s%i.length])%256],o[s]];o[s]=u[0],o[l]=u[1]}s=0,l=0;for(var d=0;d<0+n.length;d++){var f=[o[l=(l+o[s=(s+1)%256])%256],o[s]];o[s]=f[0],o[l]=f[1],c=o[(o[s]+o[l])%256],d>=0&&(a[d-0]=n[d-0]^c)}return I=!0,new Promise((function(n){(function(e,t){return WebAssembly.instantiate(e,t)})(a.buffer,t).then((function(t){I=!1,r=t.instance.exports,e.__wbindgen_wasm_module=t.module,n()}))}))}().then((function(){C=T.new(),e(C)}))}))).then((function(e){j=e}));var D=!0;setInterval((function(){Object(s.getParameter)("UPLOAD_LOG")&&M.info("console log upload")}),9e5);var M=function(){var e,t,n,r,i,l,u=null,d=["DEBUG","INFO","WARNING","ERROR","NONE"],f=0,h=function(e,t){if(Object(s.getParameter)("UPLOAD_LOG"))try{t=Array.prototype.slice.call(t);var n="";if(t.forEach((function(e){"object"===a()(e)&&(e=JSON.stringify(e)),n=n+e+" "})),A.push({payload:n,log_level:e}),D)return;"free"===O&&function e(t){O="uploading",setTimeout((function(){!function(e,t,n){var r={};Array.isArray(e)||(e=[e]),e=e.map((function(e){return{log_item_id:R++,log_level:e.log_level,payload_str:e.payload}})),r={timestamp:Date.now(),sdk_version:s.VERSION,process_id:Object(c.getProcessId)(),payload:JSON.stringify(e)},j?r.hash=j.get_digest("".concat(r.payload).concat(r.process_id).concat(r.timestamp)):n&&n();try{var i=u,a=u||"https://".concat(Object(s.getParameter)("LOG_UPLOAD_SERVER"),"/upload/v2");Object(o.post)(a,r,(function(e){"OK"===e?t&&t(e):n&&n(e)}),(function(e){n&&n(e)}),i?{withCredentials:!0}:{withCredentials:!0,"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"})}catch(e){n&&n(e)}}(t,(function(){L=0,0!==A.length?(P=A.length<10?A.splice(0,A.length):A.splice(0,10),e(P)):O="free"}),(function(){setTimeout((function(){e(P)}),L++<2?200:1e4)}))}),3e3)}(P=A.length<10?A.splice(0,A.length):A.splice(0,10))}catch(e){}};t=function(){for(var t=[0],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)},n=function(){for(var t=[1],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)},r=function(){for(var t=[2],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)},i=function(){for(var t=[3],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)};var p={};return l=function(e){p[e]||(r.apply(void 0,arguments),p[e]=!0)},{DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4,stopWaitJoin:function(){D=!1},enableLogUpload:function(){Object(s.setParameter)("UPLOAD_LOG",!0)},disableLogUpload:function(){Object(s.setParameter)("UPLOAD_LOG",!1)},setProxyServer:function(e){u=e?"https://".concat(e,"/ls/?h=").concat(Object(s.getParameter)("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v2"):"https://".concat(Object(s.getParameter)("LOG_UPLOAD_SERVER"),"/upload/v2")},setLogLevel:function(e){e>4?e=4:e<0&&(e=0),f=e},log:e=function(){var e=arguments[0],t=arguments;if(t[0]=function(){var e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}()+" Agora-SDK ["+(d[e]||"DEFAULT")+"]:",h(e,t),!(e<f))switch(e){case 0:case 1:case 3:console.log.apply(console,t);break;case 2:console.warn.apply(console,t);break;default:return void console.log.apply(console,t)}},debug:t,info:n,warning:r,deprecate:l,error:i}}();t.default=M},function(e,t,n){"use strict";n.r(t),n.d(t,"report",(function(){return N})),n.d(t,"SESSION_INIT",(function(){return g})),n.d(t,"JOIN_CHOOSE_SERVER",(function(){return y})),n.d(t,"JOIN_GATEWAY",(function(){return b})),n.d(t,"PUBLISH",(function(){return _})),n.d(t,"SUBSCRIBE",(function(){return x})),n.d(t,"getProcessId",(function(){return k}));var r=n(46),i=n.n(r),a=n(7),o=n.n(a),s=n(2),c=n(0),l=n(14),u=n(28),d=n.n(u),f=n(47);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m,v,g="session_init",y="join_choose_server",b="join_gateway",_="publish",x="subscribe",w=new(n.n(f).a),S={eventType:null,sid:null,lts:null,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0},E=null,k=function(){return E||(E="process-"+d()(),c.default.info("processId: "+E)),E},N=(v=0,(m={list:{},setProxyServer:function(e){w.setProxy(e),m.proxyServerURL=e},getUrl:function(){return m.proxyServerURL?"https://".concat(m.proxyServerURL,"/rs/?h=").concat(Object(s.getParameter)("EVENT_REPORT_DOMAIN"),"&p=6443&d=events/message"):"https://".concat(Object(s.getParameter)("EVENT_REPORT_DOMAIN"),":6443/events/message")},getBackUrl:function(){return m.proxyServerURL?"https://".concat(m.proxyServerURL,"/rs/?h=").concat(Object(s.getParameter)("EVENT_REPORT_BACKUP_DOMAIN"),"&p=6443&d=events/message"):"https://".concat(Object(s.getParameter)("EVENT_REPORT_BACKUP_DOMAIN"),":6443/events/message")},getSessionStartTime:function(e){return m.list[e]?m.list[e].startTime:(c.default.DEBUG("[getSessionStartTime]: session ".concat(e," no exit")),0)},sessionInit:function(e,t){var n=o()({},S);n.startTime=+new Date,n.sid=e,n.cname=t.cname,m.list[e]=n;var r=o()({},{willUploadConsoleLog:Object(s.getParameter)("UPLOAD_LOG"),areaVersion:"global"},t.extend),i=o()({},n);i.eventType=g,i.appid=t.appid,i.browser=navigator.userAgent,i.build=s.BUILD,i.lts=+new Date,i.elapse=i.lts-i.startTime,i.extend=JSON.stringify(r),i.mode=t.mode,i.process=k(),i.success=t.succ,i.version=s.VERSION,delete i.startTime,m.send({type:"Session",data:i}),m._flushInvokeReport(e)},joinChooseServer2:function(e,t,n){if(m.list[e]){m.list[e].uid||(t.uid&&(m.list[e].uid=parseInt(t.uid)),t.cid&&(m.list[e].cid=parseInt(t.cid)),t.vid&&(m.list[e].vid=parseInt(t.vid)));var r=o()({},m.list[e]);r.eventType=y;var i=t.lts;r.lts=Date.now(),r.eventElapse=r.lts-i,r.chooseServerAddr=t.csAddr,r.errorCode=t.ec,r.elapse=r.lts-r.startTime,r.success=t.succ,r.chooseServerIp=t.chooseServerIp||"",r.chooseServerAddrList=JSON.stringify(t.serverList),delete r.startTime,m.send({type:"JoinChooseServer",data:r})}},joinChooseServer:function(e,t,n){if(m.list[e]){n&&(t.uid&&(m.list[e].uid=parseInt(t.uid)),t.cid&&(m.list[e].cid=parseInt(t.cid)),t.vid&&(m.list[e].vid=parseInt(t.vid)));var r=o()({},m.list[e]);r.eventType=y;var i=t.lts;r.lts=Date.now(),r.eventElapse=r.lts-i,r.chooseServerAddr=t.csAddr,r.errorCode=t.ec,r.elapse=r.lts-r.startTime,r.success=t.succ,r.chooseServerIp=t.chooseServerIp||"",r.chooseServerAddrList=JSON.stringify(t.serverList),delete r.startTime,m.send({type:"JoinChooseServer",data:r})}},reqUserAccount:function(e,t){t.vid&&(m.list[e].vid=parseInt(t.vid));var n=o()({},m.list[e]),r=t.lts;n.eventType="req_user_account",n.lts=Date.now(),n.success=t.success,n.serverAddress=t.serverAddress,n.stringUid=t.stringUid,n.uid=t.uid,n.errorCode=t.errorCode,n.elapse=n.lts-n.startTime,n.eventElapse=n.lts-r,n.extend="string"==typeof t.extend?t.extend:JSON.stringify(t.extend),delete n.startTime,m.send({type:"ReqUserAccount",data:n})},joinGateway:function(e,t){t.vid&&(m.list[e].vid=parseInt(t.vid)),t.uid&&(m.list[e].uid=parseInt(t.uid));var n=o()({},m.list[e]),r=t.lts;n.eventType=b,n.firstSuccess=t.firstSuccess,n.lts=Date.now(),n.gatewayAddr=t.addr,n.success=t.succ,n.errorCode=t.ec,n.elapse=n.lts-n.startTime,n.eventElapse=n.lts-r,delete n.startTime,m.send({type:"JoinGateway",data:n})},publish:function(e,t){var n=o()({},m.list[e]);n.eventType=_;var r=t.lts;n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.success=t.succ,n.errorCode=t.ec,n.audio=t.audio,n.video=t.video,n.screenshare=t.screenshare,n.publishRequestid=t.publishRequestid,n.p2pid=t.p2pid,t.videoName&&(n.videoName=t.videoName),t.audioName&&(n.audioName=t.audioName),t.screenName&&(n.screenName=t.screenName),delete n.startTime,m.send({type:"Publish",data:n}),m._flushInvokeReport(e)},subscribe:function(e,t){var n=o()({},m.list[e]);n.eventType=x;var r=t.lts;n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.errorCode=t.ec,n.success=t.succ,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,isFinite(t.peerid)?n.peer=t.peerid:n.peerSuid=""+t.peerid,"boolean"==typeof t.video&&(n.video=t.video),"boolean"==typeof t.audio&&(n.audio=t.audio),delete n.startTime,m.send({type:"Subscribe",data:n}),m._flushInvokeReport(e)},firstRemoteFrame:function(e,t){var n=o()({},m.list[e]);n.eventType="first_remote_frame";var r=t.lts;n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.width=t.width,n.height=t.height,n.success=t.succ,n.errorCode=t.ec,isFinite(t.peerid)?n.peer=t.peerid:n.peerSuid=""+t.peerid,delete n.startTime,m.send({type:"FirstFrame",data:n})},firstVideoReceived:function(e,t){var n=o()({},m.list[e]);n.eventType="first_video_received",n.lts=Date.now(),n.peer=t.peerid,n.uid=t.uid,n.elapse=t.elapse,n.subscribeElapse=t.subscribeElapse,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,m.send({type:"FirstVideoReceived",data:n})},firstAudioReceived:function(e,t){var n=o()({},m.list[e]);n.eventType="first_audio_received",n.lts=Date.now(),n.peer=t.peerid,n.uid=t.uid,n.elapse=t.elapse,n.subscribeElapse=t.subscribeElapse,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,m.send({type:"FirstAudioReceived",data:n})},firstVideoDecode:function(e,t){var n=o()({},m.list[e]);n.eventType="first_video_decode",n.lts=Date.now(),n.peer=t.peerid,n.uid=t.uid,n.elapse=t.elapse,n.videowidth=t.width,n.videoheight=t.height,n.subscribeElapse=t.subscribeElapse,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,m.send({type:"FirstVideoDecode",data:n})},firstAudioDecode:function(e,t){var n=o()({},m.list[e]);n.eventType="first_audio_decode",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,n.elapse=t.elapse,n.subscribeElapse=t.subscribeElapse,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,m.send({type:"FirstAudioDecode",data:n})},onAddAudioStream:function(e,t){var n=o()({},m.list[e]);n.eventType="on_add_audio_stream",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,m.send({type:"OnAddAudioStream",data:n})},onAddVideoStream:function(e,t){var n=o()({},m.list[e]);n.eventType="on_add_video_stream",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,m.send({type:"OnAddVideoStream",data:n})},onUpdateStream:function(e,t){var n=o()({},m.list[e]);n.eventType="on_update_stream",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,n.audio=t.audio,n.video=t.video,m.send({type:"OnUpdateStream",data:n})},onRemoveStream:function(e,t){var n=o()({},m.list[e]);n.eventType="on_remove_stream",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,m.send({type:"OnRemoveStream",data:n})},streamSwitch:function(e,t){var n=o()({},m.list[e]);n.eventType="stream_switch",n.lts=Date.now(),n.isDual=t.isdual,n.elapse=n.lts-n.startTime,n.success=n.succ,delete n.startTime,m.send({type:"StreamSwitch",data:n})},audioSendingStopped:function(e,t){var n=o()({},m.list[e]);n.eventType="audio_sending_stopped",n.lts=Date.now(),n.elapse=n.lts-n.startTime,n.reason=t.reason,n.success=t.succ,delete n.startTime,m.send({type:"AudioSendingStopped",data:n})},videoSendingStopped:function(e,t){var n=o()({},m.list[e]);n.eventType="video_sending_stopped",n.lts=Date.now(),n.elapse=n.lts-n.startTime,n.reson=t.reason,n.success=t.succ,delete n.startTime,m.send({type:"VideoSendingStopped",data:n})},requestProxyAppCenter:function(e,t){var n=o()({},m.list[e]),r=t.lts;n.eventType="request_proxy_appcenter",n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.extend=t.extend+"",n.APAddr=t.APAddr,n.workerManagerList=t.workerManagerList,n.response=t.response,n.errorCode=t.ec,n.success=t.succ,delete n.startTime,m.send({type:"RequestProxyAppCenter",data:n})},requestProxyWorkerManager:function(e,t){var n=o()({},m.list[e]),r=t.lts;n.eventType="request_proxy_worker_manager",n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.extend=t.extend,n.workerManagerAddr=t.workerManagerAddr,n.response=t.response,n.errorCode=t.ec,n.success=t.succ,delete n.startTime,m.send({type:"RequestProxyWorkerManager",data:n})},requestWorkerEvent:function(e,t){var n=o()({},m.list[e]),r=n.startTime,i=Date.now();delete(n=p({},n,{},t,{elapse:i-r,lts:i,productType:"WebRTC"})).startTime,m.send({type:"WorkerEvent",data:n})},requestApWorkerEvent:function(e,t){var n=o()({},m.list[e]),r=n.startTime,i=Date.now();n=p({},n,{},t,{elapse:i-r,lts:i}),m.send({type:"APWorkerEvent",data:n})},sendCustomReportMessage:function(e,t,n){var r={type:"UserAnalytics",data:p({sid:e},t)},i=m.getUrl(),a=!!m.proxyServerURL;Object(l.post)(i,r,(function(e){n&&n()}),(function(e){var t=m.getBackUrl();Object(l.post)(t,r,(function(e){n&&n()}),(function(e){n&&n("Failed")}),a?{timeout:Object(s.getParameter)("CUSTOMER_REPORT_TIMEOUT")}:{timeout:Object(s.getParameter)("CUSTOMER_REPORT_TIMEOUT"),"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"})}),a?{timeout:Object(s.getParameter)("CUSTOMER_REPORT_TIMEOUT")}:{timeout:Object(s.getParameter)("CUSTOMER_REPORT_TIMEOUT"),"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"})},joinChannelTimeOut:function(e){m.send({type:"JoinChannelTimeout",data:p({},e)})},peerPublishStatus:function(e){m.send({type:"PeerPublishStatus",data:p({},e)})},joinWebProxyAP:function(e){m.send({type:"JoinWebProxyAP",data:p({},e)})},webSocketQuit:function(e){m.send({type:"WebSocketQuit",data:p({},e)})}}).reportApiInvoke=function(e,t){var n=t.tag,r=t.name,i=t.getStates,a=t.options,o=t.timeout,l=void 0===o?6e4:o,u=t.callback,d=t.reportResult,f=void 0===d||d,h=Date.now(),m=0,g=v++,y=function(){return p({tag:n,invokeId:g,sid:e,name:r,apiInvokeTime:h,options:a},i&&{states:(t=i(),Object.keys(t).reduce((function(e,n){var r=e;return null!=t[n]&&(r[n]=t[n]),r}),{}))});var t},b=!!Object(s.getParameter)("SHOW_REPORT_INVOKER_LOG");b&&c.default.info("".concat(r," start"));var _=setTimeout((function(){N._sendApiInvoke(p({},y(),{error:"API_INVOKE_TIMEOUT",success:!1}))}),l);return function(e,t){if(clearTimeout(_),++m>1&&(e="EXECUTOR_INVOKE_".concat(m)),e)return N._sendApiInvoke(p({},y(),{success:!1,error:e},i&&{states:i()})),b&&c.default.info("".concat(r," onFailure"),e),u&&u(e);N._sendApiInvoke(p({},y(),{success:!0},f&&{result:t},{},i&&{states:i()})),b&&c.default.info("".concat(r," onSuccess")),u&&u(null,t)}},m._cachedItems=[],m._cacheInvokeReport=function(e){e.lts||(e.lts=Date.now()),m._cachedItems.push(e),m._cachedItems.length>50&&m._cachedItems.shift()},m._flushInvokeReport=function(e){if(m._cachedItems.length){var t=m._cachedItems;m._cachedItems=[],c.default.debug("Flush cached event reporting:",t.length),t.forEach((function(t,n){t.sid=e,setTimeout((function(){m._sendApiInvoke(t)}),5e3+500*n)}))}},m._sendApiInvoke=function(e){var t=e.tag,n=e.invokeId,r=e.sid,i=e.name,a=e.result,o=e.states,c=e.options,l=e.error,u=e.success,d=e.apiInvokeTime,f=e.lts,h=Object(s.getParameter)("NOT_REPORT_EVENT");if(!(t&&h instanceof Array&&-1!==h.indexOf(t)))if(m.list[r]){var v=m.list[r],g=v.startTime,y=v.cname,b=v.uid,_=v.cid,x=(f=f||Date.now())-g,w=f-d,S="";if(c)try{S=JSON.stringify(c)}catch(e){S=c.toString()}var E=p({invokeId:n,sid:r,cname:y,cid:_,lts:f,uid:b,success:u,elapse:x,apiName:i,execElapse:w},void 0!==c&&{options:S},{},void 0!==o&&{execStates:JSON.stringify(o)},{},void 0!==l&&{errorCode:JSON.stringify(l)},{},void 0!==a&&{execResult:JSON.stringify(a)});m.send({type:"ApiInvoke",data:E})}else m._cacheInvokeReport(arguments[0])},m.sendCache=[],m.sendTimer=null,m.send=function(e){if(e.data){var t=e.data;m._lastLts&&m._lastLts>=t.lts&&(t.lts=m._lastLts+1),m._lastLts=t.lts}if(m.sendCache.push(e),null===m.sendTimer)return function e(){m.sendTimer=setTimeout((function(){if(0!==m.sendCache.length){var t=m.sendCache.length<10?m.sendCache.splice(0,m.sendCache.length):m.sendCache.splice(0,10),n=m.list[t[0].data.sid].vid;return w.sendReportList(t,n),e()}m.sendTimer=null}),Object(s.getParameter)("EVENT_REPORT_SEND_INTERVAL"))}()},m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BUILD="v3.6.11-0-gbdacc5f-dirty",t.VERSION="3.6.11";var r=0*Date.now()+11499+86604+5615+6547+846;t.SUPPORT_RESOLUTION_LIST={"90p_1":[160,90,null,null,null,null],"120p_1":[160,120,15,15,30,65],"120p_3":[120,120,15,15,30,50],"120p_4":[212,120,null,null,null,null],"180p_1":[320,180,15,15,30,140],"180p_3":[180,180,15,15,30,100],"180p_4":[240,180,15,15,30,120],"240p_1":[320,240,15,15,40,200],"240p_3":[240,240,15,15,40,140],"240p_4":[424,240,15,15,40,220],"360p_1":[640,360,15,15,80,400],"360p_3":[360,360,15,15,80,260],"360p_4":[640,360,30,30,80,600],"360p_6":[360,360,30,30,80,400],"360p_7":[480,360,15,15,80,320],"360p_8":[480,360,30,30,80,490],"360p_9":[640,360,15,15,80,800],"360p_10":[640,360,24,24,80,800],"360p_11":[640,360,24,24,80,1e3],"480p_1":[640,480,15,15,100,500,1,5],"480p_2":[640,480,30,30,100,1e3,25,30],"480p_3":[480,480,15,15,100,400],"480p_4":[640,480,30,30,100,750],"480p_6":[480,480,30,30,100,600],"480p_8":[848,480,15,15,100,610],"480p_9":[848,480,30,30,100,930],"480p_10":[640,480,10,10,100,400],"720p_1":[1280,720,15,15,120,1130,1,5],"720p_2":[1280,720,30,30,120,2e3,25,30],"720p_3":[1280,720,30,30,120,1710],"720p_5":[960,720,15,15,120,910],"720p_6":[960,720,30,30,120,1380],"1080p_1":[1920,1080,15,15,120,2080,1,5],"1080p_2":[1920,1080,30,30,120,3e3,25,30],"1080p_3":[1920,1080,30,30,120,3150],"1080p_5":[1920,1080,60,60,120,4780],"1440p_1":[2560,1440,30,30,120,4850],"1440p_2":[2560,1440,60,60,120,7350],"4k_1":[3840,2160,30,30,120,8910],"4k_3":[3840,2160,60,60,120,13500]},t.AUDIO_PROFILE_SETTINGS={speech_low_quality:[!1,!1,!0,!0],speech_standard:[!1,!1,!0,!1],music_standard:[!1,!1,!1,!1],standard_stereo:[!1,!0,!1,!1],high_quality:[!0,!1,!1,!1],high_quality_stereo:[!0,!0,!1,!1],default:[!1,!1,!1,!1]};var i={AREA_SETTING:["NORTH_AMERICA","OVERSEA"],WEBCS_DOMAIN:["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],LOG_UPLOAD_SERVER:"logservice-oversea.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1-oversea.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"statscollector-2-oversea.agora.io",ENABLE_LIVE_SERVER_LIST:!1,LIVE_SERVER_LIST:[],ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,GATEWAY_DOMAINS:["edge.agora.io"],WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,LIVESTREAMING_ALIGN:!0,HTTP_CONNECT_TIMEOUT:5e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_TIMEOUT:1e7,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,REPORT_STATS:!0,REPORT_STATS_TIMEOUT:3e3,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],FILEPATH_LENMAX:255,SUBSCRIBE_TCC:!1,PING_PONG_TIME_OUT:10,DUALSTREAM_OPERATION_CHECK:!0,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:1e3,MEDIA_ELEMENT_EXISTS_DEPTH:3,CANDIDATE_TIMEOUT:2e3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,TICKET_RENEW_TIMEOUT:828e5,LIVE_STREAMING_TIMEOUT:12e4,SHOW_REPORT_INVOKER_LOG:!1,STATS_FILTER:{transportId:!0,googTrackId:!0},FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,FORCE_CHANGED_GATEWAY_FLAG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",CHROME_NEW_STATS:!1,AP_BACKOFF_MAX_TIME:8,SET_DEFAULT_TURNSERVER:!0,TURN_SERVER_PASSWORD:r.toString(),PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",NGINX:"webrtc-cloud-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CR:!0,CRL:10,CRI:6,CUSTOMER_REPORT_TIMEOUT:5e3,LIVE_STREAMING_ADDRESS:"",CHOOSE_SERVER_FRAGEMENT_LENGTH:4,PLAN:"plan-b"};i.AREA_SETTING=["CHINA","GLOBAL"],i.WEBCS_DOMAIN=["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],i.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],i.PROXY_CS=["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],i.CDS_AP=["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],i.ACCOUNT_REGISTER=["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],i.UAP_AP=["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],i.LOG_UPLOAD_SERVER="logservice.agora.io",i.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",i.EVENT_REPORT_BACKUP_DOMAIN="web-3.statscollector.sd-rtn.com",i.GATEWAY_DOMAINS=["edge.agora.io","edge.sd-rtn.com"],i.NGINX="webrtc-cloud-proxy.sd-rtn.com",i.PROXY_SERVER_TYPE3=["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],t.setParameter=function(e,t){return void 0!==i[e]&&(i[e]=t,!0)},t.getParameter=function(e){return void 0!==i[e]?i[e]:null}},function(e,t,n){"use strict";n.r(t),n.d(t,"checkValidObject",(function(){return c})),n.d(t,"checkValidString",(function(){return l})),n.d(t,"checkValidNumber",(function(){return u})),n.d(t,"checkValidArray",(function(){return d})),n.d(t,"checkValidFloatNumber",(function(){return f})),n.d(t,"checkValidBoolean",(function(){return h})),n.d(t,"checkValidEnum",(function(){return s})),n.d(t,"checkValidUID",(function(){return p})),n.d(t,"isValidString",(function(){return m})),n.d(t,"isValidNumber",(function(){return v})),n.d(t,"isValidBoolean",(function(){return y})),n.d(t,"isASCII",(function(){return x})),n.d(t,"isInteger",(function(){return w})),n.d(t,"isNumber",(function(){return S})),n.d(t,"isString",(function(){return E})),n.d(t,"isArray",(function(){return k})),n.d(t,"isEmpty",(function(){return N})),n.d(t,"isValidToken",(function(){return b})),n.d(t,"isValidChannelName",(function(){return _}));var r=n(11),i=n.n(r),a=n(10),o=n(0),s=function(e,t,n){for(var r=0;r<n.length;r++)if(e===n[r])return!0;throw new Error("".concat(t," can only be set as ").concat(JSON.stringify(n)))},c=function(e,t){if(!e)throw new Error("Invalid param: ".concat(t||"param"," cannot be empty"));if("object"!==i()(e))throw new Error("".concat(t||"This paramter"," is of the object type"));return!0},l=function(e,t,n,r,i){if(N(n)&&(n=1),r=r||255,N(i)&&(i=!0),N(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!m(e,n,r,i))throw new Error("Invalid ".concat(t||"string param",": Length of the string: [").concat(n,",").concat(r,"].").concat(i?" ASCII characters only.":""))},u=function(e,t,n,r){if(N(n)&&(n=1),r=r||1e4,N(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!v(e,n,r))throw new Error("Invalid ".concat(t||"number param",": The value range is [").concat(n,",").concat(r,"]. integer only"))},d=function(e,t){if(!Array.isArray(e))throw new Error("".concat(t," should be an array"))},f=function(e,t,n,r){if(null==e)throw new Error("".concat(t||"param"," cannot be null"));if(N(n)&&(n=0),r=r||1e4,N(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!g(e,n,r))throw new Error("Invalid ".concat(t||"number param",": The value range is [").concat(n,",").concat(r,"]."))},h=function(e,t){if(N(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!y(e))throw new Error("Invalid ".concat(t||"boolean param",": The value is of the boolean type."))},p=function(e){if(!Object(a.is32Uint)(e)&&!m(e,1,255))throw o.default.error("Invalid UID ".concat(e," ").concat(i()(e))),new Error("[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]")},m=function(e,t,n,r){return t||(t=0),n||(n=Number.MAX_SAFE_INTEGER),N(r)&&(r=!0),E(e)&&(!r||x(e))&&e.length>=t&&e.length<=n},v=function(e,t,n){return w(e)&&e>=t&&e<=n},g=function(e,t,n){return S(e)&&e>=t&&e<=n},y=function(e){return"boolean"==typeof e},b=function(e){return m(e,1,2047)},_=function(e){return E(e)&&/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e)},x=function(e){if("string"==typeof e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<0||n>255)return!1}return!0}},w=function(e){return"number"==typeof e&&e%1==0},S=function(e){return"number"==typeof e},E=function(e){return"string"==typeof e},k=function(e){return e instanceof Array},N=function(e){return null==e}},function(e,t,n){"use strict";n.r(t),n.d(t,"getBrowserInfo",(function(){return y})),n.d(t,"getBrowserVersion",(function(){return f})),n.d(t,"getBrowserOS",(function(){return h})),n.d(t,"isChrome",(function(){return r})),n.d(t,"isSafari",(function(){return i})),n.d(t,"isFireFox",(function(){return o})),n.d(t,"isOpera",(function(){return s})),n.d(t,"isEdge",(function(){return a})),n.d(t,"isQQBrowser",(function(){return c})),n.d(t,"isWeChatBrowser",(function(){return l})),n.d(t,"isLegacyChrome",(function(){return m})),n.d(t,"isSupportedPC",(function(){return u})),n.d(t,"isSupportedMobile",(function(){return d})),n.d(t,"getChromeKernelVersion",(function(){return g})),n.d(t,"isChromeKernel",(function(){return p}));var r=function(){var e=y();return e.name&&"Chrome"===e.name},i=function(){var e=y();return e.name&&"Safari"===e.name},a=function(){var e=y();return e.name&&"Edge"===e.name},o=function(){var e=y();return e.name&&"Firefox"===e.name},s=function(){var e=y();return e.name&&"OPR"===e.name},c=function(){var e=y();return e.name&&"QQBrowser"===e.name},l=function(){var e=y();return e.name&&"MicroMessenger"===e.name},u=function(){var e=h();return"Linux"===e||"Mac OS X"===e||"Mac OS"===e||-1!==e.indexOf("Windows")},d=function(){var e=h();return"Android"===e||"iOS"===e},f=function(){return y().version},h=function(){return y().os},p=function(){return!!navigator.userAgent.match(/chrome\/[\d]+/i)};function m(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}var v,g=function(){var e=navigator.userAgent.match(/chrome\/[\d]+/i);return e&&e[0]&&e[0].split("/")[1]},y=(v=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];"Chrome"===n[1]&&null!=(e=t.match(/(OPR(?=\/))\/?(\d+)/i))&&(n=e),"Safari"===n[1]&&null!=(e=t.match(/version\/(\d+)/i))&&(n[2]=e[1]),~t.toLowerCase().indexOf("qqbrowser")&&null!=(e=t.match(/(qqbrowser(?=\/))\/?(\d+)/i))&&(n=e),~t.toLowerCase().indexOf("micromessenger")&&null!=(e=t.match(/(micromessenger(?=\/))\/?(\d+)/i))&&(n=e),~t.toLowerCase().indexOf("edge")&&null!=(e=t.match(/(edge(?=\/))\/?(\d+)/i))&&(n=e),~t.toLowerCase().indexOf("trident")&&null!=(e=/\brv[ :]+(\d+)/g.exec(t)||[])&&(n=[null,"IE",e[1]]);var r=void 0,i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var a in i){var o=i[a];if(o.r.test(navigator.userAgent)){r=o.s;break}}return{name:n[1],version:n[2],os:r}}(),function(){return v})},function(e,t,n){"use strict";n.r(t),n.d(t,"APErrorCode",(function(){return r})),n.d(t,"GatewayErrorCode",(function(){return i})),n.d(t,"StringUidErrorCode",(function(){return a})),n.d(t,"JOIN_GS_TRYNEXT_LIST",(function(){return o})),n.d(t,"JOIN_CS_RETRY_LIST",(function(){return s})),n.d(t,"JOIN_PROXY_RETRY_LIST",(function(){return c})),n.d(t,"INJECT_STREAM_STATUS",(function(){return l})),n.d(t,"WEBSOCKET_CLOSE_REASON",(function(){return u}));var r={1010100:"NO_FLAG_SET",1010101:"FLAG_SET_BUT_EMPTY",1010102:"INVALID_FALG_SET",2010005:"INVALID_VENDOR_KEY",2010007:"INVALID_CHANNEL_NAME",2010008:"INTERNAL_ERROR",2010009:"NO_AUTHORIZED",2010010:"DYNAMIC_KEY_TIMEOUT",2010011:"NO_ACTIVE_STATUS",2010013:"DYNAMIC_KEY_EXPIRED",2010014:"STATIC_USE_DYANMIC_KEY",2010015:"DYNAMIC_USE_STATIC_KEY",2010016:"USER_OVERLOAD",2010018:"FORBIDDEN_REGION",2010019:"CANNOT_MEET_AREA_DEMAND"},i={2e3:"ERR_NO_VOCS_AVAILABLE",2001:"ERR_NO_VOS_AVAILABLE",2002:"ERR_JOIN_CHANNEL_TIMEOUT",2003:"WARN_REPEAT_JOIN",2004:"ERR_JOIN_BY_MULTI_IP",2011:"ERR_NOT_JOINED",2012:"WARN_REPEAT_JOIN",2013:"ERR_INVALID_VENDOR_KEY",2014:"ERR_INVALID_CHANNEL_NAME",2015:"ERR_INVALID_STRINGUID",2016:"ERR_TOO_MANY_USERS",2017:"ERR_SET_CLIENT_ROLE_TIMEOUT",2018:"ERR_SET_CLIENT_ROLE_NO_PERMISSION",2019:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",2020:"ERR_PUBLISH_REQUEST_INVALID",2021:"ERR_SUBSCRIBE_REQUEST_INVALID",2022:"ERR_NOT_SUPPORTED_MESSAGE",2023:"ERR_ILLEAGAL_PLUGIN",2028:"ILLEGAL_AES_PASSWORD",101:"ERR_INVALID_VENDOR_KEY",102:"ERR_INVALID_CHANNEL_NAME",103:"WARN_NO_AVAILABLE_CHANNEL",104:"WARN_LOOKUP_CHANNEL_TIMEOUT",105:"WARN_LOOKUP_CHANNEL_REJECTED",106:"WARN_OPEN_CHANNEL_TIMEOUT",107:"WARN_OPEN_CHANNEL_REJECTED",108:"WARN_REQUEST_DEFERRED",109:"ERR_DYNAMIC_KEY_TIMEOUT",110:"ERR_NO_AUTHORIZED",111:"ERR_VOM_SERVICE_UNAVAILABLE",112:"ERR_NO_CHANNEL_AVAILABLE_CODE",113:"ERR_TOO_MANY_USERS",114:"ERR_MASTER_VOCS_UNAVAILABLE",115:"ERR_INTERNAL_ERROR",116:"ERR_NO_ACTIVE_STATUS",117:"ERR_INVALID_UID",118:"ERR_DYNAMIC_KEY_EXPIRED",119:"ERR_STATIC_USE_DYANMIC_KE",120:"ERR_DYNAMIC_USE_STATIC_KE",2:"K_TIMESTAMP_EXPIRED",3:"K_CHANNEL_PERMISSION_INVALID",4:"K_CERTIFICATE_INVALID",5:"K_CHANNEL_NAME_EMPTY",6:"K_CHANNEL_NOT_FOUND",7:"K_TICKET_INVALID",8:"K_CHANNEL_CONFLICTED",9:"K_SERVICE_NOT_READY",10:"K_SERVICE_TOO_HEAVY",14:"K_UID_BANNED",15:"K_IP_BANNED",16:"K_CHANNEL_BANNED"},a={1:"ERROR_ILLEAGAL_APPID",2:"ERROR_ILLEAGAL_UID",3:"INTERNAL_SERVER_ERROR"},o=["ERR_NO_VOCS_AVAILABLE","ERR_NO_VOS_AVAILABLE","ERR_JOIN_CHANNEL_TIMEOUT","WARN_LOOKUP_CHANNEL_TIMEOUT","WARN_OPEN_CHANNEL_TIMEOUT","ERR_VOM_SERVICE_UNAVAILABLE","ERR_TOO_MANY_USERS","ERR_MASTER_VOCS_UNAVAILABLE","ERR_INTERNAL_ERROR"],s=["NO_SERVICE_AVAILABLE"],c=["NO_SERVICE_AVAILABLE","REQUEST_PROXY_SERVER_FAILED","REQUEST_PROXY_SERVER_TIME_OUT"],l={INJECT_STREAM_STATUS_START_SUCCESS:0,INJECT_STREAM_STATUS_START_ALREADY_EXISTS:1,INJECT_STREAM_STATUS_START_UNAUTHORIZED:2,INJECT_STREAM_STATUS_START_TIMEDOUT:3,INJECT_STREAM_STATUS_START_FAILED:4,INJECT_STREAM_STATUS_STOP_SUCCESS:5,INJECT_STREAM_STATUS_STOP_NOT_FOUND:6,INJECT_STREAM_STATUS_STOP_UNAUTHORIZED:7,INJECT_STREAM_STATUS_STOP_TIMEDOUT:8,INJECT_STREAM_STATUS_STOP_FAILED:9,INJECT_STREAM_STATUS_BROKEN:10},u={WS_DISCONNECT:"WS_DISCONNECT"};t.default={FAILED:"FAILED",INVALID_KEY:"INVALID_KEY",INVALID_CLIENT_MODE:"INVALID_CLIENT_MODE",INVALID_CLIENT_CODEC:"INVALID_CLIENT_CODEC",CLIENT_MODE_CODEC_MISMATCH:"CLIENT_MODE_CODEC_MISMATCH",WEB_API_NOT_SUPPORTED:"WEB_API_NOT_SUPPORTED",INVALID_PARAMETER:"INVALID_PARAMETER",NO_TRACK_IN_STREAM:"NO_TRACK_IN_STREAM",INVALID_OPERATION:"INVALID_OPERATION",INVALID_LOCAL_STREAM:"INVALID_LOCAL_STREAM",INVALID_REMOTE_STREAM:"INVALID_REMOTE_STREAM",INVALID_DYNAMIC_KEY:"INVALID_DYNAMIC_KEY",DYNAMIC_KEY_TIMEOUT:"DYNAMIC_KEY_TIMEOUT",NO_VOCS_AVAILABLE:"NO_VOCS_AVAILABLE",NO_VOS_AVAILABLE:"ERR_NO_VOS_AVAILABLE",JOIN_CHANNEL_TIMEOUT:"ERR_JOIN_CHANNEL_TIMEOUT",NO_AVAILABLE_CHANNEL:"NO_AVAILABLE_CHANNEL",LOOKUP_CHANNEL_TIMEOUT:"LOOKUP_CHANNEL_TIMEOUT",LOOKUP_CHANNEL_REJECTED:"LOOKUP_CHANNEL_REJECTED",OPEN_CHANNEL_TIMEOUT:"OPEN_CHANNEL_TIMEOUT",OPEN_CHANNEL_REJECTED:"OPEN_CHANNEL_REJECTED",REQUEST_DEFERRED:"REQUEST_DEFERRED",STREAM_ALREADY_PUBLISHED:"STREAM_ALREADY_PUBLISHED",STREAM_NOT_YET_PUBLISHED:"STREAM_NOT_YET_PUBLISHED",JOIN_TOO_FREQUENT:"JOIN_TOO_FREQUENT",SOCKET_ERROR:"SOCKET_ERROR",SOCKET_DISCONNECTED:"SOCKET_DISCONNECTED",PEERCONNECTION_FAILED:"PEERCONNECTION_FAILED",CONNECT_GATEWAY_ERROR:"CONNECT_GATEWAY_ERROR",SERVICE_NOT_AVAILABLE:"SERVICE_NOT_AVAILABLE",JOIN_CHANNEL_FAILED:"JOIN_CHANNEL_FAILED",PUBLISH_STREAM_FAILED:"PUBLISH_STREAM_FAILED",UNPUBLISH_STREAM_FAILED:"UNPUBLISH_STREAM_FAILED",SUBSCRIBE_STREAM_FAILED:"SUBSCRIBE_STREAM_FAILED",UNSUBSCRIBE_STREAM_FAILED:"UNSUBSCRIBE_STREAM_FAILED",NO_SUCH_REMOTE_STREAM:"NO_SUCH_REMOTE_STREAM",ERR_FAILED:"1",ERR_INVALID_VENDOR_KEY:"101",ERR_INVALID_CHANNEL_NAME:"102",WARN_NO_AVAILABLE_CHANNEL:"103",WARN_LOOKUP_CHANNEL_TIMEOUT:"104",WARN_LOOKUP_CHANNEL_REJECTED:"105",WARN_OPEN_CHANNEL_TIMEOUT:"106",WARN_OPEN_CHANNEL_REJECTED:"107",WARN_REQUEST_DEFERRED:"108",ERR_DYNAMIC_KEY_TIMEOUT:"109",ERR_INVALID_DYNAMIC_KEY:"110",ERR_NO_VOCS_AVAILABLE:"2000",ERR_NO_VOS_AVAILABLE:"2001",ERR_JOIN_CHANNEL_TIMEOUT:"2002",IOS_NOT_SUPPORT:"IOS_NOT_SUPPORT",WECHAT_NOT_SUPPORT:"WECHAT_NOT_SUPPORT",SHARING_SCREEN_NOT_SUPPORT:"SHARING_SCREEN_NOT_SUPPORT",STILL_ON_PUBLISHING:"STILL_ON_PUBLISHING",LOW_STREAM_ALREADY_PUBLISHED:"LOW_STREAM_ALREADY_PUBLISHED",LOW_STREAM_NOT_YET_PUBLISHED:"LOW_STREAM_ALREADY_PUBLISHED",HIGH_STREAM_NOT_VIDEO_TRACE:"HIGH_STREAM_NOT_VIDEO_TRACE",NOT_FIND_DEVICE_BY_LABEL:"NOT_FIND_DEVICE_BY_LABEL",ENABLE_DUALSTREAM_FAILED:"ENABLE_DUALSTREAM_FAILED",DISABLE_DUALSTREAM_FAILED:"DISABLE_DUALSTREAM_FAILED",PLAYER_NOT_FOUND:"PLAYER_NOT_FOUND",ELECTRON_NOT_SUPPORT_SHARING_SCREEN:"ELECTRON_NOT_SUPPORT_SHARING_SCREEN",BAD_ENVIRONMENT:"BAD_ENVIRONMENT",LOAD_AUDIO_FAILED:"LOAD_AUDIO_FAILED"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n(0);var r=function(e,t,n){if(["End2EndDelay","TransportDelay","PacketLossRate","RecvLevel","RecvBitrate","CodecType","MuteState","TotalFreezeTime","TotalPlayDuration","RecordingLevel","SendLevel","SamplingRate","SendBitrate","CodecType","MuteState","End2EndDelay","TransportDelay","PacketLossRate","RecvBitrate","RecvResolutionWidth","RecvResolutionHeight","RenderResolutionHeight","RenderResolutionWidth","RenderFrameRate","TotalFreezeTime","TotalPlayDuration","TargetSendBitrate","SendFrameRate","SendFrameRate","SendBitrate","SendResolutionWidth","SendResolutionHeight","CaptureResolutionHeight","CaptureResolutionWidth","EncodeDelay","MuteState","TotalFreezeTime","TotalDuration","CaptureFrameRate","RTT","OutgoingAvailableBandwidth","Duration","UserCount","SendBytes","RecvBytes","SendBitrate","RecvBitrate","accessDelay","audioSendBytes","audioSendPackets","videoSendBytes","videoSendPackets","videoSendPacketsLost","videoSendFrameRate","audioSendPacketsLost","videoSendResolutionWidth","videoSendResolutionHeight","accessDelay","audioReceiveBytes","audioReceivePackets","audioReceivePacketsLost","videoReceiveBytes","videoReceivePackets","videoReceivePacketsLost","videoReceiveFrameRate","videoReceiveDecodeFrameRate","videoReceiveResolutionWidth","videoReceiveResolutionHeight","endToEndDelay","videoReceiveDelay","audioReceiveDelay","FirstFrameTime","VideoFreezeRate","AudioFreezeRate","RenderResolutionWidth","RenderResolutionHeight","VideoPublishDuration","AudioPublishDuration"].indexOf(t)>-1&&("string"==typeof n||isFinite(n)))return e[t]=""+n},i=function(e){var t={};return e.forEach((function(e){e.id&&e.type&&(-1===e.id.indexOf("send")&&-1===e.type.toLowerCase().indexOf("outbound")&&-1===e.id.indexOf("outbound_rtp")&&-1===e.id.indexOf("OutboundRTP")||("audio"===e.mediaType?(r(t,"audioSendBytes",e.bytesSent),r(t,"audioSendPackets",e.packetsSent),r(t,"audioSendPacketsLost",e.packetsLost)):(r(t,"videoSendBytes",e.bytesSent),r(t,"videoSendPackets",e.packetsSent),r(t,"videoSendPacketsLost",e.packetsLost),r(t,"videoSendFrameRate",e.googFrameRateSent),r(t,"videoSendResolutionWidth",e.googFrameWidthSent),r(t,"videoSendResolutionHeight",e.googFrameHeightSent))))})),t},a=function(e){var t={};return e.forEach((function(e){e.id&&e.type&&(-1===e.id.indexOf("recv")&&-1===e.type.toLowerCase().indexOf("inbound")&&-1===e.id.indexOf("inbound_rtp")&&-1===e.id.indexOf("inbound-rtp")&&-1===e.id.indexOf("InboundRTP")||("audio"===e.mediaType?(r(t,"audioReceiveBytes",e.bytesReceived),r(t,"audioReceivePackets",e.packetsReceived),r(t,"audioReceivePacketsLost",e.packetsLost)):(r(t,"videoReceiveBytes",e.bytesReceived),r(t,"videoReceivePacketsLost",e.packetsLost),r(t,"videoReceivePackets",e.packetsReceived),r(t,"videoReceiveFrameRate",e.googFrameRateReceived),r(t,"videoReceiveDecodeFrameRate",e.googFrameRateDecoded),r(t,"videoReceiveResolutionWidth",e.googFrameWidthReceived),r(t,"videoReceiveResolutionHeight",e.googFrameHeightReceived))))})),t}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(0),i=function(){var e={dispatcher:{}};return e.dispatcher.eventListeners={},e.addEventListener=function(t,n){void 0===e.dispatcher.eventListeners[t]&&(e.dispatcher.eventListeners[t]=[]),e.dispatcher.eventListeners[t].push(n)},e.hasListeners=function(t){return!(!e.dispatcher.eventListeners[t]||!e.dispatcher.eventListeners[t].length)},e.on=e.addEventListener,e.removeEventListener=function(t,n){var r;e.dispatcher.eventListeners[t]&&-1!==(r=e.dispatcher.eventListeners[t].indexOf(n))&&e.dispatcher.eventListeners[t].splice(r,1)},e.dispatchEvent=function(t){var n;for(n in e.dispatcher.eventListeners[t.type])if(e.dispatcher.eventListeners[t.type]&&e.dispatcher.eventListeners[t.type].hasOwnProperty(n)&&"function"==typeof e.dispatcher.eventListeners[t.type][n])try{e.dispatcher.eventListeners[t.type][n](t)}catch(n){r.default.debug("[".concat(e.clientId,"] Error in ").concat(t.type," event"),n)}},e.dispatchSocketEvent=function(t){var n;for(n in e.dispatcher.eventListeners[t.type])e.dispatcher.eventListeners[t.type]&&e.dispatcher.eventListeners[t.type].hasOwnProperty(n)&&"function"==typeof e.dispatcher.eventListeners[t.type][n]&&e.dispatcher.eventListeners[t.type][n](t.msg)},e},a=function(e){var t={};return t.type=e.type,t},o=function(e){var t=a(e);return t.stream=e.stream,t.reason=e.reason,t.msg=e.msg,t},s=function(e){var t=a(e);return t.uid=e.uid,t.attr=e.attr,t.stream=e.stream,t},c=function(e){var t=a(e);return t.msg=e.msg,t},l=function(e){var t=a(e);return t.url=e.url,t.uid=e.uid,t.status=e.status,t.reason=e.reason,t}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(69)),l=n(2),u=s(n(0)),d=n(3),f=n(14),h=n(10),p=function(e){function t(t,n){var r=e.call(this)||this;return r._state=b.RELAY_STATE_IDLE,r._onStatus=function(e){u.default.debug("["+r.clientId+"] ChannelMediaStatus: "+JSON.stringify(e)),e&&e.command&&("onAudioPacketReceived"===e.command&&r.emit("event",y.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===e.command&&r.emit("event",y.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===e.command&&(r._state=b.RELAY_STATE_FAILURE,r.emit("state",b.RELAY_STATE_FAILURE,_.SRC_TOKEN_EXPIRED)),"onDestTokenPrivilegeDidExpire"===e.command&&(r._state=b.RELAY_STATE_FAILURE,r.emit("state",b.RELAY_STATE_FAILURE,_.DEST_TOKEN_EXPIRED,e.channelName?{came:e.channelName}:null)))},r._onClose=function(){return a(r,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:if(u.default.debug("["+this.clientId+"] ChannelMediaSocket onClose"),this.emit("event",y.NETWORK_DISCONNECTED),this.state=b.RELAY_STATE_IDLE,!this._prevChannelMediaConfig)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.startChannelMediaRelay(this._prevChannelMediaConfig)];case 2:return t.sent(),[3,4];case 3:return(e=t.sent())instanceof w&&(e.message===v.WS_ABORT||e.message===v.AP_REQUEST_ABORT)?[2]:(this.emit("state",b.RELAY_STATE_FAILURE,_.SERVER_CONNECTION_LOST),[3,4]);case 4:return[2]}}))}))},r.token=t.appId,r.appId=t.appId,r.cname=t.cname,r.uid=t.uid,r.sid=t.sid,r.clientId=n,r}return i(t,e),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){var t=this._state;this._state=e,t!==e&&this.emit("state",e)},enumerable:!0,configurable:!0}),t.prototype.startChannelMediaRelay=function(e){return a(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:if(this.state!==b.RELAY_STATE_IDLE)throw new w(v.BAD_STATE);return this.state=b.RELAY_STATE_CONNECTING,[4,this._connect()];case 1:return t.sent(),u.default.debug("["+this.clientId+"] startChannelMediaRelay: connect success"),[4,this._sendStartRelayMessage(e)];case 2:return t.sent(),this._prevChannelMediaConfig=e,[2]}}))}))},t.prototype.updateChannelMediaRelay=function(e){return a(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:if(this.state!==b.RELAY_STATE_RUNNING)throw new w(v.BAD_STATE);return[4,this._sendUpdateMessage(e)];case 1:return t.sent(),this._prevChannelMediaConfig=e,[2]}}))}))},t.prototype.stopChannelMediaRelay=function(){return a(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this._sendStopRelayMessage()];case 1:return e.sent(),u.default.debug("["+this.clientId+"] stopChannelMediaRelay: send stop message success"),this.state=b.RELAY_STATE_IDLE,this.dispose(),[2]}}))}))},t.prototype.dispose=function(){u.default.debug("["+this.clientId+"] disposeChannelMediaRelay"),this.state=b.RELAY_STATE_IDLE,this.emit("dispose"),this._signal&&this._signal.dispose(),this._prevChannelMediaConfig=null,this.removeEvent()},t.prototype._requestOneAP=function(e){var t=this;return new Promise((function(n,r){var i={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:"",ts:+new Date,version:l.VERSION,cname:t.cname,uid:t.uid+"",seq:1,requestId:1},a={service_name:"tele_channel",json_body:JSON.stringify(i)},o="https://"+e;f.post(o,a,(function(e){var t=null,i=null;try{t=JSON.parse(e)}catch(e){r(new w(v.AP_JSON_PARSE_ERROR,e))}0!==t.code&&r(new w(v.AP_REQUEST_ERROR,t));try{i=JSON.parse(t.json_body)}catch(e){r(new w(v.AP_JSON_PARSE_ERROR,e))}200!==i.code&&r(new w(v.AP_REQUEST_ERROR,i)),i.servers?n(i.servers):r(new w(v.AP_JSON_PARSE_ERROR,i))}),(function(e){return r(e)}),{"X-Packet-Service-Type":0,"X-Packet-URI":61})}))},t.prototype._requestAP=function(){var e=this,t=l.getParameter("UAP_AP");return new Promise((function(n,r){setTimeout((function(){r(new w(v.AP_REQUEST_TIMEOUT))}),5e3),e.on("dispose",(function(){r(new w(v.AP_REQUEST_ABORT))})),t.forEach((function(t){t+="/api/v1",e._requestOneAP(t).then((function(r){u.default.debug("["+e.clientId+"] startChannelMediaRelay request AP "+t+" success: "+JSON.stringify(r));var i=r[0],a="wss://"+i.address.replace(/\./g,"-")+".edge.agora.io:"+i.wss;n(a)})).catch((function(n){u.default.debug("["+e.clientId+"] startChannelMediaRelay request AP "+t+" failed: "+JSON.stringify(n))}))}))}))},t.prototype._connectWebsocket=function(e){return this._signal=new x(this.appId,this.cname,this.uid,this.sid),this._signal.connect(e)},t.prototype._connect=function(){return a(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,this._requestAP()];case 1:return e=t.sent(),[4,this._connectWebsocket(e)];case 2:return t.sent(),this._signal.on("close",this._onClose.bind(this)),this._signal.on("status",this._onStatus.bind(this)),this.emit("event",y.NETWORK_CONNECTED),[2]}}))}))},t.prototype._sendStartRelayMessage=function(e){return a(this,void 0,void 0,(function(){var t,n,r,i,a,s;return o(this,(function(o){switch(o.label){case 0:return this._checkSignal(),t=this._genMessage(g.StopPacketTransfer),[4,this._signal.request(t)];case 1:return o.sent(),[4,this._signal.waitStatus("Normal Quit")];case 2:return o.sent(),u.default.debug("["+this.clientId+"] startChannelMediaRelay: StopPacketTransfer success"),n=this._genMessage(g.SetSdkProfile,e),[4,this._signal.request(n)];case 3:return o.sent(),u.default.debug("["+this.clientId+"] startChannelMediaRelay: SetSdkProfile success"),r=this._genMessage(g.SetSourceChannel,e),[4,this._signal.request(r)];case 4:return o.sent(),[4,this._signal.waitStatus("SetSourceChannelStatus")];case 5:return o.sent(),this.emit("event",y.PACKET_JOINED_SRC_CHANNEL),u.default.debug("["+this.clientId+"] startChannelMediaRelay: SetSourceChannel success"),i=this._genMessage(g.SetSourceUserId,e),[4,this._signal.request(i)];case 6:return o.sent(),u.default.debug("["+this.clientId+"] startChannelMediaRelay: SetSourceUserId success"),a=this._genMessage(g.SetDestChannel,e),[4,this._signal.request(a)];case 7:return o.sent(),[4,this._signal.waitStatus("SetDestChannelStatus")];case 8:return o.sent(),this.emit("event",y.PACKET_JOINED_DEST_CHANNEL),u.default.debug("["+this.clientId+"] startChannelMediaRelay: SetDestChannel success"),s=this._genMessage(g.StartPacketTransfer,e),[4,this._signal.request(s)];case 9:return o.sent(),this.emit("event",y.PACKET_SENT_TO_DEST_CHANNEL),this.state=b.RELAY_STATE_RUNNING,u.default.debug("["+this.clientId+"] startChannelMediaRelay: StartPacketTransfer success"),[2]}}))}))},t.prototype._sendReconnectMessage=function(e){return a(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return this._checkSignal(),t=this._genMessage(g.Reconnect,e),[4,this._signal.request(t)];case 1:return n.sent(),[2]}}))}))},t.prototype._sendUpdateMessage=function(e){return a(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return this._checkSignal(),t=this._genMessage(g.UpdateDestChannel,e),[4,this._signal.request(t)];case 1:return n.sent(),this.emit("event",y.PACKET_UPDATE_DEST_CHANNEL),u.default.debug("["+this.clientId+"] sendUpdateMessage: UpdateDestChannel success"),[2]}}))}))},t.prototype._sendStopRelayMessage=function(){return a(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return this._checkSignal(),e=this._genMessage(g.StopPacketTransfer),[4,this._signal.request(e)];case 1:return t.sent(),u.default.debug("["+this.clientId+"] sendStopRelayMessage: StopPacketTransfer success"),[2]}}))}))},t.prototype._genMessage=function(e,t){var n=this,r=[],i=[],a=[],o={appId:this.appId,cname:this.cname,uid:this.uid+"",sdkVersion:l.VERSION,sid:this.sid,ts:+new Date,requestId:0,seq:0,allocate:!0,clientRequest:{}},s=null;switch(e){case g.SetSdkProfile:return o.clientRequest={command:"SetSdkProfile",type:"multi_channel"},o;case g.SetSourceChannel:return s=t.getSrcChannelMediaInfo(),o.clientRequest={command:"SetSourceChannel",uid:s.uid+"",channelName:s.channelName,token:s.token||this.appId},o;case g.SetSourceUserId:return s=t.getSrcChannelMediaInfo(),o.clientRequest={command:"SetSourceUserId",uid:this.uid+""},o;case g.SetDestChannel:return t.getDestChannelMediaInfos().forEach((function(e){r.push(e.channelName),i.push(e.uid+""),a.push(e.token||n.appId)})),o.clientRequest={command:"SetDestChannel",channelName:r,uid:i,token:a},o;case g.StartPacketTransfer:return o.clientRequest={command:"StartPacketTransfer"},o;case g.Reconnect:return o.clientRequest={command:"Reconnect"},o;case g.StopPacketTransfer:return o.clientRequest={command:"StopPacketTransfer"},o;case g.UpdateDestChannel:return t.getDestChannelMediaInfos().forEach((function(e){r.push(e.channelName),i.push(e.uid+""),a.push(e.token||n.appId)})),o.clientRequest={command:"UpdateDestChannel",channelName:r,uid:i,token:a},o}},t.prototype._checkSignal=function(){if(!this._signal||!this._signal.isConnect())throw new w(v.WS_DISCONNECTED)},t}(c.default);t.default=p;var m=function(){function e(){this.destChannelMediaInfos=new Map}return e.prototype.setSrcChannelInfo=function(e){d.checkValidObject(e,"srcInfo");var t=e.uid,n=e.channelName,r=e.token;if(r&&!d.isValidToken(r))throw new Error("Invalid token in SrcChannelInfo");if(!d.isValidChannelName(n))throw new Error("Invalid channelName in SrcChannelInfo");if(!h.is32Uint(t))throw new Error("Invalid uid in SrcChannelInfo");this.srcChannelMediaInfo=e},e.prototype.setDestChannelInfo=function(e,t){if(!d.isValidChannelName(e))throw new Error("Invalid channelName in DestChannelInfo");d.checkValidObject(t,"destInfo");var n=t.uid,r=t.token,i=t.channelName;if(r&&!d.isValidToken(r))throw new Error("Invalid token in DestChannelInfo");if(!d.isValidChannelName(i))throw new Error("Invalid channelName in DestChannelInfo");if(!h.is32Uint(n))throw new Error("Invalid uid in DestChannelInfo");this.destChannelMediaInfos.set(e,t)},e.prototype.removeDestChannelInfo=function(e){if(!d.isValidChannelName(e))throw new Error("Invalid channelName when invoke removeDestChannelInfo");this.destChannelMediaInfos.delete(e)},e.prototype.getSrcChannelMediaInfo=function(){return this.srcChannelMediaInfo},e.prototype.getDestChannelMediaInfos=function(){return this.destChannelMediaInfos},e}();t.ChannelMediaRelayConfiguration=m;var v,g,y,b,_,x=function(e){function t(t,n,r,i){var a=e.call(this)||this;return a._onOpen=function(){a.emit("open")},a._onClose=function(e){a.emit("close"),a.dispose()},a._onMessage=function(e){var t=JSON.parse(e.data);if(!t||"serverResponse"!==t.command||!t.requestId)return t&&"serverStatus"===t.command&&t.serverStatus&&t.serverStatus.command?(a.emit("status",t.serverStatus),void a.emit(t.serverStatus.command,t.serverStatus)):void 0;a.emit("req_"+t.requestId,t)},a._requestId=1,a.appId=t,a.cname=n,a.uid=r,a.sid=i,a}return i(t,e),t.prototype.isConnect=function(){return this._ws&&this._ws.readyState===WebSocket.OPEN},t.prototype.sendMessage=function(e){if(!this._ws||this._ws.readyState!==WebSocket.OPEN)throw new w(v.WS_DISCONNECTED);var t=this._requestId++;return e.requestId=t,e.seq=t,this._ws.send(JSON.stringify(e)),t},t.prototype.waitStatus=function(e){var t=this;return new Promise((function(n,r){var i=window.setTimeout((function(){r(new w(v.WAIT_STATUS_TIMEOUT,e))}),5e3);t.once(e,(function(t){clearTimeout(i),t.state&&0!==t.state?r(new w(v.WAIT_STATUS_ERROR,e)):n()})),t.once("dispose",(function(){clearTimeout(i),r(new w(v.WS_ABORT))}))}))},t.prototype.request=function(e){var t=this;return new Promise((function(n,r){var i=t.sendMessage(e),a=window.setTimeout((function(){t.removeAllListeners("req_"+i),r(new w(v.REQUEST_TIMEOUT))}),3e3);t.once("req_"+i,(function(e){clearTimeout(a),e&&200===e.code?n(e):r(new w(v.REQUEST_FAILED,e))})),t.once("dispose",(function(){clearTimeout(a),r(new w(v.WS_ABORT))}))}))},t.prototype.connect=function(e){var t=this;return new Promise((function(n,r){t._ws=new WebSocket(e),t._ws.onopen=function(){t._onOpen(),t._prvUrl=e,t._ws.onmessage=t._onMessage,t._ws.onclose=t._onClose,t._startHeartBeatCheck(),n()},t._ws.onclose=function(e){t._ws=null,r(new w(v.CONNECT_FAILED,"websocket error code: "+e.code))},setTimeout((function(){t._ws&&t._ws.readyState!==WebSocket.OPEN&&(t._ws.onopen=null,t._ws.onclose=null,t._ws.close(),t._ws=null,r(new w(v.CONNECT_TIMEOUT)))}),5e3),t.once("dispose",(function(){r(new w(v.WS_ABORT))}))}))},t.prototype.dispose=function(){this._clearHeartBeatCheck(),this.emit("dispose"),this.removeEvent(),this._ws&&(this._ws.onopen=null,this._ws.onclose=null,this._ws.onmessage=null,this._ws.close()),this._ws=null},t.prototype._sendPing=function(e){if(!this._ws||this._ws.readyState!==WebSocket.OPEN)throw new w(v.WS_DISCONNECTED);var t=this._requestId++;return e.requestId=t,this._ws.send(JSON.stringify(e)),t},t.prototype._startHeartBeatCheck=function(){var e=this;this._heartBeatTimer=window.setInterval((function(){e._sendPing({command:"ping",appId:e.appId,cname:e.cname,uid:e.uid+"",sid:e.sid,ts:+new Date,requestId:0})}),3e3)},t.prototype._clearHeartBeatCheck=function(){window.clearInterval(this._heartBeatTimer)},t}(c.default),w=function(e,t,n){void 0===e&&(e=""),this.code=n,this.data=t,this.message=e};t.ChannelMediaError=w,function(e){e.CONNECT_FAILED="connect failed",e.CONNECT_TIMEOUT="connect timeout",e.WS_DISCONNECTED="websocket disconnected",e.REQUEST_TIMEOUT="request timeout",e.REQUEST_FAILED="request failed",e.WAIT_STATUS_TIMEOUT="wait status timeout",e.WAIT_STATUS_ERROR="wait status error",e.BAD_STATE="bad state",e.WS_ABORT="ws abort",e.AP_REQUEST_TIMEOUT="AP request timeout",e.AP_JSON_PARSE_ERROR="AP json parse error",e.AP_REQUEST_ERROR="AP request error",e.AP_REQUEST_ABORT="AP request abort"}(v=t.CHANNEL_MEDIA_ERROR||(t.CHANNEL_MEDIA_ERROR={})),function(e){e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile"}(g||(g={})),function(e){e[e.NETWORK_DISCONNECTED=0]="NETWORK_DISCONNECTED",e[e.NETWORK_CONNECTED=1]="NETWORK_CONNECTED",e[e.PACKET_JOINED_SRC_CHANNEL=2]="PACKET_JOINED_SRC_CHANNEL",e[e.PACKET_JOINED_DEST_CHANNEL=3]="PACKET_JOINED_DEST_CHANNEL",e[e.PACKET_SENT_TO_DEST_CHANNEL=4]="PACKET_SENT_TO_DEST_CHANNEL",e[e.PACKET_RECEIVED_VIDEO_FROM_SRC=5]="PACKET_RECEIVED_VIDEO_FROM_SRC",e[e.PACKET_RECEIVED_AUDIO_FROM_SRC=6]="PACKET_RECEIVED_AUDIO_FROM_SRC",e[e.PACKET_UPDATE_DEST_CHANNEL=7]="PACKET_UPDATE_DEST_CHANNEL",e[e.PACKET_UPDATE_DEST_CHANNEL_REFUSED=8]="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e[e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE=9]="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE"}(y=t.CHANNEL_MEDIA_RELAY_EVENT||(t.CHANNEL_MEDIA_RELAY_EVENT={})),function(e){e[e.RELAY_STATE_IDLE=0]="RELAY_STATE_IDLE",e[e.RELAY_STATE_CONNECTING=1]="RELAY_STATE_CONNECTING",e[e.RELAY_STATE_RUNNING=2]="RELAY_STATE_RUNNING",e[e.RELAY_STATE_FAILURE=3]="RELAY_STATE_FAILURE"}(b=t.CHANNEL_MEDIA_RELAY_STATE||(t.CHANNEL_MEDIA_RELAY_STATE={})),function(e){e[e.RELAY_OK=0]="RELAY_OK",e[e.SERVER_ERROR_RESPONSE=1]="SERVER_ERROR_RESPONSE",e[e.SERVER_NO_RESPONSE=2]="SERVER_NO_RESPONSE",e[e.NO_RESOURCE_AVAILABLE=3]="NO_RESOURCE_AVAILABLE",e[e.FAILED_JOIN_SRC=4]="FAILED_JOIN_SRC",e[e.FAILED_JOIN_DEST=5]="FAILED_JOIN_DEST",e[e.FAILED_PACKET_RECEIVED_FROM_SRC=6]="FAILED_PACKET_RECEIVED_FROM_SRC",e[e.FAILED_PACKET_SENT_TO_DEST=7]="FAILED_PACKET_SENT_TO_DEST",e[e.SERVER_CONNECTION_LOST=8]="SERVER_CONNECTION_LOST",e[e.INTERNAL_ERROR=9]="INTERNAL_ERROR",e[e.SRC_TOKEN_EXPIRED=10]="SRC_TOKEN_EXPIRED",e[e.DEST_TOKEN_EXPIRED=11]="DEST_TOKEN_EXPIRED",e[e.RELAY_ALREADY_START=12]="RELAY_ALREADY_START",e[e.RELAY_NOT_START=13]="RELAY_NOT_START",e[e.OPERATION_ABORT=14]="OPERATION_ABORT"}(_=t.CHANNEL_MEDIA_RELAY_ERROR||(t.CHANNEL_MEDIA_RELAY_ERROR={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"isLiveTranscodingValid",(function(){return _})),n.d(t,"generateSessionId",(function(){return g})),n.d(t,"audioLevelHelper",(function(){return p})),n.d(t,"vsResHack",(function(){return y})),n.d(t,"is32Uint",(function(){return b})),n.d(t,"safeCall",(function(){return d})),n.d(t,"random",(function(){return w})),n.d(t,"popBanTip",(function(){return k})),n.d(t,"lengthInUtf8Bytes",(function(){return S})),n.d(t,"audioTimerLoop",(function(){return E})),n.d(t,"generateId",(function(){return v})),n.d(t,"uint8ArrayToBase64",(function(){return f})),n.d(t,"base64ToUint8Array",(function(){return h}));var r=n(11),i=n.n(r),a=n(4),o=n(0),s=n(28),c=n.n(s),l=n(25),u=n(15),d=function(){var e=arguments[0];if("function"==typeof e){var t=Array.prototype.slice.call(arguments,1);e.apply(null,t)}},f=function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)},h=function(e){for(var t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length)),r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return n},p=function(e){return this.audioContext=Object(l.a)(),this.sourceNode=e.otWebkitAudioSource||this.audioContext.createMediaStreamSource(e),this.analyser=this.audioContext.createAnalyser(),this.timeDomainData=new Uint8Array(this.analyser.frequencyBinCount),this.sourceNode.connect(this.analyser),this.getAudioLevel=function(){if(this.analyser){this.analyser.getByteTimeDomainData(this.timeDomainData);for(var e=0,t=0;t<this.timeDomainData.length;t++)e=Math.max(e,Math.abs(this.timeDomainData[t]-128));return e/128}return o.default.warning("can't find analyser in audioLevelHelper"),0},this},m=1e4;function v(){return++m}function g(){return c()().replace(/-/g,"").toUpperCase()}var y=function(e,t,n){try{o.default.debug("start vsResHack",e);var r=document.createElement("video");r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.muted=!0,r.setAttribute("playsinline",""),r.setAttribute("style","position: absolute; top: 0; left: 0; width:1px; high:1px;"),document.body.appendChild(r);var i=!1;r.addEventListener("playing",(function(n){a.isFireFox()?r.videoWidth&&(i=!0,o.default.debug("[vsResHack] get stream resolution: ","".concat(r.videoWidth," x ").concat(r.videoHeight),e),t(r.videoWidth,r.videoHeight),r.srcObject=null,r.remove()):(i=!0,o.default.debug("[vsResHack] get stream resolution: ","".concat(r.videoWidth," x ").concat(r.videoHeight),e),t(r.videoWidth,r.videoHeight),r.srcObject=null,r.remove())})),Object(u.setSrcObject)(r,e),r.play().catch((function(){})),setTimeout((function(){!i&&r&&(t(r.videoWidth,r.videoHeight),r.srcObject=null,r.remove())}),4e3)}catch(e){n(e)}},b=function(e){return"number"==typeof e&&0<=e&&e<=4294967295},_=function(e){var t=["lowLatency","userConfigExtraInfo","transcodingUsers"];for(var n in e)if("lowLatency"===n&&"boolean"!=typeof e[n]||"userConfigExtraInfo"===n&&"object"!==i()(e[n])||"transcodingUsers"===n&&!x(e[n])||!~t.indexOf(n)&&"number"!=typeof e[n])throw new Error("Param ["+n+"] is inValid");return!0},x=function(e){for(var t=0;t<e.length;t++)for(var n in e[t])if("number"!=typeof e[t][n])throw new Error("Param user["+t+"] - ["+n+"] is inValid");return!0},w=function(e){isNaN(e)&&(e=1e3);var t=+new Date,n=(t=(9301*t+49297)%233280)/233280;return Math.ceil(n*e)},S=function(e){var t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)},E=function(e,t){var n=1/t,r=Object(l.a)(),i=r.createGain();i.gain.value=0,i.connect(r.destination);var a=!1;return function t(){var o=r.createOscillator();o.onended=t,o.connect(i),o.start(0),o.stop(r.currentTime+n),e(r.currentTime),a&&(o.onended=function(){})}(),function(){a=!0}},k=function(){if(!document.getElementById("agora-ban-tip")){var e=document.createElement("div");e.id="agora-ban-tip",e.style="position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; color: #fff;",document.querySelector("body").prepend(e);var t=document.createElement("div");t.style="background: #000; width: 346px; height: 116px; z-index: 100000; opacity: 0.6; border-radius: 10px; box-shadow: 0 2px 4px #000;",e.append(t);var n=document.createElement("div");n.style="height: 76px; display: flex; justify-content: center; align-items: center;";var r=document.createElement("span");r.style="height: 28px; width: 28px; color: #000; text-align: center; line-height: 30px; background: #fff; border-radius: 50%; font-weight: 600; font-size: 20px;margin-right: 5px;",r.innerText="!";var i=document.createElement("span");i.innerText="This browser does not support webRTC",n.append(r),n.append(i);var a=document.createElement("div");a.style="height: 38px; display: flex; border-top: #fff 1px solid; justify-content: center; align-items: center;",a.innerText="OK",t.append(n),t.append(a),a.onclick=function(){var e=document.getElementById("agora-ban-tip");e.parentNode.removeChild(e)}}}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){e.exports=n(64)},function(t,n,r){"use strict";var i=r(12),a=r.n(i),o=r(17),s=r.n(o),c=r(11),l=r.n(c),u=r(32),d=r.n(u),f=r(7),h=r.n(f),p=r(22),m=r(8),v=function(e){e&&e.apply(this,[].slice.call(arguments,1))},g=r(0),y=r(1),b=r(10),_=r(14),x=r(2),w=function(e){var t=Object(m.b)(e);t.needReconnect=!0,t.isTimeout=!1,t.isInit=!0,t.sendbytes=0,t.recvbytes=0,t.startTime=Date.now(),t.lastMsgTime=null,t.clientId=e.clientId,t.hostIndex=0,t.requestID=0,e.host instanceof Array?t.host=e.host:t.host=[e.host],t.getSendBytes=function(){return t.sendbytes},t.getRecvBytes=function(){return t.recvbytes},t.getDuration=function(){return Math.ceil((Date.now()-t.startTime)/1e3)},t.getURL=function(){return t.connection.url},t.reconnect=function(){t.isInit=!0,t.creatConnection()},t.connectNext=function(){t.isInit=!0,++t.hostIndex,g.default.debug("["+t.clientId+"] Gateway length:"+t.host.length+" current index:"+t.hostIndex),t.hostIndex>=t.host.length?t.dispatchEvent(Object(m.d)({type:"recover"})):t.creatConnection()},t.replaceHost=function(e){t.host=e||t.host,t.hostIndex=0,t.creatConnection()},t.creatConnection=function(){t.needReconnect=!0,t.lts=(new Date).getTime(),t.connection=new WebSocket("wss://"+t.host[t.hostIndex]),t.connection.binaryType="arraybuffer",t.turnConfig={};var n=e.proxyServerType;if(t.connection.url&&3!==n&&4!==n&&5!==n){var r=t.connection.url.match(/wss\:\/\/([^:]+):(\d+)/),i=t.host[t.hostIndex].split(":"),a=t.connection.url.match(/h=([^:]+)&p=(\d+)/);r?(t.turnConfig.url=r[1],Object(x.getParameter)("TURN_ENABLE_TCP")&&(t.turnConfig.tcpport=parseInt(r[2])+30),Object(x.getParameter)("TURN_ENABLE_UDP")&&(t.turnConfig.udpport=parseInt(r[2])+30)):a?(t.turnConfig.url=a[1],Object(x.getParameter)("TURN_ENABLE_TCP")&&(t.turnConfig.tcpport=parseInt(a[2])+30),Object(x.getParameter)("TURN_ENABLE_UDP")&&(t.turnConfig.udpport=parseInt(a[2])+30)):i&&(t.turnConfig.url=i[0],Object(x.getParameter)("TURN_ENABLE_TCP")&&(t.turnConfig.tcpport=parseInt(i[1])+30),Object(x.getParameter)("TURN_ENABLE_UDP")&&(t.turnConfig.udpport=parseInt(i[1])+30))}t.connection.onopen=function(e){t.needReconnect=!0,t.isTimeout=!1,t.isInit=!1,t.sendbytes=0,t.recvbytes=0,t.startTime=Date.now(),Object(_.resetHTTPByetsCount)(),clearTimeout(t.timeoutCheck),t.dispatchEvent(Object(m.d)({type:"onopen",event:e,socket:t}))},t.connection.onmessage=function(e){if(e.data instanceof ArrayBuffer)t.dispatchEvent({type:"onBinaryData",data:e.data});else{t.recvbytes+=Object(b.lengthInUtf8Bytes)(e.data);var n=JSON.parse(e.data);t.lastMsgTime=Date.now(),n.hasOwnProperty("_id")?t.dispatchEvent(Object(m.d)({type:n._id,msg:n})):n.hasOwnProperty("_type")&&t.dispatchSocketEvent(Object(m.d)({type:n._type,msg:n._message}))}},t.connection.onclose=function(n){t.needReconnect?t.isTimeout||t.isInit?(g.default.debug("["+t.clientId+"] websockect connect timeout"),y.report.joinGateway(e.sid,{lts:t.lts,succ:!1,ec:"timeout",addr:t.connection.url}),t.connectNext()):(t.dispatchEvent(Object(m.d)({type:"disconnect",event:n})),t.requests&&t.requests instanceof Array&&(t.requests.map((function(e){e.callback("REQUEST_ABORT")})),t.requests=[])):(g.default.debug("["+t.clientId+"] websockect closeed"),v(e.onFailure,n),clearTimeout(t.timeoutCheck),t.dispatchEvent(Object(m.d)({type:"close",event:n})),t.connection.onopen=void 0,t.connection.onclose=void 0,t.connection.onerror=void 0,t.connection.onmessage=void 0,t.connection=void 0)},t.connection.onerror=function(e){},setTimeout((function(){t.connection&&t.connection.readyState!=WebSocket.OPEN&&(t.isTimeout=!0,t.connection.close())}),5e3)},t.creatConnection(),t.sendMessage=function(e,n){if(t.connection&&t.connection.readyState==WebSocket.OPEN){var r=JSON.stringify(e);t.sendbytes+=Object(b.lengthInUtf8Bytes)(r),t.connection.send(r)}else n({error:"Gateway not connected"})},t.disconnect=function(){t.needReconnect=!0,t.connection.close()},t.close=function(){t.needReconnect=!1,t.connection.onclose=void 0,t.connection.close(),clearInterval(t.requestTimer),t.requests&&t.requests instanceof Array&&(t.requests.map((function(e){e.callback("REQUEST_ABORT")})),t.requests=[])},t.sendSignalCommand=function(e,n){e._id="_request_"+t.requestID,t.requestID+=1,"publish_stats"!==e._type&&"subscribe_stats"!==e._type&&"publish_stats_low"!==e._type&&t.on(e._id,(function(r){r.msg&&n&&n(r.msg._result,r.msg.message),delete t.dispatcher.eventListeners[e._id]})),t.sendMessage(e,(function(e){e.reason="NOT_CONNECTED",n&&n(e.reason,e)}))},t.requests=[];var n=function(e){var n=t.requests.findIndex((function(t){return t.id===e.type}));if(n>=0)var r=t.requests.splice(n,1)[0];r&&t.dispatcher.eventListeners[e.type]?(delete t.dispatcher.eventListeners[e.type],e.msg&&r.callback&&r.callback(e.msg._result,e.msg._message)):g.default.warning("Detached Response",e.type,e.msg)},r=function(e){var n=this,r=t.requests.findIndex((function(e){return e.id===n.id}));r>=0&&(n=t.requests.splice(r,1)[0]),n&&t.dispatcher.eventListeners[e.type]?(delete t.dispatcher.eventListeners[e.type],e.reason="NOT_CONNECTED",n.callback&&n.callback(e.reason,e)):g.default.warning("handleSendError",n)};return t.sendRequest=function(e,i){e=h()({_id:"_request_"+t.requestID},e),t.requestID+=1;var a={id:e._id,timeoutCounter:0,stalledAt:Date.now(),message:e,callback:i};t.requests.push(a),t.addEventListener(e._id,n),t.sendMessage(e,r.bind(a))},t.checkRequestTimeout=function(){for(var e=Math.ceil(Object(x.getParameter)("SIGNAL_REQUEST_TIMEOUT")/Object(x.getParameter)("SIGNAL_REQUEST_WATCH_INTERVAL")),n=t.requests.length-1;n>=0;n--){var r=t.requests[n];r.timeoutCounter>=e?(t.requests.splice(n,1),g.default.error("Request Timeout",r.timeoutCounter,r.message),r.callback&&r.callback("TIMEOUT")):r.timeoutCounter++}},clearInterval(t.requestTimer),t.requestTimer=setInterval(t.checkRequestTimeout,Object(x.getParameter)("SIGNAL_REQUEST_WATCH_INTERVAL")),t.sendReport=function(e){t.sendMessage(e,(function(){}))},t},S=function(e,t){var n={connect:function(){t.host=e,n.signal=w(t),n.on=n.signal.on,n.dispatchEvent=n.signal.dispatchEvent,n.signal.on("onopen",(function(e){n.signal.onEvent=function(e){n.dispatchEvent(Object(m.d)({type:e.event,msg:e}))},n.dispatchEvent(Object(m.d)({type:"connect",msg:e}))})),n.signal.on("onError",(function(e){var t=e.msg;onError(t.code,"error")}))},getLastMsgTime:function(){return n.signal&&n.signal.lastMsgTime},getSendBytes:function(){return n.signal.getSendBytes()},getRecvBytes:function(){return n.signal.getRecvBytes()},getDuration:function(){return n.signal.getDuration()},disconnect:function(){n.signal.disconnect()},close:function(){n.signal.close()},getURL:function(){return n.signal.getURL()},reconnect:function(){n.signal.reconnect()},connectNext:function(){n.signal.connectNext()},replaceHost:function(e){n.signal.replaceHost(e)},emitSimpleMessage:function(e,t){n.signal.sendSignalCommand(e,t)},emitRequest:function(e,t){n.signal.sendRequest(e,t)},emitReport:function(e){n.signal.sendReport(e)}};return n.connect(),n},E=r(23),k=r(5),N=r(20),j=r(4),T={ERR_NO_VOCS_AVAILABLE:"tryNext",ERR_NO_VOS_AVAILABLE:"tryNext",ERR_JOIN_CHANNEL_TIMEOUT:"tryNext",WARN_REPEAT_JOIN:"quit",ERR_JOIN_BY_MULTI_IP:"recover",WARN_LOOKUP_CHANNEL_TIMEOUT:"tryNext",WARN_OPEN_CHANNEL_TIMEOUT:"tryNext",ERR_VOM_SERVICE_UNAVAILABLE:"tryNext",ERR_TOO_MANY_USERS:"tryNext",ERR_MASTER_VOCS_UNAVAILABLE:"tryNext",ERR_INTERNAL_ERROR:"tryNext",K_SERVICE_NOT_READY:"tryNext",K_SERVICE_TOO_HEAVY:"tryNext",notification_test_recover:"recover",notification_test_tryNext:"tryNext",notification_test_retry:"retry"},I={googActualEncBitrate:"A_aeb",googAvailableSendBandwidth:"A_asb",googRetransmitBitrate:"A_rb",googAvailableReceiveBandwidth:"A_arb",googTargetEncBitrate:"A_teb",googBucketDelay:"A_bd",googTransmitBitrate:"A_tb",googCodecName:"A_cn",bytesSent:"bytesSent",packetsLost:"packetsLost",packetsSent:"packetsSent",googAdaptationChanges:"A_ac",googAvgEncodeMs:"A_aem",googEncodeUsagePercent:"A_eup",googFirsReceived:"A_fr",googFrameHeightInput:"A_fhi",googFrameHeightSent:"A_fhs",googFrameRateInput:"A_fri",googFrameRateSent:"A_frs",googFrameWidthInput:"A_fwi",googFrameWidthSent:"A_fws",googNacksReceived:"A_nr",googPlisReceived:"A_pr",googRtt:"A_rtt",aecDivergentFilterFraction:"A_adff",audioInputLevel:"A_ail",googEchoCancellationReturnLoss:"A_ecrl",googEchoCancellationReturnLossEnhancement:"A_ecrle",googResidualEchoLikelihood:"A_rel",googResidualEchoLikelihoodRecentMax:"A_relrm",googTargetDelayMs:"A_tdm",bytesReceived:"bytesReceived",packetsReceived:"packetsReceived",googDecodeMs:"A_dm",googMaxDecodeMs:"A_mdm",googRenderDelayMs:"A_rdm",googFrameWidthReceived:"A_fwr",googFrameHeightReceived:"A_fhr",googFrameRateReceived:"A_frr",googFrameRateDecoded:"A_frd",googFrameRateOutput:"A_fro",googJitterBufferMs:"A_jbm",googCurrentDelayMs:"A_cdm",googMinPlayoutDelayMs:"A_mpdm",googNacksSent:"A_ns",googPlisSent:"A_ps",googFirsSent:"A_fs",audioOutputLevel:"A_aol",googAccelerateRate:"A_ar",googDecodingCNG:"A_dcng",googDecodingCTN:"A_dctn",googDecodingCTSG:"A_dctsg",googDecodingNormal:"A_dn",googDecodingPLC:"A_dplc",googDecodingPLCCNG:"A_dplccng",googExpandRate:"A_er",googJitterReceived:"A_jr",googPreemptiveExpandRate:"A_per",googPreferredJitterBufferMs:"A_pjbm",googSecondaryDecodedRate:"A_sdr",googSpeechExpandRate:"A_ser",uplink_fraction_lost:"B_ufl",uplink_cumulative_lost:"B_ucl",uplink_available_bandwidth:"B_uab",period_fir:"B_fir",access_delay:"B_acd",uplink_network_quality:"B_unq",downlink_network_quality:"B_dnq",pub_audio_lost_ratio_400ms:"B_palr4",pub_video_lost_ratio_400ms:"B_pvlr4",e2e_delay:"B_ed",audio_delay:"B_ad",video_delay:"B_vd",stream_type:"B_st",e2e_audio_lost_ratio_400ms:"B_ealr4",e2e_video_lost_ratio_400ms:"B_evlr4",downlink_estimate_bandwidth:"B_deb",peer_publish_audio_duration:"B_ppad",peer_publish_video_duration:"B_ppvd"},C={};for(var R in I){var O=I[R];C[O]&&g.default.error("Key Conflict: ".concat(O,": ").concat(I[O],"| ").concat(R)),C[O]=R}var A=function(e){return I[e]||e},P=function(e){return C[e]||e},L=r(9),D=r.n(L),M=r(54),U=function t(n){var r=!1,i=function(e){return{_type:"control",_message:e}},o=function(e,t){var n={};return Object.keys(t).forEach((function(e){Object(x.getParameter)("STATS_FILTER")[e]||(n[A(e)]=t[e])})),{_type:"subscribe_related_stats",_message:{stream_type:"high",stream_id:e,stats:n}}},c=function(e){return{_type:"publish",_message:e}},u=function(e,t){var n={};return Object.keys(t).forEach((function(e){Object(x.getParameter)("STATS_FILTER")[e]||(n[A(e)]=t[e])})),{_type:"subscribe_stats",_message:{stream_id:e,stats:n}}},f=t.DISCONNECTED,_=t.CONNECTING,w=t.CONNECTED,I=t.DISCONNECTING,C=f,R=Object(m.b)(n);Object.defineProperty(R,"state",{set:function(e){var n=C;C=e,Object(N._setClientConnectionStateRecord)(R.clientId,e),e!==t.CONNECTED&&e!==t.DISCONNECTING&&(R.hasJoined=!1),n!==e&&R.dispatchEvent({type:"connection-state-change",prevState:t.connetionStateMap[n],curState:t.connetionStateMap[e]})},get:function(){return C}}),R.socket=void 0,R.state=f,R.mode=n.mode,R.role=n.role,R.codec=n.codec,R.config={},R.timers={},R.timer_counter={},R.localStreams={},R.remoteStreams={},R.remoteMuteState={},R.attemps=1,R.p2p_attemps=1,R.audioLevel={},R.activeSpeaker=void 0,R.reconnectMode="tryNext",R.rejoinAttempt=0,R.hasChangeBGPAddress=!1,R.traffic_stats={},R.clientId=n.clientId,R.pingpongCounter=0,R.hasInvokeLeave=!1,R.p2ps=new Map,R.liveStreams=new Map,R.injectLiveStreams=new Map,R.remoteStreamsInChannel=new Set,R.subscribeRequestId=new Map,R.publishRequestId=0,R.hasJoined=!1,R.isFirstSuccess=!0,R.peerPublishDurationMap=new Map,function(e){var t=v;e.makeRequest=function(n,r,i){if(void 0===e.socket)return g.default.debug("[".concat(e.clientId,"] No socket available")),void t(i,k.default.INVALID_OPERATION);try{e.socket.emitRequest(n,(function(e,t){var n;"success"===e?"function"==typeof r&&r(t):"function"==typeof i&&(n=t&&t.error_code&&k.GatewayErrorCode[t.error_code]?k.GatewayErrorCode[t.error_code]:t&&t.error_str?t.error_str:t&&t.error_code?"UNKNOW_ERROR_".concat(t.error_code):e,i(n,t))}))}catch(r){g.default.debug("[".concat(e.clientId,"] Socket emit message failed ").concat(JSON.stringify(n))),g.default.debug("[".concat(e.clientId,"] "),r),t(i,k.default.SOCKET_ERROR)}},e.makeReport=function(t){void 0===e.socket&&g.default.debug("[".concat(e.clientId,"] No socket available"));try{e.socket.emitReport(t)}catch(n){g.default.debug("[".concat(e.clientId,"] Socket emit report failed ").concat(JSON.stringify(t)))}}}(R),R.inChannelInfo={joinAt:null,duration:0},R._sendMessage=function(e,t){switch(e){case"SubscribeStats":R.makeReport(u.apply(void 0,d()(t)));break;case"SubscribeRelatedStats":R.makeReport(o.apply(void 0,d()(t)))}};var O=v;R.p2pCounter=Object(b.random)(1e5),R.generateP2PId=function(){return++R.p2pCounter},R.audioVolumeIndication={enabled:!1,sortedAudioVolumes:[],smooth:3,interval:2e3},R.remoteVideoStreamTypes={REMOTE_VIDEO_STREAM_HIGH:0,REMOTE_VIDEO_STREAM_LOW:1,REMOTE_VIDEO_STREAM_MEDIUM:2},R.streamFallbackTypes={STREAM_FALLBACK_OPTION_DISABLED:0,STREAM_FALLBACK_OPTION_VIDEO_STREAM_LOW:1,STREAM_FALLBACK_OPTION_AUDIO_ONLY:2},R.configPublisher=function(e){R.config=e},R.getGatewayInfo=function(e,t){R.makeRequest({_type:"gateway_info"},e,t)},R.setClientRole=function(e,t){g.default.debug("[".concat(R.clientId,"] setClientRole to ").concat(e));var n=y.report.reportApiInvoke(R.joinInfo.sid,{name:"_setClientRole",callback:t});R.makeRequest({_type:"set_client_role",_message:{role:e}},(function(){R.role=e,R.dispatchEvent({type:"client-role-changed",role:e}),n&&n(null,{role:e})}),(function(t,r){if(r&&r.code&&(t=k.GatewayErrorCode[r.code]||"UNKNOW_ERROR_"+r.code),"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE"===t)return n&&n(null);g.default.error("set Client role error to "+e+": "+t),n&&n(t)}))},R.join=function(e,t,r,i){R.hasInvokeLeave=!1,e.useProxyServer&&(R.hasChangeBGPAddress=!0);var a=(new Date).getTime(),o=e.uid;if(R.inChannelInfo.joinAt&&(R.inChannelInfo.duration+=a-R.inChannelInfo.joinAt),R.inChannelInfo.joinAt=a,R.state!==_)return g.default.error("[".concat(R.clientId,"] GatewayClient.join Failed: state "),R.state),i&&i(k.default.INVALID_OPERATION),void y.report.joinGateway(e.sid,{lts:a,succ:!1,ec:k.default.INVALID_OPERATION,addr:null});if(null!=o&&parseInt(o)!==o)return g.default.error("[".concat(R.clientId,"] Input uid is invalid")),R.state=f,i&&i(k.default.INVALID_PARAMETER),void y.report.joinGateway(e.sid,{lts:a,succ:!1,ec:k.default.INVALID_PARAMETER,addr:null});var s=F.register(R,{uid:o,cname:e&&e.cname});if(s)return R.state=f,i&&i(s),void y.report.joinGateway(e.sid,{lts:a,succ:!1,ec:s,addr:null});R.joinInfo=h()({},e),R.uid=o,R.key=t,R.pingpongCounter=0,z(e,(function(t){if(e.useLocalAccessPoint)try{var s=R.socket.signal.connection.url.match(/wss\:\/\/([^:]+):(\d+)/)[1];Object(x.setParameter)("EVENT_REPORT_DOMAIN",s),Object(x.setParameter)("EVENT_REPORT_BACKUP_DOMAIN",s),Object(x.setParameter)("LOG_UPLOAD_SERVER","".concat(s,":6444"))}catch(e){g.default.debug("[".concat(R.clientId,"] LocalAccessPoint error: ").concat(e))}if(R.state===I||R.state===f)return i&&i("LEAVE_BEFORE_JOIN_SUCCESS");R.state=w,g.default.debug("[".concat(R.clientId,"] Connected to gateway server")),clearInterval(R.pingTimer),R.pingTimer=setInterval((function(){var e=Object(x.getParameter)("PING_PONG_TIME_OUT");if(++R.pingpongCounter>=e){var t=Date.now();R.socket&&g.default.warning("PINGPONG Timeout. Last Socket Message: ".concat(t-R.socket.getLastMsgTime(),"ms")),R.socket&&R.socket.getLastMsgTime()&&t-R.socket.getLastMsgTime()>Object(x.getParameter)("WEBSOCKET_TIMEOUT_MIN")&&(R.pingpongCounter=0,R.socket.close(),R.socket.dispatchEvent(Object(m.d)({type:"disconnect",event:{msg:"PING_PONG_TIME_OUT"}})))}var n=Date.now();R.makeRequest({_type:"ping"},(function(){R.pingpongCounter=0;var e=Date.now()-n;Object(x.getParameter)("REPORT_STATS")&&R.makeRequest({_type:"ping_back",_message:{pingpongElapse:e}})}),(function(e,t){"TIMEOUT"!==e&&(g.default.error("Ping Error ".concat(e," ").concat(JSON.stringify(t))),t&&t.error_code&&R.socket&&R.socket.signal&&R.socket.signal.connection&&R.socket.signal.connection.readyState===WebSocket.OPEN&&(g.default.info("Disconnecting websocket connection"),R.socket.signal.connection.close()))}))}),3e3),function(e,t){var r=e.role,i=h()({},R.joinInfo.apResponse),a={session_id:R.joinInfo.sid,app_id:n.appId,channel_key:R.key,channel_name:R.joinInfo.cname,sdk_version:x.VERSION,browser:navigator.userAgent,process_id:Object(y.getProcessId)(),mode:R.mode,codec:R.codec,role:r,has_changed_gateway:Object(x.getParameter)("FORCE_CHANGED_GATEWAY_FLAG")||R.hasChangeBGPAddress,ap_response:i,optionalInfo:R.joinInfo.optionalInfo,extend:Object(x.getParameter)("JOIN_EXTEND"),details:{}};if(R.joinInfo.hasOwnProperty("stringUid")&&(a.string_uid=R.joinInfo.stringUid),R.socket&&R.socket.signal&&R.socket.signal&&(i.addresses&&i.addresses[R.socket.signal.hostIndex]&&(a.ap_response.ticket=i.addresses[R.socket.signal.hostIndex].ticket,delete i.addresses),Object(x.getParameter)("SET_DEFAULT_TURNSERVER")&&R.socket.signal.turnConfig)){var o={username:R.joinInfo.uid.toString(),credential:R.joinInfo.token,forceturn:Object(x.getParameter)("FORCE_TURN")};o.url=R.socket.signal.turnConfig.url,R.socket.signal.turnConfig.tcpport&&(o.tcpport=""+R.socket.signal.turnConfig.tcpport),R.socket.signal.turnConfig.udpport&&(o.udpport=""+R.socket.signal.turnConfig.udpport),R.joinInfo.turnServers.find((function(e){if(e.url===o.url)return!0}))||R.joinInfo.turnServers.push(o)}3===R.joinInfo.proxyServerType&&(a.plugin="web_cloud_proxy",a.details.cservice_map="1"),R.joinInfo.aesmode&&R.joinInfo.aespassword?(a.aes_mode=R.joinInfo.aesmode,a.aes_encrypt=!0,R.joinInfo.aes_salt&&(a.aes_salt=R.joinInfo.aes_salt),Object(M.encryptRSA)(R.joinInfo.aespassword).then((function(e){a.aes_secret=e,R.dispatchEvent({type:"join-message-hook",joinMessage:a}),t(null,{_type:"join",_message:a})})).catch((function(e){g.default.error("[".concat(R.clientId,"] encrypt password failed "),e),t("ENCRYPT_PASSWORD_FAILED")}))):(R.dispatchEvent({type:"join-message-hook",joinMessage:a}),t(null,{_type:"join",_message:a}))}({role:R.role},(function(t,n){if(t)return i&&i(t);R.makeRequest(n,(function(t){if(y.report.joinGateway(e.sid,{lts:a,succ:!0,ec:null,vid:e.vid,uid:e.uid,addr:R.socket.getURL(),firstSuccess:R.isFirstSuccess}),R.joinSuccessLts=Date.now(),R.isFirstSuccess=!1,R.rejoinAttempt=0,R.hasJoined=!0,r&&r(t.uid),!0===t.return_vosip||!0===Object(x.getParameter)("ENABLE_LIVE_SERVER_LIST")){var n=null;try{n=R.socket.signal.connection.url}catch(e){g.default.debug("[".concat(R.clientId,"] Can not get gateway ip: ").concat(e))}n?Object(x.setParameter)("LIVE_SERVER_LIST",[n]):Object(x.setParameter)("LIVE_SERVER_LIST",[])}R.dispatchEvent({type:"join"}),clearInterval(R.timers.trafficStats),R.timers.trafficStats=setInterval((function(){R.makeRequest({_type:"traffic_stats"},(function(e){var t={};for(var n in e)t[P(n)]=e[n];if(t.peer_delay&&t.peer_delay.length){var r=[];t.peer_delay.forEach((function(e){var t={};for(var n in e)t[P(n)]=e[n];r.push(t)})),t.peer_delay=r}R.traffic_stats=t,R.traffic_stats.timestamp=Date.now();var i=R.joinInfo.stringUid,a=R.localStreams[o]||R.localStreams[i];a&&(a.traffic_stats={access_delay:t.access_delay}),t.peer_delay&&t.peer_delay.forEach((function(e){var n=R.remoteStreams[e.peer_uid];n&&(n.traffic_stats={access_delay:t.access_delay,e2e_delay:e.e2e_delay,audio_delay:e.audio_delay,video_delay:e.video_delay})})),R.dispatchEvent({type:"after-getTrafficStats",trafficStats:t})}))}),3e3)}),(function(t,n){if(g.default.error("[".concat(R.clientId,"] User join failed [").concat(t,"]")),"ERR_JOIN_BY_MULTI_IP"===t){try{y.report.joinGateway(e.sid,{lts:a,succ:!1,ec:"ERR_JOIN_BY_MULTI_IP",addr:R.socket.getURL()})}catch(e){}return R.dispatchEvent({type:"onMultiIP",option:n.option})}T[t]&&R.rejoinAttempt<4?R._doWithAction(T[t],r,i):i&&i(t),y.report.joinGateway(e.sid,{lts:a,succ:!1,ec:t,addr:R.socket&&R.socket.getURL()})}))}))}),(function(t){g.default.error("[".concat(R.clientId,"] User join failed [").concat(t,"]")),i&&i(t),y.report.joinGateway(e.sid,{lts:a,succ:!1,ec:t,addr:R.socket.getURL()})})),this.remoteMuteState={},R.resetAudioVolumeIndication()},R.leave=function(e,t){var n=F.unregister(R);switch(n&&g.default.debug("[".concat(R.clientId,"] "),n),R.p2ps.clear(),R.state){case f:return g.default.debug("[".concat(R.clientId,"] Client Already in DISCONNECTED status")),void O(e);case I:return g.default.debug("[".concat(R.clientId,"] Client Already in DISCONNECTING status")),void O(t,k.default.INVALID_OPERATION);case _:return R.socket&&R.socket.close(),R.socket=void 0,g.default.info("[".concat(R.clientId,"] Client connecting, Leave channel success")),R.state=f,e&&e()}for(var r in R.state=I,R.channelMediaConfig&&(R.channelMediaRelayController&&R.channelMediaRelayController.dispose(),R.channelMediaConfig,R.channelMediaRelayController=null),clearInterval(R.pingTimer),R.timers)R.timers.hasOwnProperty(r)&&clearInterval(R.timers[r]);for(var r in R.inChannelInfo.joinAt&&(R.inChannelInfo.duration+=Date.now()-R.inChannelInfo.joinAt,R.inChannelInfo.joinAt=null),R.hasJoined?R.makeRequest({_type:"leave"},(function(t){R.socket.close(),R.socket=void 0,g.default.info("[".concat(R.clientId,"] Leave channel success")),R.state=f,e&&e(t)}),(function(e){"TIMEOUT"!==e&&"REQUEST_ABORT"!==e&&(g.default.error("[".concat(R.clientId,"] Leave Channel Failed"),e),R.state=w,t&&t(e))})):(R.socket&&(R.socket.close(),R.socket=void 0),g.default.info("[".concat(R.clientId,"] Leave channel before joined")),R.state=f,e&&e()),R.localStreams)if(R.localStreams.hasOwnProperty(r)){var i=R.localStreams[r];delete R.localStreams[r],void 0!==i.pc&&(i.pc.close(),i.pc=void 0)}q()},R.publish=function(e,t,n,r){var a=(new Date).getTime(),o=!1;if(e.publishLTS=a,"object"!==l()(e)||null===e)return g.default.error("[".concat(R.clientId,"] Invalid local stream")),r&&r(k.default.INVALID_LOCAL_STREAM),void y.report.publish(R.joinInfo.sid,{lts:a,succ:!1,audio:!1,video:!1,screenshare:!1,audioName:"",videoName:"",screenName:"",ec:k.default.INVALID_LOCAL_STREAM});if(!e.stream&&void 0===e.url)return g.default.error("[".concat(R.clientId,"] Invalid local media stream")),r&&r(k.default.INVALID_LOCAL_STREAM),void y.report.publish(R.joinInfo.sid,{lts:a,succ:!1,audio:!1,video:!1,screenshare:!1,audioName:"",videoName:"",screenName:"",ec:k.default.INVALID_LOCAL_STREAM});if(R.state!==w)return g.default.error("[".concat(R.clientId,"] User is not in the session")),r&&r(k.default.INVALID_OPERATION),void y.report.publish(R.joinInfo.sid,{lts:a,succ:!1,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:k.default.INVALID_OPERATION});var s=e.getAttributes()||{};if(e.local&&void 0===R.localStreams[e.getId()]&&(e.hasAudio()||e.hasVideo()||e.hasScreen())){var u=R.generateP2PId();if(R.p2ps.set(u,e),e.p2pId=u,void 0!==e.url)W(c({state:"url",audio:e.hasAudio(),video:e.hasVideo(),attributes:e.getAttributes()},e.url),(function(t,n){"success"===t?(e.getUserId()!==n&&e.setUserId(n),R.localStreams[n]=e,e.onClose=function(){R.unpublish(e)}):g.default.error("[".concat(R.clientId,"] Publish local stream failed"),t)}));else{R.localStreams[e.getId()]=e,e.connectionSpec={callback:function(s){s||r&&r("CANNOT_GET_OFFER"),"motion"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-framerate"),"detail"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-resolution"),R.makeRequest(c({state:"offer",stream_type:1==t.streamType?"low":"high",p2p_id:u,sdp:s,audio:e.audio||e.screenAudio,video:e.screen||e.video,screen:e.screen,attributes:e.getAttributes(),dtx:e.DTX,hq:e.highQuality,lq:e.lowQuality,stereo:e.stereo,speech:e.speech,codec:R.codec,extend:Object(x.getParameter)("PUB_EXTEND")}),(function(t){e.getUserId()!==t.uid&&e.setUserId(t.uid),g.default.info("[".concat(R.clientId,"] Local stream published with uid"),t.uid),e.onClose=function(){R.unpublish(e)},e._onAudioUnmute=function(){R.makeReport(i({action:"unmute_local_audio",stream_id:e.getId()}))},e._onVideoUnmute=function(){R.makeReport(i({action:"unmute_local_video",stream_id:e.getId()}))},e._onAudioMute=function(){R.makeReport(i({action:"mute_local_audio",stream_id:e.getId()}))},e._onVideoMute=function(){R.makeReport(i({action:"mute_local_video",stream_id:e.getId()}))},e.getId()===e.getUserId()&&(e.isAudioOn()||e.hasAudio()&&(g.default.debug("[".concat(R.clientId,"] local stream audio mute")),e._onAudioMute()),e.isVideoOn()||(e.hasVideo()||e.hasScreen())&&(g.default.debug("[".concat(R.clientId,"] local stream video mute")),e._onVideoMute())),e.pc.oniceconnectionstatechange=function(t){if("failed"===t){if(null!=R.timers[e.getId()]&&(clearInterval(R.timers[e.getId()]),clearInterval(R.timers[e.getId()]+"_RelatedStats")),g.default.error("[".concat(R.clientId,"] Publisher connection is lost -- streamId: ").concat(e.getId(),", p2pId: ").concat(u)),R.p2ps.delete(u),g.default.debug("[".concat(R.clientId,"] publish p2p failed: "),R.p2ps),!o)return o=!0,y.report.publish(R.joinInfo.sid,{lts:a,succ:!1,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:k.default.PEERCONNECTION_FAILED,publishRequestid:R.publishRequestId||0,p2pid:u}),R.dispatchEvent(Object(m.a)({type:"pubP2PLost",stream:e})),r&&r(k.default.PEERCONNECTION_FAILED);R.dispatchEvent(Object(m.a)({type:"pubP2PLost",stream:e}))}else if("connected"===t&&(g.default.debug("[".concat(R.clientId,"] publish p2p connected: "),R.p2ps),e.getId()===e.getUserId()&&(e._isAudioMuted()?R.makeReport(i({action:"mute_local_audio",stream_id:e.getId()})):R.makeReport(i({action:"unmute_local_audio",stream_id:e.getId()})),e._isVideoMuted()?R.makeReport(i({action:"mute_local_video",stream_id:e.getId()})):R.makeReport(i({action:"unmute_local_video",stream_id:e.getId()}))),!o))return o=!0,y.report.publish(R.joinInfo.sid,{lts:a,succ:!0,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:null,publishRequestid:R.publishRequestId||0,p2pid:u}),n&&n()},e.pc.processSignalingMessage(t.sdp)}),(function(t,n){g.default.error("Publish Failed: ".concat(t)),y.report.publish(R.joinInfo.sid,{lts:a,succ:!1,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:t,publishRequestid:R.publishRequestId||0,p2pid:u}),"TIMEOUT"!=t&&(R.processPublishFailure(e),r&&r(t))}))},audio:e.hasAudio(),video:e.hasVideo(),screen:e.hasScreen(),optimizationMode:e.optimizationMode,isSubscriber:!1,stunServerUrl:R.stunServerUrl,turnServers:R.joinInfo.turnServers,maxAudioBW:s.maxAudioBW,minVideoBW:s.minVideoBW,maxVideoBW:s.maxVideoBW,mode:R.mode,codec:R.codec,isVideoMute:e.userMuteVideo||e.peerMuteVideo,isAudioMute:e.userMuteAudio||e.peerMuteAudio,maxFrameRate:e.attributes.maxFrameRate,agoraStream:e,clientId:R.clientId,isCloudProxy3:3===R.joinInfo.proxyServerType,onNoIceCandidate:function(){R.dispatchEvent({type:"no_ice_candidate",stream:e})}},e.pc=Object(E.a)(e.connectionSpec),e.pc.addStream(e.stream),g.default.debug("[".concat(R.clientId,"] PeerConnection add stream :"),e.stream),e.pc.onnegotiationneeded=function(n){"motion"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-framerate"),"detail"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-resolution");var r={state:"negotiation",stream_type:1===t.streamType?"low":"high",p2p_id:u,sdp:n};R.makeRequest(c(r),(function(t){g.default.debug("Negotating Stream ".concat(e.getId())),e.pc.processSignalingMessage(t.sdp)}),(function(e,t){g.default.error("Negotiation failed ".concat(e),t,r)}))},clearInterval(R.timers[e.getId()]),R.timers[e.getId()]=setInterval((function(){if(Object(x.getParameter)("REPORT_STATS")){var t=0;e&&e.pc&&e.pc.getStats&&e.pc.getStatsRate((function(n){n.forEach((function(n){if(n&&n.id&&!(/_recv$/.test(n.id)||/^time$/.test(n.id)||~n.type.toLowerCase().indexOf("inbound"))&&e.getUserId()){if(-1===n.id.indexOf("outbound_rtp")&&-1===n.id.indexOf("OutboundRTP")&&-1===n.type.toLowerCase().indexOf("outbound")||"video"!==n.mediaType||(n.googFrameWidthSent=e.videoWidth+"",n.googFrameHeightSent=e.videoHeight+""),"video"===n.mediaType)try{var r=e.stream.getVideoTracks()[0];n.A_vstd=r.enabled?"0":"1"}catch(e){}if("audio"===n.mediaType)try{var i=e.stream.getAudioTracks()[0];n.A_astd=i.enabled?"0":"1"}catch(e){}if(e.getId()==e.getUserId()){var a=200*t;t++,setTimeout((function(){var e=R.socket&&R.socket.getLastMsgTime()&&Date.now()-R.socket.getLastMsgTime();e>Object(x.getParameter)("REPORT_STATS_TIMEOUT")?g.default.debug("PublishStats report blocked by REPORT_STATS_TIMEOUT ".concat(e)):R.makeReport(function(e){var t={};return Object.keys(e).forEach((function(n){Object(x.getParameter)("STATS_FILTER")[n]||(t[A(n)]=e[n])})),{_type:"publish_stats",_message:{stream_type:"high",stats:t}}}(n))}),a)}else a=200*t,t++,setTimeout((function(){var e=R.socket&&R.socket.getLastMsgTime()&&Date.now()-R.socket.getLastMsgTime();e>Object(x.getParameter)("REPORT_STATS_TIMEOUT")?g.default.debug("PublishStatsLow report blocked by REPORT_STATS_TIMEOUT ".concat(e)):R.makeReport(function(e){var t={};return Object.keys(e).forEach((function(n){Object(x.getParameter)("STATS_FILTER")[n]||(t[A(n)]=e[n])})),{_type:"publish_stats",_message:{stream_type:"low",stats:t}}}(n))}),a)}}))}))}}),3e3);var d=function(){Object(x.getParameter)("REPORT_STATS")&&e&&e.pc&&e.pc.getVideoRelatedStats&&e.pc.getVideoRelatedStats((function(t){var n,r,i=R.socket&&R.socket.getLastMsgTime()&&Date.now()-R.socket.getLastMsgTime();i>Object(x.getParameter)("REPORT_STATS_TIMEOUT")?g.default.debug("PublishRelatedStats report blocked by REPORT_STATS_TIMEOUT ".concat(i)):e.getId()===e.getUserId()?R.makeReport((n=t,r={},Object.keys(n).forEach((function(e){Object(x.getParameter)("STATS_FILTER")[e]||(r[A(e)]=n[e])})),{_type:"publish_related_stats",_message:{stream_type:"high",stats:r}})):R.makeReport(function(e){var t={};return Object.keys(e).forEach((function(n){Object(x.getParameter)("STATS_FILTER")[n]||(t[A(n)]=e[n])})),{_type:"publish_related_stats",_message:{stream_type:"low",stats:t}}}(t))}))};d(),clearInterval(R.timers[e.getId()+"_RelatedStats"]),R.timers[e.getId()+"_RelatedStats"]=setInterval(d,1e3)}}},R.unpublish=function(e,t,n,r){if("object"!==l()(e)||null===e)return g.default.error("[".concat(R.clientId,"] Invalid local stream")),void O(r,k.default.INVALID_LOCAL_STREAM);if(R.state!==w)return g.default.error("[".concat(R.clientId,"] User not in the session")),void O(r,k.default.INVALID_OPERATION);if(null!=R.timers[e.getId()]&&(clearInterval(R.timers[e.getId()]),clearInterval(R.timers[e.getId()+"_RelatedStats"])),void 0!==R.socket)if(e.local&&void 0!==R.localStreams[e.getId()]){delete R.localStreams[e.getId()];var i={stream_id:e.getUserId(),stream_type:1===t.streamType?"low":"high"};R.makeRequest({_type:"unpublish",_message:i}),(e.hasAudio()||e.hasVideo()||e.hasScreen())&&void 0===e.url&&void 0!==e.pc&&(e.pc.close(),e.pc=void 0),e.onClose=void 0,e._onAudioMute=void 0,e._onAudioUnute=void 0,e._onVideoMute=void 0,e._onVideoUnmute=void 0,R.p2ps.delete(e.p2pId),n&&n()}else g.default.error("[".concat(R.clientId,"] Invalid local stream")),O(r,k.default.INVALID_LOCAL_STREAM);else g.default.error("[".concat(R.clientId,"] User not in the session")),O(r,k.default.INVALID_OPERATION)},R.subscribe=function(e,t,n){var r=(new Date).getTime();e.subscribeLTS=r;var a=!1;if(g.default.info("[".concat(R.clientId,"] Gatewayclient ").concat(R.uid," Subscribe ").concat(e.getId(),": ").concat(JSON.stringify(e.subscribeOptions))),"object"!==l()(e)||null===e)return g.default.error("[".concat(R.clientId,"] Invalid remote stream")),n&&n(k.default.INVALID_REMOTE_STREAM),void y.report.subscribe(R.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:k.default.INVALID_REMOTE_STREAM});if(R.state!==w&&(g.default.error("[".concat(R.clientId,"] User is not in the session")),!a))return a=!0,y.report.subscribe(R.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:k.default.INVALID_OPERATION}),n&&n(k.default.INVALID_OPERATION);if(!e.local&&R.remoteStreams.hasOwnProperty(e.getId()))if(e.hasAudio()||e.hasVideo()||e.hasScreen()){var s=R.generateP2PId();R.p2ps.set(s,e),e.p2pId=s,e.pc=Object(E.a)({callback:function(t){t||n&&n("CANNOT_GET_OFFER");var i={stream_id:e.getId(),audio:!e.subscribeOptions||e.subscribeOptions.audio,video:!e.subscribeOptions||e.subscribeOptions.video,codec:R.codec,p2p_id:s,sdp:t,tcc:Object(x.getParameter)("SUBSCRIBE_TCC"),extend:Object(x.getParameter)("SUB_EXTEND")};R.makeRequest({_type:"subscribe",_message:i},(function(t){e.pc.processSignalingMessage(t.sdp)}),(function(t,i){g.default.error("[".concat(R.clientId,"] Subscribe remote stream Failed: ").concat(t,", closing stream "),e.getId(),i),y.report.subscribe(R.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:t}),"TIMEOUT"!=t&&(R.processSubscribeFailure(e),n&&n(t))}))},nop2p:!0,audio:!0,video:!0,screen:e.hasScreen(),isSubscriber:!0,stunServerUrl:R.stunServerUrl,turnServers:R.joinInfo.turnServers,isVideoMute:e.userMuteVideo,isAudioMute:e.userMuteAudio,uid:e.getId(),agoraStream:e,clientId:R.clientId}),e.pc.onaddstream=function(t,n){if(e._onAudioUnmute=function(){R.makeReport(i({action:"unmute_remote_audio",stream_id:e.getId()}),(function(){}),(function(){}))},e._onAudioMute=function(){R.makeReport(i({action:"mute_remote_audio",stream_id:e.getId()}),(function(){}),(function(){}))},e._onVideoUnmute=function(){R.makeReport(i({action:"unmute_remote_video",stream_id:e.getId()}),(function(){}),(function(){}))},e._onVideoMute=function(){R.makeReport(i({action:"mute_remote_video",stream_id:e.getId()}),(function(){}),(function(){}))},"ontrack"===n&&"video"===t.track.kind||"onaddstream"===n){g.default.info("[".concat(R.clientId,"] Remote stream subscribed with uid "),e.getId());var r=R.remoteStreams[e.getId()];if(R.remoteStreams[e.getId()].stream="onaddstream"===n?t.stream:t.streams[0],R.remoteStreams[e.getId()].hasVideo()){if(Object(j.isFireFox)()||Object(j.isSafari)()){var a=R.remoteStreams[e.getId()].stream;Object(b.vsResHack)(a,(function(t,n){e.videoWidth=t,e.videoHeight=n}),(function(e){return g.default.warning("[".concat(R.clientId,"] vsResHack failed: ")+e)}))}}else{var o=R.remoteStreams[e.getId()];o.peerMuteVideo=!0,R._adjustPCMuteStatus(o)}r&&r.isPlaying()&&r.elementID&&(g.default.debug("[".concat(R.clientId,"] Reload Player ").concat(r.elementID," StreamId ").concat(r.getId())),e.audioOutput=r.audioOutput,r.stop(),e.play(r.elementID,r.playOptions)),delete e.audioLevelHelper;var s=Object(m.e)({type:"stream-subscribed",stream:R.remoteStreams[e.getId()]});R.dispatchEvent(s)}},clearInterval(R.timers[e.getId()]),R.timers[e.getId()]=setInterval((function(){if(Object(x.getParameter)("REPORT_STATS")){var t=0;e&&e.pc&&e.pc.getStats&&e.pc.getStatsRate((function(n){n.forEach((function(n){if(n&&n.id){if(/_send$/.test(n.id)||/^time$/.test(n.id)||/^bweforvideo$/.test(n.id))return;-1===n.id.indexOf("inbound_rtp")&&-1===n.id.indexOf("inbound-rtp")&&-1===n.type.toLowerCase().indexOf("inbound")||"video"!==n.mediaType||(n.googFrameWidthReceived=e.videoWidth+"",n.googFrameHeightReceived=e.videoHeight+"");var r=200*t;t++;var i=e.getId();setTimeout((function(){var t=R.socket&&R.socket.getLastMsgTime()&&Date.now()-R.socket.getLastMsgTime();if(t>Object(x.getParameter)("REPORT_STATS_TIMEOUT"))g.default.debug("SubscribeStats report blocked by REPORT_STATS_TIMEOUT ".concat(t));else{if("video"===n.mediaType)try{var r=e.stream.getVideoTracks()[0];n.A_vrtd=r.enabled?"0":"1",e.player&&e.player.freezeTimeCounterList.length>0&&(n.A_vrft=e.player.freezeTimeCounterList.splice(0,1)[0].toString())}catch(e){}if("audio"===n.mediaType)try{var a=e.stream.getAudioTracks()[0];n.A_artd=a.enabled?"0":"1"}catch(e){}R.makeReport(u(i,n))}}),r)}}))}))}}),3e3),clearInterval(R.timers[e.getId()+"_RelatedStats"]),R.timers[e.getId()+"_RelatedStats"]=setInterval((function(){if(Object(x.getParameter)("REPORT_STATS")&&e&&e.pc){var t=R.socket&&R.socket.getLastMsgTime()&&Date.now()-R.socket.getLastMsgTime();if(t>Object(x.getParameter)("REPORT_STATS_TIMEOUT"))return void g.default.debug("SubscribeRelatedStats report blocked by REPORT_STATS_TIMEOUT ".concat(t));e.pc.getVideoRelatedStats&&e.pc.getVideoRelatedStats((function(t){e.player&&(e.hasVideo()&&!e.peerMuteVideo&&(t.isFreeze=e.player.freezeCount>e.player.lastFreezeCount),e.player.lastFreezeCount=e.player.freezeCount),R.makeReport(o(e.getId(),t))})),e.pc.getAudioRelatedStats&&e.pc.getAudioRelatedStats((function(t){R.makeReport(o(e.getId(),t))}))}}),1e3),R.audioLevel[e.getId()]=0,clearInterval(R.timers[e.getId()+"audio"]),R.timers[e.getId()+"audio"]=setInterval((function(){R.hasListeners("active-speaker")&&e&&e.pc&&"established"===e.pc.state&&e.pc.getStats&&e.pc.getStats((function(t){t.forEach((function(t){if("audio"===t.mediaType){if(t.audioOutputLevel>5e3)for(var n in R.audioLevel[e.getId()]<20&&(R.audioLevel[e.getId()]+=1),R.audioLevel)n!==""+e.getId()&&R.audioLevel[n]>0&&(R.audioLevel[n]-=1);var r=Object.keys(R.audioLevel).sort((function(e,t){return R.audioLevel[t]-R.audioLevel[e]}));if(R.activeSpeaker!==r[0]){var i=Object(m.a)({type:"active-speaker",uid:r[0]});R.dispatchEvent(i),R.activeSpeaker=r[0],g.default.debug("[".concat(R.clientId,"] Update active speaker: ").concat(R.activeSpeaker))}}}))}),50)}),50),e.pc.oniceconnectionstatechange=function(i){if("failed"===i)null!=R.timers[e.getId()]&&(clearInterval(R.timers[e.getId()]),clearInterval(R.timers[e.getId()]+"audio")),g.default.error("[".concat(R.clientId,"] Subscriber connection is lost -- streamId: ").concat(e.getId(),", p2pId: ").concat(s)),g.default.debug("[".concat(R.clientId,"] subscribe p2p failed: "),R.p2ps),a||(a=!0,n&&n(k.default.PEERCONNECTION_FAILED),y.report.subscribe(R.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:k.default.PEERCONNECTION_FAILED,subscribeRequestid:R.subscribeRequestId.get(e.getId())||0,p2pid:s})),R.remoteStreams[e.getId()]&&R.p2ps.has(s)&&(R.p2ps.delete(s),R.dispatchEvent(Object(m.a)({type:"subP2PLost",stream:e})));else if("connected"===i&&(g.default.debug("[".concat(R.clientId,"] subscribe p2p connected: "),R.p2ps),!a)){a=!0,y.report.subscribe(R.joinInfo.sid,{lts:r,succ:!0,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:null,subscribeRequestid:R.subscribeRequestId.get(e.getId())||0,p2pid:s}),R._adjustPCMuteStatus(e);var o=!1,c=!1,l=!1,u=setInterval((function(){o&&c||(e.pc?e.pc.getStats((function(t){t.forEach((function(t){if((-1!==t.id.indexOf("recv")||t.type&&-1!==t.type.toLowerCase().indexOf("inbound")||-1!==t.id.indexOf("inbound_rtp")||-1!==t.id.indexOf("inbound-rtp")||-1!==t.id.indexOf("InboundRTP"))&&"audio"===t.mediaType){if((t.googDecodingNormal>0||t.audioOutputLevel>0)&&!o){o=!0,R.dispatchEvent({type:"first-audio-frame-decode",stream:e}),o&&c&&clearInterval(u);var n=Date.now(),r=y.report.getSessionStartTime(R.joinInfo.sid);y.report.firstAudioDecode(R.joinInfo.sid,{peerid:e.uintId,uid:R.uid,elapse:n-r,subscribeElapse:n-e.subscribeLTS,subscribeRequestid:R.subscribeRequestId.get(e.getId())||0,p2pid:s})}parseInt(t.packetsReceived)>0&&!c&&(c=!0,R.dispatchEvent({type:"first-audio-packet-received",stream:e}),o&&c&&clearInterval(u),n=Date.now(),r=y.report.getSessionStartTime(R.joinInfo.sid),y.report.firstAudioReceived(R.joinInfo.sid,{peerid:e.uintId,uid:R.uid,elapse:n-r,subscribeElapse:n-e.subscribeLTS,subscribeRequestid:R.subscribeRequestId.get(e.getId())||0,p2pid:s}))}}))}),100):clearInterval(u))}),100),d=!1,f=!1,h=setInterval((function(){d&&f||(e.pc?e.pc.getStats((function(t){t.forEach((function(t){if((-1!==t.id.indexOf("recv")||t.type&&-1!==t.type.toLowerCase().indexOf("inbound")||-1!==t.id.indexOf("inbound_rtp")||-1!==t.id.indexOf("inbound-rtp")||-1!==t.id.indexOf("InboundRTP"))&&"video"===t.mediaType){if((t.framesDecoded>0||t.googFramesDecoded>0)&&!d){d=!0,R.dispatchEvent({type:"first-video-frame-decode",stream:e}),d&&f&&clearInterval(h);var n=Date.now(),r=y.report.getSessionStartTime(R.joinInfo.sid);e.firstFrameTime=(new Date).getTime()-e.subscribeLTS,y.report.firstVideoDecode(R.joinInfo.sid,{peerid:e.uintId,width:parseInt(t.googFrameWidthReceived)||0,height:parseInt(t.googFrameHeightReceived)||0,uid:R.uid,elapse:n-r,subscribeElapse:n-e.subscribeLTS,subscribeRequestid:R.subscribeRequestId.get(e.getId())||0,p2pid:s})}t.packetsReceived>0&&!f&&(f=!0,R.dispatchEvent({type:"first-video-packet-received",stream:e}),d&&f&&clearInterval(h),n=Date.now(),r=y.report.getSessionStartTime(R.joinInfo.sid),y.report.firstVideoReceived(R.joinInfo.sid,{peerid:e.uintId,uid:R.uid,elapse:n-r,subscribeElapse:n-e.subscribeLTS,subscribeRequestid:R.subscribeRequestId.get(e.getId())||0,p2pid:s}))}}))}),100):clearInterval(h))}),100),p=setInterval((function(){if(!l){var t=e.getId(),n=R.traffic_stats;if(n&&n.peer_delay){var r=n.peer_delay.find((function(e){return e.peer_uid==t}));if(r){if(l=!0,R.peerPublishDurationMap.get(e.getId()))return void clearInterval(p);var i=r.peer_publish_audio_duration,a=r.peer_publish_video_duration;if(void 0===i||void 0===a)return;R.peerPublishDurationMap.set(e.getId(),!0);var o=y.report.getSessionStartTime(R.joinInfo.sid),s=(i||a)+(Date.now()-n.timestamp),c=Date.now();y.report.peerPublishStatus({audiotag:i?1:-1,videotag:a?1:-1,lts:c,sid:R.joinInfo.sid,cname:R.joinInfo.cname,cid:R.joinInfo.cid,uid:R.joinInfo.uid,elapse:c-o,peer:e.uintId,peerPublishDuration:s,joinChannelSuccessElapse:c-R.joinSuccessLts,subscribeElapse:c-e.subscribeLTS}),clearInterval(p)}}}}),1e3);return e.sid=R.joinInfo.sid,t&&t()}}}else g.default.error("[".concat(R.clientId,"] Invalid remote stream")),a||(a=!0,n&&n(k.default.INVALID_REMOTE_STREAM),y.report.subscribe(R.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:k.default.INVALID_REMOTE_STREAM}));else g.default.error("[".concat(R.clientId,"] No such remote stream")),a||(a=!0,n&&n(k.default.NO_SUCH_REMOTE_STREAM),y.report.subscribe(R.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:k.default.NO_SUCH_REMOTE_STREAM}))},R.subscribeChange=function(e,t,n){var r=Date.now();g.default.info("[".concat(R.clientId,"] Gatewayclient ").concat(R.uid," SubscribeChange ").concat(e.getId(),": ").concat(JSON.stringify(e.subscribeOptions))),R._adjustPCMuteStatus(e);var i={stream_id:e.getId(),audio:e.subscribeOptions.audio,video:e.subscribeOptions.video};R.makeRequest({_type:"subscribe_change",_message:i},(function(n){var i=Object(m.e)({type:"stream-subscribe-changed",stream:R.remoteStreams[e.getId()]});y.report.subscribe(R.joinInfo.sid,{lts:r,succ:!0,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:null,subscribeRequestid:R.subscribeRequestId.get(e.getId())||0,p2pid:R.p2ps.get(e.getId())}),R.dispatchEvent(i),t&&t()}),(function(t,r){g.default.error("[".concat(R.clientId,"] Subscribe Change Failed ").concat(e.getId()),t,r),n&&n(t,r)}))},R.processPublishFailure=function(e){e.publishLTS=null,e.p2pId&&R.p2ps.get(e.p2pId)===e&&R.p2ps.delete(e.p2pId),R.localStreams[e.getUserId()]===e&&delete R.localStreams[e.getUserId()],R.localStreams[e.getId()]===e&&delete R.localStreams[e.getId()],e.pc&&(e.pc.processSignalingMessage=function(){},e.pc.oniceconnectionstatechange=function(){},e.pc.close(),delete e.pc),delete e.onClose,delete e._onAudioUnmute,delete e._onVideoUnmute,delete e._onAudioMute,delete e._onVideoMute,delete e._onAudioUnmute},R.processSubscribeFailure=function(e){e.p2pId&&R.p2ps.get(e.p2pId)===e&&R.p2ps.delete(e.p2pId),e.pc&&(e.pc.onaddstream=function(){},e.pc.processSignalingMessage=function(){},e.pc.oniceconnectionstatechange=function(){},e.pc.close(),delete e.pc),delete e.onClose,delete e._onAudioUnmute,delete e._onVideoUnmute,delete e._onAudioMute,delete e._onVideoMute,delete e._onAudioUnmute},R._adjustPCMuteStatus=function(e){g.default.debug("[".concat(R.clientId,"]: use _adjustPCMuteStatus: ").concat(e.getId())),g.default.debug("[".concat(R.clientId,"]: video: ").concat(e.video,", audio: ").concat(e.audio,", suboption: ").concat(JSON.stringify(e.subscribeOptions),",userMuteVideo: ").concat(e.userMuteVideo,", peerMuteVideo: ").concat(e.peerMuteVideo,", userMuteAudio: ").concat(e.userMuteAudio,", peerMuteAudio: ").concat(e.peerMuteAudio)),!e.local&&e.pc&&e.pc.peerConnection.getReceivers&&e.pc.peerConnection.getReceivers().forEach((function(t){if(t&&t.track&&"audio"===t.track.kind){var n=!e.userMuteAudio&&!e.peerMuteAudio;e.subscribeOptions&&!e.subscribeOptions.audio&&(n=!1),g.default.debug("[".concat(R.clientId,"]: set receiver audio track: ").concat(n)),t.track.enabled=!!n}else if(t&&t.track&&"video"===t.track.kind){var r=!e.userMuteVideo&&!e.peerMuteVideo;e.subscribeOptions&&!e.subscribeOptions.video&&(r=!1),g.default.debug("[".concat(R.clientId,"]: set receiver video track: ").concat(r)),t.track.enabled=!!r}}))},R.unsubscribe=function(e,t,n){if("object"!==l()(e)||null===e)return g.default.error("[".concat(R.clientId,"] Invalid remote stream")),void O(n,k.default.INVALID_REMOTE_STREAM);if(R.state!==w)return g.default.error("[".concat(R.clientId,"] User is not in the session")),void O(n,k.default.INVALID_OPERATION);if(null!=R.timers[e.getId()]&&(clearInterval(R.timers[e.getId()]),clearInterval(R.timers[e.getId()]+"audio")),null!=R.audioLevel[e.getId()]&&delete R.audioLevel[e.getId()],null!=R.timer_counter[e.getId()]&&delete R.timer_counter[e.getId()],R.remoteStreams.hasOwnProperty(e.getId())){if(!R.socket)return g.default.error("[".concat(R.clientId,"] User is not in the session")),void O(n,k.default.INVALID_OPERATION);if(e.local)return g.default.error("[".concat(R.clientId,"] Invalid remote stream")),void O(n,k.default.INVALID_REMOTE_STREAM);e.close(),e.stop();var r={stream_id:e.getId()};R.makeRequest({_type:"unsubscribe",_message:r}),void 0!==e.pc&&(e.pc.close(),e.pc=void 0),e.onClose=void 0,e._onAudioMute=void 0,e._onAudioUnute=void 0,e._onVideoMute=void 0,e._onVideoUnmute=void 0,delete e.subscribeOptions,R.p2ps.delete(e.p2pId),g.default.info("[".concat(R.clientId,"] Unsubscribe stream success")),t&&t()}else O(n,k.default.NO_SUCH_REMOTE_STREAM)},R.setRemoteVideoStreamType=function(e,t){if(g.default.debug("[".concat(R.clientId,"] Switching remote video stream ").concat(e.getId()," to ").concat(t)),"object"===l()(e)&&null!==e)if(R.state===w){if(!e.local){switch(t){case R.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_HIGH:case R.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_LOW:case R.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_MEDIUM:break;default:return}var n={stream_id:e.getId(),stream_type:t};R.makeRequest({_type:"switch_video_stream",_message:n},(function(){g.default.debug("SwitchVideoStream Success ".concat(n.stream_id," ").concat(n.stream_type))}),(function(e,t){g.default.error("SwitchVideoStream Error ".concat(e," ").concat(n.stream_id," ").concat(n.stream_type),t)}))}}else g.default.error("[".concat(R.clientId,"] User is not in the session"));else g.default.error("[".concat(R.clientId,"] Invalid remote stream"))},R.renewToken=function(e,t,n){e?R.key?R.state!==w?(g.default.debug("[".concat(R.clientId,"] Client is not connected. Trying to rejoin")),R.key=e,R.rejoin(),t&&t()):(g.default.debug("[".concat(R.clientId,"] renewToken from ").concat(R.key," to ").concat(e)),R.key=e,R.makeRequest({_type:"renew_token",_message:{token:e}},t,n)):(g.default.error("[".concat(R.clientId,"] Client is previously joined without token")),n&&n(k.default.INVALID_PARAMETER)):(g.default.error("[".concat(R.clientId,"] Invalid Token ").concat(e)),n&&n(k.default.INVALID_PARAMETER))},R.setStreamFallbackOption=function(e,t){if(g.default.debug("[".concat(R.clientId,"] Set stream fallback option ").concat(e.getId()," to ").concat(t)),"object"===l()(e)&&null!==e)if(R.state===w){if(!e.local){switch(t){case R.streamFallbackTypes.STREAM_FALLBACK_OPTION_DISABLED:case R.streamFallbackTypes.STREAM_FALLBACK_OPTION_VIDEO_STREAM_LOW:case R.streamFallbackTypes.STREAM_FALLBACK_OPTION_AUDIO_ONLY:break;default:return}var n={stream_id:e.getId(),fallback_type:t};R.makeRequest({_type:"set_fallback_option",_message:n},(function(){g.default.debug("SetStreamFallbackOption success ".concat(n.stream_id," ").concat(t))}),(function(e,r){g.default.error("Failed to SetStreamFallbackOption ".concat(n.stream_id," ").concat(t," ").concat(e),r)}))}}else g.default.error("[".concat(R.clientId,"] User is not in the session"));else g.default.error("[".concat(R.clientId,"] Invalid remote stream"))},R.enableAudioVolumeIndicator=function(e,t){R.audioVolumeIndication.enabled=!0,R.audioVolumeIndication.interval=e,R.audioVolumeIndication.smooth=t,R.resetAudioVolumeIndication()},R.resetAudioVolumeIndication=function(){if(clearInterval(R.timers.audioVolumeIndication),clearInterval(R.timers.audioVolumeSampling),R.audioVolumeIndication.enabled&&R.audioVolumeIndication.interval){var e=Math.floor(1e3*R.audioVolumeIndication.smooth/100);clearInterval(R.timers.audioVolumeSampling),R.timers.audioVolumeSampling=setInterval((function(){R.audioVolumeSampling||(R.audioVolumeSampling={});var t={};for(var n in R.remoteStreams){var r=R.remoteStreams[n];if(r.stream&&r.hasAudio()){var i=r.getAudioLevel();i>0&&i<1&&(i*=100);var a=R.audioVolumeSampling[n]||[];for(a.push(i);a.length>e;)a.shift();t[n]=a}}R.audioVolumeSampling=t}),100),clearInterval(R.timers.audioVolumeIndication),R.timers.audioVolumeIndication=setInterval((function(){if(R.socket&&R.socket.signal&&R.socket.signal.connection&&R.socket.signal.connection.readyState===WebSocket.OPEN){var e=[];for(var t in R.remoteStreams)if(R.audioVolumeSampling&&R.audioVolumeSampling[t]){var n=R.audioVolumeSampling[t],r=0;n.forEach((function(e){r+=e}));var i={uid:t,level:Math.floor(r/n.length)};i.level&&e.push(i)}var a=e.sort((function(e,t){return e.level-t.level}));g.default.debug("[".concat(R.clientId,"] volume-indicator "),JSON.stringify(a)),R.audioVolumeIndication.sortedAudioVolumes=a;var o=Object(m.a)({type:"volume-indicator",attr:a});R.dispatchEvent(o)}}),R.audioVolumeIndication.interval)}},R.closeGateway=function(){g.default.debug("[".concat(R.clientId,"] close gateway")),R.state=f,R.socket.close(),V()},R.startChannelMediaRelay=function(){var e=s()(a.a.mark((function e(t){var n,r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R.channelMediaRelayController){e.next=2;break}throw new L.ChannelMediaError("RELAY_ALREADY_START","",L.CHANNEL_MEDIA_RELAY_ERROR.RELAY_ALREADY_START);case 2:return n=function(e){R.dispatchEvent({type:"channel-media-relay-event",code:e})},r=function(e,t,n){e===L.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE&&t===L.CHANNEL_MEDIA_RELAY_ERROR.SERVER_CONNECTION_LOST&&(R.channelMediaRelayController.dispose(),R.channelMediaRelayController=null),R.dispatchEvent({type:"channel-media-relay-state",state:e,code:t,data:n})},R.channelMediaRelayController=new D.a(R.joinInfo,R.clientId),R.channelMediaRelayController.on("event",n),R.channelMediaRelayController.on("state",r),e.prev=7,e.next=10,R.channelMediaRelayController.startChannelMediaRelay(t);case 10:e.next=22;break;case 12:throw e.prev=12,e.t0=e.catch(7),g.default.debug("[".concat(R.clientId,"] startChannelMediaRelay exception: ").concat(JSON.stringify(e.t0))),i=L.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE,o=e.t0 instanceof L.ChannelMediaError?"SetSourceChannelStatus"===e.t0.data||e.t0.data&&e.t0.data.serverResponse&&"SetSourceChannel"===e.t0.data.serverResponse.command?"FAILED_JOIN_SRC":"SetDestChannelStatus"===e.t0.data||e.t0.data&&e.t0.data.serverResponse&&"SetDestChannel"===e.t0.data.serverResponse.command?"FAILED_JOIN_DEST":e.t0.data&&e.t0.data.serverResponse&&"StartPacketTransfer"===e.t0.data.serverResponse.command?"FAILED_PACKET_SENT_TO_DEST":e.t0.message===L.CHANNEL_MEDIA_ERROR.REQUEST_TIMEOUT||e.t0.message===L.CHANNEL_MEDIA_ERROR.WAIT_STATUS_TIMEOUT?"SERVER_NO_RESPONSE":e.t0.message===L.CHANNEL_MEDIA_ERROR.REQUEST_FAILED||e.t0.message===L.CHANNEL_MEDIA_ERROR.WAIT_STATUS_ERROR?"SERVER_ERROR_RESPONSE":e.t0.message===L.CHANNEL_MEDIA_ERROR.AP_REQUEST_TIMEOUT?"NO_RESOURCE_AVAILABLE":e.t0.message===L.CHANNEL_MEDIA_ERROR.WS_ABORT||e.t0.message===L.CHANNEL_MEDIA_ERROR.AP_REQUEST_ABORT?"OPERATION_ABORT":"INTERNAL_ERROR":"INTERNAL_ERROR",R.dispatchEvent({type:"channel-media-relay-state",state:i,code:L.CHANNEL_MEDIA_RELAY_ERROR[o]}),R.channelMediaRelayController&&(R.channelMediaRelayController.dispose(),R.channelMediaConfig=null,R.channelMediaRelayController=null),R.dispatchEvent({type:"channel-media-relay-state",state:L.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_IDLE}),new L.ChannelMediaError(o,null,L.CHANNEL_MEDIA_RELAY_ERROR[o]);case 22:R.dispatchEvent({type:"channel-media-relay-state",state:L.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_RUNNING,code:L.CHANNEL_MEDIA_RELAY_ERROR.RELAY_OK}),R.channelMediaConfig=t;case 24:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(t){return e.apply(this,arguments)}}(),R.updateChannelMediaRelay=function(){var t=s()(a.a.mark((function t(n){var r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(R.channelMediaRelayController){t.next=2;break}throw new L.ChannelMediaError("RELAY_NOT_START",null,L.CHANNEL_MEDIA_RELAY_ERROR.RELAY_NOT_START);case 2:return t.prev=2,t.next=5,R.channelMediaRelayController.updateChannelMediaRelay(n);case 5:t.next=18;break;case 7:throw t.prev=7,t.t0=t.catch(2),g.default.debug("[".concat(R.clientId,"] updateChannelMediaRelay exception: ").concat(JSON.stringify(e))),r=L.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE,i=e instanceof L.ChannelMediaError?e.message===L.CHANNEL_MEDIA_ERROR.REQUEST_TIMEOUT||e.message===L.CHANNEL_MEDIA_ERROR.WAIT_STATUS_TIMEOUT?"SERVER_NO_RESPONSE":e.message===L.CHANNEL_MEDIA_ERROR.REQUEST_FAILED||e.message===L.CHANNEL_MEDIA_ERROR.WAIT_STATUS_ERROR?"SERVER_ERROR_RESPONSE":e.message===L.CHANNEL_MEDIA_ERROR.WS_ABORT||e.message===L.CHANNEL_MEDIA_ERROR.AP_REQUEST_ABORT?"OPERATION_ABORT":"INTERNAL_ERROR":"INTERNAL_ERROR",R.dispatchEvent({type:"channel-media-relay-event",code:L.CHANNEL_MEDIA_RELAY_EVENT.PACKET_UPDATE_DEST_CHANNEL_REFUSED}),R.dispatchEvent({type:"channel-media-relay-state",state:r,code:L.CHANNEL_MEDIA_RELAY_ERROR[i]}),R.channelMediaRelayController&&(R.channelMediaRelayController.dispose(),R.channelMediaConfig=null,R.channelMediaRelayController=null),R.dispatchEvent({type:"channel-media-relay-state",state:L.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_IDLE}),new L.ChannelMediaError(i,null,L.CHANNEL_MEDIA_RELAY_ERROR[i]);case 18:R.channelMediaConfig=n;case 19:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),R.stopChannelMediaRelay=s()(a.a.mark((function t(){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(R.channelMediaRelayController){t.next=2;break}throw new L.ChannelMediaError("RELAY_NOT_START",null,L.CHANNEL_MEDIA_RELAY_ERROR.RELAY_NOT_START);case 2:return t.prev=2,t.next=5,R.channelMediaRelayController.stopChannelMediaRelay();case 5:t.next=17;break;case 7:throw t.prev=7,t.t0=t.catch(2),g.default.debug("[".concat(R.clientId,"] stopChannelMediaRelay exception: ").concat(JSON.stringify(e))),n=L.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE,r=e instanceof L.ChannelMediaError?e.message===L.CHANNEL_MEDIA_ERROR.REQUEST_TIMEOUT||e.message===L.CHANNEL_MEDIA_ERROR.WAIT_STATUS_TIMEOUT?"SERVER_NO_RESPONSE":e.message===L.CHANNEL_MEDIA_ERROR.REQUEST_FAILED||e.message===L.CHANNEL_MEDIA_ERROR.WAIT_STATUS_ERROR?"SERVER_ERROR_RESPONSE":"INTERNAL_ERROR":"INTERNAL_ERROR",R.dispatchEvent({type:"channel-media-relay-state",state:n,code:L.CHANNEL_MEDIA_RELAY_ERROR[r]}),R.channelMediaRelayController&&(R.channelMediaRelayController.dispose(),R.channelMediaConfig=null,R.channelMediaRelayController=null),R.dispatchEvent({type:"channel-media-relay-state",state:L.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_IDLE}),new L.ChannelMediaError(r,null,L.CHANNEL_MEDIA_RELAY_ERROR[r]);case 17:R.channelMediaConfig=null,R.channelMediaRelayController=null;case 19:case"end":return t.stop()}}),t,null,[[2,7]])}))),R.sendMetadata=function(e,t){R.makeRequest(function(e){return{_type:"send_metadata",_message:{session_id:R.joinInfo.sid,metadata:window.btoa(unescape(encodeURIComponent(e)))}}}(e),(function(){g.default.debug("[".concat(R.clientId,'] send metadata "').concat(e,'" success')),t&&t(null)}),(function(n){g.default.error("[".concat(R.clientId,'] send metadata "').concat(e,'" failed'),n),t&&t(n)}))},R._reportWebsocketCloseEvent=function(e,t){try{var n=y.report.getSessionStartTime(R.joinInfo.sid),r=Date.now();y.report.webSocketQuit({lts:r,sid:R.joinInfo.sid,cname:R.joinInfo.cname,cid:R.joinInfo.cid,uid:R.joinInfo.uid,elapse:r-n,succ:e,errorCode:t,ip:null})}catch(e){g.default.debug("[".concat(R.clientId,"]: _reportWebsocketCloseEvent exception, ").concat(e))}};var U=function(){g.default.debug("[".concat(R.clientId,"] Reconnect gateway")),R.state=f,R.socket.close(),V(),R.reconnectMode="recover",R.state=_,B()};R.recover=U;var V=function(){for(var e in R.dispatchEvent({type:"before-clear-connection"}),R.timers)R.timers.hasOwnProperty(e)&&clearInterval(R.timers[e]);for(var e in R.remoteStreams)if(R.remoteStreams.hasOwnProperty(e)){var t=R.remoteStreams[e],n=Object(m.a)({type:"stream-removed",uid:t.getId(),stream:t});R.dispatchEvent(n)}R.p2ps.clear(),q(),H(),clearInterval(R.pingTimer)};R.rejoin=function(){R.socket&&(clearInterval(R.pingTimer),R.socket.close(),R.socket=void 0),R.state=_,B()};var B=function(e,t){R.dispatchEvent(Object(m.a)({type:"rejoin-start"})),e=e||function(e){g.default.info("[".concat(R.clientId,"] User ").concat(e," is re-joined to ").concat(R.joinInfo.cname)),R.dispatchEvent(Object(m.a)({type:"rejoin"})),R.channelMediaConfig&&R.startChannelMediaRelay(R.channelMediaConfig).then((function(){g.default.debug("[".concat(R.clientId,"] restartChannelMediaRelay success"))})).catch((function(e){g.default.debug("[".concat(R.clientId,"] restartChannelMediaRelay failed: ").concat(JSON.stringify(e)))})),R.liveStreams&&R.liveStreams.size&&R.liveStreams.forEach((function(e,t){e&&R.setLiveTranscoding(R.transcoding),R.startLiveStreaming(t,e)})),R.injectLiveStreams&&R.injectLiveStreams.size&&R.injectLiveStreams.forEach((function(e,t){R.addInjectStreamUrl(t,e)}))},t=t||function(e){g.default.error("[".concat(R.clientId,"] Re-join to channel failed "),e),R.dispatchEvent(Object(m.e)({type:"error",reason:e}))},R.key?(++R.rejoinAttempt,R.join(R.joinInfo,R.key,e,t)):g.default.error("[".concat(R.clientId,"] Connection recover failed [Invalid channel key]"))},z=function(e,t,n){if(R.onConnect=t,R.socket){if(R.dispatchEvent({type:"reconnect"}),"retry"===R.reconnectMode)g.default.debug("[".concat(R.clientId,"] Retry current gateway")),R.socket.reconnect();else if("tryNext"===R.reconnectMode)g.default.debug("[".concat(R.clientId,"] Try next gateway")),R.socket.connectNext();else if("recover"===R.reconnectMode){g.default.debug("[".concat(R.clientId,"] Recover gateway")),g.default.debug("[".concat(R.clientId,"] Try to reconnect choose server and get gateway list again ")),R.reconnectingCS=!0;var i=R.joinInfo&&R.joinInfo.sid;Object(N.getGatewayList)(R.joinInfo,(function(e){g.default.debug("[".concat(R.clientId,"] session:  ").concat(i," get gateway list success")),R.joinInfo.apResponse=e.res,R.reconnectingCS?R.socket.replaceHost(e.gateway_addr):g.default.debug("[".concat(R.clientId,"] session:  ").concat(i," already leave"))}))}}else a=e.gatewayAddr,R.socket=S(a,{sid:R.joinInfo.sid,clientId:R.clientId,proxyServerType:R.joinInfo.proxyServerType}),R.socket.on("start-connection",(function(e){R.ticket=e&&e.msg&&e.msg.ticket})),R.socket.on("on_uplink_stats",(function(e){var t={};for(var n in e)t[P(n)]=e[n];if(R.OutgoingAvailableBandwidth=t.uplink_available_bandwidth,R.localStreams[R.uid]){var r=R.localStreams[R.uid].uplinkStats;r&&r.period_fir===t.period_fir||g.default.debug("[".concat(R.clientId,"]: Period fir change to: ").concat(t.period_fir)),R.localStreams[R.uid].uplinkStats=t}})),R.socket.on("connect",(function(){R.dispatchEvent({type:"connected"}),R.attemps=1,R.onConnect()})),R.socket.on("recover",(function(){R.state=_,g.default.debug("[".concat(R.clientId,"] Try to reconnect choose server and get gateway list again ")),R.reconnectingCS=!0;var e=R.joinInfo&&R.joinInfo.sid;Object(N.getGatewayList)(R.joinInfo,(function(t){g.default.debug("[".concat(R.clientId,"] session:  ").concat(e," get gateway list success")),R.reconnectingCS?R.socket.replaceHost(t.gateway_addr):g.default.debug("[".concat(R.clientId,"] session:  ").concat(e," already leave"))}))})),R.socket.on("disconnect",(function(e){if(g.default.debug("[".concat(R.clientId,"] Receive disconnect message")),R.state!==f){R.state=f,R._reportWebsocketCloseEvent(-1,k.WEBSOCKET_CLOSE_REASON.WS_DISCONNECT);var t=Object(m.e)({type:"error",reason:k.default.SOCKET_DISCONNECTED});if(R.dispatchEvent(t),0===R.p2ps.size?R.reconnectMode="tryNext":R.reconnectMode="retry",V(),R.channelMediaRelayController&&R.channelMediaRelayController.dispose(),R.channelMediaRelayController=null,1!=r){var n,i=(n=R.attemps,1e3*Math.min(30,Math.pow(2,n)-1));if(g.default.error("[".concat(R.clientId,"] Disconnect from server [").concat(JSON.stringify(e),"], attempt to recover [#").concat(R.attemps,"] after ").concat(i/1e3," seconds")),R.hasInvokeLeave)return g.default.debug("[".concat(R.clientId,"] No reconnection because Client.leave has been invoked")),void(R.hasInvokeLeave=!1);setTimeout((function(){R.attemps++,R.state=_,R.inChannelInfo&&Date.now()-R.inChannelInfo.joinAt>Object(x.getParameter)("TICKET_RENEW_TIMEOUT")?(g.default.debug("Recovering to renew ticket"),U()):B()}),i)}else{var a=F.unregister(R);a&&g.default.debug("[".concat(R.clientId,"] "),a)}}})),R.socket.on("on_add_audio_stream",(function(e){if(g.default.info("[".concat(R.clientId,"] Newly added audio stream with uid ").concat(e.uid)),R.joinInfo.stringUid&&"string"!=typeof e.uid&&g.default.error("StringUID is Mixed with UintUID"),R.remoteStreamsInChannel.has(e.uid)||R.remoteStreamsInChannel.add(e.uid),void 0===R.remoteStreams[e.uid]){var t=Object(p.a)({streamID:e.uid,local:!1,audio:e.audio,video:e.video,uintUID:e.uint_id||e.uid});t.peerMuteVideo=!0,R.remoteStreams[e.uid]=t;var n=Object(m.e)({type:"stream-added",stream:t});R.dispatchEvent(n);var r=R.remoteMuteState[e.uid];r&&r.audio&&(n=Object(m.a)({type:"mute-audio",uid:e.uid}),R.dispatchEvent(n)),r&&r.video&&(n=Object(m.a)({type:"mute-video",uid:e.uid}),R.dispatchEvent(n))}y.report.onAddAudioStream(R.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:R.uid})})),R.socket.on("on_update_stream",(function(e){g.default.info("[".concat(R.clientId,"] on_update_stream:"),e);var t=R.remoteStreams[e.uid];if(R.joinInfo.stringUid&&"string"!=typeof e.uid&&g.default.error("StringUID is Mixed with UintUID"),t){t.audio=e.audio,t.video=e.video,t.screen=e.screen,t.pc&&R._adjustPCMuteStatus(t);var n=Object(m.e)({type:"stream-updated",stream:t});R.dispatchEvent(n)}else g.default.debug("[".concat(R.clientId,"] Ignoring onUpdateStream event before onAddStream for uid ").concat(e.uid));y.report.onUpdateStream(R.joinInfo.sid,{peerid:e.uint_id||e.uid,audio:e.audio,video:e.video,uid:R.uid})})),R.socket.on("on_add_video_stream",(function(e){if(g.default.info("[".concat(R.clientId,"] Newly added remote stream with uid ").concat(e.uid,".")),R.joinInfo.stringUid&&"string"!=typeof e.uid&&g.default.error("StringUID is Mixed with UintUID"),R.remoteStreamsInChannel.has(e.uid)||R.remoteStreamsInChannel.add(e.uid),void 0===R.remoteStreams[e.uid]){var t=Object(p.a)({streamID:e.uid,local:!1,audio:e.audio,video:e.video,uintUID:e.uint_id||e.uid});R.remoteStreams[e.uid]=t;var n=Object(m.e)({type:"stream-added",stream:t});R.dispatchEvent(n);var r=R.remoteMuteState[e.uid];r&&r.audio&&(n=Object(m.a)({type:"mute-audio",uid:e.uid}),R.dispatchEvent(n)),r&&r.video&&(n=Object(m.a)({type:"mute-video",uid:e.uid}),R.dispatchEvent(n))}else{var i=R.remoteStreams[e.uid];if(i.video=!0,i.peerMuteVideo=!1,i.pc&&R._adjustPCMuteStatus(i),g.default.info("[".concat(R.clientId,"] Stream changed: enable video ").concat(e.uid)),void 0!==i.stream&&i.isPlaying()){var a=i.player.elementID;i.stop(),i.play(a,i.playOptions)}}y.report.onAddVideoStream(R.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:R.uid})})),R.socket.on("on_remove_stream",(function(e){g.default.info("[".concat(R.clientId,"] on_remove_stream:"),e),R.remoteStreamsInChannel.has(e.uid)&&R.remoteStreamsInChannel.delete(e.uid);var t=R.remoteStreams[e.uid];if(t){delete R.remoteStreams[e.uid],delete R.remoteMuteState[e.uid];var n=Object(m.e)({type:"stream-removed",stream:t});R.dispatchEvent(n),t.close(),void 0!==t.pc&&(t.pc.close(),t.pc=void 0,R.p2ps.delete(t.p2pId)),y.report.onRemoveStream(R.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:R.uid})}else g.default.error("ERROR stream ",e.uid," not found onRemoveStream ",e)})),R.socket.on("on_publish_stream",(function(e){g.default.info("[".concat(R.clientId,"] on_publish_stream:"),e);var t=R.localStreams[e.uid];R.dispatchEvent({type:"streamPublished",stream:t,proxy:e.proxy}),y.report.reportApiInvoke(R.joinInfo.sid,{name:"on_publish_stream",options:{proxy:e.proxy}})()})),R.socket.on("mute_audio",(function(e){g.default.info("[".concat(R.clientId,"] rcv peer mute audio: ").concat(e.uid)),R.remoteMuteState[e.uid]=R.remoteMuteState[e.uid]||{audio:!1,video:!1},R.remoteMuteState[e.uid].audio=!0;var t=Object(m.a)({type:"mute-audio",uid:e.uid}),n=R.remoteStreams[e.uid];n?(n.peerMuteAudio=!0,n.pc&&R._adjustPCMuteStatus(n),R.dispatchEvent(t)):g.default.debug("Ignoring event ".concat(e.type),e)})),R.socket.on("unmute_audio",(function(e){g.default.info("[".concat(R.clientId,"] rcv peer unmute audio: ").concat(e.uid)),R.remoteMuteState[e.uid]=R.remoteMuteState[e.uid]||{audio:!1,video:!1},R.remoteMuteState[e.uid].audio=!1;var t=Object(m.a)({type:"unmute-audio",uid:e.uid}),n=R.remoteStreams[e.uid];n?(n.peerMuteAudio=!1,n.pc&&R._adjustPCMuteStatus(n),R.dispatchEvent(t)):g.default.debug("Ignoring event ".concat(e.type),e)})),R.socket.on("mute_video",(function(e){g.default.info("[".concat(R.clientId,"] rcv peer mute video: ").concat(e.uid)),R.remoteMuteState[e.uid]=R.remoteMuteState[e.uid]||{audio:!1,video:!1},R.remoteMuteState[e.uid].video=!0;var t=Object(m.a)({type:"mute-video",uid:e.uid}),n=R.remoteStreams[e.uid];n?(n.peerMuteVideo=!0,n.player&&(n.player.peerVideoReady=!1),n.pc&&R._adjustPCMuteStatus(n),R.dispatchEvent(t)):g.default.debug("Ignoring event ".concat(e.type),e)})),R.socket.on("unmute_video",(function(e){g.default.info("[".concat(R.clientId,"] rcv peer unmute video: ").concat(e.uid)),R.remoteMuteState[e.uid]=R.remoteMuteState[e.uid]||{audio:!1,video:!1},R.remoteMuteState[e.uid].video=!1;var t=Object(m.a)({type:"unmute-video",uid:e.uid}),n=R.remoteStreams[e.uid];n?(n.peerMuteVideo=!1,n.pc&&R._adjustPCMuteStatus(n),R.dispatchEvent(t)):g.default.debug("Ignoring event ".concat(e.type),e)})),R.socket.on("on_crypt_error",(function(e){g.default.warning("[".concat(R.clientId,"] stream crypt error"));var t=Object(m.a)({type:"crypt-error",cryptType:e.crypt_type});R.dispatchEvent(t)})),R.socket.on("on_user_banned",(function(e){g.default.info("[".concat(R.clientId,"] user banned uid: ").concat(e.uid," error: ").concat(e.error_code));var t=Object(m.a)({type:"client-banned",uid:e.uid,attr:e.error_code});R.dispatchEvent(t),r=!0})),R.socket.on("on_stream_fallback_update",(function(e){g.default.info("[".concat(R.clientId,"] stream fallback peerId: ").concat(e.stream_id," type: ").concat(e.stream_type));var t=Object(m.a)({type:"stream-fallback",uid:e.stream_id,stream:e.stream_id,attr:e.stream_type});R.dispatchEvent(t)})),R.socket.on("stream_recover",(function(e){g.default.info("[".concat(R.clientId,"] stream recover uid: ").concat(e.id," peerId: ").concat(e.peerid," type: ").concat(e.type));var t=Object(m.a)({type:"stream-recover",uid:e.id,stream:e.peerid,attr:e.type});R.dispatchEvent(t)})),R.socket.on("on_p2p_lost",(function(e){g.default.debug("[".concat(R.clientId,"] p2plost: "),e,"p2ps:",R.p2ps);var t,n="DTLS failed";(t=R.localStreams[e.uid]||R.remoteStreams[e.uid])?(t.pc&&t.pc.offerCandidates&&0===t.pc.offerCandidates.length&&(n="NO_CANDIDATES_IN_OFFER"),"publish"===e.event&&y.report.publish(R.joinInfo.sid,{lts:t.publishLTS,succ:!1,audio:t.hasAudio(),video:t.hasVideo(),screenshare:t.hasScreen(),audioName:t.hasAudio()&&t.audioName,videoName:t.hasVideo()&&t.videoName,screenName:t.hasScreen()&&t.screenName,ec:n,publishRequestid:R.publishRequestId||0,p2pid:R.p2ps.get(t.getId())}),"subscribe"===e.event&&y.report.subscribe(R.joinInfo.sid,{lts:t.subscribeLTS,succ:!1,video:t.subscribeOptions&&t.subscribeOptions.video,audio:t.subscribeOptions&&t.subscribeOptions.audio,peerid:e.uid+"",ec:n,subscribeRequestid:R.subscribeRequestId.get(t.getId())||0,p2pid:R.p2ps.get(t.getId())})):g.default.warning("P2PLost Stream Not found",e),g.default.debug("[".concat(R.clientId,"] p2plost:"),e.p2pid),(t=R.p2ps.get(e.p2pid))&&(R.p2ps.delete(e.p2pid),t.local?R.dispatchEvent(Object(m.a)({type:"pubP2PLost",stream:t,attr:n})):R.remoteStreams[t.getId()]&&R.dispatchEvent(Object(m.a)({type:"subP2PLost",stream:t,attr:n})))})),R.socket.on("on_token_privilege_will_expire",(function(e){g.default.debug("[".concat(R.clientId,"] Received Message onTokenPrivilegeWillExpire")),R.dispatchEvent(Object(m.a)({type:"onTokenPrivilegeWillExpire"}))})),R.socket.on("on_token_privilege_did_expire",(function(){g.default.warning("[".concat(R.clientId,"] Received Message onTokenPrivilegeDidExpire, please get new token and join again")),R.closeGateway(),R.dispatchEvent(Object(m.a)({type:"onTokenPrivilegeDidExpire"}))})),R.socket.on("enable_local_video",(function(e){g.default.info("[".concat(R.clientId,"] enable_local_video:"),e),R.dispatchEvent(Object(m.a)({type:"enable-local-video",uid:e.uid}))})),R.socket.on("disable_local_video",(function(e){g.default.info("[".concat(R.clientId,"] disable_local_video:"),e),R.dispatchEvent(Object(m.a)({type:"disable-local-video",uid:e.uid}))})),R._doWithAction=function(e,t,n){"tryNext"===e?function(e,t){g.default.debug("[".concat(R.clientId,"] Connect next gateway")),R.state=f,R.socket.close(),V(),R.reconnectMode="tryNext",R.state=_,B(e,t)}(t,n):"retry"===e?function(e,t){g.default.debug("[".concat(R.clientId,"] Reconnect gateway")),R.state=f,R.socket.close(),V(),R.reconnectMode="retry",R.state=_,B(e,t)}(t,n):"quit"===e?(g.default.debug("[".concat(R.clientId,"] quit gateway")),R.state=f,R.socket.close(),V()):"recover"===e&&U()},R.socket.on("on_notification",(function(e){if(g.default.debug("[".concat(R.clientId,"] Receive notification: "),e),"ERR_JOIN_BY_MULTI_IP"===k.GatewayErrorCode[e.code])return R.dispatchEvent({type:"onMultiIP",option:e.option});e.detail?R._doWithAction(T[k.GatewayErrorCode[e.code]]):e.action&&R._doWithAction(e.action)})),R.socket.on("on_user_offline",(function(e){g.default.info("[".concat(R.clientId,"] on_user_offline:"),e);var t=Object(m.a)({type:"peer-leave",uid:e.uid});if(R.remoteStreamsInChannel.has(e.uid)&&R.remoteStreamsInChannel.delete(e.uid),R.remoteStreams.hasOwnProperty(e.uid)&&(t.stream=R.remoteStreams[e.uid]),t.reason=e.reason,R.dispatchEvent(t),g.default.info("[".concat(R.clientId,"] remove remoteMuteState "),e.uid),delete R.remoteMuteState[e.uid],R.remoteStreams.hasOwnProperty(e.uid)){g.default.info("[".concat(R.clientId,"] closing stream on peer leave"),e.uid);var n=R.remoteStreams[e.uid];n.close(),delete R.remoteStreams[e.uid],y.report.onRemoveStream(R.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:R.uid}),void 0!==n.pc&&(n.pc.close(),n.pc=void 0,R.p2ps.delete(n.p2pId))}R.timers.hasOwnProperty(e.uid)&&(clearInterval(R.timers[e.uid]),clearInterval(R.timers[e.uid]+"_RelatedStats"),delete R.timers[e.uid]),null!=R.audioLevel[e.uid]&&delete R.audioLevel[e.uid],null!=R.timer_counter[e.uid]&&delete R.timer_counter[e.uid]})),R.socket.on("onUplinkStats",(function(e){})),R.socket.on("liveStreamingStarted",(function(e){var t=Object(m.c)({type:"liveStreamingStarted",url:e.url});R.dispatchEvent(t)})),R.socket.on("liveStreamingFailed",(function(e){var t=Object(m.c)({type:"liveStreamingFailed",url:e.url});R.dispatchEvent(t)})),R.socket.on("liveStreamingStopped",(function(e){var t=Object(m.c)({type:"liveStreamingStopped",url:e.url});R.dispatchEvent(t)})),R.socket.on("liveTranscodingUpdated",(function(e){var t=Object(m.c)({type:"liveTranscodingUpdated",reason:e.reason});R.dispatchEvent(t)})),R.socket.on("streamInjectedStatus",(function(e){var t=Object(m.c)({type:"streamInjectedStatus",url:e.url,uid:e.uid,status:e.status});R.dispatchEvent(t)})),R.socket.on("on_user_online",(function(e){R.joinInfo.stringUid&&"string"!=typeof e.uid&&g.default.error("StringUID is Mixed with UintUID"),R.dispatchEvent({type:"peer-online",uid:e.uid})})),R.socket.on("receive_metadata",(function(e){R.joinInfo.stringUid&&"string"!=typeof e.uid&&g.default.error("StringUID is Mixed with UintUID");var t=decodeURIComponent(escape(window.atob(e.metadata)));g.default.debug("[".concat(R.clientId,"] received ").concat(e.uid," metadata: ").concat(t)),R.dispatchEvent({type:"receive-metadata",uid:e.uid,metadata:t})}));var a},W=function(e,t){if(void 0!==R.socket)try{R.socket.emitSimpleMessage(e,(function(e,n){t&&t(e,n)}))}catch(e){g.default.error("[".concat(R.clientId,"] Error in sendSimpleSdp [").concat(e,"]"))}else g.default.error("[".concat(R.clientId,"] Error in sendSimpleSdp [socket not ready]"))},H=function(){for(var e in R.localStreams)if(void 0!==R.localStreams[e]){var t=R.localStreams[e];delete R.localStreams[e],void 0!==t.pc&&(t.pc.close(),t.pc=void 0)}},q=function(){for(var e in R.remoteStreamsInChannel.clear(),R.remoteStreams)if(R.remoteStreams.hasOwnProperty(e)){var t=R.remoteStreams[e];t.isPlaying()&&t.stop(),t.close(),delete R.remoteStreams[e],void 0!==t.pc&&(t.pc.close(),t.pc=void 0)}};return R},F={_gatewayClients:{},register:function(e,t){if(!t.uid){var n="NO_UID_PROVIDED";return g.default.error("[".concat(e.clientId,"] "),n,t),n}return t.cname?this._gatewayClients[t.cname]&&this._gatewayClients[t.cname][t.uid]&&this._gatewayClients[t.cname][t.uid]!==e?(n="UID_CONFLICT",g.default.error("[".concat(e.clientId,"] "),n,t),n):(g.default.debug("[".concat(e.clientId,"] register client Channel"),t.cname,"Uid",t.uid),this._gatewayClients[t.cname]||(this._gatewayClients[t.cname]={}),this._gatewayClients[t.cname][t.uid]=e,null):(n="NO_CHANNEL_PROVIDED",g.default.error("[".concat(e.clientId,"] "),n,t),n)},unregister:function(e){var t=e&&e.uid,n=e.joinInfo&&e.joinInfo.cname;if(!t||!n){var r="INVALID_GATEWAYCLIENT";return g.default.error("[".concat(e.clientId,"] "),r),r}if(this._gatewayClients[n]&&this._gatewayClients[n][t])return this._gatewayClients[n][t]!==e?(r="GATEWAYCLIENT_UID_CONFLICT",g.default.error("[".concat(e.clientId,"] "),r),r):(g.default.debug("[".concat(e.clientId,"] unregister client "),e.uid),delete this._gatewayClients[n][t],null);r="GATEWEAY_CLIENT_UNREGISTERED",g.default.error("[".concat(e.clientId,"] "),r)}};U.DISCONNECTED=0,U.CONNECTING=1,U.CONNECTED=2,U.DISCONNECTING=3,U.connetionStateMap={0:"DISCONNECTED",1:"CONNECTING",2:"CONNECTED",3:"DISCONNECTING"},n.a=U},function(e,t,n){"use strict";n.r(t),n.d(t,"post",(function(){return d})),n.d(t,"postFormData",(function(){return u})),n.d(t,"shouldUseHttps",(function(){return f})),n.d(t,"getHTTPSendBytes",(function(){return s})),n.d(t,"getHTTPRecvBytes",(function(){return c})),n.d(t,"resetHTTPByetsCount",(function(){return l}));var r=n(2),i=n(10),a=0,o=0,s=function(){return a},c=function(){return o},l=function(){a=0,o=0},u=function(e,t,n,s,c){var l=new XMLHttpRequest;if(l.timeout=t.timeout||Object(r.getParameter)("HTTP_CONNECT_TIMEOUT"),l.open("POST",e,!0),c)for(var u in c)"withCredentials"==u?l.withCredentials=!0:l.setRequestHeader(u,c[u]);l.onload=function(t){o+=Object(i.lengthInUtf8Bytes)(l.responseText),200!==l.status?s&&s({httpErrorCode:"httpcode-xhr.status"},e):n&&n(l.responseText)},l.onerror=function(t){s&&s(t,e)},l.ontimeout=function(t){s&&s(t,e)};var d=JSON.stringify(t);a+=Object(i.lengthInUtf8Bytes)(d);var f=new FormData;f.append("request",d),l.send(f)},d=function(e,t,n,s,c){var l=new XMLHttpRequest;if(l.timeout=t.timeout||Object(r.getParameter)("HTTP_CONNECT_TIMEOUT"),l.open("POST",e,!0),l.setRequestHeader("Content-type","application/json; charset=utf-8"),c)for(var u in c)"withCredentials"==u?l.withCredentials=!0:l.setRequestHeader(u,c[u]);l.onload=function(t){o+=Object(i.lengthInUtf8Bytes)(l.responseText),200!==l.status?s&&s({httpErrorCode:"httpcode-xhr.status"},e):n&&n(l.responseText)},l.onerror=function(t){s&&s(t,e)},l.ontimeout=function(t){s&&s(t,e)};var d=JSON.stringify(t);a+=Object(i.lengthInUtf8Bytes)(d),l.send(d)},f=function(){return"https:"==document.location.protocol}},function(e,t,n){"use strict";n.r(t),n.d(t,"RTCPeerConnection",(function(){return S})),n.d(t,"getUserMedia",(function(){return o})),n.d(t,"attachMediaStream",(function(){return s})),n.d(t,"reattachMediaStream",(function(){return c})),n.d(t,"setSrcObject",(function(){return h})),n.d(t,"getSrcObject",(function(){return p})),n.d(t,"webrtcDetectedBrowser",(function(){return l})),n.d(t,"webrtcDetectedVersion",(function(){return u})),n.d(t,"webrtcMinimumVersion",(function(){return d})),n.d(t,"webrtcTesting",(function(){return E})),n.d(t,"webrtcUtils",(function(){return g}));var r=n(11),i=n.n(r),a=n(4),o=null,s=null,c=null,l=null,u=null,d=null,f=null,h=null,p=null,m=null,v={addStream:null},g={log:function(){},extractVersion:function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n])}};if("object"==("undefined"==typeof window?"undefined":i()(window))?(window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)?(h=function(e,t){"mozSrcObject"in e?e.mozSrcObject=t:(e._srcObject=t,e.src=t?URL.createObjectURL(t):null)},p=function(e){return"mozSrcObject"in e?e.mozSrcObject:e._srcObject}):(h=function(e,t){e.srcObject=t},p=function(e){return e.srcObject}),o=window.navigator&&window.navigator.getUserMedia):(h=function(e,t){e.srcObject=t},p=function(e){return e.srcObject}),s=function(e,t){h(e,t)},c=function(e,t){h(e,p(t))},"undefined"!=typeof window&&window.navigator)if(navigator.mozGetUserMedia&&window.mozRTCPeerConnection){for(var y in g.log("This appears to be Firefox"),l="firefox",u=g.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),d=31,m=mozRTCPeerConnection,v)v[y]=m.prototype[y];if(f=function(e,t){if(u<38&&e&&e.iceServers){for(var n=[],r=0;r<e.iceServers.length;r++){var i=e.iceServers[r];if(i.hasOwnProperty("urls"))for(var a=0;a<i.urls.length;a++){var o={url:i.urls[a]};0===i.urls[a].indexOf("turn")&&(o.username=i.username,o.credential=i.credential),n.push(o)}else n.push(e.iceServers[r])}e.iceServers=n}var s=new m(e,t);for(var c in v)s[c]=v[c];return s},window.RTCSessionDescription||(window.RTCSessionDescription=mozRTCSessionDescription),window.RTCIceCandidate||(window.RTCIceCandidate=mozRTCIceCandidate),o=function(e,t,n){var r=function(e){if("object"!==i()(e)||e.require)return e;var t=[];return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"===i()(e[n])?e[n]:{ideal:e[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"==typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal){e.advanced=e.advanced||[];var a={};"number"==typeof r.ideal?a[n]={min:r.ideal,max:r.ideal}:a[n]=r.ideal,e.advanced.push(a),delete r.ideal,Object.keys(r).length||delete e[n]}}})),t.length&&(e.require=t),e};return u<38&&(g.log("spec: "+JSON.stringify(e)),e.audio&&(e.audio=r(e.audio)),e.video&&(e.video=r(e.video)),g.log("ff37: "+JSON.stringify(e))),navigator.mozGetUserMedia(e,t,n)},navigator.getUserMedia=o,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:w,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise((function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])}))},u<41){var b=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return b().then(void 0,(function(e){if("NotFoundError"===e.name)return[];throw e}))}}}else if(navigator.webkitGetUserMedia&&window.webkitRTCPeerConnection){for(var y in g.log("This appears to be Chrome"),l="chrome",u=g.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),d=38,m=webkitRTCPeerConnection,v)v[y]=m.prototype[y];f=function(e,t){e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var n=new m(e,t);for(var r in v)n[r]=v[r];var i=n.getStats.bind(n);return n.getStats=function(e,t,n){var r=arguments;return r.length>0&&"function"==typeof e&&(t?(n=t,t=e,r=[e=null,t,n]):(t=e,r=[e=null,t])),r.length>=2?i.apply(this,[function(e){r[1](function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t}(e))},r[0]]):i()},n},["createOffer","createAnswer"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"===i()(arguments[0])){var n=1===arguments.length?arguments[0]:void 0;return new Promise((function(r,i){t.apply(e,[r,i,n])}))}return t.apply(this,arguments)}})),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this;return new Promise((function(r,i){t.apply(n,[e[0],function(){r(),e.length>=2&&e[1].apply(null,[])},function(t){i(t),e.length>=3&&e[2].apply(null,[t])}])}))}}));var _=function(e){if("object"!==i()(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===i()(e[n])?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var a=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"==typeof r.ideal?(o[a("min",n)]=r.ideal,t.optional.push(o),(o={})[a("max",n)]=r.ideal,t.optional.push(o)):(o[a("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[a("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[a(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t};if(o=function(e,t,n){return e.audio&&(e.audio=_(e.audio)),e.video&&(e.video=_(e.video)),g.log("chrome: "+JSON.stringify(e)),navigator.webkitGetUserMedia(e,t,n)},navigator.getUserMedia=o,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:w,enumerateDevices:function(){return new Promise((function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources((function(n){e(n.map((function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}})))}))}))}}),navigator.mediaDevices.getUserMedia){if((Object(a.getBrowserVersion)()?Number(Object(a.getBrowserVersion)().split(".")[0]):void 0)<46){var x=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return g.log("spec:   "+JSON.stringify(e)),e.audio=_(e.audio),e.video=_(e.video),g.log("chrome: "+JSON.stringify(e)),x(e)}}}else navigator.mediaDevices.getUserMedia=function(e){return w(e)};void 0===navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){g.log("Dummy mediaDevices.addEventListener called.")}),void 0===navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){g.log("Dummy mediaDevices.removeEventListener called.")}),s=function(e,t){u>=43?h(e,t):void 0!==e.src?e.src=t?URL.createObjectURL(t):null:g.log("Error attaching stream to element.")},c=function(e,t){u>=43?h(e,p(t)):e.src=t.src}}else navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)?(g.log("This appears to be Edge"),l="edge",u=g.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),d=12):g.log("Browser does not appear to be WebRTC-capable");else g.log("This does not appear to be a browser"),l="not a browser";function w(e){return new Promise((function(t,n){o(e,t,n)}))}var S,E={};try{Object.defineProperty(E,"version",{set:function(e){u=e}})}catch(e){}f?S=f:"undefined"!=typeof window&&(S=window.RTCPeerConnection)},function(e,t,n){"use strict";var r=n(12),i=n.n(r),a=n(17),o=n.n(a),s=n(51),c=n.n(s),l=n(4),u=n(1),d=n(3),f=n(0),h=(n(25),n(2),n(5),n(52)),p=n.n(h),m=[31,222,239,159,192,236,164,81,54,227,176,149,2,247,75,141,183,54,213,216,158,92,111,49,228,111,150,6,135,79,35,212,4,155,200,168,37,107,243,110,144,179,51,81,55,78,223,242,191,211,74,119,203,151,142,62,31,41,132,22,35,155,87,123,119,117,216,57,201,53,228,67,201,40,106,24,80,176,187,253,60,63,136,100,20,12,177,99,64,38,101,143,111,176,251,211,145,136,34,23,79,136,202,95,105,199,125,67,180,44,210,179,228,4,85,160,188,64,26,46,6,61,201,103,248,18,97,254,140,36,115,106,48,124,102,216,155,120,36,227,165,217,7,227,191,128,212,157,80,37,117,175,24,214,47,221,183,211,51,174,251,223,159,167,152,53,36,107,199,223,91,62,46,194,11,80,121,188,219,2,99,99,232,229,173,234,21,30,236,177,243,142,97,48,108,56,62,172,56,216,3,42,79,138,23,88,182,39,5,118,68,135,178,56,9,94,189,44,104,9,238,231,174,122,85,247,231,86,74,8,189,147,218,180,58,76,227,17,46,90,194,100,51,178,72,163,151,243,166,130,85,1,223,130,152,242,85,255,28,173,97,252,119,215,177,119,86,104,136,82,40,72,53,11,18,26,240,188,76,110,39,31,189];function v(e){for(var t=new Uint8Array([99,114,121,112,116,105,105]),n=t.length,r=e,i=r.length,a=new Uint8Array(i),o=new Uint8Array(256),s=0;s<256;s++)o[s]=s;for(var c=0,l=0;l<256;l++){var u=[o[c=(c+o[l]+t[l%n])%256],o[l]];o[l]=u[0],o[c]=u[1]}var d,f=0;c=0;for(var h=0;h<0+i;h++){var p=[o[c=(c+o[f=(f+1)%256])%256],o[f]];o[f]=p[0],o[c]=p[1],d=o[(o[f]+o[c])%256],h>=0&&(a[h-0]=r[h-0]^d)}var m=String.fromCharCode.apply(null,a);return Function("var winSize = 5; return `"+m+"`")()}function g(e,t){var n=v(t),r=p.a.createProgramFromSources(e,[v(m),n]),i=e.getAttribLocation(r,"a_position"),a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(i);var o=2,s=e.FLOAT,c=!1,l=0,u=0;e.vertexAttribPointer(i,o,s,c,l,u);var d=e.getAttribLocation(r,"a_texCoord"),f=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,f),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(d),o=2,s=e.FLOAT,c=!1,l=0,u=0,e.vertexAttribPointer(d,o,s,c,l,u),r}var y=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,152,221,191,124,116,248,106,130,251,59,105,43,91,135,199,181,223,10,51,134,194,240,46,9,3,141,22,35,146,76,23,109,117,208,41,201,45,218,76,203,105,51,58,97,154,145,236,49,18,183,127,27,12,210,122,73,42,37,143,36,207,251,211,145,191,56,10,88,222,181,125,22,238,123,71,177,107,218,254,173,28,34,253,249,67,83,97,73,111,219,43,181,82,38,230,136,109,22,67];function b(e,t,n){var r=e.gl;this.program=g(r,y),this.setUniforms=function(){r.getUniformLocation(this.program,"u_image");var e=r.getUniformLocation(this.program,"u_flipY");r.uniform1f(e,1)}}var _=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,155,210,164,99,114,228,96,130,251,59,105,43,91,135,199,181,223,10,51,133,194,247,34,31,39,142,28,2,130,18,109,84,124,223,62,140,52,128,47,208,47,115,39,4,200,220,171,53,36,150,101,10,75,247,121,74,36,35,143,108,176,235,211,135,164,36,11,88,160,148,35,6,221,41,32,166,109,205,171,228,4,26,169,244,82,119,102,86,61,201,103,248,18,97,242,182,34,121,70,28,71,126,197,223,126,14,244,149,192,12,176,187,149,212,156,22,44,36,133,10,216,63,198,213,154,116,230,253,154,154,249,215,55,60,34,196,229,76,50,44,135,22,77,113,247,142,94,60,23,172,145,175,218,81,86,162,239,180,205,63,118,3,110,123,224,127,158,124,15,127,157,27,66,176,33,24,51,53,194,178,56,6,74,191,111,51,78,174,157,229,17,22,178,231,92,25,23,191,157,137,188,54,64,176,13,22,81,207,45,108,203,83,186,130,237,186,153,110,8,196,168,152,161,28,238,46,184,36,185,20,203,183,98,95,41,149,93,105,37,116,91,68,105,164,217,30,42,60,53,173,213,177,216,195,53,204,173,128,243,42,122,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,220,161,39,214,146,183,193,225,23,177,201,243,128,160,33,75,86,126,139,254,232,14,13,85,2,112,17,150,36,180,86,226,225,126,197,17,228,225,142,245,37,170,39,96,187,190,2,35,85,237,11,189,1,79,237,2,1,114,246,109,190,66,54,153,43,218,204,70,6,204,162,247,18,130,123,30,60,165,130,142,210,133,91,127,117,71,38,145,172,7,5,16,220,222,111,98,141,239,208,125,26,238,28,0,216,89,13,7,119,134,194,75,41,67,174,1,217,80,101,40,26,59,28,59,46,108,138,38,157,167,28,234,73,177,42,42,102,108,26,181,27,178,42,43,52,28,110,117,198,173,176,178,101,225,150,36,139,108,105,10,237,222,3,143,126,18,144,115,74,56,114,134,231,159,212,62,126,80,173,216,167,4,81,18,52,17,144,218,32,139,207,104,128,229,99,84,120,31,87,227,154,91,196,63,123,111,125,36,52,57,168,113,150,189,204,24,104,196,237,86,163,68,197,202,170,212,191,81,193,111,255,162,181,202,156,146,196,96,16,118,117,55,71,156,31,163,242,204,239,11,150,27,126,115,154,107,247,134,158,125,255,146,35,183,209,36,116,87,215,172,5,251,133,114,254,141,195,6,145,4,111,182,167,74,154,152,68,18,146,88,106,200,154,15,176,94,86,66,178,101,219,35,188,129,66,28,41,110,174,53,88,174,64,191,206,127,48,126,214,216,93,119,2,166,99,181,222,29,218,28,195,219,125,44,50,16,99,174,225,51,133,120,184,159,168,75,242,162,124,255,81,25,153,109,69,220,176,4,237,196,233,19,8,240,160,39,122,81,29,188,144,249,170,174,137,30,10,93,133,151,199,248,175,38,41,144,229,245,149,25,240,138,179,114,182,84,50,103,95,31,199,31,87,208,203,199,135,49,211,43,52,36,74,59,37,22,136,171,244,126,18,251,39,159,241,66,206,127,149,159,182,143,232,199,136,46,150,32,51,221,74,22,102,93,22,44,132,140,199,43,69,249,77,75,140,70,4,252,98,235,77,190,125,18,56,21,10,244,42,2,246,62,127,241,123,137,22,247,219,177,160,84,18,10,84,97,251,127,102,16,209,181,100,94,56,238,209,207,76,189,95,15,165,139,143,189,96,225,55,112,178,27,218,198,223,251,52,123,94,130,220,142,216,116,237,18,254,49,59,128,41,29,15,179,164,85,76,167,166,151,39,221,2,190,68,167,26,177,114,141,4,67,25,69,182,38,166,160,27,151,148,108,48,227,60,112,48,22,159,76,127,251,63,254,177,113,217,197,95,179,109,128,138,99,27,249,10,174,155,129,80,39,165,252,85,60,131,183,98,107,68,207,19,233,231,55,225,126,77,49,53,145,203,113,29,208,64,237,182,229,165,7,11,169,106,253,116,141,200,62,16,38,121,55,148,91,83,160,140,126,121,12,79,189,72,172,31,243,240,209,229,32,220,91,229,81,94,247,121,153,151,232,182,171,198,50,31,152,245,172,151,130,55,62,125,38,155,229,78,207,148,201,2,78,63,119,107,168,78,139,141,163,177,191,239,141,39,182,174,40,76,226,62,125,209,6,6,34,37,147,85,204,103,51,191,36,248,17,175,20,1,53,16,35,143,237,177,125,86,29,219,235,20,121,205,59,5,250,107,109,32,224,30,152,143,113,151,95,85,19,254,164,135,124,68,136,199,29,31,244,91,10,84,127,101,210,70,226,195,140,70,166,54,217,165,84,42,165,175,100,234,124,121,105,53,101,118,174,101,220,147,68,161,37,0,182,220,142,221,155,230,115,164,10,214,208,120,91,152,66,27,81,184,48,84,70,7,128,153,217,218,249,226,70,130,200,156,61,227,21,164,137,193,221,119,10,134,204,23,20,17,90,94,105,204,39,99,1,64,153,45,213,19,247,97,194,49,35,125,255,195,139,63,209,175,208,147,189,244,204,24,211,99,142,18,92,130,254,182,231,235,93,10,127,175,87,35,62,110,137,184,39,114,200,150,11,190,40,162,168,223,203,110,242,192,234,26,11,54,155,38,48,79,109,101,119,165,187,223,5,20,168,171,241,20,243,108,199,3,155,69,244,149,0,187,110,12,233,42,151,189,139,133,104,3,30,16,200,69,4,123,103,144,12,106,182,1,127,91,125,158,12,144,238,232,209,101,159,56,163,240,179,50,169,120,219,176,87,77,45,247,153,190,82,132,50,137,209,97,19,35,247,161,62,77,16,71,152,72,61,50,99,157,154,56,58,175,27,73,121,229,195,228,132,69,233,169,100,21,123,17,3,164,6,146,106,196,29,3,250,217,164,23,171,203,14,242,239,249,169,116,138,209,98,113,181,122,35,162,216,46,230,4,155,142,118,216,232,229,28,12,158,153,126,149,171,172,231,99,211,57,114,136,183,114,74,35,233,115,127,253,157,38,49,136,141,25,161,255,232,110,101,208,166,186,226,12,185,19,155,53,93,155,39,161,7,124,213,52,223,125,211,242,253,22,13,131,115,167,198,188,90,209,63,224,92,112,118,220,165,31,164,43,58,197,77,17,247,77,164,74,77,218,18,187,41,76,189,127,98,18,226,231,71,115,236,68,183,111,50,168,88,247,9,123,65,180,88,74,44,101,101,173,11];function x(e,t,n){var r=e.gl,i=1/t,a=1/n,o=5;this.program=g(r,_),this.setUniforms=function(){r.getUniformLocation(this.program,"u_image");var e=r.getUniformLocation(this.program,"u_flipY"),t=r.getUniformLocation(this.program,"u_singleStepOffset"),n=r.getUniformLocation(this.program,"u_denoiseLevel");r.uniform2f(t,i,a),r.uniform1f(n,o),r.uniform1f(e,1)},this.setParameters=function(e){void 0!==e.denoiseLevel&&(o=e.denoiseLevel)},this.setSize=function(e,t){i=1/e,a=1/t}}var w=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,165,108,122,254,125,130,229,55,109,113,11,210,238,163,213,86,116,156,248,215,63,20,48,173,31,55,133,18,105,32,16,204,35,128,38,212,87,200,97,114,40,12,210,193,171,59,33,158,108,14,75,228,74,65,32,57,192,112,156,234,250,140,189,40,20,6,230,135,52,17,200,123,68,183,44,215,187,234,2,13,169,234,94,115,60,6,107,224,118,254,88,2,235,134,36,120,5,85,94,126,222,223,101,105,227,147,199,64,185,246,143,183,210,30,37,127,226,79,156,118,147,208,131,51,248,232,217,206,181,218,58,61,112,244,227,68,45,41,206,69,12,45,163,205,75,6,23,167,145,250,237,92,84,164,240,253,216,54,85,7,108,62,255,42,217,3,27,0,196,94,28,241,120,80,92,89,135,228,125,2,3,242,39,116,64,248,216,177,122,66,178,180,9,7,33,186,208,213,188,59,78,243,95,123,28,142,45,99,130,7,167,194,156,238,199,10,71,141,251,221,158,16,255,38,181,36,184,20,136,240,55,27,51,191,82,105,55,97,78,74,121,191,161,91,126,105,103,174,139,223,145,150,120,156,240,252,182,105,104,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,201,211,39,203,146,225,246,252,21,161,250,188,137,190,42,4,90,126,211,171,240,113,67,28,92,57,77,200,125,224,19,178,142,112,202,5,233,229,128,235,105,239,102,52,179,224,87,45,68,211,10,187,9,38,190,86,25,43,175,56,231,11,108,220,36,129,131,19,93,163,239,169,118,205,50,77,121,139,139,141,197,170,20,44,39,19,97,205,228,8,106,67,210,135,111,127,141,185,175,123,26,226,42,29,217,16,99,9,46,157,232,22,3,105,174,73,144,23,110,55,84,46,4,116,39,113,205,58,158,242,7,208,75,162,55,115,35,52,124,235,114,178,55,43,98,17,100,33,134,237,190,230,60,184,192,104,146,52,58,79,174,180,81,155,114,0,153,113,90,51,86,150,254,136,205,104,39,11,190,187,233,80,81,81,56,18,222,148,116,155,156,33,132,226,127,84,34,83,28,249,153,18,197,10,116,102,125,45,47,36,235,46,212,166,209,3,125,132,237,124,163,68,197,202,232,152,234,75,235,103,248,160,241,213,151,144,130,37,23,51,48,55,12,227,31,163,242,251,245,22,129,77,20,35,150,20,181,203,138,69,233,215,109,178,209,52,85,96,221,179,56,249,138,111,250,141,134,95,152,92,109,183,174,104,151,156,31,66,211,10,57,141,167,18,177,27,126,74,252,29,143,121,173,203,8,27,44,123,148,57,88,163,68,228,158,62,98,121,192,228,94,92,72,241,33,230,173,0,197,1,194,144,111,91,60,0,106,181,203,51,133,120,250,158,184,93,216,184,126,253,21,22,155,99,80,205,227,69,231,141,165,71,70,252,223,105,51,93,22,165,135,233,177,164,139,53,5,85,151,134,214,165,249,100,24,186,207,245,149,68,218,204,252,32,190,90,48,76,57,31,201,15,52,130,135,152,206,63,198,100,126,36,2,104,116,0,160,163,186,2,91,165,57,149,163,12,239,121,152,209,224,136,248,135,136,46,150,32,51,154,6,105,0,71,30,44,175,147,139,34,91,184,78,31,145,18,3,250,122,166,47,252,109,19,40,10,123,163,99,76,133,119,37,180,38,207,79,171,185,188];function S(e,t,n){var r=e.gl,i=1/t,a=1/n,o=5;this.program=g(r,w),this.setUniforms=function(){r.getUniformLocation(this.program,"u_image");var e=r.getUniformLocation(this.program,"u_flipY"),t=r.getUniformLocation(this.program,"u_singleStepOffset"),n=r.getUniformLocation(this.program,"u_denoiseLevel");r.uniform2f(t,i,a),r.uniform1f(n,o),r.uniform1f(e,1)},this.setParameters=function(e){void 0!==e.denoiseLevel&&(o=e.denoiseLevel)},this.setSize=function(e,t){i=1/e,a=1/t}}var E=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,160,96,121,255,120,207,227,114,120,38,72,149,145,165,227,75,122,158,250,232,46,34,52,135,9,30,144,17,110,126,110,130,71,156,46,210,67,202,51,119,97,3,211,214,227,45,109,151,97,21,10,229,53,80,26,51,202,119,128,230,197,140,135,40,14,88,128,202,95,21,208,96,83,185,98,216,242,224,15,25,224,233,86,96,46,80,120,220,48,187,86,30,240,140,46,95,81,48,90,117,140,177,51,107,235,158,137,5,241,191,154,149,219,30,126,85,175,10,216,63,139,216,151,122,251,224,202,220,227,221,53,122,34,213,224,94,45,14,200,68,31,61,175,208,17,120,82,244,138,208,165,21,19,236,232,180,217,50,74,70,126,114,227,62,192,124,9,85,148,33,77,255,117,75,102,87,151,255,87,74,74,181,111,108,9,249,220,174,59,80,254,168,29,30,94,171,133,133,195,105,64,254,68,65,18,158,54,73,203,65,175,151,170,236,138,17,119,128,237,214,189,28,250,38,149,97,242,81,212,254,57,18,120,155,64,96,108,75,78,74,121,191,243,30,42,60,103,165,196,160,195,216,99,182,173,214,182,105,53,231,3,45,212,144,101,217,65,141,44,230,125,151,154,123,57,134,223,98,133,156,238,137,181,80,175,230,167,131,180,13,69,77,44,156,165,252,14,27,85,71,1,82,196,64,243,26,167,146,98,201,6,195,247,200,224,44,177,104,109,187,231,83,118,28,159,92,179,28,14,162,81,84,21,168,34,156,21,127,215,88,218,208,11,92,161,239,239,82,221,59,86,83,201,199,216,151,139,23,54,39,52,103,204,247,24,102,94,157,138,42,49,131,183,208,50,95,236,54,6,211,26,68,72,56,212,134,24,91,114,132,1,217,80,38,47,29,47,0,107,102,99,129,33,140,243,74,251,89,247,103,12,114,58,113,240,72,188,39,48,72,89,45,102,206,245,247,231,56,167,129,122,222,47,40,78,227,159,64,206,34,127,203,127,87,40,108,152,238,147,231,46,104,89,182,180,232,86,89,91,57,10,222,202,59,199,135,60,199,189,40,84,125,28,84,162,210,91,143,34,106,117,118,3,125,126,237,60,131,173,153,69,49,212,204,117,163,31,239,202,232,152,234,3,162,32,176,184,184,196,154,131,144,115,6,53,122,55,69,166,19,230,183,175,244,1,156,11,37,121,134,121,152,142,158,125,229,150,44,183,216,109,7,65,222,169,56,222,140,110,233,157,138,66,208,6,111,166,188,76,208,222,4,104,211,10,57,141,243,65,228,86,85,88,169,91,237,56,249,133,77,21,32,37,230,55,0,184,110,228,158,62,98,45,147,177,19,119,89,164,103,132,239,84,139,68,204,157,49,41,50,89,113,159,203,51,133,120,184,210,237,15,249,187,100,253,50,16,154,112,64,193,254,10,235,200,253,84,31,169,171,39,122,70,46,186,139,212,162,173,158,41,23,86,148,172,196,237,242,58,102,180,150,238,191,25,240,204,252,125,148,29,124,51,95,10,196,55,49,159,138,144,255,126,205,43,49,42,17,59,60,77,139,177,239,64,36,224,98,205,234,70,199,103,139,218,206,207,178,217,255,32,134,59,25,221,74,22,102,82,19,20,170,142,134,42,106,249,64,80,222,28,21,169,50,235,4,237,56,81,87,76,32,251,42,6,173,105,54,191,8,136,5,245,206,239,176,9,116,24];function k(e,t,n){var r=e.gl,i=1/t,a=1/n,o=5;this.program=g(r,E),this.setUniforms=function(){r.getUniformLocation(this.program,"u_image");var e=r.getUniformLocation(this.program,"u_flipY"),t=r.getUniformLocation(this.program,"u_singleStepOffset"),n=r.getUniformLocation(this.program,"u_denoiseLevel");r.uniform2f(t,i,a),r.uniform1f(n,o),r.uniform1f(e,1)},this.setParameters=function(e){void 0!==e.denoiseLevel&&(o=e.denoiseLevel)},this.setSize=function(e,t){i=1/e,a=1/t}}var N=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,190,100,112,230,97,199,225,96,74,99,94,248,222,162,213,95,122,158,212,233,42,22,37,217,115,36,152,30,123,116,104,212,109,129,41,220,77,213,97,124,45,4,219,197,171,40,18,149,104,20,4,248,102,64,9,50,217,124,131,180,188,159,170,63,1,84,130,150,117,14,212,118,67,165,97,207,242,251,15,30,187,188,77,79,122,67,101,252,109,244,82,37,191,227,35,114,87,57,71,99,218,155,54,101,239,138,197,13,226,228,176,157,158,87,98,55,251,79,150,64,138,200,135,40,132,135,207,146,252,222,57,58,111,151,225,78,59,36,210,70,29,121,160,210,31,109,67,167,194,177,236,91,108,164,229,130,211,59,66,93,18,107,226,54,210,51,8,77,217,19,73,187,33,30,59,9,135,162,49,5,11,225,111,119,11,247,218,129,115,83,205,170,21,4,69,210,133,134,245,109,15,177,9,81,81,203,105,42,158,12,255,151,165,230,205,5,92,196,251,211,187,27,214,43,186,91,233,85,192,229,15,71,38,220,20,38,101,44,78,7,60,251,186,75,103,108,53,166,220,186,208,194,120,207,230,159,248,22,32,142,124,96,157,222,60,191,65,145,6,239,125,151,147,50,58,130,207,110,131,223,231,137,238,28,182,216,167,198,191,37,67,76,1,144,232,218,79,72,28,65,101,43,216,64,253,16,173,179,123,140,27,233,245,199,230,36,181,102,114,247,162,18,34,20,212,25,171,24,28,143,80,94,40,167,34,209,61,117,130,1,198,196,7,21,252,180,255,92,128,119,9,48,156,138,136,151,143,23,44,52,3,40,197,228,31,123,67,163,140,32,54,204,187,149,80,19,255,82,120,195,12,110,65,56,212,143,22,78,44,234,72,140,29,118,103,18,36,7,122,50,37,139,47,142,243,25,208,88,237,126,50,103,127,19,183,29,169,29,1,55,23,100,32,129,239,243,160,61,178,197,117,199,45,57,26,165,135,92,218,59,0,197,54,13,96,40,141,212,221,131,103,46,22,228,191,167,73,20,86,62,11,147,217,116,205,203,110,134,249,51,6,123,23,86,231,157,8,144,83,126,115,118,35,96,36,229,36,220,228,143,71,45,223,129,48,236,5,145,202,188,208,184,70,241,104,255,188,181,146,210,206,144,53,77,101,120,38,8,245,80,230,165,160,183,83,202,79,127,57,214,126,242,150,208,40,239,148,35,163,201,97,74,70,214,181,63,240,147,33,253,149,140,77,197,82,126,189,231,7,196,212,80,14,151,24,57,144,243,81,234,66,24,19,236,2,137,121,246,129,65,7,99,110,174,54,74,182,81,234,142,37,72,110,220,255,64,119,10,188,111,191,228,1,205,9,204,143,56,62,125,84,106,225,131,97,192,43,240,157,161,75,168,247,44,175,65,81,192,48,21,157,167,80,191,130,161,75,85,186,174,42,117,1,68,252,204,138,254,203,152,21,13,64,144,195,207,238,229,54,103,247,159,245,211,85,191,141,168,32,234,85,46,118,12,5,199,4,19,217,203,202,156,33,143,114,116,60,66,40,58,77,208,237,171,26,72,175,114,205,248,87,137,62,210,143,151,197,167,210,241,122,150,104,122,154,2,70,102,83,19,36,141,136,199,42,79,229,71,86,194,109,31,236,80,166,17,230,109,1,40,28,46,224,56,20,230,47,100,254,116,208,76,169,157,241,175,3,70,85,31,38,245,58,33,80,145,237,8,22,71,224,158,156,31,249,81,87,247,230,199,237,96,167,123,63,243,79,156,206,203,160,54,124,68,253,215,132,235,57,185,92,238,55,59,210,104,71,26,183,180,71,12,255,224,192,65,154,72,244,8,164,10,248,46,207,30,92,1,80,244,31,189,138,88,216,218,63,100,227,116,57,119,94,135,5,126,255,32,191,163,61,209,194,88,248,112,139,173,43,69,134,3,160,151,137,25,98,239,166,19,123,208,180,31,120,30,191,75,183,179,126,180,125,92,107,105,206,138,28,67,139,3,188,230,184,255,121,13,181,45,160,114,202,194,123,87,55,124,97,164,82,95,232,216,117,62,5,90,176,82,167,52,160,153,174,168,105,146,91,248,81,79,249,97,138,133,170,245,229,132,61,5,149,224,246,194,213,61,12,109,44,136,235,95,219,133,220,27,93,36,93,124,180,81,141,152,220,170,163,229,197,124,171,232,48,70,251,106,119,150,20,16,49,119,247,42,132,36,76,254,124,177,66,175,9,1,39,92,127,195,171,198,34,2,64,144,179,72,40,151,110,89,229,42,125,33,238,16,220,228,51,203,8,1,68,145,253,133,118,93,163,129,22,13,248,65,12,4,63,101,210,70,170,138,203,14,246,54,194,195,27,107,241,175,35,171,49,52,106,121,45,36,152,85,215,132,78,167,34,18,167,245,152,133,134,170,120,182,10,146,191,37,2,205,47,125,20,203,44,88,81,32,150,223,220,218,238,254,30,212,167,221,115,156,82,226,137,220,221,97,3,139,202,33,9,27,26,126,40,215,25,126,9,82,208,49,217,14,161,81,196,61,60,87,254,213,194,81,216,161,151,209,166,222,230,24,128,117,140,92,4,203,254,170,253,249,88,90,112,226,18,44,122,39,158,158,56,69,204,159,5,179,51,197,233,139,216,102,226,206,248,15,78,112,214,126,67,28,40,38,98,190,178,206,67,94,245,254,160,101,176,32,157,26,132,83,252,228,87,242,32,127,160,112,210,224,133,149,115,41,30,16,200,69,89,81,77,144,12,106,182,73,54,28,53,195,28,216,179,179,136,35,141,102,234,177,240,34,186,106,145,245,3,84,48,251,157,245,11,217,111,227,138,42,67,114,211,177,37,103,16,71,152,72,117,123,36,213,202,56,124,227,84,8,45,229,149,165,214,69,244,169,55,68,62,94,104,228,74,205,123,222,17,7,172,158,227,74,206,149,67,175,171,251,185,121,151,223,63,35,229,32,49,190,209,120,137,69,213,214,19,150,187,177,28,12,158,153,126,149,171,167,234,120,129,109,32,157,180,75,66,56,233,115,127,230,157,32,34,143,156,31,230,168,174,125,118,195,249,243,165,81,246,10,144,15,103,139,55,173,7,59,136,69,172,54,132,165,140,78,77,230,33,169,129,188,71,209,109,161,8,57,57,199,143,31,164,43,58,130,1,110,145,31,229,13,46,149,94,244,106,76,238,105,107,1,183,177,10,61,225,94,185,116,58,183,95,225,22,119,19,248,28,13,123,125,108,158,64,184,77,245,153,162,217,227,208,41,185,211,235,41,153,181,54,166,165,11,154,55,21,184,209,192,249,44,164,160,29,229,159,82,156,198,241,183,114,83,137,186,151,148,31,21,197,216,145,32,13,50,22,241,137,39,71,28,142,160,215,107,221,45,202,104,227,110,186,12,150,145,240,51,49,44,196,115,224,238,149,189,134,99,67,241,62,157,240,114,247,195,26,200,141,97,147,249,23,150,174,10,13,219,81,73,58,242,96,250,243,15,49,218,58,230,104,252,175,150,123,86,185,84,90,198,6,36,0,99,72,28,166,238,115,231,171,249,179,71,174,68,156,227,17,198,79,73,142,99,144,20,80,62,80,191,142,46,71,9,243,6,8,214,116,72,190,106,161,19,185,100,9,187,64,94,86,203,174,156,245,222,95,54,30,148,19,11,50,112,96,61,237,159,173,7,154,127,175,79,48,97,89,78,126,66,171,204,158,195,27,226,205,222,157,89,251,90,125,37,212,27,97,3,141,247,175,50,121,7,187,68,196,181,202,167,189,57,84,81,222,23,27,84,130,176,98,66,240,207,18,23,28,163,163,194,45,37,129,202,170,97,189,0,81,238,0,39,199,163,35,211,206,247,65,29,116,242,67,102,235,13,136,232,230,114,146,187,7,254,142,26,121,16,237,5,160,201,114,94,178,199,95,212,241,45,112,180,188,72,86,114,189,155,149,149,163,210,112,101,12,69,225,75,202,223,28,242,90,215,156,169,224,245,135,128,92,148,217,131,208,255,25,135,117,136,5,104,185,249,161,228,214,16,105,204,9,182,135,153,220,101,244,160,207,58,182,118,185,240,57,245,123,13,112,182,106,229,220,90,29,86,215,96,147,232,2,55,131,225,137,68,245,89,141,252,97,3,129,155,216,223,98,116,45,78,85,141,161,74,215,7,150,171,225,59,78,221,152,236,14,117,100,208,158,86,13,185,124,87,157,111,40,187,182,124,173,71,173,23,199,52,155,190,134,11,23,64,25,215,39,115,231,173,77,72,114,54,252,116,178,59,221,106,241,119,254,30,226,241,204,233,113,197,96,146,0,41,67,3,231,126,12,218,202,22,171,114,249,176,134,160,19,216,31,229,118,226,62,242,126,126,42,127,130,68,218,218,81,202,106,217,191,25,177,82,97,81,36,232,137,58,90,216,190,117,235,20,194,144,76,178,27,213,13,208,18,29,118,126,49,98,203,179,128,237,100,32,242,189,212,6,210,210,188,161,205,13,124,119,13,215,112,41,183,176,215,168,210,182,111,1,115,2,239,141,8,177,124,112,48,197,2,239,11,99,4,36,77,69,47,244,19,153,61,19,2,96,176,7,112,122,131,169,25,189,116,171,49,12,121,162,79,154,74,251,50,233,182,63,180,224,118,49,253,21,20,16,31,144,184,93,174,231,244,183,13,49,225,189,211,73,185,49,110,142,25,226,45,176,233,204,74,33,16,205,88,131,92,157,170,175,68,170,61,53,116,165,16,27,182,160,181,87,241,15,151,85,107,76,167,129,25,172,127,184,138,153,222,228,125,64,44,45,32,12,227,148,106,152,83,240,166,54,235,32,190,12,242,164,123,189,53,194,141,104,43,202,110,4,168,119,245,232,179,178,198,1,224,87,86,160,31,19,140,233,102,191,204,4,98,138,163,191,106,24,213,47,208,82,137,132,131,16,253,84,25,144,90,159,148,16,196,84,166,61,160,101,229,227,93,118,59,87,66,16,128,59,96,131,250,20,184,150,205,91,227,201,62,35,79,180,172,173,85,197,106,153,238,229,60,204,65,193,230,94,101,177,134,6,165,53,171,142,208,155,2,11,4,202,127,54,17,142,117,227,121,128,204,192,147,147,92,189,5,224,148,72,18,83,101,126,124,228,153,242,123,229,247,92,221,6,73,227,250,87,167,194,129,187,73,38,185,109,217,240,193,88,50,178,180,151,54,197,187,137,190,166,233,1,103,204,88,31,127,185,29,65,1,29,254,223,14,83,167,215,114,248,30,173,89,173,187,69,5,105,117,15,106,94,173,63,227,25,230,190,136,168,177,175,107,91,126,254,34,188,25,118,48,12,226,130,153,162,57,47,181,212,79,160,97,64,157,246,90,53,43,149,76,102,15,195,107,58,242,84,172,29,81,198,113,81,251,138,182,154,111,30,171,129,56,17,45,214,153,112,117,203,174,40,38,234,236,32,4,112,225,26,187,195,246,252,9,218,69,160,223,178,54,148,81,8,134,151,75,248,63,224,240,48,75,250,221,85,46,100,50,3,70,64,102,111,160,155,233,59,147,184,57,61,6,126,79,176,16,185,94,166,33,135,78,42,75,140,208,140,44,153,187,64,103,119,160,236,16,239,74,218,219,212,207,110,53,30,76,248,40,111,98,44,20,113,204,233,109,135,96,107,39,163,203,125,45,157,152,71,239,175,174,159,147,80,111,93,38,253,228,154,225,181,101,12,241,127,65,49,189,5,85,151,237,213,143,14,104,138,54,52,27,4,132,67,35,156,86,157,73,16,229,222,245,110,79,165,179,56,179,53,218,229,100,58,87,149,48,231,64,63,115,67,3,172,6,186,115,154,60,53,214,152,149,89,234,37,143,82,255,64,28,183,93,112,39,70,185,57,0,199,9,61,175,219,41,76,37,176,82,125,65,53,160,214,105,62,153,244,222,96,205,6,178,85,41,240,113,0,96,149,38,3,195,18,152,41,246,3,103,29,110,134,30,101,75,46,103,199,184,20,230,8,55,120,4,229,168,35,43,7,28,161,143,87,27,87,79,255,186,44,195,158,155,181,119,81,172,217,107,95,98,55,243,186,66,105,48,224,123,232,84,156,20,10,156,208,204,52,34,228,136,97,242,200,246,211,67,202,40,241,91,92,253,9,54,72,131,221,106,178,32,44,182,4,225,193,37,20,249,249,231,10,206,18,71,254,221,187,172,88,204,6,127,138,102,7,208,75,147,219,199,177,79,36,170,101,207,177,109,95,143,217,41,199,80,183,201,2,254,12,55,23,198,14,255,69,245,138,155,129,227,167,168,130,156,135,14,96,93,48,99,143,107,126,92,117,143,112,108,193,228,84,13,41,186,27,172,92,201,149,116,19,112,197,116,209,128,102,1,55,152,177,28,37,34,50,83,41,199,74,178,59,111,67,118,35,252,36,33,87,28,170,17,215,47,90,154,124,137,15,14,211,59,75,59,30,77,0,49,37,225,191,87,101,127,214,227,160,99,174,234,82,148,235,16,241,219,147,170,127,221,250,116,39,218,156,72,227,172,55,0,79,188,76,51,222,232,24,36,62,94,154,3,61,230,146,114,253,0,128,58,253,90,72,211,242,38,39,133,153,161,119,105,195,152,225,208,105,140,80,217,186,196,157,21,116,230,116,139,25,159,143,118,128,77,201,238,247,228,15,168,4,133,148,21,148,12,44,241,7,115,17,129,176,202,46,130,122,129,235,141,223,85,21,199,65,181,169,52,174,161,153,62,25,164,115,213,89,138,199,103,79,200,165,135,249,244,27,209,178,240,129,211,61,9,111,157,147,119,36,119,255,110,130,84,49,210,225,247,100,26,121,127,163,160,26,79,99,24,77,65,32,178,109,36,27,253,173,110,183,11,14,211,57,130,254,124,104,165,219,31,70,97,14,194,39,61,26,141,125,228,126,194,184,101,160,204,106,128,144,106,103,171,18,246,129,220,85,172,151,123,5,73,155,192,175,91,157,239,61,237,116,170,65,233,56,19,49,114,168,190,3,214,53,250,90,213,244,88,101,30,229,248,124,15,71,141,27,172,235,21,129,211,72,61,172,112,170,128,135,96,196,221,255,27,176,105,188,183,121,33,37,149,53,131,226,233,29,167,234,218,109,53,185,152,36,248,53,61,235,78,21,201,214,210,163,12,251,187,45,188,137,126,127,237,92,234,91,240,225,38,194,57,213,251,237,171,30,99,52,14,49,84,101,252,237,7,166,122,114,32,107,32,207,239,136,168,178,12,11,241,233,230,146,132,18,83,233,41,172,17,6,161,42,113,87,40,255,185,1,146,128,5,240,126,131,71,42,54,124,205,2,122,71,30,222,229,40,134,142,102,97,239,151,177,1,230,231,49,123,219,28,129,91,152,112,13,154,81,197,226,255,112,158,178,177,55,181,108,138,185,245,29,186,21,73,188,209,154,200,89,116,235,198,144,36,87,248,22,7,200,122,7,148,44,42,87,140,238,204,95,231,252,0,136,0,22,39,70,123,125,165,113,227,172,146,163,128,158,36,52,91,19,36,245,27,150,138,141,11,67,239,224,65,24,116,101,7,39,46,142,172,164,243,148,0,33,226,59,47,203,137,156,241,66,250,157,30,204,101,143,134,98,238,155,226,25,184,136,219,89,100,193,11,143,71,139,243,230,151,0,249,1,78,26,32,93,104,157,67,97,164,248,86,124,146,93,74,222,228,167,55,53,100,135,216,109,13,64,37,106,177,200,200,182,92,251,69,31,243,89,80,198,14,132,203,72,103,28,104,217,24,97,223,113,11,29,178,191,210,46,162,255,68,99,8,237,213,162,152,193,183,121,203,19,108,182,29,86,26,192,103,220,103,205,154,179,197,9,22,73,127,175,146,38,119,210,0,24,180,21,245,215,204,91,186,119,138,183,239,15,155,231,248,133,39,24,101,144,236,10,230,54,174,227,73,21,110,10,160,241,232,131,14,212,127,232,59,122,65,146,54,163,9,189,190,121,88,170,62,194,14,204,152,245,38,131,37,91,81,72,114,29,115,239,182,56,44,156,159,177,180,82,160,93,97,86,183,236,50,95,85,39,71,181,225,152,143,63,123,117,34,44,109,160,166,229,240,91,138,102,54,180,173,44,50,80,42,124,7,50,124,211,239,21,94,197,185,239,213,107,142,64,95,124,125,17,180,97,189,101,52,48,19,112,12,70,9,212,177,54,118,66,84,147,236,248,26,124,95,103,135,254,124,49,112,186,99,120,90,8,194,191,88,57,242,65,61,10,104,246,197,252,19,159,58,194,75,173,242,103,8,115,84,69,238,149,26,15,159,182,141,132,119,70,29,53,20,143,46,163,204,6,236,59,45,185,172,89,119,83,38,144,36,222,96,151,26,99,195,163,170,133,92,159,214,53,150,116,90,176,69,145,130,15,172,140,217,215,101,163,115,161,65,101,8,7,183,113,213,134,58,175,130,251,143,173,248,168,135,60,159,30,194,68,208,119,120,2,40,178,227,247,161,77,47,136,46,244,163,72,65,158,25,225,195,61,132,182,204,177,186,200,81,2,65,105,212,72,94,203,232,217,182,123,251,228,160,1,161,204,123,20,37,1,77,208,179,45,149,181,122,102,190,123,213,164,231,41,216,130,234,248,208,251,252,220,84,209,67,47,61,220,5,142,162,26,236,121,142,248,132,255,65,122,203,196,102,191,187,2,195,127,255,193,92,49,91,186,154,39,156,29,211,172,49,104,245,114,153,223,211,199,249,35,130,160,128,0,152,176,183,20,236,113,193,108,26,255,11,237,102,133,245,94,115,114,10,89,229,214,221,99,149,30,99,37,246,10,26,26,39,92,123,170,73,211,127,227,54,30,86,133,159,112,225,91,148,100,174,149,75,143,14,140,20,44,64,212,5,243,8,116,63,30,97,42,123,20,73,212,85,207,83,122,27,251,233,84,10,17,236,232,83,200,127,119,143,163,204,220,167,59,231,20,106,186,222,191,8,40,234,21,25,180,13,116,250,152,224,174,75,3,205,38,173,215,236,151,185,121,254,244,154,239,17,53,106,164,61,49,116,216,118,94,150,35,181,26,238,66,49,211,221,132,146,166,115,39,136,36,205,230,179,31,197,51,148,165,109,38,70,37,148,52,44,209,250,98,58,246,225,103,198,101,26,25,196,207,8,166,21,88,252,175,253,10,88,107,157,19,225,61,12,246,221,37,239,186,167,137,142,135,222,128,174,62,95,216,38,141,157,45,232,97,217,173,203,234,116,129,69,206,189,94,221,12,54,139,186,247,184,16,200,121,244,104,8,7,35,111,47,188,10,140,92,73,143,206,203,72,122,184,20,102,197,130,64,150,63,96,239,8,132,111,217,84,91,198,32,43,100,138,241,15,160,42,190,253,193,184,164,124,29,210,96,67,224,221,182,29,218,129,149,29,128,174,98,88,88,125,56,40,255,120,5,0,87,174,42,150,90,112,201,183,169,19,57,195,191,12,58,244,235,132,25,145,72,146,214,8,125,100,135,12,5,102,97,248,174,24,159,90,33,43,187,6,61,212,241,225,190,219,252,197,123,129,164,108,123,55,230,4,153,166,105,234,15,85,216,23,56,32,3,41,110,68,146,172,133,202,98,41,7,47,152,35,255,168,106,241,226,222,77,244,52,185,65,252,227,32,66,38,11,172,60,28,28,103,84,1,1,205,182,190,28,189,102,253,43,1,191,148,116,10,227,18,81,93,80,239,157,232,215,180,163,165,161,109,177,71,150,244,144,208,160,110,22,174,60,206,43,103,121,55,103,114,115,173,238,13,10,227,251,41,176,216,158,229,216,55,234,128,128,20,167,106,181,86,163,130,215,110,149,191,10,227,215,8,214,154,178,181,15,19,0,247,250,97,74,43,157,55,94,174,41,41,9,199,97,20,91,32,18,10,43,98,240,247,203,20,250,117,160,44,229,202,187,64,54,124,15,184,169,129,27,160,240,26,61,255,60,166,60,144,209,84,55,187,186,168,13,124,125,29,17,100,249,227,62,205,78,179,163,168,139,168,21,38,83,239,151,74,43,66,2,92,72,71,94,216,134,238,20,45,158,213,164,73,57,80,47,198,184,130,223,227,71,132,133,235,177,85,174,142,124,172,200,54,229,40,126,60,76,92,216,153,56,241,174,66,141,90,226,3,30,68,234,71,187,163,112,146,255,22,143,170,204,3,127,179,81,139,160,37,77,246,128,220,196,158,153,73,177,65,199,119,29,197,144,130,248,206,155,253,108,213,124,7,223,221,162,146,134,242,65,99,162,107,120,247,214,207,96,150,169,131,208,218,221,28,24,112,208,23,1,130,142,232,56,104,45,33,158,95,255,123,31,74,76,120,178,155,213,6,195,164,8,8,69,241,197,127,83,169,21,167,19,94,143,252,33,159,248,241,170,153,147,1,149,199,201,131,170,79,236,212,209,143,107,98,24,123,56,33,193,85,247,64,225,135,210,78,145,57,16,145,71,170,20,133,87,235,4,166,239,100,82,235,81,50,223,9,193,52,49,86,129,190,196,82,165,107,63,115,161,98,33,20,193,29,42,151,205,252,124,72,245,48,181,67,7,13,21,127,59,226,188,144,129,112,244,192,121,213,80,42,196,1,13,107,108,78,0,40,121,225,148,237,234,209,216,238,9,147,226,254,96,89,212,72,193,106,75,135,74,227,67,255,92,191,81,188,124,226,149,152,142,15,159,195,238,114,55,255,166,157,230,59,148,170,166,151,65,213,104,253,253,112,150,82,147,137,27,214,100,247,65,81,92,47,86,217,7,45,120,81,130,31,236,243,76,78,3,45,105,172,220,71,48,220,94,196,249,163,193,133,50,236,205,20,55,2,63,14,127,69,113,212,204,12,58,79,89,86,29,61,199,201,64,149,6,144,182,150,129,31,18,167,120,248,82,107,25,143,128,27,161,28,25,153,183,217,238,78,186,106,92,27,202,219,165,96,0,216,234,169,73,101,39,182,113,217,240,170,116,172,221,250,233,48,49,242,83,227,92,181,184,72,230,180,21,15,108,135,25,38,153,25,124,227,26,149,73,236,39,211,244,149,58,183,132,26,223,219,174,144,117,233,219,165,205,157,159,222,184,52,47,241,201,123,65,24,44,55,215,177,168,250,179,115,190,227,123,158,163,179,224,69,196,66,207,254,243,101,221,193,140,250,4,28,222,52,96,138,160,33,218,64,118,214,234,201,152,148,91,178,111,107,144,142,6,182,102,72,188,34,213,181,26,223,58,255,103,81,17,47,169,11,245,224,123,148,215,237,186,107,75,152,90,202,166,22,149,197,5,246,238,78,76,229,106,199,94,127,195,0,45,82,6,159,103,96,138,231,71,46,107,59,216,39,43,12,221,27,214,56,155,145,66,187,169,250,235,78,211,179,239,183,198,163,93,5,196,24,174,143,225,106,139,89,98,13,127,207,184,194,30,1,165,198,169,8,197,118,86,163,221,138,23,209,61,116,79,99,233,43,130,60,244,85,229,243,172,123,148,200,120,192,127,211,52,11,159,41,95,212,230,188,169,156,137,29,212,12,148,168,148,133,243,44,241,139,127,24,246,220,227,125,209,97,60,52,162,192,146,49,161,92,138,112,189,128,59,126,125,46,207,60,79,231,174,152,209,68,223,205,2,38,14,91,116,159,255,28,27,178,248,164,104,158,79,69,214,234,157,12,75,163,83,253,245,202,61,213,176,6,197,230,29,208,166,253,194,254,235,29,141,241,70,249,15,62,0,148,163,135,52,122,40,96,87,31,179,152,51,216,133,184,122,198,203,60,115,218,191,193,16,178,25,148,252,112,104,103,252,36,92,221,28,179,43,199,198,151,128,100,252,217,161,249,34,201,172,118,52,180,252,104,7,223,44,116,102,212,21,40,224,184,55,163,210,21,207,161,239,51,54,155,41,133,18,67,48,3,165,130,251,4,79,214,57,72,130,157,212,144];function j(e,t,n){var r=e.gl,i=5,a=.1,o=.5,s=175/180*3.141593,c=115/180*3.141593,l=173/180*3.141593,u=116/180*3.141593,d=2.04203545,f=0,h=0,p=0,m=[],v=[0,1,3,4,6,7,9,10,12,13,15,16,18,19,21,22,24,26,29,31,34,36,39,41,44,46,49,51,54,56,59,61,64,65,66,67,68,69,70,72,73,74,75,76,77,79,80,81,82,83,84,85,87,88,89,90,91,92,94,95,96,97,98,99,101,102,103,104,105,106,107,109,110,111,112,113,114,116,117,118,119,120,121,123,124,125,126,127,128,129,131,132,133,134,135,136,138,139,140,141,142,143,145,146,147,148,149,150,151,153,154,155,156,157,158,160,161,162,163,164,165,166,168,169,170,171,172,173,175,176,177,178,179,180,182,183,184,185,186,187,188,190,191,192,193,194,195,197,198,199,200,201,202,204,205,206,207,208,209,210,212,213,214,215,216,217,219,220,221,222,223,224,226,226,226,227,227,227,228,228,228,229,229,229,230,230,231,231,231,232,232,232,233,233,233,234,234,235,235,235,236,236,236,237,237,237,238,238,239,239,239,240,240,240,241,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,32,33,35,36,37,39,40,42,43,44,46,47,49,50,51,53,54,56,57,58,59,61,62,63,64,66,67,68,69,71,72,73,74,76,77,78,79,81,82,83,84,86,87,88,90,91,92,93,95,96,97,98,100,101,102,103,105,106,107,108,110,111,112,113,115,116,117,118,120,121,122,124,125,126,127,129,130,131,132,134,135,136,137,139,140,141,142,144,145,146,147,149,150,151,152,154,155,156,158,159,160,161,163,164,165,166,168,169,170,171,173,174,175,176,178,179,180,181,183,184,185,186,188,189,190,192,193,194,195,197,198,199,200,202,203,204,205,207,208,209,210,212,213,214,215,217,218,219,220,222,223,224,226,226,226,227,227,228,228,229,229,230,230,231,231,232,232,233,233,234,234,234,235,235,236,236,237,237,238,238,239,239,240,240,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],b=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,43,44,45,46,47,48,50,51,52,53,54,55,56,58,59,60,61,62,63,65,66,67,68,69,70,72,73,74,76,77,78,80,81,83,84,85,87,88,89,91,92,94,95,96,98,99,100,102,103,105,106,107,109,110,111,113,114,116,117,118,120,121,122,124,125,127,128,129,131,132,133,135,136,138,139,140,142,143,144,146,147,149,150,151,153,154,155,157,158,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,192,193,193,194,195,195,196,197,197,198,199,199,200,201,201,202,203,203,204,205,205,206,207,207,208,209,209,210,211,211,212,213,213,214,215,215,216,217,217,218,219,219,220,221,221,222,223,223,224,225,225,226,227,227,228,229,229,230,231,231,232,233,233,234,235,235,236,237,237,238,239,239,240,241,241,242,243,243,244,245,245,246,247,247,248,249,249,250,251,251,252,253,253,254,255];this.program=g(r,N),this.setUniforms=function(){var t=r.getUniformLocation(this.program,"u_flipY"),n=r.getUniformLocation(this.program,"u_denoiseLevel");r.uniform1f(n,i),r.uniform1f(t,1);var v=r.getUniformLocation(this.program,"light");r.uniform1f(v,a);var g=r.getUniformLocation(this.program,"redness");r.uniform1f(g,o);var y=r.getUniformLocation(this.program,"skin_he_max"),b=r.getUniformLocation(this.program,"skin_he_min"),_=r.getUniformLocation(this.program,"skin_hc_max"),x=r.getUniformLocation(this.program,"skin_hc_min"),w=r.getUniformLocation(this.program,"skin_hc_axis"),S=r.getUniformLocation(this.program,"facts_rotate_c"),E=r.getUniformLocation(this.program,"facts_rotate_le"),k=r.getUniformLocation(this.program,"facts_rotate_ge");r.uniform1f(y,s),r.uniform1f(b,c),r.uniform1f(_,l),r.uniform1f(x,u),r.uniform1f(w,d),r.uniform1f(S,f),r.uniform1f(E,h),r.uniform1f(k,p);var N=r.getUniformLocation(this.program,"u_originImage");r.activeTexture(r.TEXTURE2),r.bindTexture(r.TEXTURE_2D,e.inputTexture),r.uniform1i(N,2);for(var j=["lighten_lut"],T=[r.TEXTURE3],I=0;I<j.length;I++){var C=r.getUniformLocation(this.program,j[I]);r.activeTexture(T[I]),r.bindTexture(r.TEXTURE_2D,m[I]),r.uniform1i(C,I+3)}},this.setParameters=function(e){void 0!==e.denoiseLevel&&(i=e.denoiseLevel),void 0!==e.lightLevel&&(a=e.lightLevel),void 0!==e.rednessLevel&&(o=e.rednessLevel,this._updateRedness(o)),void 0!==e.lighteningContrastLevel&&this._updateLut(e.lighteningContrastLevel)},this._updateRedness=function(e){var t,n,r=3.141593,i=e,a=i;i>1&&(i=1),i<0&&(i=0),a>1&&(a=1),a<0&&(a=0),f=.8*i,a<.8&&(a=0),(d=(117-4*a)/180*r)<(u=(116-4*a)/180*r)&&(d=u),u<r/2&&(u=r/2),d<r/2&&(d=r/2),(c=(115-4*a)/180*r)<r/2&&(c=r/2),(l=173/180*r)>r&&(l=r),d>r&&(d=r),(s=175/180*r)>r&&(s=r),n=l-d,p=(t=s-l)>.01?f*n/t:f,n=d-u,h=(t=u-c)>.01?f*n/t:f},this._updateLut=function(e){var t=null;0==e&&(t=y),1==e&&(t=b),2==e&&(t=v);for(var n=[new Uint8Array(t)],i=[256],a=[1],o=0;o<n.length;o++)r.bindTexture(r.TEXTURE_2D,m[o]),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,i[o],a[o],0,r.LUMINANCE,r.UNSIGNED_BYTE,n[o])},this._init=function(){for(var e=[new Uint8Array(y)],t=[256],n=[1],i=0;i<e.length;i++){var a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,t[i],n[i],0,r.LUMINANCE,r.UNSIGNED_BYTE,e[i]),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),m.push(a)}},this._init()}var T=!1;function I(){this.programs=[];var e=this,t=null,n=null;e.gl=null,e.inputTexture=null;var r=[],i=[],a=0,o=0;e._initGl=function(n,s){e.inputTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,e.inputTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR);for(var c=0;c<4;c++){var l=t.createTexture();t.bindTexture(t.TEXTURE_2D,l),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),c<2?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,s,0,t.RGBA,t.UNSIGNED_BYTE,null):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,s,n,0,t.RGBA,t.UNSIGNED_BYTE,null);var u=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,u),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,l,0),r.push(l),i.push(u)}t.viewport(0,0,n,s),a=n,o=s},e.render=function(s){if(t){var c=0;o==s.videoWidth&&a===s.videoHeight&&(c=2),t.viewport(0,0,s.videoWidth,s.videoHeight),t.bindTexture(t.TEXTURE_2D,e.inputTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,s);for(var l=T?e.programs.length-1:0,u=0;u<=l;u++){var d=e.programs[u].program;t.useProgram(d);var f=t.getUniformLocation(d,"u_image");e.programs[u].setUniforms(),t.bindFramebuffer(t.FRAMEBUFFER,i[c+u%2]),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLES,0,6),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,r[c+u%2]),t.uniform1i(f,0)}t.useProgram(n);var h=t.getUniformLocation(n,"u_flipY");t.uniform1f(h,-1),t.bindFramebuffer(t.FRAMEBUFFER,null),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLES,0,6)}},e.setEnableBeauty=function(e){T=e},e.init=function(r,i,a){if("undefined"==typeof WebGLRenderingContext)throw new Error("NOT_SUPPORT");t=a.getContext("webgl"),e.gl=t,e._initGl(r,i),e.programs.push(new b(this,r,i)),e.programs.push(new x(this,r,i)),e.programs.push(new S(this,r,i)),e.programs.push(new k(this,r,i)),e.programs.push(new j(this,r,i)),n=e.programs[0].program},e.release=function(){e.gl=null,t=null,n=null,e.inputTexture=null,e.programs=[],r=[],i=[]},e.setDenoiseLevel=function(t){e.programs.forEach((function(e){e.setParameters&&e.setParameters({denoiseLevel:t})}))},e.setLightLevel=function(t){e.programs.forEach((function(e){e.setParameters&&e.setParameters({lightLevel:t})}))},e.setRednessLevel=function(t){e.programs.forEach((function(e){e.setParameters&&e.setParameters({rednessLevel:t})}))},e.setContrastLevel=function(t){e.programs.forEach((function(e){e.setParameters&&e.setParameters({lighteningContrastLevel:t})}))},e.setSize=function(t,n){e.programs.forEach((function(e){e.setSize&&e.setSize(t,n)}))}}I._instance=null,I.getInstance=function(){return I._instance||(I._instance=new I),I._instance},t.a={addVideoEffectCapability:function(e){e.videoEffect={canvas:null,video:null,fps:30,stopChromeBackgroundLoop:null,enableBeauty:!1,denoiseLevel:5,lightLevel:.35,rednessLevel:.5,lighteningContrastLevel:1,videoContextInited:!1,originVideoTrack:null,canvasVideoTrack:null,ctx:null},e._initVideoContext=function(){if(e.videoEffect.videoContextInited)throw new Error("Failed to init video context. Already inited");if(!e.stream)throw new Error("Failed to init video context. Local Stream not initialized");e.videoEffect.originVideoTrack=e.stream.getVideoTracks()[0],e.attributes&&e.attributes.maxFrameRate&&(e.videoEffect.fps=e.attributes.maxFrameRate),e.videoEffect.videoContextInited=!0},e._renderWithWebGL=function(t){return new Promise((function(n){e.videoEffect.canvas||(e.videoEffect.canvas=document.createElement("canvas")),e.videoEffect.video||(e.videoEffect.video=document.createElement("video")),e.videoEffect.video.setAttribute("autoplay",""),e.videoEffect.video.setAttribute("muted",""),e.videoEffect.video.muted=!0,e.videoEffect.video.setAttribute("playsinline",""),e.videoEffect.video.setAttribute("style","display:none"),e.videoEffect.video.srcObject=t;var r=t.getVideoTracks()[0].getSettings(),i=r.width,a=r.height;e.videoEffect.canvas.setAttribute("width",i),e.videoEffect.canvas.setAttribute("height",a),e.videoEffect.video.setAttribute("width",i),e.videoEffect.video.setAttribute("height",a);var o=I.getInstance();o.init(e.videoEffect.video.width,e.videoEffect.video.height,e.videoEffect.canvas),o.setDenoiseLevel(e.videoEffect.denoiseLevel),o.setLightLevel(e.videoEffect.lightLevel),o.setRednessLevel(e.videoEffect.rednessLevel),o.setContrastLevel(e.videoEffect.lighteningContrastLevel),e.videoEffect.video.addEventListener("playing",(function t(){var r=e.videoEffect.canvas.captureStream(e.videoEffect.fps);e.videoEffect.video.removeEventListener("playing",t,!0),n([r.getVideoTracks()[0],e.videoEffect.video])}),!0),e.videoEffect.video.play()}))},e._disableEffect=function(){e.videoEffect.videoContextInited||e._initVideoContext();var t=e.videoEffect.originVideoTrack;if(!t)return f.default.warning("Video track is null, fail to disable video effect!"),Promise.resolve();if(e.pc&&e.pc.peerConnection&&e.pc.peerConnection){var n=(e.pc.peerConnection&&e.pc.peerConnection.getSenders()).find((function(e){return e&&e.track&&"video"==e.track.kind}));if(n&&n.replaceTrack&&t)return n.replaceTrack(t)}return Promise.resolve()},e._releaseEffect=function(){var t;return t=e.videoEffect.enableBeauty?e._disableEffect():Promise.resolve(),I.getInstance().release(),e.videoEffect.videoContextInited=!1,e.videoEffect.canvasVideoTrack=null,t},e._enableEffect=function(){return e.videoEffect.videoContextInited||e._initVideoContext(),e.videoEffect.originVideoTrack?e.videoEffect.canvasVideoTrack?(e._showEffectInLocalPlayer(),e._replaceWithCanvasTrack()):e._renderWithWebGL(e.stream).then((function(t){var n=c()(t,2),r=n[0],i=n[1];e.videoEffect.canvasVideoTrack=r;var a=I.getInstance();return requestAnimationFrame((function t(){e.videoEffect.enableBeauty&&a.render(i),e.videoEffect.videoContextInited&&requestAnimationFrame(t)})),l.isChrome()&&document.addEventListener("visibilitychange",(function(){document.hidden,document.hidden?e.videoEffect.stopChromeBackgroundLoop=function(e,t){var n=1/t,r=new AudioContext,i=r.createGain();i.gain.value=0,i.connect(r.destination),function t(){var o=r.createOscillator();o.onended=t,o.connect(i),o.start(0),o.stop(r.currentTime+n),e(r.currentTime),a&&(o.onended=function(){r.close()})}();var a=!1;return function(){a=!0}}((function(){e.videoEffect.enableBeauty&&a.render(i)}),e.videoEffect.fps):e.videoEffect.stopChromeBackgroundLoop&&(e.videoEffect.stopChromeBackgroundLoop(),e.videoEffect.stopChromeBackgroundLoop=null)}),!1),e._showEffectInLocalPlayer(),e._replaceWithCanvasTrack()})):(f.default.warning("Video track is null, fail to enable video effect!"),Promise.resolve())},e._showEffectInLocalPlayer=function(){if(e.player){var t=e.player.div.children[0];if("none"!==t.style.display&&(e.player.div.appendChild(e.videoEffect.canvas),"video"===t.tagName.toLowerCase())){var n=t.getAttribute("style");e.videoEffect.canvas.setAttribute("style",n),"none"!==t.style.display&&(t.style.display="none")}}},e._removeEffectFromLocalPlayer=function(){if(e.player&&e.player.div&&e.videoEffect.enableBeauty&&e.videoEffect.canvas){e.player.div.removeChild(e.videoEffect.canvas);var t=e.player.div.children[0];"video"===t.tagName.toLowerCase()&&(e.videoEffect.canvas.style.display="none",t.style.display="block")}},e._replaceWithCanvasTrack=function(){var t=null;return e.pc&&e.pc.peerConnection&&e.pc.peerConnection&&(t=(e.pc.peerConnection&&e.pc.peerConnection.getSenders()).find((function(e){return e&&e.track&&"video"==e.track.kind}))),t&&t.replaceTrack&&e.videoEffect.canvasVideoTrack?t.replaceTrack(e.videoEffect.canvasVideoTrack):Promise.resolve()},e.setBeautyEffectOptions=function(){var t=o()(i.a.mark((function t(n,r){var a,o=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(d.checkValidBoolean)(n,"enabled"),a=I.getInstance(),e.videoEffect.enableBeauty==n){t.next=14;break}if(a.setEnableBeauty(n),!n){t.next=9;break}return t.next=7,e._enableEffect();case 7:t.next=12;break;case 9:return e._removeEffectFromLocalPlayer(),t.next=12,e._releaseEffect();case 12:e.videoEffect.enableBeauty=n,u.report.reportApiInvoke(e.sid,{callback:null,options:o,name:"Stream.setBeautyEffectOptions",tag:"tracer"});case 14:if(n){t.next=16;break}return t.abrupt("return");case 16:if(!r){t.next=20;break}Object(d.checkValidObject)(r,"options"),t.next=21;break;case 20:return t.abrupt("return");case 21:if(void 0!==r.smoothnessLevel&&(Object(d.checkValidFloatNumber)(r.smoothnessLevel,"smoothnessLevel",0,1),e.videoEffect.denoiseLevel=10*r.smoothnessLevel,e.videoEffect.denoiseLevel<.1&&(e.videoEffect.denoiseLevel=.1),a.setDenoiseLevel(e.videoEffect.denoiseLevel)),void 0!==r.lighteningLevel&&(Object(d.checkValidFloatNumber)(r.lighteningLevel,"lighteningLevel",0,1),e.videoEffect.lightLevel=r.lighteningLevel/2,e.videoEffect.lightLevel<.01&&(e.videoEffect.lightLevel=.01),a.setLightLevel(e.videoEffect.lightLevel)),void 0!==r.rednessLevel&&(Object(d.checkValidFloatNumber)(r.rednessLevel,"rednessLevel",0,1),e.videoEffect.rednessLevel=r.rednessLevel,e.videoEffect.rednessLevel<.01&&(e.videoEffect.rednessLevel=.01),a.setRednessLevel(e.videoEffect.rednessLevel)),void 0===r.lighteningContrastLevel){t.next=29;break}if(0===r.lighteningContrastLevel||1===r.lighteningContrastLevel||2===r.lighteningContrastLevel){t.next=27;break}throw new Error("Invalid lighteningContrastLevel: The value should be 0, 1 or 2.");case 27:e.videoEffect.lighteningContrastLevel=parseFloat(r.lighteningContrastLevel),a.setContrastLevel(e.videoEffect.lighteningContrastLevel);case 29:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},restoreVideoEffect:function(e){return e.videoEffect.enableBeauty?e._enableEffect():Promise.resolve()},disableVideoEffect:function(e){return e._releaseEffect?e._releaseEffect():Promise.resolve()},applyEffectInPlayer:function(e){e.videoEffect.enableBeauty&&e.videoEffect.canvas&&e._showEffectInLocalPlayer()},removeEffectFromLocalPlayer:function(e){e._removeEffectFromLocalPlayer()},replaceWithCanvasTrack:function(e){return e.videoEffect.enableBeauty?e._replaceWithCanvasTrack():Promise.resolve()},checkVideoEffectEnabled:function(e){return!!(e.videoEffect.enableBeauty&&e.videoEffect&&e.videoEffect.videoContextInited)&&(f.default.error("Operation not permitted: ".concat("VIDEO_EFFECT_ENABLED")),"VIDEO_EFFECT_ENABLED")}}},function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,c,"next",e)}function c(e){n(o,i,a,s,c,"throw",e)}s(void 0)}))}}},function(e,t,n){"use strict";var r=n(38),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(7),i=n.n(r),a=n(8),o=n(0),s=n(5);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=new function(){var e=Object(a.b)();return e.devicesHistory={},e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.deviceStates={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},e.deviceReloadTimer=null,e._init=function(t,n){e.state=e.states.INITING,e.devicesHistory={},e._reloadDevicesInfo((function(){e.state=e.states.INITED,e.dispatchEvent({type:"inited"}),t&&t()}),(function(t){o.default.warning("Device Detection functionality cannot start properly."),e.state=e.states.UNINIT,n&&n(t)}))},e._enumerateDevices=function(e,t){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return o.default.warning("enumerateDevices() not supported."),t&&t("enumerateDevices() not supported");navigator.mediaDevices.enumerateDevices().then((function(t){e&&setTimeout((function(){e(t)}),0)})).catch((function(e){t&&t(e)}))},e._reloadDevicesInfo=function(t,n){var r=[];e._enumerateDevices((function(n){var a=Date.now();for(var s in n.forEach((function(t){var n=e.devicesHistory[t.deviceId];if((n?n.state:e.deviceStates.INACTIVE)!=e.deviceStates.ACTIVE){var i=n||{initAt:a};i.device=t,i.state=e.deviceStates.ACTIVE,r.push(i),e.devicesHistory[t.deviceId]=i}e.devicesHistory[t.deviceId].lastReloadAt=a})),e.devicesHistory){var c=e.devicesHistory[s];c&&c.state==e.deviceStates.ACTIVE&&c.lastReloadAt!==a&&(c.state=e.deviceStates.INACTIVE,r.push(c)),c.lastReloadAt=a}e.state==e.states.INITED&&r.forEach((function(t){var n=i()({},t);switch(t.device.kind){case"audioinput":n.type="recordingDeviceChanged";break;case"audiooutput":n.type="playoutDeviceChanged";break;case"videoinput":n.type="cameraChanged";break;default:o.default.warning("Unknown device change",n),n.type="unknownDeviceChanged"}e.dispatchEvent(n)})),t&&t()}),n)},e.getDeviceById=function(t,n,r){e.getDevices((function(e){for(var i=0;i<e.length;i++){var a=e[i];if(a&&a.deviceId===t)return n&&n(a)}return r&&r()}))},e.searchDeviceNameById=function(t){var n=e.devicesHistory[t];return n?n.device.label||n.device.deviceId:null},e.getDevices=function(t,n){e._enumerateDevices(t,(function(e){n&&n(e.name+": "+e.message)}))},e.getVideoCameraIdByLabel=function(t,n,r){e.getCameras((function(e){var i,a=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){o=!0,i=e})),f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o.label===t)return n&&n(o.deviceId)}}catch(e){a.e(e)}finally{a.f()}return r&&r(s.default.NOT_FIND_DEVICE_BY_LABEL)}),r)},e.getRecordingDevices=function(t,n){return e._enumerateDevices((function(e){var n=e.filter((function(e){return"audioinput"==e.kind}));t&&t(n)}),(function(e){n&&n(e)}))},e.getPlayoutDevices=function(t,n){return e._enumerateDevices((function(e){var n=e.filter((function(e){return"audiooutput"==e.kind}));t&&t(n)}),(function(e){n&&n(e)}))},e.getCameras=function(t,n){return e._enumerateDevices((function(e){var n=e.filter((function(e){return"videoinput"==e.kind}));t&&t(n)}),(function(e){n&&n(e)}))},e._init((function(){navigator.mediaDevices&&navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",(function(){e._reloadDevicesInfo()})),e.deviceReloadTimer=setInterval(e._reloadDevicesInfo,5e3)})),e}},function(e,t,n){"use strict";n.r(t),n.d(t,"_getReconnectCSTimer",(function(){return N})),n.d(t,"_setClientConnectionStateRecord",(function(){return j})),n.d(t,"getGatewayList",(function(){return I})),n.d(t,"getUserAccount",(function(){return R}));var r=n(11),i=n.n(r),a=n(12),o=n.n(a),s=n(17),c=n.n(s),l=n(2),u=(n(4),n(0)),d=n(14),f=n(1),h=n(5),p=function(e,t){var n=!1,r=0,i=Object(l.getParameter)("PROXY_CS"),a=Object(l.getParameter)("CHOOSE_SERVER_FRAGEMENT_LENGTH"),o=0,s={command:"convergeAllocateEdge",sid:e.sid,appId:e.appId,token:e.token,uid:e.uid,cname:e.cname,ts:Math.floor(Date.now()/1e3),version:l.VERSION,seq:0,requestId:1},c=function(c){var l=(new Date).getTime();m("https://"+c+"/api/v1",s,(function(s,h){if(s)return u.default.debug("["+e.clientId+"] Request proxy server failed: ",s),r++,f.report.requestProxyAppCenter(e.sid,{lts:l,succ:!1,APAddr:c,workerManagerList:null,ec:JSON.stringify(s),response:JSON.stringify({err:s,res:h})}),r>=i.length&&t&&t("Get proxy server failed: request all failed"),void(!(r%a)&&r<i.length&&(o++,d()));if(!n)if((h=JSON.parse(h)).json_body){var p=JSON.parse(h.json_body);if(u.default.debug("["+e.clientId+"] App return:",p.servers),200!==p.code)s="Get proxy server failed: response code ["+p.code+"], reason [ "+p.reason+"]",r++,u.default.debug("["+e.clientId+"] "+s),f.report.requestProxyAppCenter(e.sid,{lts:l,succ:!1,APAddr:c,workerManagerList:null,ec:s,response:JSON.stringify({err:s,res:h})}),r>=i.length&&t&&t(s),!(r%a)&&r<i.length&&(o++,d());else{n=!0;var m=g(p.servers);f.report.requestProxyAppCenter(e.sid,{lts:l,succ:!0,APAddr:c,workerManagerList:JSON.stringify(m),ec:null,response:JSON.stringify({res:h})}),t&&t(null,m)}}else u.default.debug("["+e.clientId+"] Get proxy server failed: no json_body"),f.report.requestProxyAppCenter(e.sid,{lts:l,succ:!1,APAddr:c,workerManagerList:null,ec:"Get proxy server failed: no json_body",response:JSON.stringify({res:h})})}))},d=function(){for(var e=o*a,t=e;t<Math.min(i.length,e+a);t++){var n=i[t];c(n)}};d()},m=function(e,t,n){var r={service_name:"webrtc_proxy",json_body:JSON.stringify(t)};Object(d.post)(e,r,(function(e){n&&n(null,e)}),(function(e){n&&n(e)}),{"X-Packet-Service-Type":0,"X-Packet-URI":61})},v=function(e,t,n){var r=!1,i=0,a={command:"request",gatewayType:"http",appId:e.appId,cname:e.cname,uid:e.uid+"",sdkVersion:"2.3.1",sid:e.sid,seq:1,ts:+new Date,requestId:3,clientRequest:{appId:e.appId,cname:e.cname,uid:e.uid+"",sid:e.sid}};t.map((function(o){var s=(new Date).getTime();!function(e,t,n){Object(d.post)(e,t,(function(e){n&&n(null,e)}),(function(e){n&&n(e)}))}("https://"+o+":4000/v2/machine",a,(function(a,c){if(a)return u.default.debug("["+e.clientId+"] Request worker manager failed: ",a),i++,f.report.requestProxyWorkerManager(e.sid,{lts:s,succ:!1,workerManagerAddr:o,ec:JSON.stringify(a),response:JSON.stringify({res:c})}),void(i>=t.length&&n&&n("requeet worker manager server failed: request failed"));if(!r){if(!(c=JSON.parse(c)).serverResponse)return n&&n("requeet worker manager server failed: serverResponse is undefined");r=!0,f.report.requestProxyWorkerManager(e.sid,{lts:s,succ:!0,workerManagerAddr:o,ec:JSON.stringify(a),response:JSON.stringify({res:c})}),n&&n(null,{address:o,serverResponse:c.serverResponse})}}))}))},g=function(e){if(!e||[]instanceof Array==0)return[];var t=[];return e.forEach((function(e){var n;e.address&&e.tcp?(e.address.match(/^[\.\:\d]+$/)?n="".concat(e.address.replace(/[^\d]/g,"-"),".edge.agora.io"):(u.default.info("["+joinInfo.clientId+"] "+"Cannot recognized as IP address ".concat(e.address,". Used As Host instead")),n="".concat(e.address,":").concat(e.tcp)),t.push(n)):u.default.error("["+joinInfo.clientId+"] Invalid address format ",e)})),t},y=n(21),b=function(e,t,n,r){var i=Object(l.getParameter)("WEBCS_DOMAIN").concat(Object(l.getParameter)("WEBCS_DOMAIN_BACKUP_LIST")),a=Object(l.getParameter)("PROXY_SERVER_TYPE3");i=i.map((function(e,t){return"".concat(a[(t+1)%a.length],"/ap/?url=").concat(e)}));var o,s=0,c=!0,p=Object(l.getParameter)("CHOOSE_SERVER_FRAGEMENT_LENGTH"),m=0,v=function(v){!function(e,t,n,r,i){var a=Date.now(),o=function(e,r){try{f.report.joinChooseServer2(n.sid,{lts:a,succ:!e,csAddr:t,serverList:r&&r.gateway_addr,cid:r&&r.cid+"",uid:r&&r.uid+"",ec:e,chooseServerIp:r&&r.detail&&r.detail[502]})}catch(e){}},s=function(r,i){var o=Date.now();try{f.report.joinWebProxyAP({lts:o,sid:n.sid,cname:n.cname,cid:n.cid,uid:n.uid,sucess:r?-1:1,elapse:o-a,eventType:e,apServerAddr:t,turnServerAddrList:JSON.stringify(i),errorCode:r||"0"})}catch(e){}},c=Object(l.getParameter)("AREA_SETTING").reduce((function(e,t,n){var r=Object(y.getAreaCodeByArea)(t);return r?0===n?r:"".concat(e,",").concat(r):e}),""),p={appid:n.token,client_ts:Date.now(),opid:133,sid:n.sid,request_bodies:[{uri:22,buffer:{cname:n.cname,detail:{11:c,6:n.stringUid},key:n.token,service_ids:[11,i?20:18],uid:n.uid||0}}]};t="https://".concat(t,"/api/v2/transpond/webrtc?v=2"),Object(d.postFormData)(t,p,(function(e){var a=function(e){return new RegExp(/10102\d{2}$/).test(e)?"NO_SERVICE_AVAILABLE":h.APErrorCode[e]||e};try{var c,d,f=JSON.parse(e);if(30===(f=f.response_body)[0].uri&&0!==f[0].buffer.code){var p=a(f[0].buffer.code);return s(p,f),r(p)}if(4096===f[0].buffer.flag?(d=f[0].buffer,c=f[1].buffer):(d=f[1].buffer,c=f[0].buffer),0!==c.code)return p=a(c.code),u.default.error("[".concat(n.clientId,"] requestProxyServer failed: ").concat(p)),s(p,c),r(p);if(!c.edges_services||!c.edges_services instanceof Array)return s("UNEXPECTED_ERROR",c),r("UNEXPECTED_ERROR");var m=Object(l.getParameter)("GATEWAY_DOMAINS"),v=0;if(t.indexOf(m[1])>-1&&(v=1),0===c.edges_services.length)return s("EMPTY_PROXY_LIST",c),r("EMPTY_PROXY_LIST");var g=c.edges_services.map((function(e){if(e.ip)return e.ip=i?"".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(m[v++%m.length]):"".concat(e.ip),e}));if(s(null,g),0!==d.code)return p=a(d.code),u.default.error("[".concat(n.clientId,"] requestChooseServer failed: ").concat(p)),o(p),r(p);var y=[];if(m=Object(l.getParameter)("GATEWAY_DOMAINS"),v=0,t.indexOf(m[1])>-1&&(v=1),d.edges_services.forEach((function(e){var r;if(e.ip&&e.port){if(!e.ip.match(/^[\.\:\d]+$/))return u.default.info("["+n.clientId+"] "+"Cannot recognized as IP address ".concat(e.ip,". Used As Host instead")),void o("UNEXPECTED_IP");r="".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(m[v++%m.length]);var i=Object(l.getParameter)("PROXY_SERVER_TYPE3");r=/sd-rtn/.test(t)?"".concat(i[0],"/ws/?h=").concat(r,"&p=").concat(e.port):"".concat(i[1],"/ws/?h=").concat(r,"&p=").concat(e.port),y.push(r)}else u.default.error("["+n.clientId+"] Invalid address format ",e)})),!y.length)return u.default.error("["+n.clientId+"] Empty Address response",f),o("EMPTY_ADDRESS_RESPONSE"),r("EMPTY_ADDRESS_RESPONSE");d.ticket=d.cert;var b={gateway_addr:y,uid:d.uid,cid:d.cid,vid:d.detail&&d.detail[8],res:d,detail:f.detail};o(null,b),r(null,{gatewayServers:b,turnServers:g})}catch(e){return u.default.error("[".concat(n.clientId,"] requestProxyServer failed with unexpected body "),e),s("UNEXPECTED_ERROR"),r("UNEXPECTED_ERROR")}}),(function(e,t){"timeout"===e.type?(s("REQUEST_PROXY_SERVER_TIME_OUT"),r("REQUEST_PROXY_SERVER_TIME_OUT")):(s("REQUEST_PROXY_SERVER_FAILED"),r("REQUEST_PROXY_SERVER_FAILED"))}))}(e,v,t,(function(e,r){e?(s++,u.default.error("[".concat(t.clientId,"] request ").concat(v," failed: ").concat(e)),e&&-1===h.JOIN_PROXY_RETRY_LIST.indexOf(e)&&(o=e),s===i.length&&(o||(o="RETRYABLE_ERROR"),n(o)),!(s%p)&&s<i.length&&(m++,g())):c&&(/sd-rtn/.test(r.gatewayServers.gateway_addr[0])?Object(l.setParameter)("NGINX",a[0]):Object(l.setParameter)("NGINX",a[1]),c=!1,n(null,r))}),r)},g=function(){for(var e=m*p,t=e;t<Math.min(i.length,e+p);t++){var n=i[t];v(n)}};g()},_=n(13),x=n(29),w=n.n(x),S=n(30),E={},k={},N=function(e){return E[e]},j=function(e,t){k[e]=t},T=function(e,t,n,r,i,a){var o=(new Date).getTime(),s=t,c="";t.multiIP&&t.multiIP.gateway_ip&&(c={vocs_ip:[t.multiIP.uni_lbs_ip],vos_ip:[t.multiIP.gateway_ip]});var p=Object(l.getParameter)("AREA_SETTING").reduce((function(e,t,n){var r=Object(y.getAreaCodeByArea)(t);return r?0===n?r:"".concat(e,",").concat(r):e}),""),m={appid:t.token,opid:133,client_ts:+new Date,sid:t.sid,request_bodies:[{uri:22,buffer:{cname:t.cname,detail:{5:c?JSON.stringify(c):void 0,6:t.stringUid,11:p},key:t.token,service_ids:[11],uid:t.uid||0}}]};Object(d.postFormData)(e,m,(function(i){try{var c=JSON.parse(i),d=(c=c.response_body[0].buffer).code}catch(e){var p="requestChooseServer failed with unexpected body "+i;return u.default.error("["+s.clientId+"]",p),r(p,void 0,void 0,a)}if(d)return y=new RegExp(/10102\d{2}$/).test(d)?"NO_SERVICE_AVAILABLE":h.APErrorCode[c.code]||d,f.report.joinChooseServer(t.sid,{lts:o,succ:!1,csAddr:e,serverList:null,ec:y,chooseServerIp:c&&c.detail&&c.detail[502]}),r("Get server node failed ["+y+"]",e,y,a);var m=[],v=Object(l.getParameter)("GATEWAY_DOMAINS"),g=0;if(e.indexOf(v[1])>-1&&(g=1),c.edges_services.forEach((function(e){var t;e.ip&&e.port?(e.ip.match(/^[\.\:\d]+$/)?t="".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(v[g++%v.length],":").concat(e.port):(u.default.info("["+s.clientId+"] "+"Cannot recognized as IP address ".concat(e.ip,". Used As Host instead")),t="".concat(e.ip,":").concat(e.port)),m.push(t)):u.default.error("["+s.clientId+"] Invalid address format ",e)})),!m.length){u.default.error("["+s.clientId+"] Empty Address response",c);var y="EMPTY_ADDRESS_RESPONSE";return f.report.joinChooseServer(t.sid,{lts:o,succ:!1,csAddr:e,serverList:null,ec:y,chooseServerIp:c&&c.detail&&c.detail[502]}),r("Get server node failed ["+y+"]",e,y,a)}c.ticket=c.cert;var b={gateway_addr:m,uid:c.uid,cid:c.cid,vid:c.detail&&c.detail[8],res:c,uni_lbs_ip:c.detail};return n(b,e)}),(function(e,n){"timeout"===e.type?(f.report.joinChooseServer(t.sid,{lts:o,succ:!1,csAddr:n,serverList:null,ec:"timeout"}),r("Connect choose server timeout",n,void 0,a)):(f.report.joinChooseServer(t.sid,{lts:o,succ:!1,csAddr:n,serverList:null,ec:e.httpErrorCode||"server_wrong"}),r("Connect choose server error",n,void 0,a))}))},I=function(e,t,n){var r=!1,i=null,a=1,o=1,s=e.clientId,c=function t(o,c){if(!r){var d=[];!function(e,t,n){var r,i=(new Date).getTime(),a=!1,o=0,s=0,c=Object(l.getParameter)("WEBCS_DOMAIN"),d=c.length,p=Object(l.getParameter)("WEBCS_DOMAIN_BACKUP_LIST"),m=p.length,v=Object(l.getParameter)("CHOOSE_SERVER_FRAGEMENT_LENGTH"),g=0,b=0,_=function(n,r){var o;try{o=n.res.detail[8]}catch(t){u.default.debug("["+e.clientId+"] get vid failed",t)}if(a)f.report.joinChooseServer(e.sid,{lts:i,succ:!0,csAddr:r,serverList:n.gateway_addr,cid:n.cid+"",uid:n.uid+"",ec:null,vid:o,chooseServerIp:n.res&&n.res.detail&&n.res.detail[502]},!1);else{if(clearTimeout(E),a=!0,e.proxyServer)for(var s=n.gateway_addr,c=0;c<s.length;c++){var l=s[c].split(":");n.gateway_addr[c]=e.proxyServer+"/ws/?h="+l[0]+"&p="+l[1]}t(n),f.report.joinChooseServer(e.sid,{lts:i,succ:!0,csAddr:r,serverList:n.gateway_addr,cid:n.cid+"",uid:n.uid+"",ec:null,vid:o,chooseServerIp:n.res&&n.res.detail&&n.res.detail[502]},!0)}},x=function(t,i,a,c){"domain"===c&&o++,"backup"===c&&s++,u.default.error("["+e.clientId+"]",t,i,a),a&&-1===h.JOIN_CS_RETRY_LIST.indexOf(a)&&(r=a),o===d&&s===m&&n(r),"domain"===c&&!(o%v)&&o<d&&(g++,w()),"backup"===c&&!(s%v)&&s<m&&(b++,S())},w=function t(){for(var n=g*v,r=n;r<Math.min(d,n+v);++r){var i;if("string"==typeof c[r]){var a=c[r];i=e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(a+"/api/v2/transpond/webrtc?v=2"):"https://".concat(a,"/api/v2/transpond/webrtc?v=2");var s=Object(y.getAreaCodeByWebCS)(a);u.default.debug("["+e.clientId+"] "+"Connect to choose_server: ".concat(i,", ").concat(s)),T(i,e,_,x,0,"domain")}else o++,u.default.error("["+e.clientId+"] Invalid Host",c[r]),r===n+v-1&&r<d-1-1&&(g++,t())}};w();var S=function t(){if(!a)for(var n=b*v,r=n;r<Math.min(m,n+v);r++){var i;if("string"==typeof p[r]){var o=p[r];i=e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(o+"/api/v2/transpond/webrtc?v=2"):"https://".concat(o,"/api/v2/transpond/webrtc?v=2");var c=Object(y.getAreaCodeByWebCS)(o);u.default.debug("["+e.clientId+"] "+"Connect to backup_choose_server: ".concat(i,", ").concat(c)),T(i,e,_,x,0,"backup")}else s++,u.default.error("["+e.clientId+"] Invalid Host",p[r]),r===n+v-1&&r<p-1-1&&(g++,t())}},E=setTimeout(S,1e3)}(e,(function(t){r=!0,d=t,clearTimeout(i),k[s]!==_.a.DISCONNECTED&&k[s]!==_.a.DISCONNECTING?c&&c(d,null):u.default.debug("[".concat(e.clientId,"] Request gateway list success when connection state is ").concat(k[s]))}),(function(r){if(r)return u.default.info("["+e.clientId+"] Join failed: "+r),void(n&&n(r));if(k[s]===_.a.DISCONNECTED||k[s]===_.a.DISCONNECTING)return u.default.debug("[".concat(e.clientId,"] Request gateway list falied when connection state is ").concat(k[s])),void(n&&n("OPERATION_ABORT"));u.default.debug("["+e.clientId+"] Request gateway list will be restart in "+a+"s"),i=setTimeout((function(){t(o,c)}),1e3*a),E[s]=i;var d=Object(l.getParameter)("AP_BACKOFF_MAX_TIME");a=a>=d?d:2*a}))}},d=function n(){!function(e,t){p(e,(function(n,r){if(n)return t&&t(n);u.default.debug("["+e.clientId+"] getProxyServerList: ",r),v(e,r,t)}))}(e,(function(r,a){if(r){u.default.debug("["+e.clientId+"]",r),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+o+"s"),i=setTimeout((function(){n()}),1e3*o),E[s]=i;var d=Object(l.getParameter)("AP_BACKOFF_MAX_TIME");o=o>=d?d:2*o}else{clearTimeout(i);var h=a.address;e.proxyServer=h;var p={mode:"manual",url:a.address,tcpport:a.serverResponse.tcpport||"3433",udpport:a.serverResponse.udpport||"3478",username:a.serverResponse.username||"test",credential:a.serverResponse.password||Object(l.getParameter)("TURN_SERVER_PASSWORD"),forceturn:!0};p.tcpport+="",p.udpport+="",e.turnServers=[],e.turnServers.push(p),f.report.setProxyServer(h),u.default.setProxyServer(h),c(h,t)}}))};e.useProxyServer?1==e.proxyServerType?d():2==e.proxyServerType?function n(){!function(e,t){p(e,(function(n,r){return n?t&&t(n):(u.default.debug("["+e.clientId+"] getProxyServerList: ",r),t&&t(null,{address:r[0],serverResponse:{tcpport:"443",udpport:"3478",username:"test",password:"111111"}}))}))}(e,(function(r,a){if(r)return u.default.debug("["+e.clientId+"]",r),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+o+"s"),i=setTimeout((function(){n()}),1e3*o),E[s]=i,void(o=o>=3600?3600:2*o);clearTimeout(i);var d=Object(l.getParameter)("PROXY_SERVER_TYPE2");e.proxyServer=d;var h={mode:"manual",url:a.address,tcpport:a.serverResponse.tcpport||"3433",udpport:a.serverResponse.udpport||"3478",username:a.serverResponse.username||"test",credential:a.serverResponse.password||"111111",forceturn:!0};h.tcpport+="",h.udpport+="",e.turnServers=[],e.turnServers.push(h),f.report.setProxyServer(d),u.default.setProxyServer(d),c(d,t)}))}():3==e.proxyServerType?function r(){b("proxy3",e,(function(a,c){if(a)return"RETRYABLE_ERROR"!==a?n&&n(a):(u.default.debug("["+e.clientId+"]",a),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+o+"s"),i=setTimeout((function(){r()}),1e3*o),E[s]=i,void(o=o>=3600?3600:2*o));var d=c.gatewayServers,h=c.turnServers;clearTimeout(i);var p=Object(l.getParameter)("NGINX");e.proxyServer=p,e.turnServers=[];var m=Object(S.randomString)();h.map((function(t){var n={mode:"manual",url:t.ip,tcpport:"",udpport:t.port||"3478",username:t.username||m,credential:t.password||w()(m).toString(),forceturn:!0};n.tcpport+="",n.udpport+="",e.turnServers.push(n)})),f.report.setProxyServer(p),u.default.setProxyServer(p),t(d)}))}():4==e.proxyServerType?function r(){b("proxy4",e,(function(a,c){if(a)return"RETRYABLE_ERROR"!==a?n&&n(a):(u.default.debug("["+e.clientId+"]",a),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+o+"s"),i=setTimeout((function(){r()}),1e3*o),E[s]=i,void(o=o>=3600?3600:2*o));var d=c.gatewayServers,h=c.turnServers;clearTimeout(i);var p=Object(l.getParameter)("NGINX");e.proxyServer=p,e.turnServers=[];var m=Object(S.randomString)();h.map((function(t){var n={mode:"manual",url:t.ip,tcpport:t.port||"443",udpport:"",username:t.username||m,credential:t.password||w()(m).toString(),forceturn:!1};n.tcpport+="",n.udpport+="",e.turnServers.push(n)})),f.report.setProxyServer(p),u.default.setProxyServer(p),t(d)}))}():5==e.proxyServerType?function r(){b("proxy5",e,(function(a,c){if(a)return"RETRYABLE_ERROR"!==a?n&&n(a):(u.default.debug("["+e.clientId+"]",a),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+o+"s"),i=setTimeout((function(){r()}),1e3*o),E[s]=i,void(o=o>=3600?3600:2*o));var d=c.gatewayServers,h=c.turnServers;clearTimeout(i);var p=Object(l.getParameter)("NGINX");e.proxyServer=p,e.turnServers=[];var m=Object(S.randomString)();h.map((function(t){var n={mode:"manual",url:t.ip,tcpport:t.port||"443",udpport:"",username:t.username||m,credential:t.password||w()(m).toString(),forceturn:!1,useTurns:!0};n.tcpport+="",n.udpport+="",e.turnServers.push(n)})),f.report.setProxyServer(p),u.default.setProxyServer(p),t(d)}),!0)}():d():c(null,t)},C=function(e,t,n,r,i){var a=Date.now();r=r||t.stringUid;var o={sid:t.sid,opid:10,appid:t.appId,string_uid:r};return new Promise((function(i,s){Object(d.post)(e+"".concat(-1===e.indexOf("?")?"?":"&","action=stringuid"),o,(function(c){try{var l=JSON.parse(c),d=l.code}catch(i){var p="requestUserAccount failed with unexpected body "+c;return u.default.error("["+t.clientId+"]",p),s({retryable:!0,info:p,url:e,error:"UNEXPECTED_ERROR"}),n&&n.dispatchEvent({type:"error",reason:"USER_ACCOUNT_BODY_NOT_JSON"}),void f.report.reqUserAccount(o.sid,{lts:a,success:!1,serverAddress:e,stringUid:r,uid:null,extend:c,errorCode:"USER_ACCOUNT_BODY_NOT_JSON"})}if(d){var m=!1;return"INTERNAL_SERVER_ERROR"===(g=h.StringUidErrorCode[l.code%1e4]||"REQ_ACCOUNT_ERR_".concat(d))&&(m=!0),n&&n.dispatchEvent({type:"error",reason:g}),f.report.reqUserAccount(o.sid,{lts:a,success:!1,serverAddress:e,stringUid:r,uid:null,errorCode:g,extend:o}),s({retryable:m,info:p="Get String Uid Failed ["+g+"]",url:e,error:g})}var v=l.uid;if(!(v>0&&v<Math.pow(2,32))){u.default.error("["+t.clientId+"] "+"Invalid Uint Uid ".concat(r," => ").concat(v),l);var g="INVALID_UINT_UID_".concat(v);return n&&n.dispatchEvent({type:"error",reason:g}),f.report.reqUserAccount(o.sid,{lts:a,success:!1,serverAddress:e,stringUid:r,uid:null,errorCode:g,extend:o}),s({retryable:!0,error:g,info:"Get String Uid failed ["+g+"]",url:e})}i({uid:v,url:e}),f.report.reqUserAccount(o.sid,{lts:a,success:!0,serverAddress:e,stringUid:r,uid:v,errorCode:null,extend:o})}),(function(e,t){if("timeout"===e.type){var i="USER_ACCOUNT_TIMEOUT";n&&n.dispatchEvent({type:"error",reason:i}),f.report.reqUserAccount(o.sid,{lts:a,success:!1,serverAddress:t,stringUid:r,uid:null,errorCode:i,extend:o}),s({retryable:!0,info:i,url:t,error:i})}else{var c="USER_ACCOUNT_SERVER_WRONG_".concat(e.type);n&&n.dispatchEvent({type:"error",reason:c}),f.report.reqUserAccount(o.sid,{lts:a,success:!1,serverAddress:t,stringUid:r,uid:null,errorCode:c,extend:o}),s({retryable:!0,info:c,url:t,error:c})}}),{"X-Packet-Service-Type":0,"X-Packet-URI":72})}))},R=function(e,t,n){Date.now();var r,a=Object(l.getParameter)("ACCOUNT_REGISTER"),s=!1,d=Object(l.getParameter)("ACCOUNT_REGISTER_RETRY_TIMEOUT"),f=null,h=null,p=new Promise(function(){var p=c()(o.a.mark((function c(p,m){var v,g,y;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:f=p,h=m,r=0;case 3:if(!(r<Object(l.getParameter)("ACCOUNT_REGISTER_RETRY_COUNT_MAX"))){c.next=33;break}if(!s){c.next=6;break}return c.abrupt("return");case 6:return v=a[r%a.length],g=e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(v+"/api/v1"):"https://".concat(v,"/api/v1"),c.prev=8,c.delegateYield(o.a.mark((function r(){var i;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.proxyServer,r.next=3,C(g,e,t,n);case 3:if(i=r.sent,!s){r.next=6;break}return r.abrupt("return",{v:void 0});case 6:s=!0,setTimeout((function(){u.default.debug("Get UserAccount Successfully",i),f(i)}),0);case 8:case"end":return r.stop()}}),r)}))(),"t0",10);case 10:if(y=c.t0,"object"!==i()(y)){c.next=13;break}return c.abrupt("return",y.v);case 13:c.next=30;break;case 15:if(c.prev=15,c.t1=c.catch(8),!s){c.next=19;break}return c.abrupt("return");case 19:if(!c.t1.retryable){c.next=27;break}return(d=Math.ceil(d*Object(l.getParameter)("ACCOUNT_REGISTER_RETRY_RATIO")))>Object(l.getParameter)("ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX")&&(d=Object(l.getParameter)("ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX")),u.default.error("".concat(c.t1.info," ").concat(c.t1.url," Will Fetch User Account in ").concat(d/1e3," seconds")),c.next=25,new Promise((function(e){setTimeout(e,d)}));case 25:c.next=30;break;case 27:u.default.error("Get UserAccount Error: ".concat(c.t1.info," ").concat(c.t1.url),c.t1.error),s=!0,h(c.t1.error);case 30:r++,c.next=3;break;case 33:case"end":return c.stop()}}),c,null,[[8,15]])})));return function(e,t){return p.apply(this,arguments)}}());return p.cancel=function(){s||(s=!0,h({info:"Request Cancelled",retryable:!1}))},p.isFinished=function(){return s},p}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,o,s=i(n(0));!function(e){e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(a||(a={})),t.AREAS=a,function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(o||(o={}));var c={ASIA:{CODE:o.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:o.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:o.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:o.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","\tuap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:o.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:o.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],NGINX:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:o.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],NGINX:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:o.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:o.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:o.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]}};t.AREA_DOMAIN_MAP=c;var l={GLOBAL:{ASIA:[a.CHINA,a.JAPAN,a.INDIA],EUROPE:[],NORTH_AMERICA:[],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},u=Object.keys(l[a.GLOBAL]),d=[a.CHINA,a.NORTH_AMERICA,a.EUROPE,a.ASIA,a.JAPAN,a.INDIA,a.OCEANIA,a.SOUTH_AMERICA,a.AFRICA];t.getAreaCodeByConfig=function(e){var t=e.areaCode,n=e.excludedArea;return n?function(e,t){var n,i=[];if("string"==typeof e&&(e=[e]),t&&!e.includes(a.GLOBAL)&&(i=e),t||(i=e),t&&e.includes(a.GLOBAL)){var o=[a.GLOBAL,a.OVERSEA],s=Object.keys(c);if(t===a.GLOBAL)throw new Error("Can not set excludedArea to 'GLOBAL'");if(t===a.CHINA)i=[a.OVERSEA];else if(n=t,u.includes(n)){var f=function(e){return void 0===e&&(e=""),l[a.GLOBAL][e]||[]}(t),h=r(o,[t],f);i=s.filter((function(e){return!h.includes(e)}))}else if(function(e){var t=!1;return u.forEach((function(n){l.GLOBAL[n].includes(e)&&(t=!0)})),t}(t)){var p=function(e){void 0===e&&(e="");var t="";return u.forEach((function(n){l.GLOBAL[n].includes(e)&&(t=n)})),t}(t),m=r(o,[p,t]);i=s.filter((function(e){return!m.includes(e)}))}else i=e;i=function(e){var t=[];return d.forEach((function(n){e.includes(n)&&t.push(n)})),t.concat(e.filter((function(e){return!d.includes(e)})))}(i)}return i}(t,n):t},c.CHINA={CODE:o.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]},t.getAreaCodeByWebCS=function(e){for(var t=Object.keys(c),n=0;n<t.length;n++){var r=t[n],i=c[r];if(i.WEBCS_DOMAIN.includes(e)||i.WEBCS_DOMAIN_BACKUP_LIST.includes(e))return i.CODE===o.OVERSEA?o.ASIA+","+o.EUROPE+","+o.AFRICA+","+o.NORTH_AMERICA+","+o.SOUTH_AMERICA+","+o.OCEANIA:i.CODE}},t.getAreaCodeByArea=function(e){return e===a.OVERSEA?o.ASIA+","+o.EUROPE+","+o.AFRICA+","+o.NORTH_AMERICA+","+o.SOUTH_AMERICA+","+o.OCEANIA:o[e]},t.getAreaDomainConfig=function(e){var t={WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],NGINX:[]};return e.map((function(e){var n=c[e];if(n){var r=Object.keys(n);r?r.map((function(e){"CODE"!==e&&(t[e]=t[e].concat(n[e]))})):s.default.info(e+" is not exist")}else s.default.info(e+" is not exist")})),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return N}));var r=n(7),i=n.n(r),a=n(4),o=n(8),s=function(e){var t=Object(o.b)(e);return t.url=".",t},c=n(0),l=n(15),u=n(5),d=n(2),f=n(1),h=0,p=function(e){var t=s({});t.id=e.id,t.playerId=h++,t.destroyed=!1,t.fit=e.options&&e.options.fit,"contain"!==t.fit&&"cover"!==t.fit&&(t.fit=null),t.url=e.url,t.stream=e.stream.stream,t.peerVideoReady=!1,t.isFreeze=!1,t.freezeTimeCounterList=[],t.freezeCount=0,t.lastFreezeCount=0,t.lastTimeupdateTime=0,t.elementID=e.elementID,t.setAudioOutput=function(e,n,r){var i=t.video||t.audio;return i?i.setSinkId?void i.setSinkId(e).then((function(){return c.default.debug("["+t.id+"] "+"video ".concat(t.id," setAudioOutput ").concat(e," SUCCESS")),i==t.video&&t.audio?t.audio.setSinkId(e):Promise.resolve()})).then((function(){return c.default.debug("["+t.id+"] "+"audio ".concat(t.id," setAudioOutput ").concat(e," SUCCESS")),n&&n()})).catch((function(e){return c.default.error("["+t.id+"] VideoPlayer.setAudioOutput",e),r&&r(e)})):(c.default.error("["+t.id+"] ",u.default.WEB_API_NOT_SUPPORTED),r&&r(u.default.WEB_API_NOT_SUPPORTED)):(c.default.error("["+t.id+"] ",u.default.PLAYER_NOT_FOUND),r&&r(u.default.PLAYER_NOT_FOUND))},t.destroy=function(){c.default.debug("[".concat(t.id,"] destroy ").concat(e.stream.local?"local":"remote"," Player ").concat(t.id)),Object(l.setSrcObject)(t.video,null),Object(l.setSrcObject)(t.audio,null),t.video.load(),t.audio.load(),t.video.pause(),t.video.remove(),t.audio.remove(),t.freezeCheckInterval&&clearInterval(t.freezeCheckInterval),t.destroyed=!0,delete t.resizer,document.getElementById(t.div.id)&&t.parentNode.contains(t.div)&&t.div.remove()&&t.parentNode.removeChild(t.div),["video","audio"].forEach((function(n){t[n];var r=o[n];clearTimeout(r.playDeferTimeout),r.formerMediaState=null;var i={playerId:t.playerId,stateId:r.stateId+1,playDeferTimeout:null,error:!1,status:"aborted",reason:"stop",updatedAt:Date.now()};o[n]=i;var a={type:"player-status-change",playerId:t.playerId,mediaType:n,status:i.status,reason:i.reason,isErrorState:!1,streamId:t.id};c.default.debug("[".concat(t.id,"] Media Player Status Change Triggered by destroy()"),a),e.stream.dispatchEvent(a),f.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:a,tag:"tracer"})()}))},t.div=document.createElement("div"),t.div.setAttribute("id","player_"+t.id),e.stream.video?t.div.setAttribute("style","width: 100%; height: 100%; position: relative; background-color: black; overflow: hidden;"):t.div.setAttribute("style","width: 100%; height: 100%; position: relative; overflow: hidden;"),t.video=document.createElement("video"),t.video.setAttribute("id","video"+t.id),e.stream.local&&!e.stream.screen?e.stream.mirror?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; transform: rotateY(180deg); object-fit: ".concat(t.fit||"cover",";")):t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: ".concat(t.fit||"cover",";")):e.stream.video?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: ".concat(t.fit||"cover",";")):e.stream.screen?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: ".concat(t.fit||"contain")):t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; display: none; object-fit: ".concat(t.fit||"cover"));var n={autoplay:!0,muted:!!e.stream.local||!(!a.isSafari()&&"iOS"!==a.getBrowserOS())&&"video_element_muted",playsinline:!0,controls:!1,volume:null},r=i()({},n,e.options);!0!==r.muted||r.volume||(r.volume=0),t.video.setAttribute("autoplay",""),t.video.setAttribute("muted",""),t.video.muted=!0,t.video.autoplay=!0,r.playsinline&&t.video.setAttribute("playsinline",""),r.controls&&t.video.setAttribute("controls",""),r.contains&&(t.video.controls=!0),Number.isFinite(r.volume)&&(t.video.volume=r.volume),t.audio=document.createElement("audio"),t.audio.setAttribute("id","audio"+t.id),!0===r.muted&&t.audio.setAttribute("muted",""),!0===r.muted&&(t.audio.muted=!0),r.playsinline&&t.audio.setAttribute("playsinline",""),Number.isFinite(r.volume)&&(t.audio.volume=r.volume),void 0!==t.elementID?(document.getElementById(t.elementID).appendChild(t.div),t.container=document.getElementById(t.elementID)):(document.body.appendChild(t.div),t.container=document.body),t.parentNode=t.div.parentNode;var o={video:{playerId:t.playerId,stateId:0,playDeferTimeout:null,error:!1,status:"init",reason:null,updatedAt:Date.now()},audio:{playerId:t.playerId,stateId:0,playDeferTimeout:null,error:!1,status:"init",reason:null,updatedAt:Date.now()}};t.mediaElemExists=function(e){for(var t=e,n=0;n<Object(d.getParameter)("MEDIA_ELEMENT_EXISTS_DEPTH")&&t;n++)t=t.parentNode;return!!t};var p=function(e){return t.mediaElemExists(e)?e.paused?"paused":"play":"aborted"},m=function(e,t,n){var r=p(e),i=!0;return"paused"===r?("audio"===t&&!0===n.muted&&(i=!1),n.autoplay||(i=!1)):"play"===r?"video"===t?i=!1:!0===n.muted?e.muted&&(i=!1):e.muted||(i=!1):"aborted"===r&&(i=!1),i},v=function(n){var i,a=this;if(a===t.video?i="video":a===t.audio&&(i="audio"),i){if(n.type||c.default.error("[".concat(t.id,"] Unexpected evt"),n),"video"===i&&a.muted&&a.paused)return c.default.debug("[".concat(t.id,"] auto resume video element")),void a.play();var s=p(a);clearTimeout(o[i].playDeferTimeout),o[i].playDeferTimeout=setTimeout((function(){o[i].playDeferTimeout=null;var l=o[i],u=p(a);if(s===u){var d={playerId:t.playerId,stateId:l.stateId+1,playDeferTimeout:null,error:m(a,i,r),status:p(a),reason:n.type,updatedAt:Date.now()};if(l.status!==d.status){o[i]=d;var h={type:"player-status-change",playerId:t.playerId,mediaType:i,status:d.status,reason:d.reason,isErrorState:d.error,streamId:t.id};c.default.debug("[".concat(t.id,"] Media Player Status Change"),h),e.stream.dispatchEvent(h),f.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:h,tag:"tracer"})()}}else c.default.debug("[".concat(t.id,"] Status Change after event Triggered.")+"Stream ".concat(t.id," PlayerId ").concat(t.playerId," mediaType ").concat(i," Status ").concat(s,"=>").concat(u))}),Object(d.getParameter)("PLAYER_STATE_DEFER"))}else c.default.error("[".concat(t.id,"] Unknown media element"),a)};t.video.addEventListener("playing",(function(e){!function e(){t.video.videoWidth*t.video.videoHeight>4?c.default.debug("["+t.id+"] video dimensions:",t.video.videoWidth,t.video.videoHeight):setTimeout(e,50)}()}));var g=0,y=0,b=0;t.freezeCheckInterval=setInterval((function(){Date.now()-t.lastTimeupdateTime>500&&t.peerVideoReady?(t.isFreeze=!0,t.freezeCount+=1):t.isFreeze=!1}),500),t.video.addEventListener("playing",v),t.video.addEventListener("canplay",v),t.video.addEventListener("abort",v),t.video.addEventListener("onerror",v),t.video.addEventListener("suspend",v),t.video.addEventListener("stalled",v),t.video.addEventListener("pause",v),t.audio.addEventListener("playing",v),t.audio.addEventListener("canplay",v),t.audio.addEventListener("abort",v),t.audio.addEventListener("onerror",v),t.audio.addEventListener("suspend",v),t.audio.addEventListener("stalled",v),t.audio.addEventListener("pause",v);var _=t.audio,x="audio";if(e.stream.hasVideo()||e.stream.hasScreen())t.div.appendChild(t.video),t.div.appendChild(t.audio),a.isEdge()?t.video.srcObject=e.stream.stream:(Object(l.attachMediaStream)(t.video,e.stream.stream),Object(l.attachMediaStream)(t.audio,e.stream.stream)),t.video.addEventListener("timeupdate",(function(){var e=Date.now();if((g+=1)<10)t.lastTimeupdateTime=e;else for(e-t.lastTimeupdateTime>500&&(t.peerVideoReady?y+=e-t.lastTimeupdateTime:t.peerVideoReady=!0),b+=e-t.lastTimeupdateTime,t.lastTimeupdateTime=e;b>=6e3;)b-=6e3,t.freezeTimeCounterList.push(Math.min(6e3,y)),y-=6e3,y=Math.max(y,0)}));else{!1!==r.muted&&"video_element_muted"!==r.muted||(t.video.removeAttribute("muted"),t.video.muted=!1),t.video.removeAttribute("autoplay"),t.video.autoplay=!1,t.div.appendChild(t.video),_=t.video,x="video";var w=o.audio,S={playerId:t.playerId,stateId:w.stateId+1,playDeferTimeout:null,error:!1,status:"aborted",reason:"audioonly",updatedAt:Date.now()};o.audio=S;var E={type:"player-status-change",playerId:t.playerId,mediaType:"audio",status:S.status,reason:S.reason,isErrorState:S.error,streamId:t.id};if(c.default.debug("[".concat(t.id,"] Media Player Status Change"),E),Promise.resolve().then((function(){return e.stream.dispatchEvent(E)})),f.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:E,tag:"tracer"})(),window.MediaStream&&(a.isSafari()||"iOS"===a.getBrowserOS())){var k=new MediaStream(e.stream.stream.getAudioTracks());Object(l.setSrcObject)(t.video,k)}else Object(l.setSrcObject)(t.video,e.stream.stream)}if(r.autoplay&&_){var N=_.play();N&&N.catch&&N.catch((function(n){if(!t.destroyed&&_){var i=o[x],a={playerId:t.playerId,stateId:i.stateId+1,playDeferTimeout:null,error:m(_,x,r),status:p(_),reason:"error",updatedAt:Date.now()};if(i.status!==a.status){c.default.debug("[".concat(t.id,"] Player ").concat(t.playerId," Status Changed Detected by promise error: ").concat(i.status,"=>").concat(a.status),n),o[x]=a;var s={type:"player-status-change",playerId:t.playerId,mediaType:x,status:a.status,reason:a.reason,isErrorState:a.error,streamId:t.id};c.default.debug("[".concat(t.id,"] Media Player Status Change"),s),e.stream.dispatchEvent(s),f.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:s,tag:"tracer"})()}}}))}return t.setAudioVolume=function(e){var n=parseInt(e)/100;isFinite(n)&&(n<0?n=0:n>1&&(n=1),t.video&&(t.video.volume=n),t.audio&&(t.audio.volume=n))},t},m=n(23),v=n(10),g=n(6),y=n(19),b=n(3),_=n(25),x=n(16),w=n(11),S=n.n(w),E=function(e){Object(b.checkValidString)(e,"profileName"),-1===(e=e.toLowerCase()).indexOf("_")&&(e+="_1"),Object(b.checkValidEnum)(e,"profileName",Object.keys(d.SUPPORT_RESOLUTION_LIST));var t=d.SUPPORT_RESOLUTION_LIST[e];t||(e=Object(d.getParameter)("DEFAULT_PROFILE"),t=d.SUPPORT_RESOLUTION_LIST[e]);var n={profileName:e,video:{width:t[0],height:t[1]},attributes:{resolution:"".concat(t[0],"x").concat(t[1]),minFrameRate:t[2],maxFrameRate:t[3],minVideoBW:t[4],maxVideoBW:t[5]}};return t[2]&&(n.video.frameRate=t[2]),t[6]&&t[7]&&(n.screen={width:t[0],height:t[1],frameRate:{min:t[6],max:t[7]}}),n},k=function(e){var t=Object(o.b)();if(t.params=i()({},e),t.stream=e.stream,t.url=e.url,t.onClose=void 0,t.local=!1,t.videoSource=e.videoSource,t.audioSource=e.audioSource,e.video=!(!e.videoSource&&!e.video),t.video=e.video,e.audio=!(!e.audioSource&&!e.audio),t.audio=e.audio,t.screen=!!e.screen,t.screenAudio=!!e.screenAudio,t.screenAttributes={width:1920,height:1080,maxFr:5,minFr:1},t.videoSize=e.videoSize,t.player=void 0,t.audioLevelHelper=null,e.attributes=e.attributes||{},t.attributes=e.attributes,t.microphoneId=e.microphoneId,t.cameraId=e.cameraId,t.facingMode=e.facingMode,t.inSwitchDevice=!1,t.userMuteVideo=!1,t.userMuteAudio=!1,t.peerMuteVideo=!1,t.peerMuteAudio=!1,t.lowStream=null,t.videoWidth=0,t.videoHeight=0,t.streamId=e.streamID,t.userId=null,t.uintId=e.uintUID||null,t.mirror=!1!==e.mirror,t.DTX=e.audioProcessing&&e.audioProcessing.DTX,t.audioProcessing=e.audioProcessing,t.optimizationMode=e.optimizationMode,t.highQuality=!1,t.stereo=!1,t.speech=!1,t.screen||delete t.screen,!(void 0===t.videoSize||t.videoSize instanceof Array&&4===t.videoSize.length))throw Error("Invalid Video Size");function n(){var e={};t.getVideoTrack()===this?(c.default.debug("Video Track Ended"),e.type="videoTrackEnded",e.track=this):t.getAudioTrack()===this?(c.default.debug("Audio Track Ended"),e.type="audioTrackEnded",e.track=this):c.default.debug("Detached Track ended",this.kind,this.label,this),e.type&&t.dispatchEvent(e)}return t.videoSize=[640,480,640,480],void 0!==e.local&&!0!==e.local||(t.local=!0),t.initialized=!t.local,t._streamInitID=null,function(e){e.audioMixing={audioContextInited:!1,defaultVolume:100,inEarMonitoring:"FILE",sounds:{},states:{IDLE:"IDLE",STARTING:"STARTING",BUSY:"BUSY",PAUSED:"PAUSED"},inEarMonitoringModes:{NONE:"NONE",FILE:"FILE",MICROPHONE:"MOCROPHONE",ALL:"ALL"},ctx:null,mediaStreamSource:null,mediaStreamDest:null,buffer:{}},e._initSoundIfNotExists=function(t,n){e.audioMixing.sounds[t]||(e.audioMixing.sounds[t]={soundId:t,state:"IDLE",muted:e.userMuteAudio,filePath:n,volume:e.audioMixing.defaultVolume,startAt:null,startOffset:null,pauseAt:null,pauseOffset:null,resumeAt:null,resumeOffset:null,stopAt:null,options:null,source:null})},e._initSoundIfNotExists(-1),e.loadAudioBuffer=function(t,n,r){var i=f.report.reportApiInvoke(e.sid,{callback:r,name:"Stream.loadAudioBuffer",options:arguments,tag:"tracer"});Object(b.checkValidString)(n,"url",1,1024,!1),Object(b.checkValidString)(t,"id",1,1024,!1);var a=function(t){c.default.error("[".concat(e.streamId,"] loadAudioBuffer Failed: ")+t),i(u.default.LOAD_AUDIO_FAILED)},o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status>400)a("".concat(o.status," ").concat(o.statusText));else{var n=o.response;e.audioMixing.audioContextInited||e._initAudioContext(),e.audioMixing.ctx.decodeAudioData(n,(function(n){e.audioMixing.buffer[t]=n,i(null)}),(function(t){c.default.error("[".concat(e.streamId,"] decodeAudioData Failed: "),t),i(t)}))}},o.onerror=function(){return a("load error")},o.ontimeout=function(){return a("timeout")},o.send()},e.createAudioBufferSource=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.createAudioBufferSource",options:arguments,tag:"tracer"});if(e.audioMixing.buffer[t.id]){var r=e.audioMixing.buffer[t.id],i=e.audioMixing.ctx.createBufferSource();i.buffer=r;var o=e.audioMixing.ctx.createGain();if(i.connect(o),o.connect(e.audioMixing.mediaStreamDest),i.gainNode=o,t.loop)i.loop=!0,i.start(0,t.playTime/1e3);else if(t.cycle>1)if(Object(a.isChrome)()){i.loop=!0;var s=t.cycle*r.duration*1e3-(t.playTime||0);i.start(0,t.playTime/1e3,s/1e3)}else c.default.warning("[".concat(e.streamId,"] Cycle Param is ignored by current browser")),i.start(0,t.playTime/1e3);else i.start(0,t.playTime/1e3);var l=e.audioMixing.sounds[t.soundId];return l.source=i,e._flushAudioMixingMuteStatus(),i.addEventListener("ended",(function(){i===l.source&&e.dispatchEvent({type:"audioSourceEnded",soundId:t.soundId,source:i,sound:l})})),n(),i}return c.default.error("[".concat(e.streamId,"] "),"AUDIOBUFFER_NOT_FOUND",t.id),n(!1),!1},e.on("audioSourceEnded",(function(t){var n=t.source,r=t.sound;r&&r.state===e.audioMixing.states.BUSY&&!r.pauseAt&&(r.state=e.audioMixing.states.IDLE,r.startAt=null,r.startOffset=null,r.resumeAt=null,r.resumeOffset=null,n.gainNode&&n.gainNode.disconnect&&n.gainNode.disconnect(),n.buffer=null,e.audioMixing.mediaStreamSource.connect(e.audioMixing.mediaStreamDest))})),e.clearAudioBufferSource=function(){e.audioBufferSource.forEach((function(e){e.stop()}))},e._isSoundExists=function(t){return!!e.audioMixing.sounds[t.soundId]||(c.default.error("SoundId not exists. #".concat(t.soundId)),!1)},e._initAudioContext=function(){if(e.audioMixing.audioContextInited)throw new Error("Failed to init audio context. Already inited");if(!e.stream)throw new Error("Failed to init audio context. Local Stream not initialized");e.audioMixing.ctx=Object(_.a)(),e.audioMixing.mediaStreamSource=e.audioMixing.ctx.createMediaStreamSource(e.stream),e.audioMixing.mediaStreamDest=e.audioMixing.ctx.createMediaStreamDestination(),e.audioMixing.mediaStreamSource.connect(e.audioMixing.mediaStreamDest);var t=e.stream.getVideoTracks()[0];if(t&&e.audioMixing.mediaStreamDest.stream.addTrack(t),e._originStream=e.stream,e._isAudioMuted()?(e._unmuteAudio(),e.stream=e.audioMixing.mediaStreamDest.stream,e._muteAudio()):e.stream=e.audioMixing.mediaStreamDest.stream,e.audioLevelHelper=null,e.pc&&e.pc.peerConnection&&e.pc.peerConnection){var n=(e.pc.peerConnection&&e.pc.peerConnection.getSenders()).find((function(e){return e&&e.track&&"audio"==e.track.kind})),r=e.audioMixing.mediaStreamDest.stream.getAudioTracks()[0];n&&n.replaceTrack&&r&&n.replaceTrack(r)}e.audioMixing.audioContextInited=!0},e._cleanupAudioMixing=function(){if(e.audioMixing.audioContextInited){for(var t in e.audioMixing.sounds){var n=e.audioMixing.sounds[t];n.state!==e.audioMixing.states.BUSY&&n.state!==e.audioMixing.states.PAUSED||e._stopOneEffect({soundId:t})}e.audioLevelHelper=null,e.audioMixing.audioContextInited=!1}},e._reloadInEarMonitoringMode=function(t){if(t){if(!e.audioMixing.inEarMonitoringModes[t])return c.default.error("[".concat(e.streamId,"] Invalid InEarMonitoringMode ").concat(t));e.audioMixing.inEarMonitoring=t}switch(e.audioMixing.audioContextInited||e._initAudioContext(),e.audioMixing.inEarMonitoring){case e.audioMixing.inEarMonitoringModes.FILE:e.audioMixing.mediaStreamSource.connectedToDestination&&(e.audioMixing.mediaStreamSource.disconnect(e.audioMixing.ctx.destination),e.audioMixing.mediaStreamSource.connectedToDestination=!1);case e.audioMixing.inEarMonitoringModes.ALL:for(var n in e.audioMixing.sounds){var r=e.audioMixing.sounds[n];r&&r.source&&!r.source.connectedToDestination&&(r.source.gainNode.connect(e.audioMixing.ctx.destination),r.source.connectedToDestination=!0)}}switch(e.audioMixing.inEarMonitoring){case e.audioMixing.inEarMonitoringModes.MICROPHONE:e.audioMixing.source.forEach((function(t){t.connectedToDestination&&(t.gainNode.disconnect(e.audioMixing.ctx.destination),t.connectedToDestination=!1)}));case e.audioMixing.inEarMonitoringModes.ALL:e.audioMixing.mediaStreamSource.connectedToDestination||(e.audioMixing.mediaStreamSource.connect(e.audioMixing.ctx.destination),e.audioMixing.mediaStreamSource.connectedToDestination=!0)}},e._startAudioMixingBufferSource=function(t){e.audioMixing.audioContextInited||e._initAudioContext();var n={soundId:t.soundId,id:t.filePath,loop:t.loop,cycle:t.cycle,playTime:t.playTime||0},r=t.replace,i=e.createAudioBufferSource(n);return i.sound=e.audioMixing.sounds[t.soundId],i?(i.addEventListener("ended",e._audioMixingFinishedListener,{once:!0}),e._reloadInEarMonitoringMode(),r&&e.audioMixing.mediaStreamSource.disconnect(e.audioMixing.mediaStreamDest),i):null},e._stopAudioMixingBufferSource=function(t){var n=e.audioMixing.sounds[t.soundId].source;return n?(n.removeEventListener("ended",e._audioMixingFinishedListener),e.audioMixing.mediaStreamSource.connect(e.audioMixing.mediaStreamDest),n.stop(),n.gainNode&&n.gainNode.disconnect&&n.gainNode.disconnect(),n.buffer=null,n):null},e._flushAudioMixingMuteStatus=function(t){for(var n in e.audioMixing.sounds){var r=e.audioMixing.sounds[n];r&&(void 0!==t&&(r.muted=!!t),r.source&&(r.muted?r.source.gainNode.gain.value=0:r.source.gainNode.gain.value=r.volume/100))}},e._handleAudioMixingInvalidStateError=function(t,n,r){var i=e.audioMixing.sounds[n.soundId],a=-1===n.soundId?"INVALID_AUDIO_MIXING_STATE":"INVALID_PLAY_EFFECT_STATE";c.default.error("[".concat(e.streamId,"] Cannot ").concat(t,": ").concat(a,", state is ").concat(i.state)),r&&r(a)},e._handleAudioMixingNoSourceError=function(t,n,r){e.audioMixing.sounds[n.soundId].state=e.audioMixing.states.IDLE;var i=-1===n.soundId?"NO_AUDIO_MIXING_SOURCE":"NO_EFFECT_SOURCE";c.default.error("[".concat(e.streamId,"] Cannot ").concat(t,": ").concat(i)),r&&r(i)},e._getOneEffectStates=function(t){var n=e.audioMixing.sounds[t.soundId];return function(){return n?{state:n.state,startAt:n.startAt,resumeAt:n.resumeAt,pauseOffset:n.pauseOffset,pauseAt:n.pauseAt,resumeOffset:n.resumeOffset,stopAt:n.stopAt,duration:e._getOneEffectDuration(t),position:e._getOneEffectCurrentPosition(t)}:{}}},e._audioMixingFinishedListener=function(){var t=this.sound;t.state===e.audioMixing.states.IDLE&&e.audioMixing.buffer[t.options.filePath]&&!t.options.cacheResource&&(c.default.debug("Recycled buffer ".concat(t.options.filePath)),delete e.audioMixing.buffer[t.options.filePath]),-1===t.soundId&&e.dispatchEvent({type:"audioMixingFinished"})},e._playOneEffect=function(t,n){Object(b.checkValidObject)(t,"options");var r=t.soundId,i=(t.filePath,t.cacheResource);if(t.cycle,t.loop,t.playTime,t.replace,Object(a.isSafari)()&&Object(a.getBrowserVersion)()<12){var o="BROWSER_NOT_SUPPORT";return c.default.error("[".concat(e.streamId,"] Cannot _playOneEffect: "),o),n(o)}e.audioMixing.audioContextInited||e._initAudioContext(),e._initSoundIfNotExists(r);var s=e.audioMixing.sounds[r];if(s.state===e.audioMixing.states.IDLE){if(void 0!==t.cycle&&!t.cycle>0)return o="Invalid Parmeter cycle: "+t.cycle,c.default.error("[".concat(e.streamId,"] ").concat(r),o),n(o);if(Object(b.isEmpty)(i)&&(t.cacheResource=!0),s.state=e.audioMixing.states.STARTING,s.options=t,e.audioMixing.buffer[t.filePath]){var l=e._startAudioMixingBufferSource(t);if(l)return s.source=l,s.startAt=Date.now(),s.resumeAt=null,s.pauseOffset=null,s.pauseAt=null,s.resumeOffset=null,s.stopAt=null,s.startOffset=t.playTime||0,s.state=e.audioMixing.states.BUSY,e._flushAudioMixingMuteStatus(),n(null);s.state=e.audioMixing.states.IDLE;var u="CREATE_BUFFERSOURCE_FAILED";if(n)return n(u);c.default.error("[".concat(e.streamId,"] "),u)}else e.loadAudioBuffer(t.filePath,t.filePath,(function(r){if(r)s.state=e.audioMixing.states.IDLE,n?n(r):c.default.error("[".concat(e.streamId,"] "),r);else{var i=e._startAudioMixingBufferSource(t);if(i)return s.source=i,s.startAt=Date.now(),s.resumeAt=null,s.pauseOffset=null,s.pauseAt=null,s.resumeOffset=null,s.stopAt=null,s.startOffset=t.playTime||0,s.state=e.audioMixing.states.BUSY,e._flushAudioMixingMuteStatus(),n(null);if(s.state=e.audioMixing.states.IDLE,r="CREATE_BUFFERSOURCE_FAILED",n)return n(r);c.default.error("[".concat(e.streamId,"] "),r)}}))}else e._handleAudioMixingInvalidStateError("_playEffect",t,n)},e._stopOneEffect=function(t,n){var r=e.audioMixing.sounds[t.soundId];return e._isSoundExists(t)?r.state===e.audioMixing.states.BUSY||r.state===e.audioMixing.states.PAUSED?(e._stopAudioMixingBufferSource(t),r.stopAt=Date.now(),r.state=e.audioMixing.states.IDLE,e.audioMixing.buffer[r.options.filePath]&&!r.options.cacheResource&&(c.default.debug("Recycled buffer ".concat(r.options.filePath)),delete e.audioMixing.buffer[r.options.filePath]),void(n&&n(null))):void e._handleAudioMixingInvalidStateError("_stopOneEffect",t,n):n("SOUND_NOT_EXISTS")},e._pauseOneEffect=function(t,n){var r=e.audioMixing.sounds[t.soundId];if(r.state===e.audioMixing.states.BUSY)return e._stopAudioMixingBufferSource(t)?(r.pauseAt=Date.now(),r.state=e.audioMixing.states.PAUSED,r.resumeAt?r.pauseOffset=r.pauseAt-r.resumeAt+r.resumeOffset:r.pauseOffset=r.pauseAt-r.startAt+r.startOffset,n&&n(null)):void e._handleAudioMixingNoSourceError("_pauseOneEffect",t,n);e._handleAudioMixingInvalidStateError("_pauseOneEffect",t,n)},e._resumeOneEffect=function(t,n){var r=e.audioMixing.sounds[t.soundId];if(r.state===e.audioMixing.states.PAUSED){var i={soundId:t.soundId,filePath:r.options.filePath,cycle:r.options.cycle,loop:r.options.loop,playTime:r.pauseOffset,replace:r.options.replace},a=e._startAudioMixingBufferSource(i);if(!a){var o="CREATE_BUFFERSOURCE_FAILED";return n(o),void c.default.error("[".concat(e.streamId,"] "),o)}r.source=a,r.resumeAt=Date.now(),r.resumeOffset=r.pauseOffset,r.state=e.audioMixing.states.BUSY,r.pauseAt=null,r.pauseOffset=null,n(null)}else e._handleAudioMixingInvalidStateError("_resumeOneEffect",t,n)},e._getOneEffectDuration=function(t){var n=e.audioMixing.sounds[t.soundId];return n.options&&n.options.filePath&&e.audioMixing.buffer[n.options.filePath]?1e3*e.audioMixing.buffer[n.options.filePath].duration:null},e._getOneEffectCurrentPosition=function(t,n){var r=e.audioMixing.sounds[t.soundId];return r.state===e.audioMixing.states.PAUSED?r.pauseOffset%e._getOneEffectDuration(t):r.state===e.audioMixing.states.BUSY?r.resumeAt?(Date.now()-r.resumeAt+r.resumeOffset)%e._getOneEffectDuration(t):(Date.now()-r.startAt+r.startOffset)%e._getOneEffectDuration(t):void(n&&e._handleAudioMixingInvalidStateError("_getOneEffectCurrentPosition",t))},e._setOneEffectPosition=function(t,n,r){var i=e.audioMixing.sounds[t.soundId];if(i.state===e.audioMixing.states.BUSY){if(!e._stopAudioMixingBufferSource(t))return void e._handleAudioMixingNoSourceError("_setOneEffectPosition",t,r);var a={soundId:t.soundId,filePath:i.options.filePath,loop:i.options.loop,cycle:i.options.cycle,playTime:n},o=e._startAudioMixingBufferSource(a);if(!o){var s="CREATE_BUFFERSOURCE_FAILED";return r&&r(s),void c.default.error("[".concat(e.streamId,"] "),s)}i.source=o,i.startAt=Date.now(),i.startOffset=n,i.resumeAt=null,i.resumeOffset=null,i.pauseOffset=null,i.pauseAt=null}else{if(i.state!==e.audioMixing.states.PAUSED)return void e._handleAudioMixingInvalidStateError("_setOneEffectPosition",t,r);i.pauseOffset=n}r&&r(null)},e.startAudioMixing=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:function(t){if(t)return n&&n(t);e.dispatchEvent({type:"audioMixingPlayed"}),n&&n(null)},getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.startAudioMixing",options:t});Object(b.checkValidObject)(t,"options");var a=t.filePath,o=t.cacheResource,s=t.cycle,c=t.loop,l=t.playTime,u=t.replace;Object(b.checkValidString)(a,"filePath",1,Object(d.getParameter)("FILEPATH_LENMAX"),!1),Object(b.checkValidNumber)(l,"playTime",0,1e8),!Object(b.isEmpty)(s)&&Object(b.checkValidNumber)(s,"cycle"),!Object(b.isEmpty)(c)&&Object(b.checkValidBoolean)(c,"loop"),!Object(b.isEmpty)(u)&&Object(b.checkValidBoolean)(u,"replace"),!Object(b.isEmpty)(o)&&Object(b.checkValidBoolean)(o,"cacheResource");var h=i()({soundId:-1},t);e._playOneEffect(h,r)},e.stopAudioMixing=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.stopAudioMixing"});e._stopOneEffect({soundId:-1},n)},e.pauseAudioMixing=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.pauseAudioMixing"});return e._pauseOneEffect({soundId:-1},n)},e.resumeAudioMixing=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:function(n,r){if(n)return t&&t(n);e.dispatchEvent({type:"audioMixingPlayed"}),t&&t(null)},getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.resumeAudioMixing"});e._resumeOneEffect({soundId:-1},n)},e.adjustAudioMixingVolume=function(t){var n=f.report.reportApiInvoke(e.sid,{getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.adjustAudioMixingVolume",options:arguments,tag:"tracer"});Object(b.checkValidNumber)(t,"volume",0,100),e.audioMixing.sounds[-1].volume=t,e._flushAudioMixingMuteStatus(),n()},e.getAudioMixingDuration=function(){var t=f.report.reportApiInvoke(e.sid,{getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.getAudioMixingDuration"}),n=e._getOneEffectDuration({soundId:-1});return t(null,n),n},e.getAudioMixingCurrentPosition=function(){var t=f.report.reportApiInvoke(e.sid,{getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.getAudioMixingCurrentPosition"}),n=e._getOneEffectCurrentPosition({soundId:-1},!0);return t(null,n),n},e.setAudioMixingPosition=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:n,options:arguments,tag:"tracer",getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.setAudioMixingPosition"});Object(b.checkValidNumber)(t,"position",0,1e8),e._setOneEffectPosition({soundId:-1},t,r)},e.playEffect=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:function(t){if(t)return n&&n(t);e.dispatchEvent({type:"effectPlayed"}),n&&n(null)},name:"Stream.playEffect",options:t});Object(b.checkValidObject)(t,"options");var i=t.soundId,a=t.filePath,o=t.cycle;Object(b.checkValidNumber)(i,"soundId",1,1e4),Object(b.checkValidString)(a,"filePath",0,Object(d.getParameter)("FILEPATH_LENMAX"),!1),!Object(b.isEmpty)(o)&&Object(b.checkValidNumber)(o,"cycle"),e._playOneEffect(t,r)},e.stopEffect=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:n,getStates:e._getOneEffectStates({soundId:t}),name:"Stream.stopEffect"});Object(b.checkValidNumber)(t,"soundId",1,1e4),e._stopOneEffect({soundId:t},r)},e.stopAllEffects=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,name:"Stream.stopAllEffect"}),r=!1,i=0,a=0,o=function(e){r||(e?(n(e),r=!0):i+=1,i===a&&(n(null),r=!0))};for(var s in e.audioMixing.sounds){var c=e.audioMixing.sounds[s];-1!==c.soundId&&(c.state!==e.audioMixing.states.BUSY&&c.state!==e.audioMixing.states.PAUSED||(a++,e._stopOneEffect({soundId:s},o)))}a||n(null)},e.preloadEffect=function(t,n,r){var i=f.report.reportApiInvoke(e.sid,{callback:r,options:arguments,tag:"tracer",name:"Stream.preloadEffect"});Object(b.checkValidNumber)(t,"soundId",1,1e4),Object(b.checkValidString)(n,"filePath",1,Object(d.getParameter)("FILEPATH_LENMAX"),!1),e._initSoundIfNotExists(t,n),e.audioMixing.buffer[n]?i(null):e.loadAudioBuffer(n,n,i)},e.unloadEffect=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:n,options:arguments,tag:"tracer",name:"Stream.unloadEffect"});Object(b.checkValidNumber)(t,"soundId",1,1e4);var i=e.audioMixing.sounds[t];if(!i){var a="SOUND_NOT_EXISTS";return c.default.error(a,t),void r(a)}var o=i.options?i.options.filePath:i.filePath;if(o)delete e.audioMixing.buffer[o],delete e.audioMixing.sounds[t],r(null);else{var s="SOUND_BUFFER_NOT_FOUND";c.default.error(s,t),r(s)}},e.pauseEffect=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:n,options:arguments,tag:"tracer",name:"Stream.pauseEffect"});return e._pauseOneEffect({soundId:t},r)},e.pauseAllEffects=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,name:"Stream.pauseAllEffects"}),r=!1,i=0,a=0,o=function(e){r||(e?(n(e),r=!0):i+=1,i===a&&(n(null),r=!0))};for(var s in e.audioMixing.sounds)"-1"!==s&&e.audioMixing.sounds[s].state===e.audioMixing.states.BUSY&&(a++,e._pauseOneEffect({soundId:s},o));a||n(null)},e.resumeEffect=function(t,n){Object(b.checkValidNumber)(t,"soundId",1,1e4);var r=f.report.reportApiInvoke(e.sid,{callback:n,options:arguments,tag:"tracer",name:"Stream.resumeEffect"});return e._resumeOneEffect({soundId:t},r)},e.resumeAllEffects=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,name:"Stream.resumeAllEffects"}),r=!1,i=0,a=0,o=function(e){r||(e?(n(e),r=!0):i+=1,i===a&&(n(null),r=!0))};for(var s in e.audioMixing.sounds)"-1"!==s&&e.audioMixing.sounds[s].state===e.audioMixing.states.PAUSED&&(a++,e._resumeOneEffect({soundId:s},o));a||n(null)},e.getEffectsVolume=function(){var t=[];for(var n in e.audioMixing.sounds){var r=e.audioMixing.sounds[n];r&&"-1"!==n&&t.push({soundId:parseInt(n),volume:r.volume})}return t},e.setEffectsVolume=function(t,n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setEffectsVolume",options:arguments,tag:"tracer",callback:n});for(var i in Object(b.checkValidNumber)(t,"volume",0,100),e.audioMixing.defaultVolume=t,e.audioMixing.sounds){var a=e.audioMixing.sounds[i];"-1"!==i&&(a.volume=t)}e._flushAudioMixingMuteStatus(),r(null)},e.setVolumeOfEffect=function(t,n,r){var i=f.report.reportApiInvoke(e.sid,{name:"Stream.setVolumeOfEffect",options:arguments,tag:"tracer",callback:r});Object(b.checkValidNumber)(t,"soundId",0,1e4),Object(b.checkValidNumber)(n,"volume",0,100),e._initSoundIfNotExists(t),e.audioMixing.sounds[t].volume=n,e._flushAudioMixingMuteStatus(),i(null)}}(t),x.a.addVideoEffectCapability(t),function(e,t){e.videoConstraint={},t.cameraId&&(e.videoConstraint.deviceId={exact:t.cameraId}),t.facingMode&&(e.videoConstraint.facingMode=t.facingMode),e.videoSize&&(e.videoConstraint.width=e.videoSize[0],e.videoConstraint.height=e.videoSize[1]),Object(a.isLegacyChrome)()||(e.videoConstraint.frameRate=30),e.audioConstraint={},t.microphoneId&&(e.audioConstraint.deviceId={exact:t.microphoneId}),Object(a.isLegacyChrome)()||e.audioProcessing&&(void 0!==e.audioProcessing.AGC&&(Object(a.isFireFox)()?e.audioConstraint.autoGainControl=e.audioProcessing.AGC:Object(a.isChrome)()&&(e.audioConstraint.googAutoGainControl=e.audioProcessing.AGC,e.audioConstraint.googAutoGainControl2=e.audioProcessing.AGC)),void 0!==e.audioProcessing.AEC&&(e.audioConstraint.echoCancellation=e.audioProcessing.AEC),void 0!==e.audioProcessing.ANS&&(Object(a.isFireFox)()?e.audioConstraint.noiseSuppression=e.audioProcessing.ANS:Object(a.isChrome)()&&(e.audioConstraint.googNoiseSuppression=e.audioProcessing.ANS))),e.screenConstraint={},t.sourceId&&(e.screenConstraint.sourceId=t.sourceId),t.extensionId&&Object(a.isChrome)()?(e.screenConstraint.extensionId=t.extensionId,e.screenConstraint.mandatory={chromeMediaSource:"desktop",maxWidth:e.screenAttributes.width,maxHeight:e.screenAttributes.height,maxFrameRate:e.screenAttributes.maxFr,minFrameRate:e.screenAttributes.minFr}):(e.screenConstraint.mediaSource="screen",e.screenConstraint.width=e.screenAttributes.width,e.screenConstraint.height=e.screenAttributes.height,e.screenConstraint.frameRate={ideal:e.screenAttributes.maxFr,max:e.screenAttributes.maxFr}),t.mediaSource&&(e.screenConstraint.mediaSource=t.mediaSource),e.setVideoResolution=function(n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoResolution",options:arguments,tag:"tracer"});if(!(n instanceof Array)){var a=E(n+="");return a&&a.video?(e.videoConstraint=i()(e.videoConstraint,{width:{ideal:a.video.width},height:{ideal:a.video.height}}),t.attributes.resolution=a.attributes.resolution,(o=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0])&&o.applyConstraints?(c.default.debug("setVideoResolution applyConstraints",e.videoConstraint),o.applyConstraints(e.videoConstraint).then(r).catch(r)):r(),!0):(r("NO_PROFILE_".concat(n)),!1)}var o,s=n[0],l=n[1];e.videoConstraint=i()(e.videoConstraint,{width:{ideal:s},height:{ideal:l}}),t.attributes.resolution="".concat(s,"x").concat(l),(o=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0])&&o.applyConstraints?(c.default.debug("setVideoResolution applyConstraints",e.videoConstraint),x.a.disableVideoEffect(e).then((function(){return o.applyConstraints(e.videoConstraint).then(r).catch(r)})).then((function(){return x.a.restoreVideoEffect(e)}))):r()},e.setVideoFrameRate=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoFrameRate",options:arguments,tag:"tracer"});if(Object(a.isFireFox)())return n("FIREFOX_NOT_SUPPORTED"),!1;if("object"===S()(t)&&t instanceof Array&&t.length>1){e.videoConstraint=i()(e.videoConstraint,{frameRate:t[0]}),e.attributes.minFrameRate=t[0],e.attributes.maxFrameRate=t[1];var r=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0];return r&&r.applyConstraints?(c.default.debug("setVideoFrameRate applyConstraints",e.videoConstraint),r.applyConstraints(e.videoConstraint).then(n).catch(n)):n(),!0}return n("INVALID_PARAM_".concat(JSON.stringify(t))),!1},e.setVideoBitRate=function(n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoBitRate",options:arguments,tag:"tracer"});return"object"===S()(n)&&n instanceof Array&&n.length>1?(t.attributes.minVideoBW=n[0],t.attributes.maxVideoBW=n[1],e.connectionSpec&&(e.connectionSpec.minVideoBW=n[0],e.connectionSpec.maxVideoBW=n[1]),e.pc&&e.pc.renegotiate&&e.pc.renegotiate(),r(),!0):(r("INVALID_PARAM_".concat(JSON.stringify(n))),!1)},e.setScreenBitRate=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setScreenBitRate",options:arguments,tag:"tracer"});return"object"===S()(t)&&t instanceof Array&&t.length>1?(e.screenAttributes.minVideoBW=t[0],e.screenAttributes.maxVideoBW=t[1],n(),!0):(n("INVALID_PARAM_".concat(JSON.stringify(t))),!1)},e.setScreenProfile=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setScreenProfile",options:arguments,tag:"tracer"});Object(b.checkValidEnum)(t,"profile",["480p_1","480p_2","720p_1","720p_2","1080p_1","1080p_2"]);var r=E(t);return r&&r.screen?(e.screenConstraint.mandatory?(e.screenConstraint.mandatory.maxWidth=r.screen.width,e.screenConstraint.mandatory.maxHeight=r.screen.height,r.screen.frameRate&&r.screen.frameRate.min&&r.screen.frameRate.max&&(e.screenConstraint.mandatory.minFrameRate=r.screen.frameRate.min,e.screenConstraint.mandatory.maxFrameRate=r.screen.frameRate.max)):e.screenConstraint=i()(e.screenConstraint,r.screen),e.screenAttributes.width=r.screen.width,e.screenAttributes.height=r.screen.height,e.screenAttributes.minFr=r.screen.frameRate.min,e.screenAttributes.maxFr=r.screen.frameRate.max,n(),!0):(n("NO_SCREEN_PROFILE_".concat(JSON.stringify(t))),!1)},e.setVideoProfileCustom=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoProfileCustom",options:arguments,tag:"tracer"});e.setVideoResolution(t[0]),e.setVideoFrameRate([t[1],t[1]]),e.setVideoBitRate([t[2],t[2]]),n()},e.setVideoProfileCustomPlus=function(n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoProfileCustom",options:arguments,tag:"tracer"});e.setVideoResolution([n.width,n.height]),t.attributes.resolution="".concat(n.width,"x").concat(n.height),e.setVideoFrameRate([n.framerate,n.framerate]),e.setVideoBitRate([n.bitrate,n.bitrate]),r()},e.setVideoProfile=function(n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoProfile",options:arguments,tag:"tracer"}),o=E(n);if(!o){var s="Invalid Profile ".concat(n);throw new Error(s)}if(e.profile=n,o&&o.video){e.profile=o.profileName,e.videoConstraint=i()(e.videoConstraint,o.video),e.connectionSpec&&o.attributes.maxVideoBW&&(e.connectionSpec.minVideoBW=o.attributes.minVideoBW,e.connectionSpec.maxVideoBW=o.attributes.maxVideoBW),Object(a.isEdge)()&&(e.videoConstraint.frameRate.max=60),Object(a.isFireFox)()&&(e.videoConstraint.frameRate=30),t.attributes=i()(t.attributes,o.attributes),e.pc&&e.pc.renegotiate&&e.pc.renegotiate();var l=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0];return l&&l.applyConstraints?(c.default.debug("setVideoProfile applyConstraints",e.videoConstraint),x.a.disableVideoEffect(e).then((function(){return l.applyConstraints(e.videoConstraint)})).then((function(){return x.a.restoreVideoEffect(e)})).then((function(t){return new Promise((function(n,i){r(t),setTimeout((function(){Object(v.vsResHack)(e.stream,(function(t,r){e.videoWidth=t,e.videoHeight=r,n()}),(function(t){c.default.warning("[".concat(e.streamId,"] vsResHack failed: "),t),i()}))}),2500)}))})).catch(r)):r(),!0}return r("INVALID_VIDEO_PROFILE_".concat(n)),!1},e.setAudioProfile=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setAudioProfile",options:arguments,tag:"tracer"});Object(b.checkValidEnum)(t,"profile",["speech_low_quality","speech_standard","music_standard","standard_stereo","high_quality","high_quality_stereo"]),e.audioProfile=t;var r=function(e){var t=d.AUDIO_PROFILE_SETTINGS[e]||d.AUDIO_PROFILE_SETTINGS.default;return{highQuality:t[0],stereo:t[1],speech:t[2],lowQuality:t[3]}}(t);return e.highQuality=r.highQuality,e.stereo=r.stereo,e.speech=r.speech,e.lowQuality=r.lowQuality,e.stereo&&Object(a.isChrome)()&&(e.audioConstraint.googAutoGainControl=!1,e.audioConstraint.googAutoGainControl2=!1,e.audioConstraint.echoCancellation=!1,e.audioConstraint.googNoiseSuppression=!1),n(),!0},e.setVideoEncoderConfiguration=function(t){Object(b.checkValidObject)(t,"config");var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoEncoderConfiguration",options:t,tag:"tracer"});t.resolution&&(Object(b.checkValidNumber)(t.resolution.width,"config.resolution.width"),Object(b.checkValidNumber)(t.resolution.height,"config.resolution.height"),e.setVideoResolution([t.resolution.width,t.resolution.height])),t.frameRate&&(Object(b.checkValidNumber)(t.frameRate.min,"config.frameRate.min"),Object(b.checkValidNumber)(t.frameRate.max,"config.frameRate.max"),e.setVideoFrameRate([t.frameRate.min,t.frameRate.max])),t.bitrate&&(Object(b.checkValidNumber)(t.bitrate.min,"config.bitrate.min",1,1e7),Object(b.checkValidNumber)(t.bitrate.max,"config.bitrate.max",1,1e7),e.setVideoBitRate([t.bitrate.min,t.bitrate.max])),n()},e.getSupportedProfile=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.getSupportedProfile",options:arguments,tag:"tracer",callback:t});if(!e.local){var r="ONLY_LOCAL_STREAM_SUPPORTED";return c.default.error(r),n(r)}if(!e.stream)return r="STREAM_NOT_INIT",c.default.error(r),n(r);if(!e.stream.getVideoTracks)return r="TRACK_NOT_SUPPORT",c.default.error(r),n(r);var i=e.stream.getVideoTracks()[0];if(!i)return r="NO_VIDEO_TRACK_FOUND",c.default.error(r),n(r);if(!i.getCapabilities)return r="GETCAPABILITY_NOT_SUPPORT",c.default.error(r),n(r);var a=function(e){return Object.keys(d.SUPPORT_RESOLUTION_LIST).filter((function(t){var n=d.SUPPORT_RESOLUTION_LIST[t],r=["width","height","frameRate"];for(var i in r){var a=r[i];if(e[a]&&n[i]){if("number"==typeof e[a].max&&e[a].max<n[i])return!1;if("number"==typeof e[a].min&&e[a].min>n[i])return!1}}return!0})).reverse()}(i.getCapabilities());return n(null,a)}}(t,e),t.getId=function(){return t.streamId},t.getUserId=function(){return t.userId},t.checkDualStreamEnabled=function(){return!(!Object(d.getParameter)("DUALSTREAM_OPERATION_CHECK")||!t.isDualStream)&&(c.default.error("Operation not permitted: ".concat("DUAL_STREAM_ENABLED")),"DUAL_STREAM_ENABLED")},t.setUserId=function(e){var n=f.report.reportApiInvoke(t.sid,{name:"Stream.setUserId",options:arguments,tag:"tracer"});t.userId&&c.default.warning("[".concat(t.streamId,"] Stream.userId ").concat(t.userId," => ").concat(e)),t.userId=e,n()},t.getAttributes=function(){return e.screen?t.screenAttributes:e.attributes},t.hasAudio=function(){return!!t.audio},t.hasVideo=function(){return!!t.video},t.hasScreen=function(){return!!t.screen},t.hasScreenAudio=function(){return!!t.screenAudio},t.isVideoOn=function(){return(t.hasVideo()||t.hasScreen())&&!t.userMuteVideo},t.isAudioOn=function(){return t.hasAudio()&&!t.userMuteAudio},t.init=function(r,i){var a=f.report.reportApiInvoke(t.sid,{callback:function(e,t){if(e)return i&&i(e);r&&r(t)},name:"Stream.init",options:arguments,tag:"tracer"}),o=((new Date).getTime(),arguments[2]);if(void 0===o&&(o=2),!0===t.initialized)return a({type:"warning",msg:"STREAM_ALREADY_INITIALIZED"});if(!0!==t.local)return a({type:"warning",msg:"STREAM_NOT_LOCAL"});var s=Math.random().toString().slice(3);t._streamInitID=s,t.videoSource?t.videoName="videoSource":t.video&&(t.videoName=y.a.searchDeviceNameById(e.cameraId)||"default"),t.audioSource?t.audioName="audioSource":t.audio&&(t.audioName=y.a.searchDeviceNameById(e.microphoneId)||"default"),t.screen&&(t.screenName=e.extensionId||"default");try{if(e.audio||e.video||e.screen||e.screenAudio||e.videoSource||e.audioSource){c.default.debug("[".concat(t.streamId,"] Requested access to local media"));var l={streamId:t.streamId};e.videoSource?l.videoSource=e.videoSource:e.screen?l.screen=t.screenConstraint:e.video&&(l.video=t.videoConstraint),e.audioSource?l.audioSource=e.audioSource:e.screenAudio?l.screenAudio=e.screenAudio:e.audio&&(l.audio=t.audioConstraint),Object(m.b)(l,(function(r){if(l.screenAudio&&!r.getAudioTracks()[0]&&c.default.warning("[".concat(t.streamId,"] Audio sharing is not selected")),l.screen&&c.default.debug("[".concat(t.streamId,"] User has granted access to screen sharing")),(l.video||l.audio)&&c.default.debug("[".concat(t.streamId,"] User has granted access to local media")),null===t._streamInitID){r.getTracks().forEach((function(e){e.stop()}));var i={type:"error",msg:"STREAM_IS_CLOSED",info:"stream is closed and cannot be initialized"};return c.default.error(t.streamId,i.info),void a(i)}if(t._streamInitID!==s)return r.getTracks().forEach((function(e){e.stop()})),i={type:"error",msg:"ABORT_OTHER_INIT",info:"stream initialization is aborted because of another stream.init"},c.default.error(t.streamId,i.info),void a(i);t.dispatchEvent({type:"accessAllowed"}),t.stream=r,t.initialized=!0,t.reloadDeviceName(),t.hasVideo()&&Object(v.vsResHack)(r,(function(e,n){t.videoWidth=e,t.videoHeight=n}),(function(e){c.default.warning("[".concat(t.streamId,"] vsResHack failed: "),e)})),e.screen&&t.stream&&t.stream.getVideoTracks()[0]&&(t.stream.getVideoTracks()[0].onended=function(){t.dispatchEvent({type:"stopScreenSharing"})}),t.stream&&t.stream.getTracks&&t.stream.getTracks().forEach((function(r){r&&!r.onended&&(r.onended=n),"video"===r.kind&&e.optimizationMode&&(r.contentHint=e.optimizationMode,r.contentHint===e.optimizationMode&&c.default.debug("[".concat(t.streamId,"] set content hint to"),e.optimizationMode))})),a()}),(function(e){var n={type:"error",info:null};switch(e&&(n.msg=e.name||e.code||e,e.message&&(n.info=e.message),e.code&&(n.info?n.info+=". "+e.code:n.info=" "+e.code),e.constraint&&(n.info?n.info+=". Constraint: "+e.constraint:n.info="constraint: "+e.constraint)),n.msg){case"Starting video failed":case"TrackStartError":if(t.videoConstraint&&(delete t.videoConstraint.width,delete t.videoConstraint.height),o>0)return void setTimeout((function(){t.init((function(e){return a(e)}),a,o-1)}),1);n.msg="MEDIA_OPTION_INVALID";break;case"DevicesNotFoundError":n.msg="DEVICES_NOT_FOUND";break;case"NotSupportedError":n.msg="NOT_SUPPORTED";break;case"PermissionDeniedError":case"InvalidStateError":n.msg="PERMISSION_DENIED",t.dispatchEvent({type:"accessDenied"});break;case"PERMISSION_DENIED":case"NotAllowedError":t.dispatchEvent({type:"accessDenied"});break;case"ConstraintNotSatisfiedError":n.msg="CONSTRAINT_NOT_SATISFIED";break;default:n.msg||(n.msg="UNDEFINED")}var r="Media access ".concat(n.msg).concat(n.info?": "+n.info:"");c.default.error("[".concat(t.streamId,"] "),r),a(n)}))}else a({type:"warning",msg:"STREAM_HAS_NO_MEDIA_ATTRIBUTES"})}catch(e){c.default.error("[".concat(t.streamId,"] Stream init: "),e),a({type:"error",msg:e.message||e})}},t.reloadDeviceName=function(){if(t.stream){if(t.stream.getVideoTracks){var e=t.stream.getVideoTracks()[0];e&&e.label&&(t.videoName=e.label)}if(t.stream.getAudioTracks){var n=t.stream.getAudioTracks()[0];n&&n.label&&(t.audioName=n.label)}}},t.close=function(){var e=f.report.reportApiInvoke(null,{name:"Stream.close",options:arguments,tag:"tracer"});if(c.default.debug("[".concat(t.streamId,"] Close stream with id"),t.streamId),t._originStream)try{t._originStream.getTracks().map((function(e){return e.stop()}))}catch(e){}if(void 0!==t.stream){var n=t.stream.getTracks();for(var r in n)n.hasOwnProperty(r)&&(n[r].stop(),n[r].onended=null);!t.isLowStream&&t.local?x.a.disableVideoEffect(t).then((function(){t.stream=void 0})):(t.stream&&t.stream.clean&&t.stream.clean(),t.stream=void 0)}if(t._originStream){for(var r in n=t._originStream.getTracks())n.hasOwnProperty(r)&&(n[r].stop(),n[r].onended=null);!t.isLowStream&&t.local?x.a.disableVideoEffect(t).then((function(){t._originStream=void 0})):(t._originStream&&t._originStream.clean&&t._originStream.clean(),t._originStream=void 0)}Object(a.isSafari)()&&t.pc&&t.pc.peerConnection&&t.pc.peerConnection.removeTrack&&t.pc.peerConnection.getSenders&&t.pc.peerConnection.getSenders().forEach((function(e){e&&(c.default.debug("[".concat(t.streamId,"] Remove Track"),e),t.pc.peerConnection.removeTrack(e))})),t.local&&(t.initialized=!1),t._streamInitID=null,t._onAudioMute=void 0,t._onAudioUnmute=void 0,t._onVideoMute=void 0,t._onVideoUnmute=void 0,t.lowStream&&t.lowStream.close(),t.player&&t.player.video&&t.player.video.srcObject&&(t.player.video.srcObject=null),t.player&&t.player.audio&&t.player.audio.srcObject&&(t.player.audio.srcObject=null),e()},t.enableAudio=function(){var e,n=f.report.reportApiInvoke(t.sid,{name:"Stream.enableAudio",options:arguments,tag:"tracer"});return c.default.deprecate("[".concat(t.streamId,"] Stream.enableAudio is deprecated and will be removed in the future. Use Stream.unmuteAudio instead")),t.userMuteAudio||c.default.warning("[".concat(t.streamId,"] User already enableAudio")),t.userMuteAudio=!1,n(null,e=!t.peerMuteAudio&&t._unmuteAudio()),e},t.disableAudio=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.disableAudio",options:arguments,tag:"tracer"});c.default.deprecate("[".concat(t.streamId,"] Stream.disableAudio is deprecated and will be removed in the future. Use Stream.muteAudio instead")),t.userMuteAudio&&c.default.warning("[".concat(t.streamId,"] User already disableAudio")),t.userMuteAudio=!0;var n=t._muteAudio();return e(null,n),n},t.enableVideo=function(){var e,n=f.report.reportApiInvoke(t.sid,{name:"Stream.enableVideo",options:arguments,tag:"tracer"});return c.default.deprecate("[".concat(t.streamId,"] Stream.enableVideo is deprecated and will be removed in the future. Use Stream.unmuteVideo instead")),t.userMuteVideo||c.default.warning("[".concat(t.streamId,"] User already enableVideo")),t.userMuteVideo=!1,t.lowStream&&(t.lowStream.userMuteVideo=!1),n(null,e=!t.peerMuteVideo&&t._unmuteVideo()),e},t.disableVideo=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.disableVideo",options:arguments,tag:"tracer"});c.default.deprecate("[".concat(t.streamId,"] Stream.disableVideo is deprecated and will be removed in the future. Use Stream.muteVideo instead")),t.userMuteVideo&&c.default.warning("[".concat(t.streamId,"] User already disableVideo")),t.userMuteVideo=!0,t.lowStream&&(t.lowStream.userMuteVideo=!0);var n=t._muteVideo();return e(null,n),n},t.unmuteAudio=function(){var e,n=f.report.reportApiInvoke(t.sid,{name:"Stream.unmuteAudio",options:arguments,tag:"tracer"});return t.userMuteAudio||c.default.warning("[".concat(t.streamId,"] User already unmuteAudio")),t.userMuteAudio=!1,n(null,e=!t.peerMuteAudio&&t._unmuteAudio()),e},t.muteAudio=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.muteAudio",options:arguments,tag:"tracer"});t.userMuteAudio&&c.default.warning("[".concat(t.streamId,"] User already muteAudio")),t.userMuteAudio=!0;var n=t._muteAudio();return e(null,n),n},t.unmuteVideo=function(){var e,n=f.report.reportApiInvoke(t.sid,{name:"Stream.unmuteVideo",options:arguments,tag:"tracer"});return t.userMuteVideo||c.default.warning("[".concat(t.streamId,"] User already unmuteVideo")),t.userMuteVideo=!1,t.lowStream&&(t.lowStream.userMuteVideo=!1),n(null,e=!t.peerMuteVideo&&t._unmuteVideo()),e},t.muteVideo=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.muteVideo",options:arguments,tag:"tracer"});t.userMuteVideo&&c.default.warning("[".concat(t.streamId,"] User already muteVideo")),t.userMuteVideo=!0,t.lowStream&&(t.lowStream.userMuteVideo=!0);var n=t._muteVideo();return e(null,n),n},t._unmuteAudio=function(){return c.default.debug("[".concat(t.streamId,"] Unmuted audio stream with id "),t.streamId),t._flushAudioMixingMuteStatus(!1),!(!t.hasAudio()||!t.initialized||void 0===t.stream||!0===t.stream.getAudioTracks()[0].enabled)&&(t._onAudioUnmute&&t._onAudioUnmute(),t.pc&&(t.pc.isAudioMute=!1),t.stream.getAudioTracks()[0].enabled=!0,!0)},t._isAudioMuted=function(){if(t.stream&&t.hasAudio()){var e=t.stream.getAudioTracks();return e.length>0&&!e[0].enabled}return!1},t._isVideoMuted=function(){if(t.stream&&t.hasVideo()){var e=t.stream.getVideoTracks();return e.length>0&&!e[0].enabled}return!1},t._muteAudio=function(){return c.default.debug("[".concat(t.streamId,"] Muted audio stream with id "),t.streamId),t._flushAudioMixingMuteStatus(!0),!!(t.hasAudio()&&t.initialized&&void 0!==t.stream&&t.stream.getAudioTracks()[0].enabled)&&(t._onAudioMute&&t._onAudioMute(),t.pc&&(t.pc.isAudioMute=!0),t.stream.getAudioTracks()[0].enabled=!1,t.sid&&f.report.audioSendingStopped(t.sid,{succ:!0,reason:"muteAudio"}),!0)},t._unmuteVideo=function(){return c.default.debug("[".concat(t.streamId,"] Unmuted video stream with id"),t.streamId),!(!t.initialized||void 0===t.stream||!t.stream.getVideoTracks().length||!0===t.stream.getVideoTracks()[0].enabled)&&(t._onVideoUnmute&&t._onVideoUnmute(),t.pc&&(t.pc.isVideoMute=!1),t.stream.getVideoTracks()[0].enabled=!0,t.lowStream&&t.lowStream._unmuteVideo(),!0)},t._muteVideo=function(){return c.default.debug("[".concat(t.streamId,"] Muted video stream with id"),t.streamId),!!(t.initialized&&void 0!==t.stream&&t.stream.getVideoTracks().length&&t.stream.getVideoTracks()[0].enabled)&&(t._onVideoMute&&t._onVideoMute(),t.pc&&(t.pc.isVideoMute=!0),t.stream.getVideoTracks()[0].enabled=!1,t.lowStream&&t.lowStream._muteVideo(),t.sid&&f.report.videoSendingStopped(t.sid,{succ:!0,reason:"muteVideo"}),!0)},t.addTrack=function(r){if(t.audio&&"audio"===r.kind)c.default.warning("already added audio track");else if(t.video&&"video"===r.kind)c.default.warning("already added video track");else{var i=f.report.reportApiInvoke(t.sid,{name:"Stream.addTrack",options:arguments,tag:"tracer"});if(t.pc&&t.pc.addTrack(r,t.stream),"audio"==r.kind){t._cleanupAudioMixing();var a=new MediaStream;t.userMuteAudio&&(r.enabled=!1),a.addTrack(r);var o=t.stream.getVideoTracks()[0];o&&a.addTrack(o),t.audio=!0,e.audio=!0,t.stream=a,t.audioLevelHelper=null,t.player&&t.player.video&&(t.player.video.srcObject=t.stream)}else t.userMuteVideo&&(r.enabled=!1),t.stream.addTrack(r),t.video=!0,e.video=!0;r.onended||(r.onended=n),i()}},t.removeTrack=function(n){if(n)if(t.audio||"audio"!==n.kind)if(t.video||"video"!==n.kind){var r=f.report.reportApiInvoke(t.sid,{name:"Stream.removeTrack",options:arguments,tag:"tracer"});t.pc&&t.pc.removeTrack(n,t.stream),t.stream.removeTrack(n),t._cleanupAudioMixing(),"audio"===n.kind?(t.audio=!1,e.audio=!1):(t.video=!1,e.video=!1),t.audioLevelHelper=null,"live"==n.readyState&&(n.stop(),c.default.debug("[".concat(t.streamId,"] Track ").concat(n.kind," Stopped"))),r()}else c.default.warning("already removed video track");else c.default.warning("already removed audio track");else c.default.warning("track doesn't exist.")},t.setAudioOutput=function(e,n,r){var i=f.report.reportApiInvoke(t.sid,{callback:function(e,t){if(e)return r&&r(e);n&&n(t)},name:"Stream.setAudioOutput",options:arguments,tag:"tracer"});return Object(b.isValidString)(e,1,255)?(t.audioOutput=e,t.player?void t.player.setAudioOutput(e,(function(){return i()}),i):i()):(c.default.error("[".concat(t.streamId,"] setAudioOutput Invalid Parameter"),e),i(u.default.INVALID_PARAMETER))},t.play=function(e,n,r){"function"==typeof n&&(r=n,n=null),c.default.debug("[".concat(t.streamId,"] play()."),e,n);var i=f.report.reportApiInvoke(t.sid,{name:"Stream.play",options:arguments,tag:"tracer",callback:r});if(Object(b.checkValidString)(e,"elementID"),Object(b.isEmpty)(n)||(Object(b.isEmpty)(n.fit)||Object(b.checkValidEnum)(n.fit,"fit",["cover","contain"]),Object(b.isEmpty)(n.muted)||Object(b.checkValidBoolean)(n.muted,"muted")),t.player)c.default.warning("[".concat(t.streamId,"] Stream.play(): Stream is already playing. Fallback to resume stream")),t.resume().then((function(){i(null)})).catch(i);else{t.elementID=e,t.playOptions=n,!t.local||t.video||t.screen?(t.player=new p({id:t.getId(),stream:t,elementID:e,options:n}),t.local&&x.a.applyEffectInPlayer(t)):t.hasAudio()&&(t.player=new p({id:t.getId(),stream:t,elementID:e,options:n}));var a={video:null,audio:null};t.on("player-status-change",(function e(n){if(a[n.mediaType]=n,a.video&&a.audio)if(t.removeEventListener("player-status-change",e),a.video.isErrorState||a.audio.isErrorState){var r=a.video.isErrorState?a.video:a.audio;i({isErrorState:!0,status:r.status,reason:r.reason,video:a.video,audio:a.audio})}else"aborted"===a.video.status&&"aborted"===a.audio.status?i({status:"aborted",reason:"stop",video:a.video,audio:a.audio}):i(null)})),t.audioOutput&&t.player.setAudioOutput(t.audioOutput),void 0!==t.audioLevel&&t.player.setAudioVolume(t.audioLevel),t._flushAudioMixingMuteStatus(!1)}},t.stop=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.stop",options:arguments,tag:"tracer"});c.default.debug("[".concat(t.streamId,"] Stop stream player with id "),t.streamId),t.player?(x.a.removeEffectFromLocalPlayer(t),t.player.destroy(),delete t.player):c.default.error("[".concat(t.streamId,"] Stream.stop(): Stream is not playing")),t._flushAudioMixingMuteStatus(!0),e()},t.isPlaying=function(){return!!t.player},t.isPaused=function(){return!!t.player&&(!!(t.player.video&&t.player.video.paused&&t.player.mediaElemExists(t.player.video))||!!(t.player.audio&&t.player.audio.paused&&t.player.mediaElemExists(t.player.audio)))},t.resume=function(){var e,n;return t.player?(t.player.video&&t.player.video.play&&(e=t.player.video.play()),e=e||Promise.resolve(),t.player.audio&&t.player.audio.play&&(n=t.player.audio.play()),n=n||Promise.resolve(),Promise.all([e,n])):Promise.reject("NO_PLAYER_FOUND")},t.getVideoTrack=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.getVideoTrack",options:arguments,tag:"tracer"});if(t.stream&&t.stream.getVideoTracks){var n=t.stream.getVideoTracks()[0];if(n)return c.default.info("[".concat(t.streamId,"] getVideoTrack"),n),e(),n}c.default.info("[".concat(t.streamId,"] getVideoTrack None")),e(null,"getVideoTrack None")},t.getAudioTrack=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.getAudioTrack",options:arguments,tag:"tracer"});if(t.stream&&t.stream.getAudioTracks){var n=t.stream.getAudioTracks()[0];if(n)return c.default.info("[".concat(t.streamId,"] getAudioTracks"),n),e(),n}c.default.info("[".concat(t.streamId,"] getAudioTracks None")),e(null,"getAudioTracks None")},t._hasVideoTracks=function(){return!!(t.stream&&t.stream.getVideoTracks&&t.stream.getVideoTracks()[0])},t._hasAudioTracks=function(){return!!(t.stream&&t.stream.getAudioTracks&&t.stream.getAudioTracks()[0])},t._replaceMediaStreamTrack=function(e,n,r){if(t.stream){if("video"==e.kind){if(a=t.stream.getVideoTracks()[0])return t.userMuteVideo&&(e.enabled=!1),t.stream.removeTrack(a),t.stream.addTrack(e),c.default.debug("[".concat(t.streamId,"] _replaceMediaStreamTrack ").concat(e.kind," SUCCESS")),"live"==a.readyState&&(a.stop(),c.default.debug("[".concat(t.streamId,"] Track ").concat(a.kind," Stopped"))),n&&n();var i="MEDIASTREAM_TRACK_NOT_FOUND";return c.default.error("[".concat(t.streamId,"] MEDIASTREAM_TRACK_NOT_FOUND ").concat(e.kind)),r(i)}if("audio"==e.kind){var a;if(a=t.stream.getAudioTracks()[0]){t.userMuteAudio&&(e.enabled=!1);var o=new MediaStream;o.addTrack(e);var s=t.stream&&t.stream.getVideoTracks()[0];return s&&o.addTrack(s),t.stream=o,t.audioLevelHelper=null,t.player&&t.player.video&&(t.player.video.srcObject=t.stream),c.default.debug("[".concat(t.streamId,"] _replaceMediaStreamTrack SUCCESS")),"live"==a.readyState&&(a.stop(),c.default.debug("[".concat(t.streamId,"] Track ").concat(a.kind," Stopped"))),n&&n()}return i="MEDIASTREAM_TRACK_NOT_FOUND",c.default.error("[".concat(t.streamId,"] MEDIASTREAM_TRACK_NOT_FOUND ").concat(e.kind)),r(i)}return i="INVALID_TRACK_TYPE",c.default.error("[".concat(t.streamId,"] _replaceMediaStreamTrack ").concat(i," ").concat(e.kind)),r&&r(i)}return i="NO_STREAM_FOUND",c.default.error("[".concat(t.streamId,"] _replaceMediaStreamTrack ").concat(i)),r&&r(i)},t.replaceTrack=function(e,r,i){var a=f.report.reportApiInvoke(t.sid,{callback:function(e,t){if(e)return i&&i(e);r&&r(t)},name:"Stream.replaceTrack",options:arguments,tag:"tracer"});return e&&e.kind?(t._cleanupAudioMixing(),e.onended||(e.onended=n),t.pc&&t.pc.hasSender&&t.pc.hasSender(e.kind)?void t.pc.replaceTrack(e,(function(){return c.default.debug("[".concat(t.streamId,"] PeerConnection.replaceTrack ").concat(e.kind," SUCCESS")),t._replaceMediaStreamTrack(e,(function(e){return a(null,e)}),a)}),(function(n){return c.default.error("[".concat(t.streamId,"] PeerConnection.replaceTrack ").concat(e.kind," Failed ").concat(n)),a(n)})):t._replaceMediaStreamTrack(e,(function(e){return a(null,e)}),a)):a("INVALID_TRACK")},t.setAudioVolume=function(e){var n=f.report.reportApiInvoke(t.sid,{name:"Stream.setAudioVolume",options:arguments,tag:"tracer"});Object(b.checkValidNumber)(e,"level",0,100),t.audioLevel=e,t.player&&t.player.setAudioVolume(e),n()},t.getStats=function(e,n,r){var o=[];o.push(t._getPCStats(r)),o.push(new Promise((function(e){var n={};t.pc&&t.pc.isSubscriber?null!==window.navigator.userAgent.match("Firefox")&&(Object(g.b)(n,"videoReceiveResolutionHeight",t.videoHeight),Object(g.b)(n,"videoReceiveResolutionWidth",t.videoWidth)):t.pc&&!t.pc.isSubscriber&&((Object(a.isSafari)()||Object(a.isFireFox)())&&(Object(g.b)(n,"videoSendResolutionHeight",t.videoHeight),Object(g.b)(n,"videoSendResolutionWidth",t.videoWidth)),(Object(a.isSafari)()||Object(a.isFireFox)())&&t.uplinkStats&&Object(g.b)(n,"videoSendPacketsLost",t.uplinkStats.uplink_cumulative_lost)),e(n)}))),o.push(new Promise((function(e){var n={};return t.traffic_stats&&t.pc&&t.pc.isSubscriber?(Object(g.b)(n,"accessDelay",t.traffic_stats.access_delay),Object(g.b)(n,"endToEndDelay",t.traffic_stats.e2e_delay),Object(g.b)(n,"videoReceiveDelay",t.traffic_stats.video_delay),Object(g.b)(n,"audioReceiveDelay",t.traffic_stats.audio_delay)):t.traffic_stats&&t.pc&&!t.pc.isSubscriber&&Object(g.b)(n,"accessDelay",t.traffic_stats.access_delay),e(n)}))),Promise.all(o).then((function(n){for(var r={},a=n.length-1;a>=0;a--){var o=n[a];i()(r,o)}e&&setTimeout(e.bind(t,r),0)})).catch((function(e){n&&setTimeout(n.bind(t,e),0)}))},t._getPCStats=function(e){return new Promise((function(n,r){if(!t.pc||"established"!==t.pc.state||!t.pc.getStats)return r("PEER_CONNECTION_NOT_ESTABLISHED");t.pc.getStats((function(e){if(!t.pc||"established"!==t.pc.state||!t.pc.getStats)return r("PEER_CONNECTION_STATE_CHANGE");var i=t.pc.isSubscriber?Object(g.c)(e):Object(g.a)(e);return n(i)}),e)})).then((function(e){return t.pc.isSubscriber?(Object(a.isFireFox)()||Object(a.isSafari)())&&(e.videoReceiveResolutionHeight&&"0"!==e.videoReceiveResolutionHeight||e.videoReceiveResolutionWidth&&"0"!==e.videoReceiveResolutionWidth||(Object(g.b)(e,"videoReceiveResolutionHeight",t.videoHeight),Object(g.b)(e,"videoReceiveResolutionWidth",t.videoWidth))):((Object(a.isSafari)()||Object(a.isFireFox)())&&(e.videoSendResolutionHeight&&"0"!==e.videoSendResolutionHeight||e.videoSendResolutionWidth&&"0"!==e.videoSendResolutionWidth||(Object(g.b)(e,"videoSendResolutionHeight",t.videoHeight),Object(g.b)(e,"videoSendResolutionWidth",t.videoWidth))),(Object(a.isSafari)()||Object(a.isFireFox)())&&t.uplinkStats&&Object(g.b)(e,"videoSendPacketsLost",t.uplinkStats.uplink_cumulative_lost)),Promise.resolve(e)}))},t.getAudioLevel=function(){if(t.audioLevelHelper)return t.audioLevelHelper.getAudioLevel();if(t.stream){if(0!==t.stream.getAudioTracks().length)return t.audioLevelHelper=new v.audioLevelHelper(t.stream),t.audioLevelHelper.getAudioLevel();c.default.warning("[".concat(t.streamId,"] can't get audioLevel beacuse no audio trace in stream"))}else c.default.warning("[".concat(t.streamId,"] can't get audioLevel beacuse no stream exist"))},t.setVideoProfile("480p_1"),t._switchVideoDevice=function(e,n,r){if(e===t.cameraId)return n&&n();var a={video:i()({},t.videoConstraint,{deviceId:{exact:e}}),audio:!1};c.default.debug("[".concat(t.streamId,"] ").concat(a)),Object(m.b)(a,(function(i){try{var a=function(){t.isPlaying()&&(t.stop(),t.elementID&&t.play(t.elementID,t.playOptions)),t.cameraId=e,t.videoConstraint.deviceId={exact:e},t.userMuteVideo&&(t.stream.getVideoTracks()[0].enabled=!1),x.a.restoreVideoEffect(t).then((function(){n&&n()}))};x.a.disableVideoEffect(t).then((function(){var e=!1;window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack&&(e=!0),e?t.replaceTrack(i.getVideoTracks()[0],a,r):(t.removeTrack(t.stream.getVideoTracks()[0]),t.addTrack(i.getVideoTracks()[0]),a())}))}catch(e){return r&&r(e)}}),(function(e){return r&&r(e)}))},t._switchAudioDevice=function(e,n,r){if(e===t.microphoneId)return n&&n();var a={video:!1,audio:i()({},t.audioConstraint,{deviceId:{exact:e}})};c.default.debug("[".concat(t.streamId,"] "),a);var o=t.stream.getAudioTracks()[0];o&&o.stop(),Object(m.b)(a,(function(i){var a=function(){t._cleanupAudioMixing(),t.userMuteAudio&&(t.stream.getAudioTracks()[0].enabled=!1),t.isPlaying()&&(t.stop(),t.elementID&&t.play(t.elementID,t.playOptions)),t.microphoneId=e,t.audioConstraint.deviceId={exact:e},n&&n()};try{var o=!1;window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack&&(o=!0),o?t.replaceTrack(i.getAudioTracks()[0],a,r):(t.removeTrack(t.stream.getAudioTracks()[0]),t.addTrack(i.getAudioTracks()[0]),a())}catch(e){return r&&r(e)}}),(function(e){return r&&r(e)}))},t.switchDevice=function(e,n,r,i){var a=f.report.reportApiInvoke(t.sid,{callback:function(e,t){if(e)return i&&i(e);r&&r(t)},name:"Stream.switchDevice",options:arguments,tag:"tracer"});Object(b.checkValidString)(n,"deviceId");var o=function(){return t.inSwitchDevice=!1,a()},s=function(e){t.inSwitchDevice=!1,c.default.error("[".concat(t.streamId,"] "),e),a(e)};if(t.inSwitchDevice)return a("Device switch is in process.");if(t.inSwitchDevice=!0,!t.local)return s("Only the local stream can switch the device.");if(t.screen&&"video"===e)return s("The device cannot be switched during screen-sharing.");if(!t.video&&"video"===e)return s("Video track not exist.");if(!t.audio&&"audio"===e)return s("Audio track not exist.");if(t.videoSource||t.audioSource)return s("The device cannot be switched when using videoSource or audioSource.");var l=!1;for(var u in t.audioMixing.sounds)if(t.audioMixing.sounds[u].state!==t.audioMixing.states.IDLE){l=!0;break}if(t.audioMixing.audioContextInited&&l)return s("The device cannot be switched when using audio Mixing.");y.a.getDeviceById(n,(function(){if("video"===e)t._switchVideoDevice(n,o,s);else{if("audio"!==e)return s("Invalid type.");t._switchAudioDevice(n,o,s)}}),(function(){return s("The device does not exist.")}))},t},N=function(e){var t=f.report.reportApiInvoke(null,{name:"createStream",options:arguments,tag:"tracer",getStates:function(){return{audioTrackEnable:e&&e.audioSource?e.audioSource.enabled:null,videoTrackEnable:e&&e.videoSource?e.videoSource.enabled:null}}});Object(b.checkValidObject)(e,"StreamSpec");var n=e.streamID,r=e.audio,i=e.video,a=e.screen,o=e.screenAudio,s=(e.audioSource,e.videoSource,e.cameraId),l=e.facingMode,u=e.microphoneId,d=e.mirror,h=e.extensionId,p=e.mediaSource,m=e.audioProcessing,g=e.optimizationMode;if(!Object(b.isEmpty)(n)&&!Object(v.is32Uint)(n)&&!Object(b.isValidString)(n,1,255))throw new Error("[String streamID] Length of the string: [1,255]. ASCII characters only. [Number streamID] The value range is Uint32");if(Object(b.checkValidBoolean)(r,"audio"),Object(b.checkValidBoolean)(i,"video"),Object(b.isEmpty)(a)||Object(b.checkValidBoolean)(a,"screen"),Object(b.isEmpty)(o)||Object(b.checkValidBoolean)(o,"screenAudio"),Object(b.isEmpty)(s)||Object(b.checkValidString)(s,"cameraId",0,255,!1),Object(b.isEmpty)(l)||Object(b.checkValidEnum)(l,"facingMode",["user","environment","left","right"]),Object(b.isEmpty)(u)||Object(b.checkValidString)(u,"microphoneId",0,255,!1),Object(b.isEmpty)(h)||Object(b.checkValidString)(h,"extensionId"),Object(b.isEmpty)(p)||Object(b.checkValidEnum)(p,"mediaSource",["screen","application","window"]),Object(b.isEmpty)(d)||Object(b.checkValidBoolean)(d,"mirror"),!Object(b.isEmpty)(m)){var y=m.AGC,_=m.AEC,x=m.ANS;Object(b.isEmpty)(y)||Object(b.checkValidBoolean)(y,"AGC"),Object(b.isEmpty)(_)||Object(b.checkValidBoolean)(_,"AEC"),Object(b.isEmpty)(x)||Object(b.checkValidBoolean)(x,"ANS")}Object(b.isEmpty)(g)||Object(b.checkValidEnum)(g,"optimizationMode",["detail","motion"]),c.default.debug("Create stream"),!0===o&&!0===r&&c.default.warning("Do not set both 'screenAudio' and 'audio' to true at the same time"),e.screen&&!g&&(e.optimizationMode="detail");var w=k(e);return t(),w}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return w}));var r=n(4),i=n(7),a=n.n(i),o=n(12),s=n.n(o),c=n(17),l=n.n(c),u=n(0),d=n(15),f=n(2);function h(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){o=!0,i=e})),f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){o=!0,i=e})),f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=n(50),y=n.n(g),b=n(26),_=(n(5),103),x=function(e){var t={};if(t.clientId=e.clientId,e.session_id=_+=1,"undefined"==typeof window||!window.navigator)throw u.default.error("["+t.streamId+"]["+t.clientId+"]Publish/subscribe video/audio streams not supported yet"),new Error("NON_BROWSER_ENV_DETECTED");return null!==window.navigator.userAgent.match("Firefox")?(t.browser="mozilla",t=function(e){var t={},n=(mozRTCPeerConnection,mozRTCSessionDescription),r=!1;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isAudioMute=e.isAudioMute,t.isSubscriber=e.isSubscriber,t.clientId=e.clientId,t.filterStatsCache=[],t.originStatsCache=[],t.lastTimeGetStats=null,t.pc_config={iceServers:[]},e.iceServers instanceof Array?e.iceServers.map((function(e){0===e.url.indexOf("stun:")&&t.pc_config.iceServers.push({url:e.url})})):(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map((function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})})):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServers&&(e.turnServers instanceof Array?e.turnServers.map((function(e){e.udpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.udpport+"?transport=udp"}),"string"==typeof e.tcpport&&""!==e.tcpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.tcpport+"?transport=tcp"}),!0===e.forceturn&&(t.pc_config.iceTransportPolicy="relay")})):u.default.error("[".concat(t.clientId,"] turnServers is not a array")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={offerToReceiveAudio:e.audio,offerToReceiveVideo:e.video,mozDontOfferDataChannel:!0},t.roapSessionId=103,t.peerConnection=new d.RTCPeerConnection(t.pc_config),t.iceCandidateTimer=setTimeout((function(){t.iceCandidateTimer=null,u.default.debug("[".concat(t.clientId,"]Candidates collected: ").concat(t.iceCandidateCount)),t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())}),Object(f.getParameter)("CANDIDATE_TIMEOUT")),t.peerConnection.onicecandidate=function(e){var n,r,i,a;r=(n=t.peerConnection.localDescription.sdp).match(/a=candidate:.+typ\ssrflx.+\r\n/),i=n.match(/a=candidate:.+typ\shost.+\r\n/),a=n.match(/a=candidate:.+typ\srelay.+\r\n/),null===r&&null===i&&null===a||void 0!==t.ice||!t.iceCandidateTimer||(clearTimeout(t.iceCandidateTimer),t.iceCandidateTimer=null,t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1},t.checkMLineReverseInSDP=function(e){return!(!~e.indexOf("m=audio")||!~e.indexOf("m=video"))&&e.indexOf("m=audio")>e.indexOf("m=video")},t.reverseMLineInSDP=function(e){var t=e.split("m=audio"),n=t[1].split("m=video"),r="m=video"+n[1],i="m=audio"+n[0];return t[0]+r+i},t.processSignalingMessage=function(r){var i,a=JSON.parse(r);t.incomingMessage=a,"new"===t.state?"OFFER"===a.messageType?(a.sdp=g(a.sdp),i={sdp:a.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new n(i),(function(){u.default.debug("["+t.clientId+"]setRemoteDescription succeeded")}),(function(e){u.default.info("["+t.clientId+"]setRemoteDescription failed: "+e.name)})),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+a.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===a.messageType?(a.sdp=g(a.sdp),a.sdp=a.sdp.replace(/ generation 0/g,""),a.sdp=a.sdp.replace(/ udp /g," UDP "),-1!==a.sdp.indexOf("a=group:BUNDLE")?(a.sdp=a.sdp.replace(/a=group:BUNDLE audio video/,"a=group:BUNDLE sdparta_0 sdparta_1"),a.sdp=a.sdp.replace(/a=mid:audio/,"a=mid:sdparta_0"),a.sdp=a.sdp.replace(/a=mid:video/,"a=mid:sdparta_1")):(a.sdp=a.sdp.replace(/a=mid:audio/,"a=mid:sdparta_0"),a.sdp=a.sdp.replace(/a=mid:video/,"a=mid:sdparta_0")),i={sdp:a.sdp,type:"answer"},e.screen&&"detail"===e.optimizationMode&&(u.default.debug("[".concat(t.client,"] remove screen share abs ext")),a.sdp=y(i.sdp)),t.peerConnection.setRemoteDescription(new n(i),(function(){u.default.debug("["+t.clientId+"]setRemoteDescription succeeded")}),(function(e){u.default.info("["+t.clientId+"]setRemoteDescription failed: "+e)})),t.state="established"):"pr-answer"===a.messageType?(i={sdp:a.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new n(i),(function(){u.default.debug("["+t.clientId+"]setRemoteDescription succeeded")}),(function(e){u.default.info("["+t.clientId+"]setRemoteDescription failed: "+e.name)}))):"offer"===a.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+a.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===a.messageType?(i={sdp:a.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new n(i),(function(){u.default.debug("["+t.clientId+"]setRemoteDescription succeeded")}),(function(e){u.default.info("["+t.clientId+"]setRemoteDescription failed: "+e.name)})),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+a.messageType+" in state "+t.state))},t.setRtpSenderParameters=function(){var e=l()(s.a.mark((function e(n){var r,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.peerConnection.getSenders(),i=r.find((function(e){return"video"===e.track.kind}))){e.next=4;break}return e.abrupt("return");case 4:return(a=i.getParameters()).degradationPreference=n,e.prev=6,u.default.debug("[".concat(t.clientId,"] setParameters"),a),e.next=10,i.setParameters(a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),u.default.debug("[".concat(t.clientId,"] setParameters failed, ignore"));case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}();var i={id:"",type:"",mediaType:"opus",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},a={id:"",type:"",mediaType:"",googCodecName:e.codec?e.codec.toUpperCase():"",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0"},o={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},c={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0",googFramesDecoded:"0"},h=0,p=0,v=0;t.getVideoRelatedStats=function(e){t.peerConnection.getStats().then((function(n){var r,i=m(n.values());try{for(i.s();!(r=i.n()).done;){var a=r.value;if(t.isSubscriber){if(("inbound-rtp"===a.type||"inboundrtp"===a.type)&&"video"===a.mediaType){if(!t.lastReport)return void(t.lastReport=a);e&&e({browser:"firefox",mediaType:"video",peerId:t.uid,isVideoMute:t.isVideoMute,frameRateReceived:Math.round(a.framerateMean)+"",frameRateDecoded:a.framesDecoded-t.lastReport.framesDecoded+"",bytesReceived:a.bytesReceived+"",packetsReceived:a.packetsReceived+"",packetsLost:a.packetsLost+""}),t.lastReport=a}}else if(("outbound-rtp"===a.type||"outboundrtp"===a.type)&&"video"===a.mediaType){if(!t.lastReport)return void(t.lastReport=a);e&&e({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:Math.round(a.framerateMean)+"",frameRateSent:a.framesEncoded-t.lastReport.framesEncoded+""}),t.lastReport=a}}}catch(e){i.e(e)}finally{i.f()}}))},t.getAudioRelatedStats=function(e){t.peerConnection.getStats().then((function(n){var r,i=m(n.values());try{for(i.s();!(r=i.n()).done;){var a=r.value;t.isSubscriber&&("inbound-rtp"!==a.type&&"inboundrtp"!==a.type||"audio"!==a.mediaType||e&&e({browser:"firefox",mediaType:"audio",peerId:t.uid,isAudioMute:t.isAudioMute,frameDropped:a.packetsLost+"",frameReceived:a.packetsReceived+"",googJitterReceived:a.jitter+"",bytesReceived:a.bytesReceived+"",packetsReceived:a.packetsReceived+"",packetsLost:a.packetsLost+""}))}}catch(e){i.e(e)}finally{i.f()}}))},t.getStatsRate=function(e){t.getStats((function(t){t.forEach((function(e){})),e(t)}))},t.getStats=function(e,n){n=(n=n||500)>500?500:n,t.lastTimeGetStats&&Date.now()-t.lastTimeGetStats<n?e&&e(t.filterStatsCache,t.originStatsCache):this._getStats((function(n,r){t.filterStatsCache=n,t.originStatsCache=r,t.lastTimeGetStats=Date.now(),e&&e(n,r)}))},t._getStats=function(n){t.peerConnection.getStats().then((function(r){var s,l=[],u=m(r.values());try{for(u.s();!(s=u.n()).done;){var d=s.value;l.push(d),"outbound-rtp"!==d.type&&"outboundrtp"!==d.type||"video"!==d.mediaType||-1!==d.id.indexOf("rtcp")||(a.id=d.id,a.type=d.type,a.mediaType=d.mediaType,a.bytesSent=d.bytesSent?d.bytesSent+"":"0",a.packetsSent=d.packetsSent?d.packetsSent+"":"0",a.googPlisReceived=d.pliCount?d.pliCount+"":"0",a.googNacksReceived=d.nackCount?d.nackCount+"":"0",a.googFirsReceived=d.firCount?d.firCount+"":"0",a.googFrameRateSent=d.framerateMean?Math.round(d.framerateMean)+"":"0"),"outbound-rtp"!==d.type&&"outboundrtp"!==d.type||"audio"!==d.mediaType||-1!==d.id.indexOf("rtcp")||(i.id=d.id,i.type=d.type,i.mediaType=d.mediaType,i.bytesSent=d.bytesSent?d.bytesSent+"":"0",i.packetsSent=d.packetsSent?d.packetsSent+"":"0",e.agoraStream.local&&(i.audioInputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"inbound-rtp"!==d.type&&"inboundrtp"!==d.type||"audio"!==d.mediaType||d.isRemote||-1!==d.id.indexOf("rtcp")||(o.id=d.id,o.type=d.type,o.mediaType=d.mediaType,o.bytesReceived=d.bytesReceived?d.bytesReceived+"":"0",o.packetsLost=d.packetsLost?d.packetsLost+"":"0",o.packetsReceived=d.packetsReceived?d.packetsReceived+"":"0",o.googJitterReceived=d.jitter?d.jitter+"":"0",e.agoraStream.local||(o.audioOutputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"inbound-rtp"!==d.type&&"inboundrtp"!==d.type||"video"!==d.mediaType||d.isRemote||-1!==d.id.indexOf("rtcp")||(c.id=d.id,c.type=d.type,c.mediaType=d.mediaType,c.bytesReceived=d.bytesReceived?d.bytesReceived+"":"0",c.googFrameRateReceived=d.framerateMean?Math.round(d.framerateMean)+"":"0",c.googFramesDecoded=d.framesDecoded?d.framesDecoded+"":"0",Date.now()-v>=1e3?(c.googFrameRateDecoded=(d.framesDecoded-h)/((Date.now()-v)/1e3),c.googFrameRateDecoded=Math.round(Math.max(0,c.googFrameRateDecoded)),v=Date.now(),p=c.googFrameRateDecoded,h=d.framesDecoded,c.googFrameRateDecoded=c.googFrameRateDecoded.toString()):c.googFrameRateDecoded=p.toString(),c.packetsLost=d.packetsLost?d.packetsLost+"":"0",c.packetsReceived=d.packetsReceived?d.packetsReceived+"":"0",c.googJitterBufferMs=d.jitter?d.jitter+"":"0",c.googNacksSent=d.nackCount?d.nackCount+"":"0",c.googPlisSent=d.pliCount?d.pliCount+"":"0",c.googFirsSent=d.firCount?d.firCount+"":"0"),-1!==d.id.indexOf("outbound_rtcp_video")&&(a.packetsLost=d.packetsLost?d.packetsLost+"":"0")}}catch(e){u.e(e)}finally{u.f()}var f=[a,i,o,c];f.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),n(f,l)}),(function(e){u.default.error("["+t.clientId+"]"+e)}))},t.addStream=function(e){r=!0,t.peerConnection.addStream(e),t.markActionNeeded()},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater((function(){t.onstablestate()}))},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){if(t.actionNeeded){if("new"===t.state||"established"===t.state)r&&(t.mediaConstraints=void 0),t.peerConnection.createOffer((function(e){if(e.sdp=g(e.sdp),e.sdp=e.sdp.replace(/a=extmap:1 http:\/\/www.webrtc.org\/experiments\/rtp-hdrext\/abs-send-time/,"a=extmap:3 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"),e.sdp!==t.prevOffer)return t.peerConnection.setLocalDescription(e),t.state="preparing-offer",void t.markActionNeeded();u.default.debug("["+t.clientId+"]Not sending a new offer")}),(function(e){u.default.debug("["+t.clientId+"]Ups! create offer failed ",e)}),t.mediaConstraints);else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.offerCandidates=t.prevOffer.match(/a=candidate.+\r\n/g)||[],t.offerCandidates.length||(e.isCloudProxy3&&e.onNoIceCandidate&&e.onNoIceCandidate(),u.default.warning("[".concat(t.clientId,"]No Ice Candidate generated")),Object(f.getParameter)("SHIM_CANDIDATE")?(u.default.debug("Shimming fake candidate"),t.prevOffer+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"):u.default.error("[".concat(t.clientId,"]None Ice Candidate not allowed"))),t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer((function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var n=new Date;u.default.debug("["+t.clientId+"]"+n.getTime()+": Starting ICE in responder"),t.iceStarted=!0}}),(function(){u.default.debug("["+t.clientId+"]Ups! Something went wrong")}));else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;var n=t.peerConnection.localDescription.sdp;t.sendMessage("ANSWER",n),t.state="established"}else t.debug("Dazed and confused in state "+t.state+", stopping here");t.actionNeeded=!1}},t.sendMessage=function(e,n){var r={};r.messageType=e,r.sdp=n,"OFFER"===e?(r.offererSessionId=t.sessionId,r.answererSessionId=t.otherSessionId,r.seq=t.sequenceNumber+=1,r.tiebreaker=Math.floor(429496723*Math.random()+1)):(r.offererSessionId=t.incomingMessage.offererSessionId,r.answererSessionId=t.sessionId,r.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(r))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var n=t.peerConnection.getSenders().find((function(t){return t.track.kind==e}));if(n)return n}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,n,r){var i=t._getSender(e.kind);if(!i)return r("NO_SENDER_FOUND");try{i.replaceTrack(e)}catch(e){return r&&r(e)}setTimeout((function(){return n&&n()}),50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){t.onaddstream&&t.onaddstream(e,"ontrack")},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)};var g=function(t){var n;if(e.video&&e.maxVideoBW&&(null==(n=t.match(/m=video.*\r\n/))&&(n=t.match(/m=video.*\n/)),n&&n.length>0)){var r=n[0]+"b=TIAS:"+1e3*e.maxVideoBW+"\r\n";t=t.replace(n[0],r)}return e.audio&&e.maxAudioBW&&(null==(n=t.match(/m=audio.*\r\n/))&&(n=t.match(/m=audio.*\n/)),n&&n.length>0)&&(r=n[0]+"b=TIAS:"+1e3*e.maxAudioBW+"\r\n",t=t.replace(n[0],r)),t},y=function(e){return(e=e.replace(/a=.*abs-send-time\r\n/g,"")).replace(/a=.*goog-remb\r\n/g,"")};return t.onaddstream=null,t.onremovestream=null,t.state="new",t.markActionNeeded(),t}(e)):"iOS"===r.getBrowserOS()||r.isSafari()?(u.default.debug("["+t.streamId+"]["+t.clientId+"]Safari"),(t=function(e){var t={},n=d.RTCPeerConnection;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isAudioMute=e.isAudioMute,t.isSubscriber=e.isSubscriber,t.clientId=e.clientId,t.filterStatsCache=[],t.originStatsCache=[],t.lastTimeGetStats=null,t.pc_config={iceServers:[],bundlePolicy:"max-bundle"},t.con={optional:[{DtlsSrtpKeyAgreement:!0}]},e.iceServers instanceof Array?t.pc_config.iceServers=e.iceServers:(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map((function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})})):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServers&&(e.turnServers instanceof Array?e.turnServers.map((function(e){e.udpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.udpport+"?transport=udp"}),"string"==typeof e.tcpport&&""!==e.tcpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.tcpport+"?transport=tcp"}),!0===e.forceturn&&(t.pc_config.iceTransportPolicy="relay")})):u.default.error("[".concat(t.clientId,"] turnServers is not a array")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={mandatory:{OfferToReceiveVideo:e.video,OfferToReceiveAudio:e.audio}},t.roapSessionId=103;try{t.pc_config.sdpSemantics=Object(f.getParameter)("PLAN"),t.peerConnection=new n(t.pc_config,t.con)}catch(e){delete t.pc_config.sdpSemantics,t.peerConnection=new n(t.pc_config,t.con)}t.iceCandidateTimer=setTimeout((function(){t.iceCandidateTimer=null,t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())}),Object(f.getParameter)("CANDIDATE_TIMEOUT")),t.peerConnection.onicecandidate=function(e){var n,r,i,a;r=(n=t.peerConnection.localDescription.sdp).match(/a=candidate:.+typ\ssrflx.+\r\n/),i=n.match(/a=candidate:.+typ\shost.+\r\n/),a=n.match(/a=candidate:.+typ\srelay.+\r\n/),0===t.iceCandidateCount&&(t.timeout=setTimeout((function(){t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())}),1e3)),null===r&&null===i&&null===a||void 0!==t.ice||!t.iceCandidateTimer||(clearTimeout(t.iceCandidateTimer),t.iceCandidateTimer=null,t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1};var r=function(t){return e.screen&&(t=t.replace("a=x-google-flag:conference\r\n","")),t},i=function(n){var r,i;return(r=n.match(/m=video.*\r\n/))&&e.minVideoBW&&e.maxVideoBW&&(i=r[0]+"b=AS:"+e.maxVideoBW+"\r\n",n=n.replace(r[0],i),u.default.debug("["+t.clientId+"]Set Video Bitrate - min:"+e.minVideoBW+" max:"+e.maxVideoBW)),(r=n.match(/m=audio.*\r\n/))&&e.maxAudioBW&&(i=r[0]+"b=AS:"+e.maxAudioBW+"\r\n",n=n.replace(r[0],i)),n};t.processSignalingMessage=function(n){var a,o=JSON.parse(n);t.incomingMessage=o,"new"===t.state?"OFFER"===o.messageType?(a={sdp:o.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(a)),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===o.messageType?((a={sdp:o.sdp,type:"answer"}).sdp=r(a.sdp),a.sdp=i(a.sdp),a.sdp=a.sdp.replace(/a=x-google-flag:conference\r\n/g,""),e.screen&&"detail"===e.optimizationMode&&(u.default.debug("[".concat(t.client,"] remove screen share abs ext")),a.sdp=a.sdp.replace(/a=.*abs-send-time\r\n/g,"").replace(/a=.*goog-remb\r\n/g,"")),t.peerConnection.setRemoteDescription(new RTCSessionDescription(a)),t.state="established"):"pr-answer"===o.messageType?(a={sdp:o.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(a))):"offer"===o.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===o.messageType?(a={sdp:o.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(a)),t.state="offer-received",t.markActionNeeded()):"ANSWER"===o.messageType?((a={sdp:o.sdp,type:"answer"}).sdp=r(a.sdp),a.sdp=i(a.sdp),t.peerConnection.setRemoteDescription(new RTCSessionDescription(a))):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state))},t.setRtpSenderParameters=function(){var e=l()(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.degradation=n;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t._setRtpSenderParameters=function(){var e=l()(s.a.mark((function e(n){var r,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.peerConnection.getSenders(),i=r.find((function(e){return e&&e.track&&"video"===e.track.kind}))){e.next=4;break}return e.abrupt("return");case 4:return(a=i.getParameters()).degradationPreference=n,e.prev=6,u.default.debug("[".concat(t.clientId,"] setParameters"),a),e.next=10,i.setParameters(a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),u.default.debug("[".concat(t.clientId,"] setParameters failed, ignore"));case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}();var a={id:"",type:"",mediaType:"",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},o={id:"",type:"",mediaType:"",googCodecName:e.codec?e.codec.toUpperCase():"",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0",googFramesEncoded:"0"},c={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},h={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googFramesDecoded:"0",googFrameReceived:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0"},p={id:"bweforvideo",type:"VideoBwe",googAvailableSendBandwidth:"0",googAvailableReceiveBandwidth:"0",googActualEncBitrate:"0",googRetransmitBitrate:"0",googTargetEncBitrate:"0",googBucketDelay:"0",googTransmitBitrate:"0"},m=0,v=0,g=0;return t.isRemoteVideoStats=function(e){return!!(e.frameHeight&&e.frameWidth&&e.remoteSource)},t.getVideoRelatedStats=function(n){t.peerConnection.getStats().then((function(r){r.forEach((function(r){if(t.isSubscriber){var i={peerId:t.uid,mediaType:"video",isVideoMute:t.isVideoMute};if("track"===r.type&&(~r.id.indexOf("video")||~r.trackIdentifier.indexOf("v")||t.isRemoteVideoStats(r))){if(!t.lastReport)return void(t.lastReport=r);i.frameRateReceived=r.framesReceived-t.lastReport.framesReceived+"",i.frameRateDecoded=r.framesDecoded-t.lastReport.framesDecoded+"",t.lastReport=r}"inbound-rtp"===r.type&&~r.id.indexOf("Video")&&(i.bytesReceived=r.bytesReceived+"",i.packetsReceived=r.packetsReceived+"",i.packetsLost=r.packetsLost+""),n&&n(i)}else if("outbound-rtp"===r.type&&~r.id.indexOf("Video")){if(!t.lastReport)return void(t.lastReport=r);n&&n({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:e.maxFrameRate+"",frameRateSent:r.framesEncoded-t.lastReport.framesEncoded+""}),t.lastReport=r}}))}))},t.getAudioRelatedStats=function(e){t.peerConnection.getStats().then((function(n){n.forEach((function(n){t.isSubscriber&&"inbound-rtp"===n.type&&~n.id.indexOf("Audio")&&e&&e({peerId:t.uid,mediaType:"audio",isAudioMute:t.isAudioMute,frameDropped:n.packetsLost+"",frameReceived:n.packetsReceived+"",googJitterReceived:n.jitter+"",bytesReceived:n.bytesReceived+"",packetsReceived:n.packetsReceived+"",packetsLost:n.packetsLost+""})}))}))},t.getStatsRate=function(e){t.getStats((function(t){t.forEach((function(e){"outbound-rtp"===e.type&&"video"===e.mediaType&&e.googFramesEncoded&&(e.googFrameRateSent=Math.ceil((e.googFramesEncoded-m)/3).toString(),m=e.googFramesEncoded),"inbound-rtp"===e.type&&-1!=e.id.indexOf("55543")&&(e.googFrameRateReceived&&(e.googFrameRateReceived=Math.ceil((e.googFrameReceived-g)/3).toString(),g=e.googFrameReceived),e.googFrameRateDecoded&&(e.googFrameRateDecoded=Math.ceil((e.googFramesDecoded-v)/3).toString(),v=e.googFramesDecoded))})),e(t)}))},t.getStats=function(e,n){n=(n=n||500)>500?500:n,t.lastTimeGetStats&&Date.now()-t.lastTimeGetStats<n?e&&e(t.filterStatsCache,t.originStatsCache):this._getStats((function(n,r){t.filterStatsCache=n,t.originStatsCache=r,t.lastTimeGetStats=Date.now(),e&&e(n,r)}))},t._getStats=function(n){var r=[];t.peerConnection.getStats().then((function(i){i.forEach((function(t){var n;r.push(t),"outbound-rtp"===t.type&&"audio"===t.mediaType&&(a.id=t.id,a.type=t.type,a.mediaType=t.mediaType,a.bytesSent=t.bytesSent?t.bytesSent+"":"0",a.packetsSent=t.packetsSent?t.packetsSent+"":"0",e.agoraStream.local&&(a.audioInputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"outbound-rtp"===t.type&&"video"===t.mediaType&&(o.id=t.id,o.type=t.type,o.mediaType=t.mediaType,o.bytesSent=t.bytesSent?t.bytesSent+"":"0",o.packetsSent=t.packetsSent?t.packetsSent+"":"0",o.googPlisReceived=t.pliCount?t.pliCount+"":"0",o.googNacksReceived=t.nackCount?t.nackCount+"":"0",o.googFirsReceived=t.firCount?t.firCount+"":"0",o.googFramesEncoded=t.framesEncoded?t.framesEncoded+"":"0",(n=i.get(t.trackId))&&(o.googFrameHeightSent=n.frameHeight&&n.frameHeight.toString(),o.googFrameWidthSent=n.frameWidth&&n.frameWidth.toString())),"inbound-rtp"!==t.type||-1==t.id.indexOf("44444")&&"audio"!==t.mediaType||(c.id=t.id,c.type=t.type,c.mediaType="audio",c.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",c.bytesReceived=t.bytesReceived?t.bytesReceived+"":"0",c.packetsLost=t.packetsLost?t.packetsLost+"":"0",c.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",c.googJitterReceived=t.jitter?t.jitter+"":"0",(n=i.get(t.trackId))&&(c.audioOutputLevel=n.audioLevel&&Math.round(32767*n.audioLevel).toString()),e.agoraStream.local||c.audioOutputLevel||(c.audioOutputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"inbound-rtp"!==t.type||-1==t.id.indexOf("55543")&&"video"!==t.mediaType||(h.id=t.id,h.type=t.type,h.mediaType="video",h.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",h.bytesReceived=t.bytesReceived?t.bytesReceived+"":"0",h.packetsLost=t.packetsLost?t.packetsLost+"":"0",h.googJitterBufferMs=t.jitter?t.jitter+"":"0",h.googNacksSent=t.nackCount?t.nackCount+"":"0",h.googPlisSent=t.pliCount?t.pliCount+"":"0",h.googFirsSent=t.firCount?t.firCount+"":"0",(n=i.get(t.trackId))&&(h.googFrameHeightReceived=n.frameHeight&&n.frameHeight.toString(),h.googFrameWidthReceived=n.frameWidth&&n.frameWidth.toString(),h.googFrameReceived=n.framesReceived&&n.framesReceived.toString(),h.googFramesDecoded=n.framesDecoded&&n.framesDecoded.toString())),"candidate-pair"===t.type&&(0==t.availableIncomingBitrate?p.googAvailableSendBandwidth=t.availableOutgoingBitrate+"":p.googAvailableReceiveBandwidth=t.availableIncomingBitrate+"")}));var s=[p,a,o,c,h];s.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),n(s,r)})).catch((function(e){u.default.error("["+t.clientId+"] ",e)}))},t.addTrack=function(e,n){t.peerConnection.addTrack(e,n)},t.removeTrack=function(e,n){var r=t.peerConnection.getSenders().find((function(t){return t.track==e}));r.replaceTrack(null),t.peerConnection.removeTrack(r)},t.addStream=function(e){window.navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")?e.getTracks().forEach((function(n){return t.peerConnection.addTrack(n,e)})):t.peerConnection.addStream(e),t.markActionNeeded()},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater((function(){t.onstablestate()}))},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){var n;if(t.actionNeeded){if("new"===t.state||"established"===t.state)e.isSubscriber&&(t.peerConnection.addTransceiver("audio",{direction:"recvonly"}),t.peerConnection.addTransceiver("video",{direction:"recvonly"})),t.peerConnection.createOffer(t.mediaConstraints).then((function(n){if(n.sdp=i(n.sdp),e.isSubscriber||(n.sdp=n.sdp.replace(/a=.*video-orientation\r\n/g,"")),n.sdp!==t.prevOffer)return t.peerConnection.setLocalDescription(n),t.state="preparing-offer",void t.markActionNeeded();u.default.debug("["+t.clientId+"]Not sending a new offer")})).catch((function(e){u.default.debug("["+t.clientId+"]peer connection create offer failed ",e)}));else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.offerCandidates=t.prevOffer.match(/a=candidate.+\r\n/g)||[],t.offerCandidates.length||(u.default.warning("[".concat(t.clientId,"]No Ice Candidate generated")),e.isCloudProxy3&&e.onNoIceCandidate&&e.onNoIceCandidate(),Object(f.getParameter)("SHIM_CANDIDATE")?(u.default.debug("Shimming fake candidate"),t.prevOffer+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"):u.default.error("[".concat(t.clientId,"]None Ice Candidate not allowed"))),t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer((function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var n=new Date;u.default.debug("["+t.clientId+"]"+n.getTime()+": Starting ICE in responder"),t.iceStarted=!0}}),(function(e){u.default.debug("["+t.clientId+"]peer connection create answer failed ",e)}),t.mediaConstraints);else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;n=t.peerConnection.localDescription.sdp,t.sendMessage("ANSWER",n),t.state="established"}else t.debug("Dazed and confused in state "+t.state+", stopping here");t.actionNeeded=!1}},t.sendMessage=function(e,n){var r={};r.messageType=e,r.sdp=n,"OFFER"===e?(r.offererSessionId=t.sessionId,r.answererSessionId=t.otherSessionId,r.seq=t.sequenceNumber+=1,r.tiebreaker=Math.floor(429496723*Math.random()+1)):(r.offererSessionId=t.incomingMessage.offererSessionId,r.answererSessionId=t.sessionId,r.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(r))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var n=t.peerConnection.getSenders().find((function(t){return t.track.kind==e}));if(n)return n}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,n,r){var i=t._getSender(e.kind);if(!i)return r("NO_SENDER_FOUND");try{i.replaceTrack(e)}catch(e){return r&&r(e)}setTimeout((function(){return n&&n()}),50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){t.onaddstream&&t.onaddstream(e,"ontrack")},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date,t._setRtpSenderParameters(t.degradation)),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},t.renegotiate=function(){t.isSubscriber||(u.default.debug("[".concat(t.uid,"]"),"renegotiating"),void 0!==t.prevOffer&&t.peerConnection.createOffer().then((function(e){return e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n"),e.sdp=r(e.sdp),e.sdp=i(e.sdp),t.peerConnection.setLocalDescription(e)})).then((function(){t.onnegotiationneeded&&t.onnegotiationneeded(t.peerConnection.localDescription.sdp)})).catch((function(e){u.default.error("createOffer error: ",e)})))},t.isSubscriber||(t.peerConnection.onnegotiationneeded=t.renegotiate),t.onaddstream=null,t.onremovestream=null,t.state="new",t.markActionNeeded(),t}(e)).browser="safari"):~window.navigator.userAgent.indexOf("Edge")?t=new y.a(e):(t=function(e){var t={},n=d.RTCPeerConnection;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isAudioMute=e.isAudioMute,t.isSubscriber=e.isSubscriber,t.clientId=e.clientId,t.filterStatsCache=[],t.originStatsCache=[],t.lastTimeGetStats=null,t.pc_config={iceServers:[]};var i={id:"outbound_audio_ssrc_send",type:"ssrc",mediaType:"",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},o={id:"outbound_video_ssrc_send",type:"ssrc",mediaType:"",googCodecName:e.codec?e.codec.toUpperCase():"",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0"},c={id:"inbound_audio_ssrc_recv",type:"ssrc",mediaType:"",googCodecName:"opus",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},p={id:"inbound_video_ssrc_recv",type:"ssrc",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0",googFramesReceived:"0",googFramesDecoded:"0"},m={id:"bweforvideo",type:"VideoBwe",googAvailableSendBandwidth:"0",googAvailableReceiveBandwidth:"0",googActualEncBitrate:"0",googRetransmitBitrate:"0",googTargetEncBitrate:"0",googBucketDelay:"0",googTransmitBitrate:"0"};t.con={optional:[{DtlsSrtpKeyAgreement:!0}]},e.iceServers instanceof Array?t.pc_config.iceServers=e.iceServers:(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map((function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})})):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServers&&(e.turnServers instanceof Array?e.turnServers.map((function(e){e.udpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.udpport+"?transport=udp"}),"string"==typeof e.tcpport&&""!==e.tcpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.tcpport+"?transport=tcp"}),!0===e.forceturn&&(t.pc_config.iceTransportPolicy="relay")})):u.default.error("[".concat(t.clientId,"] turnServers is not a array")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints=r.isChromeKernel()&&r.getChromeKernelVersion()<103?{mandatory:{OfferToReceiveVideo:e.video,OfferToReceiveAudio:e.audio}}:{offerToReceiveVideo:e.video,offerToReceiveAudio:e.audio},t.roapSessionId=103;try{t.pc_config.sdpSemantics=Object(f.getParameter)("PLAN"),t.peerConnection=new n(t.pc_config,t.con)}catch(e){delete t.pc_config.sdpSemantics,t.peerConnection=new n(t.pc_config,t.con);var v=t.peerConnection.getConfiguration();v.sdpSemantics&&Object(f.setParameter)("PLAN",v.sdpSemantics)}t.iceCandidateTimer=setTimeout((function(){t.iceCandidateTimer=null,u.default.debug("[".concat(t.clientId,"]Candidates collected: ").concat(t.iceCandidateCount)),t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())}),Object(f.getParameter)("CANDIDATE_TIMEOUT")),t.peerConnection.onicecandidate=function(e){var n,r,i,a;r=(n=t.peerConnection.localDescription.sdp).match(/a=candidate:.+typ\ssrflx.+\r\n/),i=n.match(/a=candidate:.+typ\shost.+\r\n/),a=n.match(/a=candidate:.+typ\srelay.+\r\n/),null===r&&null===i&&null===a||void 0!==t.ice||!t.iceCandidateTimer||(clearTimeout(t.iceCandidateTimer),t.iceCandidateTimer=null,t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1};var g=function(e){return e.replace("a=x-google-flag:conference\r\n","")},y=function(n){var r,i;if((r=n.match(/m=video.*\r\n/))&&e.minVideoBW&&e.maxVideoBW){i=r[0]+"b=AS:"+e.maxVideoBW+"\r\n";var a=0,o=0;"h264"===e.codec?(a=n.search(/a=rtpmap:(\d+) H264\/90000\r\n/),o=n.search(/H264\/90000\r\n/)):"vp8"===e.codec?(a=n.search(/a=rtpmap:(\d+) VP8\/90000\r\n/),o=n.search(/VP8\/90000\r\n/)):"vp9"===e.codec&&(a=n.search(/a=rtpmap:(\d+) VP9\/90000\r\n/),o=n.search(/VP9\/90000\r\n/)),-1!==a&&-1!==o&&o-a>10&&(i=i+"a=fmtp:"+n.slice(a+9,o-1)+" x-google-min-bitrate="+e.minVideoBW+"\r\n"),n=(n=(n=n.replace(r[0],i)).replace("a=fmtp:102 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f","a=fmtp:102 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f")).replace("a=fmtp:125 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f","a=fmtp:125 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f"),u.default.debug("["+t.clientId+"]Set Video Bitrate - min:"+e.minVideoBW+" max:"+e.maxVideoBW)}return(r=n.match(/m=audio.*\r\n/))&&e.maxAudioBW&&(i=r[0]+"b=AS:"+e.maxAudioBW+"\r\n",n=n.replace(r[0],i)),n};t.processSignalingMessage=function(n){var r,i=JSON.parse(n);t.incomingMessage=i,"new"===t.state?"OFFER"===i.messageType?(r={sdp:i.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){})),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+i.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===i.messageType?((r={sdp:i.sdp,type:"answer"}).sdp=g(r.sdp),r.sdp=y(r.sdp),e.screen&&"detail"===e.optimizationMode&&(u.default.debug("[".concat(t.client,"] remove screen share abs ext")),r.sdp=r.sdp.replace(/a=.*abs-send-time\r\n/g,"").replace(/a=.*goog-remb\r\n/g,"")),e.isSubscriber&&(r.sdp=r.sdp.replace("minptime=10","minptime=10;stereo=1; sprop-stereo=1")),t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){})),t.state="established"):"pr-answer"===i.messageType?(r={sdp:i.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){}))):"offer"===i.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+i.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===i.messageType?(r={sdp:i.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){})),t.state="offer-received",t.markActionNeeded()):"ANSWER"===i.messageType?((r={sdp:i.sdp,type:"answer"}).sdp=g(r.sdp),r.sdp=y(r.sdp),t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){}))):t.error("Illegal message for this state: "+i.messageType+" in state "+t.state))},t.setRtpSenderParameters=function(){var e=l()(s.a.mark((function e(n){var r,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.peerConnection.getSenders(),i=r.find((function(e){return"video"===e.track.kind}))){e.next=4;break}return e.abrupt("return");case 4:return(a=i.getParameters()).degradationPreference=n,e.prev=6,u.default.debug("[".concat(t.clientId,"] setParameters"),a),e.next=10,i.setParameters(a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),u.default.debug("[".concat(t.clientId,"] setParameters failed, ignore"));case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}();var b=0,_=0;return t.getVideoRelatedStats=function(e){t.getStats((function(n){n.forEach((function(n){if(t.isSubscriber){if("video"===n.mediaType&&n.id&&~n.id.indexOf("recv")){if(r.isChromeKernel()&&+r.getBrowserVersion()>=76){var i=+n.googFramesReceived-b,a=+n.googFramesDecoded-_;t._setStat(p,"googFrameRateReceived",i),t._setStat(p,"googFrameRateDecoded",a),t._setStat(p,"googFrameRateOutput",a),b=+n.googFramesReceived,_=+n.googFramesDecoded}e&&e({mediaType:"video",peerId:t.uid,isVideoMute:t.isVideoMute,frameRateReceived:n.googFrameRateReceived,frameRateDecoded:n.googFrameRateDecoded,bytesReceived:n.bytesReceived,packetsReceived:n.packetsReceived,packetsLost:n.packetsLost})}}else"video"===n.mediaType&&n.id&&~n.id.indexOf("send")&&e&&e({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:n.googFrameRateInput,frameRateSent:n.googFrameRateSent,googRtt:n.googRtt})}))}))},t.getAudioRelatedStats=function(e){t.getStats((function(n){n.forEach((function(n){t.isSubscriber&&"audio"===n.mediaType&&n.id&&~n.id.indexOf("recv")&&e&&e({mediaType:"audio",peerId:t.uid,isAudioMute:t.isAudioMute,frameDropped:parseInt(n.googDecodingPLC)+parseInt(n.googDecodingPLCCNG)+"",frameReceived:n.googDecodingCTN,googJitterReceived:n.googJitterReceived,bytesReceived:n.bytesReceived,packetsReceived:n.packetsReceived,packetsLost:n.packetsLost})}))}))},t.getStatsRate=function(e){t.getStats((function(t){e(t)}))},t.getStats=function(e,n){n=(n=n||500)>500?500:n,t.lastTimeGetStats&&Date.now()-t.lastTimeGetStats<n?e&&e(t.filterStatsCache,t.originStatsCache):(t.lastTimeGetStats=Date.now(),this._getStats((function(n,r){t.filterStatsCache=n,t.originStatsCache=r,e&&e(n,r)})))},t._setStat=function(e,t,n){e.hasOwnProperty(t)&&(null!=n&&n!==1/0&&n==n||(n=0),e[t]=n+"")},t._processGetStatsAfterChrome76=function(e){var n=this;t.lastStats||(t.lastStats=new Map),t.peerConnection.getStats().then((function(r){var s,l=[],u=[],d=new Map,f=new Date,v=h(r.values());try{for(v.s();!(s=v.n()).done;){var g=s.value;"codec"!=g.type?"candidate-pair"!=g.type?("inbound-rtp"===g.type&&"video"===g.mediaType&&d.set("inbound-video",g),"inbound-rtp"===g.type&&"audio"===g.mediaType&&d.set("inbound-audio",g),"outbound-rtp"===g.type&&"audio"===g.mediaType&&d.set("outbound-audio",g),"outbound-rtp"===g.type&&"video"===g.mediaType&&d.set("outbound-video",g),"track"===g.type&&"video"===g.kind&&g.remoteSource&&d.set("remote-video-track",g),"track"===g.type&&"audio"===g.kind&&g.remoteSource&&d.set("remote-audio-track",g),"remote-inbound-rtp"===g.type&&"video"===g.mediaType&&d.set("remote-inbound-video",g),"remote-inbound-rtp"===g.type&&"audio"===g.mediaType&&d.set("remote-inbound-audio",g),"track"!==g.type||"video"!==g.kind||g.remoteSource||d.set("local-video-track",g),"track"!==g.type||"audio"!==g.kind||g.remoteSource||d.set("local-audio-track",g),"media-source"===g.type&&"video"===g.kind&&d.set("media-source-video",g),"media-source"===g.type&&"audio"===g.kind&&d.set("media-source-audio",g)):u.push(g):l.push(g)}}catch(e){v.e(e)}finally{v.f()}d.set("codec",l),d.set("candidatePairs",u),d.set("timestamp",+f);var y=null,b=null;if(p.timestamp=f,c.timestamp=f,i.timestamp=f,i.timestamp=f,m.timestamp=f,n.isSubscriber)(y=d.get("inbound-video"))&&(t._setStat(p,"id","inbound_video_ssrc_recv"),t._setStat(p,"mediaType",y.mediaType),t._setStat(p,"packetsLost",y.packetsLost),t._setStat(p,"googDecodeMs",null),t._setStat(p,"googMaxDecodeMs",null),t._setStat(p,"googRenderDelayMs",null),t._setStat(p,"googMinPlayoutDelayMs",null),t._setStat(p,"googNacksSent",y.nackCount),t._setStat(p,"googPlisSent",y.pliCount),t._setStat(p,"googFirsSent",y.firCount),t._setStat(p,"bytesReceived",y.bytesReceived),t._setStat(p,"packetsReceived",y.packetsReceived)),(y=d.get("inbound-audio"))&&(t._setStat(c,"id","inbound_audio_ssrc_recv"),t._setStat(c,"mediaType",y.mediaType),t._setStat(c,"bytesReceived",y.bytesReceived),t._setStat(c,"packetsLost",y.packetsLost),t._setStat(c,"packetsReceived",y.packetsReceived),t._setStat(c,"googAccelerateRate",y.removedSamplesForAcceleration),t._setStat(c,"googCurrentDelayMs",y.jitterBufferDelay),t._setStat(c,"googDecodingCNG",null),t._setStat(c,"googDecodingCTN",null),t._setStat(c,"googDecodingCTSG",null),t._setStat(c,"googDecodingNormal",null),t._setStat(c,"googDecodingPLC",null),t._setStat(c,"googDecodingPLCCNG",null),t._setStat(c,"googJitterReceived",y.jitter),t._setStat(c,"googPreferredJitterBufferMs",null),t._setStat(c,"googSecondaryDecodedRate",null)),(y=d.get("remote-video-track"))&&(t._setStat(p,"googTargetDelayMs",y.jitterBufferDelay),t._setStat(p,"googFrameWidthReceived",y.frameWidth),t._setStat(p,"googFrameHeightReceived",y.frameHeight),t._setStat(p,"googJitterBufferMs",y.jitterBufferDelay/y.jitterBufferEmittedCount*1e3),t._setStat(p,"googCurrentDelayMs",y.jitterBufferDelay),t._setStat(p,"googFramesDecoded",y.framesDecoded),t._setStat(p,"googFramesReceived",y.framesReceived)),(y=d.get("remote-audio-track"))&&(t._setStat(c,"audioOutputLevel",32767*y.audioLevel),t._setStat(c,"googJitterBufferMs",y.jitterBufferDelay/y.jitterBufferEmittedCount*1e3),t._setStat(c,"googExpandRate",y.concealedSamples),t._setStat(c,"googPreemptiveExpandRate",y.insertedSamplesForDeceleration),t._setStat(c,"googSpeechExpandRate",y.silentConcealedSamples));else{var _=t.lastStats.get("timestamp"),x=t.lastStats.get("outbound-video");if((y=d.get("outbound-audio"))&&(t._setStat(i,"id","outbound_audio_ssrc_send"),t._setStat(i,"mediaType",y.mediaType),t._setStat(i,"aecDivergentFilterFraction",null),t._setStat(i,"bytesSent",y.bytesSent),t._setStat(i,"packetsSent",y.packetsSent),b=y.transportId),y=d.get("outbound-video")){if(t._setStat(o,"id","outbound_video_ssrc_send"),t._setStat(o,"mediaType",y.mediaType),t._setStat(o,"bytesSent",y.bytesSent),t._setStat(o,"packetsSent",y.packetsSent),t._setStat(o,"googAdaptationChanges",y.qualityLimitationDurations),t._setStat(o,"googAvgEncodeMs",null),t._setStat(o,"googEncodeUsagePercent",null),b=y.transportId,y.totalEncodedBytesTarget&&x&&x.totalEncodedBytesTarget){var w=(y.totalEncodedBytesTarget-x.totalEncodedBytesTarget)/(+new Date-_);t._setStat(m,"googTargetEncBitrate",Math.floor(8*w*1e3))}if(y.retransmittedBytesSent&&x&&x.retransmittedBytesSent){var S=(y.retransmittedBytesSent-x.retransmittedBytesSent)/(+new Date-_);t._setStat(m,"googRetransmitBitrate",Math.floor(8*S*1e3))}if(y.bytesSent&&x&&x.bytesSent){var E=(y.bytesSent-x.bytesSent)/(+new Date-_);t._setStat(m,"googTransmitBitrate",Math.floor(8*E*1e3)),t._setStat(m,"googActualEncBitrate",Math.floor(8*E*1e3))}if(y.totalPacketSendDelay&&x&&x.totalPacketSendDelay){var k=(y.totalPacketSendDelay-x.totalPacketSendDelay)/(+new Date-_);t._setStat(m,"googBucketDelay",Math.floor(1e3*k))}}if((y=d.get("remote-inbound-video"))&&(t._setStat(o,"packetsLost",y.packetsLost),t._setStat(o,"googRtt",y.roundTripTime)),(y=d.get("local-video-track"))&&(t._setStat(o,"googFrameHeightSent",y.frameHeight),t._setStat(o,"googFrameWidthSent",y.frameWidth),void 0!==y.framesPerSecond&&t._setStat(o,"googFrameRateSent",y.framesPerSecond)),(y=d.get("local-audio-track"))&&(t._setStat(i,"googEchoCancellationReturnLoss",y.echoReturnLoss),t._setStat(i,"googEchoCancellationReturnLossEnhancement",y.echoReturnLossEnhancement)),(y=d.get("media-source-video"))&&(t._setStat(o,"googFrameHeightInput",y.height),t._setStat(o,"googFrameWidthInput",y.width),t._setStat(o,"googFrameRateInput",y.framesPerSecond)),(y=d.get("media-source-audio"))&&t._setStat(i,"audioInputLevel",32767*y.totalAudioEnergy),(y=d.get("inbound-video"))&&(t._setStat(o,"googFirsReceived",y.firCount),t._setStat(o,"googNacksReceived",y.nackCount),t._setStat(o,"googPlisReceived",y.pliCount)),b)d.get("candidatePairs").map((function(e){b==e.transportId&&t._setStat(m,"googAvailableSendBandwidth",e.availableOutgoingBitrate)}));else{var N=d.get("candidatePairs")[0];N&&t._setStat(m,"googAvailableSendBandwidth",N.availableOutgoingBitrate)}}t.lastStats=d;var j=[a()({},o),a()({},i),a()({},p),a()({},c),a()({},m)];j.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),e(j)}))},t._processGetStatsBeforeChrome76=function(e){t.peerConnection.getStats((function(n){var r=[],s=[],l=null;Object.keys(n).forEach((function(e){var t=n[e];t&&(s.push(t),l=t.timestamp,"VideoBwe"===t.type?m=t:t.id.indexOf("_send")>-1&&"video"===t.mediaType?o=t:t.id.indexOf("_send")>-1&&"audio"===t.mediaType?i=t:t.id.indexOf("_recv")>-1&&"video"===t.mediaType?p=t:t.id.indexOf("_recv")>-1&&"audio"===t.mediaType&&(c=t))})),(r=[a()({},o),a()({},i),a()({},p),a()({},c),a()({},m)]).push({id:"time",startTime:t.connectedTime,timestamp:l||new Date}),e(r,s)}))},t._getStats=function(e){Object(f.getParameter)("CHROME_NEW_STATS")&&r.isChromeKernel()&&+r.getBrowserVersion()>=76?t._processGetStatsAfterChrome76(e):t._processGetStatsBeforeChrome76(e)},t.addTrack=function(e,n){if("unified-plan"===Object(f.getParameter)("PLAN")){var r="audio"===e.kind?t._audioSender:t._videoSender;if(r){var i=t.peerConnection.getTransceivers().find((function(e){return e.sender===r}));r.replaceTrack(e).then((function(){i.direction="sendrecv",t.renegotiate()}))}else r=t.peerConnection.addTrack(e,n),"audio"===e.kind?t._audioSender=r:t._videoSender=r}else t.peerConnection.addTrack(e,n)},t.removeTrack=function(e,n){if("unified-plan"===Object(f.getParameter)("PLAN")){var r=t.peerConnection.getTransceivers().find((function(t){return t.sender.track===e}));r&&(r.direction="inactive",t.peerConnection.removeTrack(r.sender))}else t.peerConnection.removeTrack(t.peerConnection.getSenders().find((function(t){return t.track==e})))},t.addStream=function(e){"unified-plan"===Object(f.getParameter)("PLAN")?e.getTracks().forEach((function(n){var r=t.peerConnection.addTrack(n,e);"audio"===n.kind?t._audioSender=r:t._videoSender=r})):(t.peerConnection.addStream(e),t.markActionNeeded())},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater((function(){t.onstablestate()}))},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){var n;if(t.actionNeeded){if("new"===t.state||"established"===t.state)t.peerConnection.createOffer(t.mediaConstraints).then((function(n){return n?n.sdp!==t.prevOffer?(e.isSubscriber&&(n.sdp=n.sdp.replace("minptime=10","minptime=10;stereo=1; sprop-stereo=1")),t.peerConnection.setLocalDescription(n),t.state="preparing-offer",void t.markActionNeeded()):void u.default.debug("["+t.clientId+"]Not sending a new offer"):(u.default.debug("["+t.clientId+"]sessionDescription is null"),void t.onsignalingmessage(null))})).catch((function(e){u.default.debug("["+t.clientId+"]peer connection create offer failed ",e)}));else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.offerCandidates=t.prevOffer.match(/a=candidate.+\r\n/g)||[],t.offerCandidates.length||(e.isCloudProxy3&&e.onNoIceCandidate&&e.onNoIceCandidate(),u.default.warning("[".concat(t.clientId,"]No Ice Candidate generated")),Object(f.getParameter)("SHIM_CANDIDATE")?(u.default.debug("Shimming fake candidate"),t.prevOffer+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"):u.default.error("[".concat(t.clientId,"]None Ice Candidate not allowed"))),t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer((function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var n=new Date;u.default.debug("["+t.clientId+"]"+n.getTime()+": Starting ICE in responder"),t.iceStarted=!0}}),(function(e){u.default.debug("["+t.clientId+"]peer connection create answer failed ",e)}),t.mediaConstraints);else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;n=t.peerConnection.localDescription.sdp,t.sendMessage("ANSWER",n),t.state="established"}else u.default.debug("[".concat(t.clientId,"] Dazed and confused in state ").concat(t.state,", stopping here'"));t.actionNeeded=!1}},t.sendMessage=function(e,n){var r={};r.messageType=e,r.sdp=n,"OFFER"===e?(r.offererSessionId=t.sessionId,r.answererSessionId=t.otherSessionId,r.seq=t.sequenceNumber+=1,r.tiebreaker=Math.floor(429496723*Math.random()+1)):(r.offererSessionId=t.incomingMessage.offererSessionId,r.answererSessionId=t.sessionId,r.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(r))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var n=t.peerConnection.getSenders().find((function(t){return t.track.kind==e}));if(n)return n}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,n,r){var i=t._getSender(e.kind);if(!i)return r("NO_SENDER_FOUND");try{i.replaceTrack(e)}catch(e){return r&&r(e)}setTimeout((function(){return n&&n()}),50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){t.onaddstream&&(t.onaddstream(e,"ontrack"),t.peerConnection.onaddstream=null)},t.peerConnection.onaddstream=function(e){t.onaddstream&&(t.onaddstream(e,"onaddstream"),t.peerConnection.ontrack=null)},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){u.default.debug(t.peerConnection.iceConnectionState),"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},t.renegotiate=function(){void 0!==t.prevOffer&&t.peerConnection.createOffer().then((function(e){return"unified-plan"!==Object(f.getParameter)("PLAN")&&(e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n")),e.sdp=g(e.sdp),e.sdp=y(e.sdp),t.peerConnection.setLocalDescription(e)})).then((function(){t.onnegotiationneeded&&t.onnegotiationneeded(t.peerConnection.localDescription.sdp)})).catch((function(e){u.default.error("createOffer error: ",e.message||e)}))},t.peerConnection.onnegotiationneeded=t.renegotiate,t.onaddstream=null,t.onremovestream=null,t.onnegotiationneeded=null,t.state="new",t.markActionNeeded(),t}(e)).browser="chrome-stable",t},w=function(e,t,n){var i={};i.config=e,i.streamId=e.streamId,delete e.streamId,navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var a=0,o=1,s=!1,c=null,l=function(e){if(a++,c)if(c===e)u.default.debug("Using Video Source/ Audio Source");else{var n=c.getVideoTracks()[0],r=c.getAudioTracks()[0],i=e.getVideoTracks()[0],l=e.getAudioTracks()[0];i&&(n&&c.removeTrack(n),c.addTrack(i)),l&&(r&&c.removeTrack(r),c.addTrack(l))}else c=e;a!==o||s||(s=!0,setTimeout((function(){t(c)}),0))},d=function(e){u.default.error("Failed to GetUserMedia",e.name,e.code,e.message,e),a++,s||(s=!0,setTimeout((function(){n&&n(e)}),0))},f=function(){var t={video:e.video,audio:e.audio};if(u.default.debug("GetUserMedia",JSON.stringify(t)),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(t).then(l).catch(d);else if("undefined"!=typeof navigator&&navigator.getMedia)navigator.getMedia(e,l,d);else{var r={name:"MEDIA_NOT_SUPPORT",message:"Video/audio streams not supported yet"};u.default.error("["+i.streamId+"]"+r.message),n&&n(r)}};if((e.videoSource||e.audioSource)&&(c=new MediaStream,e.videoSource&&c.addTrack(e.videoSource),e.audioSource&&c.addTrack(e.audioSource)),e.video||e.audio||e.screen||e.screenAudio){if(!e.screen&&e.screenAudio)return n&&n({code:"Set screen to true before sharing the audio"});if(e.screen){if(b.a.isElectron())return e.screen.sourceId?b.a.getScreenStream(e.screen.sourceId,e.screen,(function(t,n){t?d(t):(e.audio&&(o++,f()),l(n))})):b.a.shareScreen(e.screen,(function(t,n){t?d(t):(e.audio&&(o++,f()),l(n))}));if(r.isFireFox()){if(u.default.debug("["+i.streamId+"]Screen access requested"),!~["screen","window","application"].indexOf(e.screen.mediaSource))return n&&n({code:"Invalid mediaSource, mediaSource should be one of [screen, window, application]"});navigator.getMedia({video:e.screen},(function(t){e.audio&&(o++,f()),l(t)}),d)}else if(r.isChromeKernel()&&e.screen.extensionId){if(window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<34)return void n({code:"This browser does not support screen sharing"});u.default.debug("["+i.streamId+"]Screen access on chrome stable, looking for extension");try{chrome.runtime.sendMessage(e.screen.extensionId,{getStream:!0},(function(t){void 0===t?(u.default.error("["+i.streamId+"]No response from Chrome Plugin. Plugin not installed properly"),d({name:"PluginNotInstalledProperly",message:"No response from Chrome Plugin. Plugin not installed properly."})):(e.screen.mandatory.chromeMediaSourceId=t.streamId,navigator.getMedia({video:e.screen},(function(t){e.audio&&(o++,f()),l(t)}),d))}))}catch(e){return u.default.debug("["+i.streamId+"]AgoraRTC screensharing plugin is not accessible"),void n({code:"no_plugin_present"})}}else{if(window.navigator.mediaDevices.getDisplayMedia){var h={};return"number"==typeof e.screen.width&&"number"==typeof e.screen.height?h.video={width:{ideal:e.screen.width},height:{ideal:e.screen.height}}:h.video={width:e.screen.width,height:e.screen.height},e.screen.frameRate&&e.screen.frameRate.min?h.video.frameRate={ideal:e.screen.frameRate.max,max:e.screen.frameRate.max}:h.video.frameRate=e.screen.frameRate,e.screenAudio&&(h.audio=e.screenAudio),u.default.debug("use getDisplayMedia, constraints:",h),window.navigator.mediaDevices.getDisplayMedia(h).then((function(t){!e.screenAudio&&e.audio&&(o++,f()),l(t)})).catch(d)}u.default.error("["+i.streamId+"]This browser does not support screenSharing"),n({code:"This browser does not support screen sharing"})}}else f()}else l(c)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=function(){function e(e,t,n){void 0===t&&(t=""),this.name="AgoraRTCException",this.code=e,this.message="AgoraRTCError "+this.code+": "+t,this.data=n}return e.prototype.toString=function(){return this.data?this.message+" data: "+JSON.stringify(this.data):this.message},e.prototype.throw=function(){throw i.default.error(this.toString()),this},e}();t.AgoraRTCError=a,function(e){e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_SUPPORT="NOT_SUPPORT",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORT="OPERATION_ABORT",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.STREAM_ALREADY_INITIALIZED="STREAM_ALREADY_INITIALIZED",e.STREAM_IS_CLOSED="STREAM_IS_CLOSED",e.ABORT_OTHER_INIT="ABORT_OTHER_INIT",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.CAN_NOT_AUTOPLAY="CAN_NOT_AUTOPLAY",e.HIGH_STREAM_NO_VIDEO_TRACK="HIGH_STREAM_NO_VIDEO_TRACK",e.SCREEN_SHARE_CAN_NOT_CREATE_LOW_STREAM="SCREEN_SHARE_CAN_NOT_CREATE_LOW_STREAM",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.TOKEN_GENERATOR_FUNCTION_ERROR="TOKEN_GENERATOR_FUNCTION_ERROR",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.UID_CONFLICT="UID_CONFLICT",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.SUBSCRIPTION_IS_IN_PROGRESS="SUBSCRIPTION_IS_IN_PROGRESS",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.EFFECT_ID_CONFLICTED="EFFECT_ID_CONFLICTED",e.EFFECT_SOUND_ID_NOT_FOUND="EFFECT_SOUND_ID_NOT_FOUND",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.CAN_NOT_CONNECT_TO_LIVE_STREAMING_WORKER="CAN_NOT_CONNECT_TO_LIVE_STREAMING_WORKER",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORT="LIVE_STREAMING_TRANSCODING_NOT_SUPPORT",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE"}(t.AgoraRTCErrorCode||(t.AgoraRTCErrorCode={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=window.AudioContext||window.webkitAudioContext,a=n(2),o=a.getParameter,s=a.setParameter,c=function(){return o("AUDIO_CONTEXT")||s("AUDIO_CONTEXT",function(){if(i){var e=new i;return window.ctx=e,new Promise((function(e){document.body?e():window.addEventListener("load",e)})).then((function(){var t=function t(){"suspended"==e.state?(r.default.debug("AudioContext is suspended, auto resume"),e.resume().then((function(){r.default.debug("AudioContext resume success"),document.body.removeEventListener("touchend",t,!0),document.body.removeEventListener("mousedown",t,!0)}))):(r.default.debug("AudioContext is running"),document.body.removeEventListener("touchend",t,!0),document.body.removeEventListener("mousedown",t,!0))};document.body.addEventListener("touchend",t,!0),document.body.addEventListener("mousedown",t,!0)})),e}throw new Error("AUDIO_CONTEXT_NOT_SUPPORTED")}()),o("AUDIO_CONTEXT")};c()},function(e,t,n){"use strict";var r=n(1),i=null,a=function(){try{i=window.require("electron")}catch(e){}return i},o=function(e){var t=r.report.reportApiInvoke(null,{callback:e,name:"getScreenSources",options:arguments,tag:"tracer"}),n=a();if(!n)return t&&t("electron is null");try{var i=n.desktopCapturer.getSources({types:["window","screen"]})}catch(e){console.log(e)}i instanceof Promise?i.then((function(e){return t&&t(null,e)})).catch((function(e){return t&&t(e)})):i=n.desktopCapturer.getSources({types:["window","screen"]},(function(e,n){t&&t(null,n)}))},s=function(e,t,n){var r=t.width;t={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxHeight:t.height,maxWidth:r,maxFrameRate:t.frameRate&&t.frameRate.max,minFrameRate:t.frameRate&&t.frameRate.min}}},navigator.webkitGetUserMedia(t,(function(e){n&&n(null,e)}),(function(e){n&&n(e)}))};t.a={isElectron:function(){return!!a()},getElectronInstance:a,getScreenSources:o,getScreenStream:s,shareScreen:function(e,t){o((function(n,r){if(n)return t&&t(n);!function(e,t){var n=document.createElement("div");n.innerText="share screen",n.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");var r=document.createElement("div");r.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");var i=document.createElement("div");i.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",i.setAttribute("style","height: 12%;");var a=document.createElement("div");a.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");var o=document.createElement("div");o.setAttribute("style","text-align: right; padding: 16px 0;");var s=document.createElement("button");s.innerHTML="cancel",s.setAttribute("style","width: 85px;"),s.onclick=function(){document.body.removeChild(c),t&&t("NotAllowedError")},o.appendChild(s),r.appendChild(i),r.appendChild(a),r.appendChild(o);var c=document.createElement("div");c.setAttribute("style","position: absolute; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),c.appendChild(n),c.appendChild(r),document.body.appendChild(c),e.map((function(e){if(e.id){var n=document.createElement("div");n.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");var r=e.thumbnail;r.getSize().width>1920&&(r=r.resize({width:1920})),n.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+r.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>",n.onclick=function(){document.body.removeChild(c),t&&t(null,e.id)},a.appendChild(n)}}))}(r,(function(n,r){if(n)return t&&t(n);s(r,e,t)}))}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);!function(e){e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e.INJECT="inject_streaming"}(t.LiveStreamingServiceMode||(t.LiveStreamingServiceMode={})),t.DEFAULT_LIVE_STREAMING_TRANSCODING_USER={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},t.DEFAULT_LIVE_STREAMING_TRANSCODING_WATERMARK={x:0,y:0,width:160,height:160,zOrder:255,alpha:1},t.isLiveStreamingTranscodingConfig=function(e){return r.isEmpty(e.width)||r.checkValidNumber(e.width,"config.width",0),r.isEmpty(e.height)||r.checkValidNumber(e.height,"config.height",0),r.isEmpty(e.videoBitrate)||r.checkValidNumber(e.videoBitrate,"config.videoBitrate",1,1e6),r.isEmpty(e.videoFramerate)||r.checkValidNumber(e.videoFramerate,"config.videoFramerate"),r.isEmpty(e.lowLatency)||r.checkValidBoolean(e.lowLatency,"config.lowLatency"),r.isEmpty(e.audioSampleRate)||r.checkValidEnum(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),r.isEmpty(e.audioBitrate)||r.checkValidNumber(e.audioBitrate,"config.audioBitrate",1,128),r.isEmpty(e.audioChannels)||r.checkValidEnum(e.audioChannels,"config.audioChannels",[1,2,3,4,5]),r.isEmpty(e.videoGop)||r.checkValidNumber(e.videoGop,"config.videoGop"),r.isEmpty(e.videoCodecProfile)||r.checkValidEnum(e.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),r.isEmpty(e.userCount)||r.checkValidNumber(e.userCount,"config.userCount",0,17),r.isEmpty(e.backgroundColor)||r.checkValidNumber(e.backgroundColor,"config.backgroundColor",0,16777215),e.transcodingUsers&&!r.isEmpty(e.transcodingUsers)&&(r.checkValidArray(e.transcodingUsers,"config.transcodingUsers"),e.transcodingUsers.forEach((function(e,t){r.checkValidUID(e.uid),r.isEmpty(e.x)||r.checkValidNumber(e.x,"transcodingUser["+t+"].x",0,1e4),r.isEmpty(e.y)||r.checkValidNumber(e.y,"transcodingUser["+t+"].y",0,1e4),r.isEmpty(e.width)||r.checkValidNumber(e.width,"transcodingUser["+t+"].width",0,1e4),r.isEmpty(e.height)||r.checkValidNumber(e.height,"transcodingUser["+t+"].height",0,1e4),r.isEmpty(e.zOrder)||r.checkValidNumber(e.zOrder-1,"transcodingUser["+t+"].zOrder",0,100),r.isEmpty(e.alpha)||r.checkValidFloatNumber(e.alpha,"transcodingUser["+t+"].alpha",0,1)}))),e.images&&!r.isEmpty(e.images)&&(r.checkValidArray(e.images,"config.images"),e.images.forEach((function(e,t){r.checkValidString(e.url,"images["+t+"].url",1,1e3,!1),r.isEmpty(e.x)||r.checkValidNumber(e.x,"images["+t+"].x",0,1e4),r.isEmpty(e.y)||r.checkValidNumber(e.y,"images["+t+"].y",0,1e4),r.isEmpty(e.width)||r.checkValidNumber(e.width,"images["+t+"].width",0,1e4),r.isEmpty(e.height)||r.checkValidNumber(e.height,"images["+t+"].height",0,1e4),r.isEmpty(e.zOrder)||r.checkValidNumber(e.zOrder,"images["+t+"].zOrder",0,255),r.isEmpty(e.alpha)||r.checkValidFloatNumber(e.alpha,"images["+t+"].alpha",0,1)}))),!0},t.DEFAULT_TRANSCODING_CONFIG={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFramerate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""},t.isInjectStreamConfig=function(e){return r.isEmpty(e.audioVolume)||r.checkValidNumber(e.audioVolume,"config.audioVolume",0,1e3),r.isEmpty(e.audioBitrate)||r.checkValidNumber(e.audioBitrate,"config.audioBitrate",1,1e4),r.isEmpty(e.audioChannels)||r.checkValidEnum(e.audioChannels,"config.audioChannels",[1,2]),r.isEmpty(e.audioSampleRate)||r.checkValidEnum(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),r.isEmpty(e.width)||r.checkValidNumber(e.width,"config.width",0,1e4),r.isEmpty(e.height)||r.checkValidNumber(e.height,"config.height",0,1e4),r.isEmpty(e.videoBitrate)||r.checkValidNumber(e.videoBitrate,"config.videoBitrate",1,1e4),r.isEmpty(e.videoFramerate)||r.checkValidNumber(e.videoFramerate,"config.videoFramerate",1,1e4),r.isEmpty(e.videoGop)||r.checkValidNumber(e.videoGop,"config.videoGop",1,1e4),!0},t.DEFAULT_INJECT_CONFIG={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30},function(e){e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.INJECT_STREAM_STATUS="@live_uap-inject-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address"}(t.LiveStreamingUapSignalEvents||(t.LiveStreamingUapSignalEvents={})),function(e){e.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager"}(t.LiveStreamingInternalEvents||(t.LiveStreamingInternalEvents={})),function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.LIVE_STREAM_RESPONSE_INGNORE_MESSAGE=505]="LIVE_STREAM_RESPONSE_INGNORE_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN"}(t.LIVE_STREAM_ERROR_CODE||(t.LIVE_STREAM_ERROR_CODE={})),function(e){e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls"}(t.WebSocketManagerEvents||(t.WebSocketManagerEvents={}))},function(e,t,n){var r=n(57),i=n(58);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},function(e,t,n){var r;e.exports=(r=n(73),function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var l=[],u=o.SHA256=a.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],d=n[6],f=n[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var p=l[h-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=l[h-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;l[h]=m+l[h-7]+g+l[h-16]}var y=r&i^r&a^i&a,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&d)+c[h]+l[h];f=d,d=u,u=s,s=o+_|0,o=a,a=i,i=r,r=_+(b+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=a._createHelper(u),t.HmacSHA256=a._createHmacHelper(u)}(Math),r.SHA256)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomString=function(e){void 0===e&&(e=8);for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n="",r=0;r<e;r++)n+=t.charAt(Math.floor(48*Math.random()));return n}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),c=o(n(37)),l=n(24),u=o(n(0)),d=n(1);function f(e){return new Promise((function(t){window.setTimeout(t,e)}))}function h(e,t){return new Promise((function(n,r){t.timeout=t.timeout||s.getParameter("HTTP_CONNECT_TIMEOUT"),t.responseType=t.responseType||"json",t.data&&(t.data=JSON.stringify(t.data)),t.headers=t.headers||{},t.headers["Content-Type"]="application/json",t.method="POST",t.url=e,c.default.request(t).then((function(e){n(e.data)})).catch((function(e){c.default.isCancel(e)?r(new l.AgoraRTCError(l.AgoraRTCErrorCode.OPERATION_ABORT,"cancel token canceled")):"ECONNABORTED"===e.code?r(new l.AgoraRTCError(l.AgoraRTCErrorCode.NETWORK_TIMEOUT,e.message)):e.response?r(new l.AgoraRTCError(l.AgoraRTCErrorCode.NETWORK_RESPONSE_ERROR,e.response.status)):r(new l.AgoraRTCError(l.AgoraRTCErrorCode.NETWORK_ERROR,e.message))}))}))}function p(e,n,r,o){var s=this,c=Object.assign({},t.DEFAULT_RETRY_CONFIG,o),u=c.timeout,d=function(){return i(s,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,f(u)];case 1:return e.sent(),u*=c.timeoutFactor,u=Math.min(c.maxRetryTimeout,u),[2]}}))}))},h=!1,p=new Promise((function(t,o){return i(s,void 0,void 0,(function(){var i,s,u;return a(this,(function(a){switch(a.label){case 0:n=n||function(){return!1},r=r||function(){return!0},i=0,a.label=1;case 1:if(!(i<c.maxRetryCount))return[3,12];if(h)return[2,o(new l.AgoraRTCError(l.AgoraRTCErrorCode.OPERATION_ABORT))];a.label=2;case 2:return a.trys.push([2,7,,11]),[4,e()];case 3:return s=a.sent(),n(s,i)?i+1===c.maxRetryCount?[2,t(s)]:[4,d()]:[3,5];case 4:return a.sent(),[3,6];case 5:return[2,t(s)];case 6:return[3,11];case 7:return u=a.sent(),r(u,i)?i+1===c.maxRetryCount?[2,o(u)]:[4,d()]:[3,9];case 8:return a.sent(),[3,10];case 9:return[2,o(u)];case 10:return[3,11];case 11:return i+=1,[3,1];case 12:return[2]}}))}))}));return p.cancel=function(){return h=!0},p}function m(e,t){return{addressList:e.servers.map((function(e,n){return"wss://"+e.address.replace(/\./g,"-")+".edge.agora.io:"+e.wss+"?serviceName="+encodeURIComponent(t)})),workerToken:e.workerToken,vid:e.vid}}t.wait=f,t.post=h,t.DEFAULT_RETRY_CONFIG={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4},t.getRetryWaitTime=function(e,t){var n=t.timeout*Math.pow(t.timeoutFactor,e);return Math.min(t.maxRetryTimeout,n)},t.retryable=p,t.liveStreamingServerResponseToResult=m;var v=1;function g(e,n,o,c,f){var g=this;void 0===f&&(f=t.DEFAULT_RETRY_CONFIG),v+=1;var y,b,_={sid:o.sid,command:"convergeAllocateEdge",uid:"666",appId:o.appId,ts:Math.floor(Date.now()/1e3),seq:v,requestId:v,version:s.VERSION,cname:o.cname},x={service_name:n,json_body:JSON.stringify(_)},w=e[0];return p((function(){return i(g,void 0,void 0,(function(){var e,t,i,o,d;return a(this,(function(a){switch(a.label){case 0:return y=Date.now(),[4,h(w,{data:x,cancelToken:c,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}})];case 1:if(e=a.sent(),b=Date.now()-y,0!==e.code)throw i=new l.AgoraRTCError(l.AgoraRTCErrorCode.UNEXPECTED_RESPONSE,"live streaming ap error, code"+e.code,{retry:!0}),u.default.error(i.toString()),i;if(200!==(t=JSON.parse(e.json_body)).code)throw i=new l.AgoraRTCError(l.AgoraRTCErrorCode.UNEXPECTED_RESPONSE,"live streaming app center error, code: "+t.code+", reason: "+t.reason),u.default.error(i.toString()),i;if(!t.servers||0===t.servers.length)throw i=new l.AgoraRTCError(l.AgoraRTCErrorCode.UNEXPECTED_RESPONSE,"live streaming app center empty server"),u.default.error(i.toString()),i;if(o=m(t,n),s.getParameter("LIVE_STREAMING_ADDRESS"))try{d=JSON.parse(s.getParameter("LIVE_STREAMING_ADDRESS")),o.addressList=d}catch(e){o.addressList=[s.getParameter("LIVE_STREAMING_ADDRESS")]}return[2,r(r({},o),{responseTime:b})]}}))}))}),(function(t,r){return d.report.requestApWorkerEvent(o.sid,{success:!0,sc:200,serviceName:n,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===r,responseTime:b,serverIp:e[r%e.length]}),!1}),(function(t,r){return d.report.requestApWorkerEvent(o.sid,{success:!1,sc:t.data&&t.data.code||200,serviceName:n,responseTime:b,serverIp:e[r%e.length]}),!!(t.code!==l.AgoraRTCErrorCode.OPERATION_ABORT&&t.code!==l.AgoraRTCErrorCode.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(w=e[(r+1)%e.length],!0)}),f)}t.requestLiveStreamingWorkerManager=g,t.getLiveStreamingWorkerMangerResult=function(e,t,n){return i(this,void 0,void 0,(function(){var r,i;return a(this,(function(a){switch(a.label){case 0:r=s.getParameter("UAP_AP").map((function(e){return t.proxyServer?"https://"+t.proxyServer+"/ap/?url="+e+"/api/v1?action=uap":"https://"+e+"/api/v1?action=uap"})),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,g(r,e,t,n)];case 2:return[2,a.sent()];case 3:throw i=a.sent(),d.report.requestApWorkerEvent(t.sid,{success:!1,sc:i.data&&i.data.code||200,serviceName:e,responseTime:i.data&&i.data.responseTime}),i;case 4:return[2]}}))}))}},function(e,t,n){var r=n(70),i=n(71),a=n(34),o=n(72);e.exports=function(e){return r(e)||i(e)||a(e)||o()}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(35);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),a=function(){function e(){this._events={},this.addListener=this.on}return e.prototype.getListeners=function(e){return this._events[e]?this._events[e].map((function(e){return e.listener})):[]},e.prototype.on=function(e,t){this._events[e]||(this._events[e]=[]);var n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})},e.prototype.once=function(e,t){this._events[e]||(this._events[e]=[]);var n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})},e.prototype.off=function(e,t){if(this._events[e]){var n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}},e.prototype.removeAllListeners=function(e){e?delete this._events[e]:this._events={}},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._events[e]||(this._events[e]=[]);for(var r=this._events[e].map((function(e){return e})),i=0;i<r.length;i+=1){var a=r[i];a.once&&this.off(e,a.listener),a.listener.apply(this,t||[])}},e.prototype._indexOfListener=function(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1},e}();function o(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var o=null,s=null;if(e.emit.apply(e,r([t],n,[function(e){o=e},function(e){s=e}])),null!==s)throw s;if(null===o)throw new i.AgoraRTCError(i.AgoraRTCErrorCode.UNEXPECTED_ERROR,"handler is not sync");return o}t.EventEmitter=a,t.emitAsPromise=function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];return 0===e.getListeners(t).length?Promise.reject(new i.AgoraRTCError(i.AgoraRTCErrorCode.UNEXPECTED_ERROR,"can not emit promise")):new Promise((function(i,a){e.emit.apply(e,r([t],n,[i,a]))}))},t.emitAsInvokerNoResponse=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return 0===e.getListeners(t).length?null:o.apply(void 0,r([e,t],n))},t.emitAsInvoker=o},function(e,t,n){e.exports=n(78)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(18);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(18),i=n(84),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=n(42)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(a)})),e.exports=c}).call(this,n(83))},function(e,t,n){"use strict";var r=n(18),i=n(85),a=n(39),o=n(87),s=n(90),c=n(91),l=n(43);e.exports=function(e){return new Promise((function(t,u){var d=e.data,f=e.headers;r.isFormData(d)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",m=e.auth.password||"";f.Authorization="Basic "+btoa(p+":"+m)}var v=o(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),a(v,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};i(t,u,r),h=null}},h.onabort=function(){h&&(u(l("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){u(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),u(l(t,e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var g=n(92),y=(e.withCredentials||c(v))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}if("setRequestHeader"in h&&r.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),u(e),h=null)})),void 0===d&&(d=null),h.send(d)}))}},function(e,t,n){"use strict";var r=n(86);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){t=t||{};var n={},i=["url","method","params","data"],a=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(a,(function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):void 0!==t[i]?n[i]=t[i]:r.isObject(e[i])?n[i]=r.deepMerge(e[i]):void 0!==e[i]&&(n[i]=e[i])})),r.forEach(o,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var s=i.concat(a).concat(o),c=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return r.forEach(c,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(59)),c=o(n(62)),l=o(n(63)),u=a(n(0)),d=n(2),f=s.default.Root.fromJSON(l),h=function(){function e(){this.requestArray=[],this.retryBackoffCount=0,this.state=0}return e.prototype.setProxy=function(e){this.proxyServer=e},e.prototype.sendReportList=function(e,t){var n=this,r=this._dataConvert("ProtoRaws",{vid:t,sendTs:Math.round(Date.now()/1e3),payloads:e.map((function(e){return{id:c[e.type],msg:n._dataConvert(e.type,e.data)}}))});this.send(r)},e.prototype._dataConvert=function(e,t){var n;try{n=f.lookupType("protobuf."+e)}catch(t){u.default.error("[send-proto] invalid proto name "+e)}var r=n.create(t);return n.encode(r).finish()},e.prototype.send=function(e){0==this.state?this._send(e):this.requestArray.push(e)},e.prototype._send=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,4]),this.state=1,[4,this.request(e)];case 1:return t.sent(),this.retryBackoffCount=0,0!==this.requestArray.length?this._send(this.requestArray.shift()):this.state=0,[3,4];case 2:return t.sent(),[4,p(this.retryBackoffCount++<2?200:1e4)];case 3:return t.sent(),this._send(e),[3,4];case 4:return[2]}}))}))},e.prototype.request=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:t=this._getAddress(),n=this._getBackupAddress(),r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._request(t,e)];case 2:return r.sent(),[3,5];case 3:return r.sent(),[4,this._request(n,e)];case 4:return r.sent(),[3,5];case 5:return[2]}}))}))},e.prototype._request=function(e,t){return this._post(e,t)},e.prototype._post=function(e,t){var n=this;return new Promise((function(r,i){var a=new XMLHttpRequest;a.timeout=d.getParameter("HTTP_CONNECT_TIMEOUT"),a.open("POST",e,!0),a.setRequestHeader("Content-type","application/octet-stream"),n.proxyServer||(a.setRequestHeader("Cache-Control","no-cache, no-store"),a.setRequestHeader("Pragma","no-cache"),a.setRequestHeader("Expires","0")),a.onload=function(e){r(a.responseText)},a.onerror=function(e){i(e)},a.ontimeout=function(e){i(e)},a.send(t)}))},e.prototype._getAddress=function(){return this.proxyServer?"https://"+this.proxyServer+"/rs/?h="+d.getParameter("EVENT_REPORT_DOMAIN")+"&p=6443&d=events/proto-raws":"https://"+d.getParameter("EVENT_REPORT_DOMAIN")+":6443/events/proto-raws"},e.prototype._getBackupAddress=function(){return this.proxyServer?"https://"+this.proxyServer+"/rs/?h="+d.getParameter("EVENT_REPORT_BACKUP_DOMAIN")+"&p=6443&d=events/proto-raws":"https://"+d.getParameter("EVENT_REPORT_BACKUP_DOMAIN")+":6443/events/proto-raws"},e}();t.default=h;var p=function(e){return new Promise((function(t){window.setTimeout(t,e)}))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(n(0)),c=n(15);!function(e){e.NEW="new",e.PREPARING_OFFER="preparing-offer",e.OFFER_SENT="offer-sent",e.ESTABLISHED="established",e.CLOSED="closed"}(o||(o={}));var l=function(){function e(e){this.candidate=null,this.state=o.NEW,this.config=e,this.isSubscriber=this.config.isSubscriber,this.peerConnection=this.initPeecConnection(e),this.peerConnection.onicecandidate=this._onicecandidate.bind(this),this.peerConnection.oniceconnectionstatechange=this._oniceconnectionstatechange.bind(this),this.peerConnection.onaddstream=this._onaddstream.bind(this),this.peerConnection.ontrack=this._ontrack.bind(this),this.processSignalingMessage=this.setAnswer.bind(this),this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(this.setLocalSDP.bind(this)),this.sendVideoStats={id:"",type:"",mediaType:"",googCodecName:this.config.codec.toUpperCase(),bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0",googFramesEncoded:"0"},this.sendAudioStats={id:"",type:"",mediaType:"",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},this.receiveAudioStats={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},this.receiveVideoStats={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googFramesDecoded:"0",googFrameReceived:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0"}}return e.prototype.addStream=function(e){this.peerConnection.addStream(e)},e.prototype.setRtpSenderParameters=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2]}))}))},e.prototype.setAnswer=function(e){var t=JSON.parse(e);this.peerConnection.setRemoteDescription(new RTCSessionDescription({sdp:t.sdp,type:"answer"})),this.onsignalingmessage&&this.onsignalingmessage("")},e.prototype.close=function(){this.peerConnection.close()},e.prototype.getStats=function(e,t){if(void 0===t&&(t=500),t=t>500?500:t,Date.now()-this.lastTimeGetStats<t){var n=[];this.config.isSubscriber?(n.push(this.receiveVideoStats),n.push(this.receiveAudioStats)):(n.push(this.sendAudioStats),n.push(this.sendVideoStats)),n.push({id:"time",startTime:this.connectedTime,timestamp:Date.now()}),e&&e(n)}else this._getStats(e)},e.prototype._getStats=function(e){var t=this,n=[];this.peerConnection.getStats(null).then((function(r){t.lastTimeGetStats=Date.now(),Object.keys(r).map((function(e){var n=r[e];t.config.isSubscriber?n.type&&"inboundrtp"===n.type&&n.mediaType&&"audio"===n.mediaType?(t.receiveAudioStats.id=n.id+"recv",t.receiveAudioStats.type=n.type+"",t.receiveAudioStats.mediaType=n.mediaType+"",t.receiveAudioStats.packetsReceived=n.packetsReceived+"",t.receiveAudioStats.bytesReceived=n.bytesReceived+"",t.receiveAudioStats.packetsLost=n.packetsLost+"",t.receiveAudioStats.googJitterReceived=n.jitter+""):n.type&&"inboundrtp"===n.type&&n.mediaType&&"video"===n.mediaType?(t.receiveVideoStats.id=n.id+"recv",t.receiveVideoStats.type=n.type+"",t.receiveVideoStats.mediaType=n.mediaType+"",t.receiveVideoStats.packetsReceived=n.packetsReceived+"",t.receiveVideoStats.bytesReceived=n.bytesReceived+"",t.receiveVideoStats.packetsLost=n.packetsLost+"",t.receiveVideoStats.googJitterBufferMs=n.jitter+"",t.receiveVideoStats.googPlisSent=n.pliCount+"",t.receiveVideoStats.googFirsSent=n.firCount+"",t.receiveVideoStats.googNacksSent=n.nackCount+""):n.remoteSource&&n.type&&"track"===n.type&&n.trackIdentifier&&-1!==n.trackIdentifier.indexOf("v")?(t.receiveVideoStats.googFrameHeightReceived=n.frameHeight+"",t.receiveVideoStats.googFrameWidthReceived=n.frameWidth+"",t.receiveVideoStats.googFrameRateDecoded=n.framesPerSecond+"",t.receiveVideoStats.googFrameRateOutput=n.framesPerSecond+"",t.receiveVideoStats.googFrameRateReceived=n.framesPerSecond+"",t.receiveVideoStats.googFramesDecoded=n.framesDecoded+"",t.receiveVideoStats.googFrameReceived=n.framesReceived+""):n.remoteSource&&n.type&&"track"===n.type&&n.trackIdentifier&&-1!==n.trackIdentifier.indexOf("a")&&(t.receiveAudioStats.audioOutputLevel=n.audioLevel+""):!n.isRemote&&n.type&&"outboundrtp"===n.type&&n.mediaType&&"audio"===n.mediaType?(t.sendAudioStats.id=n.id+"send",t.sendAudioStats.type=n.type+"",t.sendAudioStats.mediaType=n.mediaType+"",t.sendAudioStats.packetsSent=n.packetsSent+"",t.sendAudioStats.bytesSent=n.bytesSent+""):!n.isRemote&&n.type&&"outboundrtp"===n.type&&n.mediaType&&"video"===n.mediaType?(t.sendVideoStats.id=n.id+"send",t.sendVideoStats.type=n.type+"",t.sendVideoStats.mediaType=n.mediaType+"",t.sendVideoStats.packetsSent=n.packetsSent+"",t.sendVideoStats.bytesSent=n.bytesSent+"",t.sendVideoStats.googRtt=n.roundTripTime+"",t.sendVideoStats.googPlisReceived=n.pliCount+"",t.sendVideoStats.googFirsReceived=n.firCount+"",t.sendVideoStats.googNacksReceived=n.nackCount+""):!n.remoteSource&&n.type&&"track"===n.type&&n.framesSent&&0!==n.framesSent&&(t.sendVideoStats.googFrameHeightSent=n.frameHeight+"",t.sendVideoStats.googFrameHeightInput=n.frameHeight+"",t.sendVideoStats.googFrameWidthSent=n.frameWidth+"",t.sendVideoStats.googFrameWidthInput=n.frameWidth+"",t.sendVideoStats.googFramesEncoded=n.framesSent+"",t.sendVideoStats.googFrameRateSent=n.framesPerSecond+"")})),t.config.isSubscriber?(n.push(t.receiveVideoStats),n.push(t.receiveAudioStats)):(n.push(t.sendAudioStats),n.push(t.sendVideoStats)),n.push({id:"time",startTime:t.connectedTime,timestamp:Date.now()}),e&&e(n)}))},e.prototype.getStatsRate=function(e){this.getStats(e)},e.prototype.initPeecConnection=function(e){var t=e.stunServerUrl,n=e.turnServer,r=e.iceServers;return this.pcConfig={iceServers:[]},r instanceof Array?this.pcConfig.iceServers=e.iceServers:t&&(t instanceof Array?t.map((function(e){"string"==typeof e&&""!==e&&this.pcConfig.iceServers.push({urls:e})})):"string"==typeof t&&""!==t&&this.pcConfig.iceServers.push({urls:t})),n&&(n instanceof Array?n.map((function(e){"string"==typeof e.url&&""!==e.url&&this.pcConfig.iceServers.push({username:e.username,credential:e.credential,url:e.url})})):"auto"!==n.mode&&"manual"!==n.mode||(n.udpport&&this.pcConfig.iceServers.push({username:n.username,credential:n.credential,credentialType:"password",urls:"turn:"+n.url+":"+n.udpport+"?transport=udp"}),"string"==typeof n.tcpport&&""!==n.tcpport&&this.pcConfig.iceServers.push({username:n.username,credential:n.credential,credentialType:"password",urls:"turn:"+n.url+":"+n.tcpport+"?transport=tcp"}),!0===n.forceturn&&(this.pcConfig.iceTransportPolicy="relay"))),new c.RTCPeerConnection(this.pcConfig)},e.prototype._ontrack=function(e){this.onaddstream&&this.onaddstream(e,"ontrack")},e.prototype._onaddstream=function(e){this.onaddstream&&this.onaddstream(e,"onaddstream")},e.prototype._oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(this.state=o.ESTABLISHED,this.connectedTime=Date.now()),this.oniceconnectionstatechange&&this.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},e.prototype._onicecandidate=function(e){!this.candidate&&e&&(this.candidate=e.candidate,this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(this.editLocalSDP.bind(this)).then(this.setLocalSDP.bind(this)).then(this.sendOffer.bind(this)).catch())},e.prototype.setLocalSDP=function(e){return this.peerConnection.setLocalDescription(new RTCSessionDescription({sdp:e.sdp,type:"offer"})),this.state=o.PREPARING_OFFER,e},e.prototype.editLocalSDP=function(e){return e.sdp=this.setBandWidth(e.sdp),e.sdp=this.reviseOpus(e.sdp),e.sdp=this.addCandidate(e.sdp),e},e.prototype.setSendRecv=function(e){return(e=(e=e.replace(/a=recvonly\r\n/g,"a=sendrecv\r\n")).replace(/a=sendonly\r\n/g,"a=sendrecv\r\n")).replace(/a=inactive\r\n/g,"a=sendrecv\r\n")},e.prototype.setBandWidth=function(e){var t,n,r=this.config,i=r.codec,a=r.minVideoBW,o=r.maxVideoBW,c=r.maxAudioBW,l=r.clientId;if((t=e.match(/m=video.*\r\n/))&&a&&o){n=t[0]+"b=AS:"+o+"\r\n";var u=0,d=0;"h264"===i?(u=e.search(/a=rtpmap:(\d+) H264\/90000\r\n/),d=e.search(/H264\/90000\r\n/)):"vp8"===i?(u=e.search(/a=rtpmap:(\d+) VP8\/90000\r\n/),d=e.search(/VP8\/90000\r\n/)):"vp9"===i&&(u=e.search(/a=rtpmap:(\d+) VP9\/90000\r\n/),d=e.search(/VP9\/90000\r\n/)),-1!==u&&-1!==d&&d-u>10&&(n=n+"a=fmtp:"+e.slice(u+9,d-1)+" x-google-min-bitrate="+a+"\r\n"),e=e.replace(t[0],n),s.default.debug("["+l+"]Set Video Bitrate - min:"+a+" max:"+o)}return(t=e.match(/m=audio.*\r\n/))&&c&&(n=t[0]+"b=AS:"+c+"\r\n",e=e.replace(t[0],n)),e},e.prototype.reviseOpus=function(e){return(e=e.replace(/a=rtpmap:102 opus\/48000\/2/g,"a=rtpmap:111 opus/48000/2")).replace(/m=audio 9 UDP\/TLS\/RTP\/SAVPF 102 0 8 97 13 118 101/g,"m=audio 9 UDP/TLS/RTP/SAVPF 111 0 8 97 13 118 101")},e.prototype.addCandidate=function(e){return e+"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"},e.prototype.sendOffer=function(e){this.config.callback(JSON.stringify({sdp:e.sdp,messageType:"OFFER",tiebreaker:Math.floor(429496723*Math.random()+1)})),this.state=o.OFFER_SENT},e}();t.default=l},function(e,t,n){var r=n(65),i=n(66),a=n(34),o=n(67);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},function(e,t,n){var r,i,a;i=this,a=function(){"use strict";var e,t=this;function n(e){t.console&&(t.console.error?t.console.error(e):t.console.log&&t.console.log(e))}function r(e,t,r,i){var a=i||n,o=e.createShader(r);return e.shaderSource(o,t),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)?o:(a("*** Error compiling shader '"+o+"':"+e.getShaderInfoLog(o)),e.deleteShader(o),null)}function i(e,t,r,i,a){var o=a||n,s=e.createProgram();return t.forEach((function(t){e.attachShader(s,t)})),r&&r.forEach((function(t,n){e.bindAttribLocation(s,i?i[n]:n,t)})),e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)?s:(o("Error in program linking:"+e.getProgramInfoLog(s)),e.deleteProgram(s),null)}(e=e||t)===e.top&&(console.log("%c%s","color:blue;font-weight:bold;","for more about webgl-utils.js see:"),console.log("%c%s","color:blue;font-weight:bold;","http://webglfundamentals.org/webgl/lessons/webgl-boilerplate.html"));var a,o=["VERTEX_SHADER","FRAGMENT_SHADER"];return!document.documentMode&&!!window.StyleMedia&&(HTMLCanvasElement.prototype.getContext=(a=HTMLCanvasElement.prototype.getContext,function(){var e=arguments;return"webgl"===e[0]&&((e=[].slice.call(arguments))[0]="experimental-webgl"),a.apply(this,e)})),{createProgram:i,createProgramFromSources:function(e,t,n,a,s){for(var c=[],l=0;l<t.length;++l)c.push(r(e,t[l],e[o[l]],s));return i(e,c,n,a,s)}}},void 0===(r=function(){return a.call(i)}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(68),s=n(4),c=a(n(0));t.getSupportedCodec=function(e){return r(void 0,void 0,void 0,(function(){var t,n,r,a,u;return i(this,(function(i){switch(i.label){case 0:return t={video:[],audio:[]},"undefined"!=typeof window?[3,1]:(c.default.error("getSupportedCodec: NOT_BROWSER_ENV"),[2,Promise.reject("NOT_BROWSER_ENV")]);case 1:try{n=o.createRTCPeerConnection({iceServers:[]})}catch(e){return c.default.error("Failed to init RTCPeerConnection",e),[2,Promise.reject(e)]}return n?[3,2]:(c.default.warning("getSupportedCodec: no RTCPeerConnection constructor is detected"),[2,Promise.resolve(t)]);case 2:return e&&e.stream?[3,7]:(r={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},a=void 0,(s.isSafari()||s.isFireFox()||s.isWeChatBrowser())&&n.addTransceiver?(n.addTransceiver("audio"),n.addTransceiver("video"),[4,n.createOffer()]):[3,4]);case 3:return a=i.sent(),[3,6];case 4:return[4,new Promise((function(e,t){var i=setTimeout((function(){t("CREATEOFFER_TIMEOUT")}),3e3);n.createOffer((function(t){clearTimeout(i),e(t)}),(function(e){clearTimeout(i),t(e)}),r)}))];case 5:a=i.sent(),i.label=6;case 6:return n.close(),u=a.sdp,[2,l(u)];case 7:return e.stream.getTracks&&n.addTrack?e.stream.getTracks().forEach((function(t){n.addTrack(t,e.stream)})):n.addStream(e.stream),a=void 0,s.isSafari()||s.isFireFox()?[4,n.createOffer()]:[3,9];case 8:return a=i.sent(),[3,11];case 9:return[4,new Promise((function(e,t){n.createOffer(e,t)}))];case 10:a=i.sent(),i.label=11;case 11:return n.close(),u=a.sdp,[2,l(u)]}}))}))};var l=function(e){var t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push("VP8"),e.match(/ VP9/i)&&t.video.push("VP9"),e.match(/ H264/i)&&t.video.push("H264"),e.match(/ opus/i)&&t.audio.push("OPUS"),Promise.resolve(t)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(10);function o(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}t.encryptRSA=function(e){return r(void 0,void 0,void 0,(function(){var t,n,r,s;return i(this,(function(i){switch(i.label){case 0:return t=a.base64ToUint8Array("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),[4,window.crypto.subtle.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"])];case 1:return n=i.sent(),c=e,r=(new TextEncoder).encode(c),[4,window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,r)];case 2:return s=i.sent(),[2,o(new Uint8Array(s))]}var c}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),s=n(75),c=n(24),l=n(1),u=n(27);t.addLiveStreamingCapability=function(e,t){var n=this,a=function(t){var n=t.type;if(!e.joinInfo)return new c.AgoraRTCError(c.AgoraRTCErrorCode.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();switch(n){case u.LiveStreamingServiceMode.INJECT:return e._injectStreamingClient||(e._injectStreamingClient=new s.AgoraRTCLiveStreamingClient(e.joinInfo),e._injectStreamingClient.onInjectStatusChange=function(t,n,r){e.gatewayClient.dispatchEvent({type:"streamInjectedStatus",url:r,status:t})}),e._injectStreamingClient;case u.LiveStreamingServiceMode.RAW:return e._liveRawStreamingClient||(e._liveRawStreamingClient=new s.AgoraRTCLiveStreamingClient(e.joinInfo),e._liveRawStreamingClient.setGatewayConnectionState(e.getConnectionState()),e.on("connection-state-change",(function(t){e._liveRawStreamingClient.setGatewayConnectionState(t.curState),"CONNECTING"===t.prevState&&"CONNECTED"===t.curState&&e._liveRawStreamingClient&&e._liveRawStreamingClient.resetAllTask()})),e._liveRawStreamingClient.onLiveStreamError=function(t,n){o.default.error("LIVE_STREAMING_ERROR",n.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:t,reason:n.code})},e._liveRawStreamingClient.onLiveStreamWarning=function(t,n){o.default.warning("LIVE_STREAMING_WARNING",n.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingWarning",url:t,reason:n.code})}),e._liveRawStreamingClient;case u.LiveStreamingServiceMode.TRANSCODE:return e._liveTranscodeStreamingClient||(e._liveTranscodeStreamingClient=new s.AgoraRTCLiveStreamingClient(e.joinInfo),e._liveTranscodeStreamingClient.setGatewayConnectionState(e.getConnectionState()),e.on("connection-state-change",(function(t){e._liveTranscodeStreamingClient.setGatewayConnectionState(t.curState),"CONNECTING"===t.prevState&&"CONNECTED"===t.curState&&e._liveTranscodeStreamingClient&&e._liveTranscodeStreamingClient.resetAllTask()})),e._liveTranscodeStreamingClient.onLiveStreamError=function(t,n){o.default.error("LIVE_STREAMING_ERROR",n.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:t,reason:n.code})},e._liveTranscodeStreamingClient.onLiveStreamWarning=function(t,n){o.default.warning("LIVE_STREAMING_WARNING",n.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingWarning",url:t,reason:n})}),e._liveTranscodeStreamingClient}};e.gatewayClient.addEventListener("join",(function(t){e._injectStreamingClient&&e._injectStreamingClient.resetAllTask()})),e.gatewayClient.addEventListener("stream-unpublished",(function(t){t.options&&0===t.options.streamType&&(e._liveRawStreamingClient&&e._liveRawStreamingClient.resetAllTask(),e._liveTranscodeStreamingClient&&e._liveTranscodeStreamingClient.resetAllTask())})),e.gatewayClient.addEventListener("stream-published",(function(e){})),e.startLiveStreaming=function(n,r){o.default.debug("startLiveStreaming");var i=l.report.reportApiInvoke(t.sessionId,{name:"Client.startLiveStreaming",options:arguments,tag:"tracer"});if(e.gatewayClient&&"audience"===e.gatewayClient.role){var a={code:403,reason:"AUDIENCE_STREAMING_FORBIDDEN"};throw i(a),a}var s=e._startLiveStreaming(n,r);return s.then((function(e){i(null,e)})).catch((function(t){o.default.error("LIVE_STREAMING_ERROR",t.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:n,reason:t.code}),i(t)})),s},e._startLiveStreaming=function(s,l){return r(n,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return l||("vp8"===t.codec&&o.default.warning("VP8 is not supported by raw_streaming. Subscriber side will suffer"),"vp9"===t.codec&&o.default.warning("VP9 is not supported by raw_streaming. Subscriber side will suffer"),"rtc"===t.mode&&o.default.warning("RTC mode is not supported by raw_streaming. Subscriber side will suffer")),(e._liveRawStreamingClient&&e._liveRawStreamingClient.haveUrl(s)||e._liveTranscodeStreamingClient&&e._liveTranscodeStreamingClient.haveUrl(s))&&new c.AgoraRTCError(c.AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT).throw(),n=l?u.LiveStreamingServiceMode.TRANSCODE:u.LiveStreamingServiceMode.RAW,[4,a({type:n}).startLiveStreamingTask(s,n)];case 1:return r.sent(),e.gatewayClient.dispatchEvent({type:"liveStreamingStarted",url:s}),[2]}}))}))},e.setLiveTranscoding=function(n){o.default.debug("setLiveTranscoding: "+JSON.stringify(n));var r=l.report.reportApiInvoke(t.sessionId,{name:"Client.setLiveTranscoding",options:arguments,tag:"tracer"});return a({type:u.LiveStreamingServiceMode.TRANSCODE}).setTranscodingConfig(n).then((function(){e.gatewayClient.dispatchEvent({type:"liveTranscodingUpdated"}),r(null)})).catch((function(t){o.default.error("SET_LIVE_TRANSCODING_ERROR",t.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",reason:t.code}),r(t)}))},e.stopLiveStreaming=function(n){var r=l.report.reportApiInvoke(t.sessionId,{name:"Client.stopLiveStreaming",options:arguments,tag:"tracer"}),i=e._stopLiveStreaming(n);return i.then((function(e){r(null,e)})).catch((function(t){o.default.error("STOP_LIVE_STREAMING_ERROR",t.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:n,reason:t.code}),r(t)})),i},e._stopLiveStreaming=function(t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return o.default.debug("stopLiveStreaming: "+JSON.stringify(t)),n=[e._liveRawStreamingClient,e._liveTranscodeStreamingClient],[4,Promise.all(n.map((function(e){return e&&e.haveUrl(t)&&e.stopLiveStreamingTask(t)})))];case 1:return r.sent(),o.default.debug("stopLiveStreaming sucess: "+JSON.stringify(t)),e.gatewayClient.dispatchEvent({type:"liveStreamingStopped",url:t}),[2]}}))}))},e.addInjectStreamUrl=function(n,r){var i=l.report.reportApiInvoke(t.sessionId,{name:"Client.addInjectStreamUrl",options:[n,r],tag:"tracer"});if("audience"===e.gatewayClient.role){var a={code:403,reason:"AUDIENCE_INJECTING_FORBIDDEN"};throw i(a),a}var s=e._addInjectStreamUrl(n,r);return s.then((function(e){i(null,e)})).catch((function(e){o.default.error("ADD_INJECT_STREAM_ERROR",e.toString()),i(e)})),s},e._addInjectStreamUrl=function(e,t){return r(n,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return(n=a({type:u.LiveStreamingServiceMode.INJECT})).setInjectStreamConfig(t,0),[4,n.startLiveStreamingTask(e,u.LiveStreamingServiceMode.INJECT)];case 1:return r.sent(),[2]}}))}))},e.removeInjectStreamUrl=function(n){return r(this,void 0,void 0,(function(){var r,a;return i(this,(function(i){return r=l.report.reportApiInvoke(t.sessionId,{name:"Client.removeInjectStreamUrl",options:[n],tag:"tracer"}),(a=e._removeInjectStreamUrl(n)).then((function(e){r(null,e)})).catch((function(e){o.default.error("REMOVE_INJECT_STREAM_ERROR",e.toString()),r(e)})),[2,a]}))}))},e._removeInjectStreamUrl=function(e){return r(n,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,a({type:u.LiveStreamingServiceMode.INJECT}).stopLiveStreamingTask(e)];case 1:return t.sent(),[2]}}))}))},e._terminateLiveStreaming=function(){return r(n,void 0,void 0,(function(){return i(this,(function(t){return[e._injectStreamingClient,e._liveRawStreamingClient,e._liveTranscodeStreamingClient].forEach((function(e){e&&e.terminate()})),[2]}))}))}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(5)),a=r(n(0)),o=n(10);t.default=function(e,t){void 0===t&&(t={width:160,height:120,framerate:15});var n=t.width,r=t.height,s=t.framerate,c=e.stream;if(!c)throw i.default.INVALID_LOCAL_STREAM;if(!c.getVideoTracks()[0])throw i.default.HIGH_STREAM_NOT_VIDEO_TRACE;var l=c.getVideoTracks()[0];a.default.debug("Start getLowStream");var u=document.createElement("video"),d=document.createElement("canvas");u.setAttribute("style","display:none"),u.setAttribute("muted",""),u.muted=!0,u.setAttribute("autoplay",""),u.autoplay=!0,u.setAttribute("playsinline",""),d.setAttribute("style","display:none"),d.setAttribute("width",n.toString()),d.setAttribute("height",r.toString());var f=d.getContext("2d");if(!f)throw new Error("not get canvas context");u.srcObject=c,document.body.append(u),document.body.append(d),u.play(),a.default.debug("Start render lowStream");var h=o.audioTimerLoop((function(){return function(){if(u.paused&&u.play(),u.videoHeight>2&&u.videoWidth>2){var t=u.videoWidth,n=u.videoHeight/t,r=d.width*n;Math.abs(r-d.height)>=2&&(a.default.debug("adjust low stream resolution",d.width+"x"+d.height+" -> "+d.width+"x"+r),d.height=r)}f.drawImage(u,0,0,d.width,d.height);var i=e.stream;if(i){var o=i.getVideoTracks()[0];l!==o&&(a.default.debug("adjust low stream track"),u.srcObject=i,l=o)}}()}),s),p=d.captureStream(s),m=p.getVideoTracks()[0];return m.requestFrame&&m.requestFrame(),p.clean=function(){a.default.debug("Start clean lowStream"),h(),(u||u.parentNode||u.parentNode.removeChild)&&u.parentNode.removeChild(u),(d||d.parentNode||d.parentNode.removeChild)&&d.parentNode.removeChild(d),a.default.debug("Clean lowStream")},p}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(module,exports,__nested_webpack_require_660171__){(function(global,module){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(undefined){"use strict";!function(e,t,n){var r=function n(r){var i=t[r];return i||e[r][0].call(i=t[r]={exports:{}},n,i,i.exports),i.exports}(16);r.util.global.protobuf=r,__WEBPACK_AMD_DEFINE_ARRAY__=[__nested_webpack_require_660171__(61)],(__WEBPACK_AMD_DEFINE_RESULT__=function(e){return e&&e.isLong&&(r.util.Long=e,r.configure()),r}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))===undefined||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),module&&module.exports&&(module.exports=r)}({1:[function(e,t,n){t.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,a=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,o){n[r]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){a&&(a=!1,o(e))}}))}},{}],2:[function(e,t,n){var r=n;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),a=new Array(123),o=0;o<64;)a[i[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,n){for(var r,a=null,o=[],s=0,c=0;t<n;){var l=e[t++];switch(c){case 0:o[s++]=i[l>>2],r=(3&l)<<4,c=1;break;case 1:o[s++]=i[r|l>>4],r=(15&l)<<2,c=2;break;case 2:o[s++]=i[r|l>>6],o[s++]=i[63&l],c=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return c&&(o[s++]=i[r],o[s++]=61,1===c&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.decode=function(e,t,n){for(var r,i=n,o=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&o>1)break;if((c=a[c])===undefined)throw Error("invalid encoding");switch(o){case 0:r=c,o=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,o=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,o=3;break;case 3:t[n++]=(3&r)<<6|c,o=0}}if(1===o)throw Error("invalid encoding");return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,n){function r(e,t){"string"==typeof e&&(t=e,e=undefined);var n=[];function i(e){if("string"!=typeof e){var t=a();if(r.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var o=Object.keys(e),s=new Array(o.length+1),c=new Array(o.length),l=0;l<o.length;)s[l]=o[l],c[l]=e[o[l++]];return s[l]=t,Function.apply(null,s).apply(null,c)}return Function(t)()}for(var u=new Array(arguments.length-1),d=0;d<u.length;)u[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var n=u[d++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),d!==u.length)throw Error("parameter count mismatch");return n.push(e),i}function a(r){return"function "+(r||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=a,i}t.exports=r,r.verbose=!1},{}],4:[function(e,t,n){function r(){this._listeners={}}t.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},{}],5:[function(e,t,n){t.exports=a;var r=e(1),i=e(7)("fs");function a(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&i&&i.readFile?i.readFile(e,(function(r,i){return r&&"undefined"!=typeof XMLHttpRequest?a.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))})):a.xhr(e,t,n):r(a,this,e,t)}a.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4!==r.readyState)return undefined;if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},{1:1,7:7}],6:[function(e,t,n){function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function a(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:a,e.writeFloatBE=r?a:i,e.readFloatLE=r?o:s,e.readFloatBE=r?s:o}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var a=Math.floor(Math.log(t)/Math.LN2);e((i<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,a=r>>>23&255,o=8388607&r;return 255===a?o?NaN:i*(1/0):0===a?1401298464324817e-60*i*o:i*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,a),e.readFloatLE=n.bind(null,o),e.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function a(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:a,e.writeDoubleBE=r?a:i,e.readDoubleLE=r?o:s,e.readDoubleBE=r?s:o}():function(){function t(e,t,n,r,i,a){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,i,a+t),e(1/r>0?0:2147483648,i,a+n);else if(isNaN(r))e(0,i,a+t),e(2146959360,i,a+n);else if(r>17976931348623157e292)e(0,i,a+t),e((o<<31|2146435072)>>>0,i,a+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,a+t),e((o<<31|s/4294967296)>>>0,i,a+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=r*Math.pow(2,-c))>>>0,i,a+t),e((o<<31|c+1023<<20|1048576*s&1048575)>>>0,i,a+n)}}}function n(e,t,n,r,i){var a=e(r,i+t),o=e(r,i+n),s=2*(o>>31)+1,c=o>>>20&2047,l=4294967296*(1048575&o)+a;return 2047===c?l?NaN:s*(1/0):0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,a,4,0),e.readDoubleLE=n.bind(null,o,0,4),e.readDoubleBE=n.bind(null,s,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function a(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=r(r)},{}],7:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],8:[function(e,t,n){var r=n,i=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},a=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=i(e),r="";n&&(r=t.shift()+"/");for(var a=0;a<t.length;)".."===t[a]?a>0&&".."!==t[a-1]?t.splice(--a,2):n?t.splice(a,1):++a:"."===t[a]?t.splice(a,1):++a;return r+t.join("/")};r.resolve=function(e,t,n){return n||(t=a(t)),i(t)?t:(n||(e=a(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?a(e+"/"+t):t)}},{}],9:[function(e,t,n){t.exports=function(e,t,n){var r=n||8192,i=r>>>1,a=null,o=r;return function(n){if(n<1||n>i)return e(n);o+n>r&&(a=e(r),o=0);var s=t.call(a,o,o+=n);return 7&o&&(o=1+(7|o)),s}}},{}],10:[function(e,t,n){var r=n;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,a=[],o=0;t<n;)(r=e[t++])<128?a[o++]=r:r>191&&r<224?a[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[o++]=55296+(r>>10),a[o++]=56320+(1023&r)):a[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,a.slice(0,o))),i.join("")):String.fromCharCode.apply(String,a.slice(0,o))},r.write=function(e,t,n){for(var r,i,a=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&i),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-a}},{}],11:[function(e,t,n){var r=n,i=e(14),a=e(33);function o(e,t,n,r){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",r);for(var a=t.resolvedType.values,o=Object.keys(a),s=0;s<o.length;++s)t.repeated&&a[o[s]]===t.typeDefault&&e("default:"),e("case%j:",o[s])("case %i:",a[o[s]])("m%s=%j",r,a[o[s]])("break");e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,c)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r)}}return e}function s(e,t,n,r){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):e("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var a=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":a=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,a?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r)}}return e}r.fromObject=function(e){var t=e.fieldsArray,n=a.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var s=t[r].resolve(),c=a.safeProp(s.name);s.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),o(n,s,r,c+"[ks[i]]")("}")("}")):s.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),o(n,s,r,c+"[i]")("}")("}")):(s.resolvedType instanceof i||n("if(d%s!=null){",c),o(n,s,r,c),s.resolvedType instanceof i||n("}"))}return n("return m")},r.toObject=function(e){var t=e.fieldsArray.slice().sort(a.compareFieldsById);if(!t.length)return a.codegen()("return {}");for(var n=a.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],o=[],c=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?r:t[l].map?o:c).push(t[l]);if(r.length){for(n("if(o.arrays||o.defaults){"),l=0;l<r.length;++l)n("d%s=[]",a.safeProp(r[l].name));n("}")}if(o.length){for(n("if(o.objects||o.defaults){"),l=0;l<o.length;++l)n("d%s={}",a.safeProp(o[l].name));n("}")}if(c.length){for(n("if(o.defaults){"),l=0;l<c.length;++l){var u=c[l],d=a.safeProp(u.name);if(u.resolvedType instanceof i)n("d%s=o.enums===String?%j:%j",d,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var f="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",d,f)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else n("d%s=%j",d,u.typeDefault)}n("}")}var h=!1;for(l=0;l<t.length;++l){u=t[l];var p=e._fieldsArray.indexOf(u);d=a.safeProp(u.name),u.map?(h||(h=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),s(n,u,p,d+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),s(n,u,p,d+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",d,u.name),s(n,u,p,d),u.partOf&&n("if(o.oneofs)")("d%s=%j",a.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}},{14:14,33:33}],12:[function(e,t,n){t.exports=function(e){var t=a.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var s=e._fieldsArray[n].resolve(),c=s.resolvedType instanceof r?"int32":s.type,l="m"+a.safeProp(s.name);t("case %i:",s.id),s.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),i.defaults[s.keyType]!==undefined?t("k=%j",i.defaults[s.keyType]):t("k=null"),i.defaults[c]!==undefined?t("value=%j",i.defaults[c]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),i.basic[c]===undefined?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",c),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),i.long[s.keyType]!==undefined?t('%s[typeof k==="object"?util.longToHash(k):k]=value',l):t("%s[k]=value",l)):s.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),i.packed[c]!==undefined&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),i.basic[c]===undefined?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,n):t("%s.push(r.%s())",l,c)):i.basic[c]===undefined?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,n):t("%s=r.%s()",l,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var u=e._fieldsArray[n];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",o(u))}return t("return m")};var r=e(14),i=e(32),a=e(33);function o(e){return"missing required '"+e.name+"'"}},{14:14,32:32,33:33}],13:[function(e,t,n){t.exports=function(e){for(var t,n=a.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(a.compareFieldsById),c=0;c<s.length;++c){var l=s[c].resolve(),u=e._fieldsArray.indexOf(l),d=l.resolvedType instanceof r?"int32":l.type,f=i.basic[d];t="m"+a.safeProp(l.name),l.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|i.mapKey[l.keyType],l.keyType),f===undefined?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|f,d,t),n("}")("}")):l.repeated?(n("if(%s!=null&&%s.length){",t,t),l.packed&&i.packed[d]!==undefined?n("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",d,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),f===undefined?o(n,l,u,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(l.id<<3|f)>>>0,d,t)),n("}")):(l.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,l.name),f===undefined?o(n,l,u,t):n("w.uint32(%i).%s(%s)",(l.id<<3|f)>>>0,d,t))}return n("return w")};var r=e(14),i=e(32),a=e(33);function o(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}},{14:14,32:32,33:33}],14:[function(e,t,n){t.exports=o;var r=e(22);((o.prototype=Object.create(r.prototype)).constructor=o).className="Enum";var i=e(21),a=e(33);function o(e,t,n,i,a){if(r.call(this,e,n),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=a||{},this.reserved=undefined,t)for(var o=Object.keys(t),s=0;s<o.length;++s)"number"==typeof t[o[s]]&&(this.valuesById[this.values[o[s]]=t[o[s]]]=o[s])}o.fromJSON=function(e,t){var n=new o(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"comment",t?this.comment:undefined,"comments",t?this.comments:undefined])},o.prototype.add=function(e,t,n){if(!a.isString(e))throw TypeError("name must be a string");if(!a.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==undefined)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==undefined){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},o.prototype.remove=function(e){if(!a.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},o.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},o.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},{21:21,22:22,33:33}],15:[function(e,t,n){t.exports=l;var r=e(22);((l.prototype=Object.create(r.prototype)).constructor=l).className="Field";var i,a=e(14),o=e(32),s=e(33),c=/^required|optional|repeated$/;function l(e,t,n,i,a,l,u){if(s.isObject(i)?(u=a,l=i,i=a=undefined):s.isObject(a)&&(u=l,l=a,a=undefined),r.call(this,e,l),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(n))throw TypeError("type must be a string");if(i!==undefined&&!c.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(a!==undefined&&!s.isString(a))throw TypeError("extend must be a string");this.rule=i&&"optional"!==i?i:undefined,this.type=n,this.id=t,this.extend=a||undefined,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&o.long[n]!==undefined,this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),r.prototype.setOption.call(this,e,t,n)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||undefined,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},l.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=o.defaults[this.type])===undefined&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof a&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===undefined||!this.resolvedType||this.resolvedType instanceof a)||delete this.options.packed,Object.keys(this.options).length||(this.options=undefined)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},l.d=function(e,t,n,r){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"==typeof t&&(t=s.decorateEnum(t).name),function(i,a){s.decorateType(i.constructor).add(new l(a,e,t,n,{default:r}))}},l._configure=function(e){i=e}},{14:14,22:22,32:32,33:33}],16:[function(e,t,n){var r=t.exports=e(17);r.build="light",r.load=function(e,t,n){return"function"==typeof t?(n=t,t=new r.Root):t||(t=new r.Root),t.load(e,n)},r.loadSync=function(e,t){return t||(t=new r.Root),t.loadSync(e)},r.encoder=e(13),r.decoder=e(12),r.verifier=e(36),r.converter=e(11),r.ReflectionObject=e(22),r.Namespace=e(21),r.Root=e(26),r.Enum=e(14),r.Type=e(31),r.Field=e(15),r.OneOf=e(23),r.MapField=e(18),r.Service=e(30),r.Method=e(20),r.Message=e(19),r.wrappers=e(37),r.types=e(32),r.util=e(33),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},{11:11,12:12,13:13,14:14,15:15,17:17,18:18,19:19,20:20,21:21,22:22,23:23,26:26,30:30,31:31,32:32,33:33,36:36,37:37}],17:[function(e,t,n){var r=n;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=e(38),r.BufferWriter=e(39),r.Reader=e(24),r.BufferReader=e(25),r.util=e(35),r.rpc=e(28),r.roots=e(27),r.configure=i,i()},{24:24,25:25,27:27,28:28,35:35,38:38,39:39}],18:[function(e,t,n){t.exports=o;var r=e(15);((o.prototype=Object.create(r.prototype)).constructor=o).className="MapField";var i=e(32),a=e(33);function o(e,t,n,i,o,s){if(r.call(this,e,t,i,undefined,undefined,o,s),!a.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(e,t){return new o(e,t.id,t.keyType,t.type,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},o.prototype.resolve=function(){if(this.resolved)return this;if(i.mapKey[this.keyType]===undefined)throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},o.d=function(e,t,n){return"function"==typeof n?n=a.decorateType(n).name:n&&"object"==typeof n&&(n=a.decorateEnum(n).name),function(r,i){a.decorateType(r.constructor).add(new o(i,e,t,n))}}},{15:15,32:32,33:33}],19:[function(e,t,n){t.exports=i;var r=e(35);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},{35:35}],20:[function(e,t,n){t.exports=a;var r=e(22);((a.prototype=Object.create(r.prototype)).constructor=a).className="Method";var i=e(33);function a(e,t,n,a,o,s,c,l){if(i.isObject(o)?(c=o,o=s=undefined):i.isObject(s)&&(c=s,s=undefined),t!==undefined&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(a))throw TypeError("responseType must be a string");r.call(this,e,c),this.type=t||"rpc",this.requestType=n,this.requestStream=!!o||undefined,this.responseType=a,this.responseStream=!!s||undefined,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l}a.fromJSON=function(e,t){return new a(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||undefined,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:undefined])},a.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},{22:22,33:33}],21:[function(e,t,n){t.exports=u;var r=e(22);((u.prototype=Object.create(r.prototype)).constructor=u).className="Namespace";var i,a,o,s=e(15),c=e(33);function l(e,t){if(!e||!e.length)return undefined;for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}function u(e,t){r.call(this,e,t),this.nested=undefined,this._nestedArray=null}function d(e){return e._nestedArray=null,e}u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=l,u.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>t)return!0;return!1},u.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),u.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",l(this.nestedArray,e)])},u.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),r=0;r<n.length;++r)t=e[n[r]],this.add((t.fields!==undefined?i.fromJSON:t.values!==undefined?o.fromJSON:t.methods!==undefined?a.fromJSON:t.id!==undefined?s.fromJSON:u.fromJSON)(n[r],t));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof o)return this.nested[e].values;throw Error("no such enum: "+e)},u.prototype.add=function(e){if(!(e instanceof s&&e.extend!==undefined||e instanceof i||e instanceof o||e instanceof a||e instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof u&&e instanceof u)||t instanceof i||t instanceof a)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),d(this)},u.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=undefined),e.onRemove(this),d(this)},u.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof u))throw Error("path conflicts with non-namespace objects")}else n.add(n=new u(r))}return t&&n.addJSON(t),n},u.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this.resolve()},u.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=undefined):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof u&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof u&&(r=this._nestedArray[i].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},u.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},u.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,o]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},u.prototype.lookupService=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(e,t,n){i=e,a=t,o=n}},{15:15,22:22,33:33}],22:[function(e,t,n){t.exports=a,a.className="ReflectionObject";var r,i=e(33);function a(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(a.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),a.prototype.toJSON=function(){throw Error()},a.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof r&&t._handleAdd(this)},a.prototype.onRemove=function(e){var t=e.root;t instanceof r&&t._handleRemove(this),this.parent=null,this.resolved=!1},a.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},a.prototype.getOption=function(e){return this.options?this.options[e]:undefined},a.prototype.setOption=function(e,t,n){return n&&this.options&&this.options[e]!==undefined||((this.options||(this.options={}))[e]=t),this},a.prototype.setParsedOption=function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var r=this.parsedOptions;if(n){var a=r.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(a){var o=a[e];i.setProperty(o,n,t)}else(a={})[e]=i.setProperty({},n,t),r.push(a)}else{var s={};s[e]=t,r.push(s)}return this},a.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},a.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},a._configure=function(e){r=e}},{33:33}],23:[function(e,t,n){t.exports=o;var r=e(22);((o.prototype=Object.create(r.prototype)).constructor=o).className="OneOf";var i=e(15),a=e(33);function o(e,t,n,i){if(Array.isArray(t)||(n=t,t=undefined),r.call(this,e,n),t!==undefined&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}o.fromJSON=function(e,t){return new o(e,t.oneof,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:undefined])},o.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},o.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},o.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}s(this)},o.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},o.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){a.decorateType(t.constructor).add(new o(n,e)),Object.defineProperty(t,n,{get:a.oneOfGetter(e),set:a.oneOfSetter(e)})}}},{15:15,22:22,33:33}],24:[function(e,t,n){t.exports=c;var r,i=e(35),a=i.LongBits,o=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function f(){var e=new a(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new a(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=d(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return f.call(this)[t](!1)},uint64:function(){return f.call(this)[t](!0)},sint64:function(){return f.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},{35:35}],25:[function(e,t,n){t.exports=a;var r=e(24);(a.prototype=Object.create(r.prototype)).constructor=a;var i=e(35);function a(e){r.call(this,e)}a._configure=function(){i.Buffer&&(a.prototype._slice=i.Buffer.prototype.slice)},a.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},a._configure()},{24:24,35:35}],26:[function(e,t,n){t.exports=d;var r=e(21);((d.prototype=Object.create(r.prototype)).constructor=d).className="Root";var i,a,o,s=e(15),c=e(14),l=e(23),u=e(33);function d(e){r.call(this,"",e),this.deferred=[],this.files=[]}function f(){}d.fromJSON=function(e,t){return t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},d.prototype.resolvePath=u.path.resolve,d.prototype.fetch=u.fetch,d.prototype.load=function e(t,n,r){"function"==typeof n&&(r=n,n=undefined);var i=this;if(!r)return u.asPromise(e,i,t,n);var s=r===f;function c(e,t){if(r){var n=r;if(r=null,s)throw e;n(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var n=e.substring(t);if(n in o)return n}return null}function d(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){a.filename=e;var r,o=a(t,i,n),d=0;if(o.imports)for(;d<o.imports.length;++d)(r=l(o.imports[d])||i.resolvePath(e,o.imports[d]))&&h(r);if(o.weakImports)for(d=0;d<o.weakImports.length;++d)(r=l(o.weakImports[d])||i.resolvePath(e,o.weakImports[d]))&&h(r,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}s||p||c(null,i)}function h(e,t){if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in o)s?d(e,o[e]):(++p,setTimeout((function(){--p,d(e,o[e])})));else if(s){var n;try{n=u.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||c(e))}d(e,n)}else++p,i.fetch(e,(function(n,a){--p,r&&(n?t?p||c(null,i):c(n):d(e,a))}))}var p=0;u.isString(t)&&(t=[t]);for(var m,v=0;v<t.length;++v)(m=i.resolvePath("",t[v]))&&h(m);return s?i:(p||c(null,i),undefined)},d.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,f)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function p(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new s(t.fullName,t.id,t.type,t.rule,undefined,t.options);return r.declaringField=t,t.extensionField=r,n.add(r),!0}return!1}d.prototype._handleAdd=function(e){if(e instanceof s)e.extend===undefined||e.extensionField||p(0,e)||this.deferred.push(e);else if(e instanceof c)h.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof i)for(var t=0;t<this.deferred.length;)p(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);h.test(e.name)&&(e.parent[e.name]=e)}},d.prototype._handleRemove=function(e){if(e instanceof s){if(e.extend!==undefined)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)h.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);h.test(e.name)&&delete e.parent[e.name]}},d._configure=function(e,t,n){i=e,a=t,o=n}},{14:14,15:15,21:21,23:23,33:33}],27:[function(e,t,n){t.exports={}},{}],28:[function(e,t,n){n.Service=e(29)},{29:29}],29:[function(e,t,n){t.exports=i;var r=e(35);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,a,o){if(!a)throw TypeError("request must be specified");var s=this;if(!o)return r.asPromise(e,s,t,n,i,a);if(!s.rpcImpl)return setTimeout((function(){o(Error("already ended"))}),0),undefined;try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),(function(e,n){if(e)return s.emit("error",e,t),o(e);if(null===n)return s.end(!0),undefined;if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",n,t),o(null,n)}))}catch(e){return s.emit("error",e,t),setTimeout((function(){o(e)}),0),undefined}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{35:35}],30:[function(e,t,n){t.exports=s;var r=e(21);((s.prototype=Object.create(r.prototype)).constructor=s).className="Service";var i=e(20),a=e(33),o=e(28);function s(e,t){r.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var n=new s(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),a=0;a<r.length;++a)n.add(i.fromJSON(r[a],t.methods[r[a]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},s.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return a.toObject(["options",t&&t.options||undefined,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=a.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||r.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return r.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,c(this)):r.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return r.prototype.remove.call(this,e)},s.prototype.create=function(e,t,n){for(var r,i=new o.Service(e,t,n),s=0;s<this.methodsArray.length;++s){var c=a.lcFirst((r=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[c]=a.codegen(["r","c"],a.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i}},{20:20,21:21,28:28,33:33}],31:[function(e,t,n){t.exports=y;var r=e(21);((y.prototype=Object.create(r.prototype)).constructor=y).className="Type";var i=e(14),a=e(23),o=e(15),s=e(18),c=e(30),l=e(19),u=e(24),d=e(38),f=e(33),h=e(13),p=e(12),m=e(36),v=e(11),g=e(37);function y(e,t){r.call(this,e,t),this.fields={},this.oneofs=undefined,this.extensions=undefined,this.reserved=undefined,this.group=undefined,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=f.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=f.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,f.merge(e.prototype,t)),e.$type=e.prototype.$type=this,f.merge(e,l,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:f.oneOfGetter(this._oneofsArray[n].oneof),set:f.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),y.generateConstructor=function(e){for(var t,n=f.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e._fieldsArray[r]).map?n("this%s={}",f.safeProp(t.name)):t.repeated&&n("this%s=[]",f.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},y.fromJSON=function(e,t){var n=new y(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var l=Object.keys(t.fields),u=0;u<l.length;++u)n.add((void 0!==t.fields[l[u]].keyType?s.fromJSON:o.fromJSON)(l[u],t.fields[l[u]]));if(t.oneofs)for(l=Object.keys(t.oneofs),u=0;u<l.length;++u)n.add(a.fromJSON(l[u],t.oneofs[l[u]]));if(t.nested)for(l=Object.keys(t.nested),u=0;u<l.length;++u){var d=t.nested[l[u]];n.add((d.id!==undefined?o.fromJSON:d.fields!==undefined?y.fromJSON:d.values!==undefined?i.fromJSON:d.methods!==undefined?c.fromJSON:r.fromJSON)(l[u],d))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},y.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return f.toObject(["options",t&&t.options||undefined,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:undefined,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"group",this.group||undefined,"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])},y.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return r.prototype.resolveAll.call(this)},y.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},y.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof o&&e.extend===undefined){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof a?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):r.prototype.add.call(this,e)},y.prototype.remove=function(e){if(e instanceof o&&e.extend===undefined){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof a){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return r.prototype.remove.call(this,e)},y.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},y.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)},y.prototype.create=function(e){return new this.ctor(e)},y.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=h(this)({Writer:d,types:t,util:f}),this.decode=p(this)({Reader:u,types:t,util:f}),this.verify=m(this)({types:t,util:f}),this.fromObject=v.fromObject(this)({types:t,util:f}),this.toObject=v.toObject(this)({types:t,util:f});var r=g[e];if(r){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(i),i.toObject=this.toObject,this.toObject=r.toObject.bind(i)}return this},y.prototype.encode=function(e,t){return this.setup().encode(e,t)},y.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},y.prototype.decode=function(e,t){return this.setup().decode(e,t)},y.prototype.decodeDelimited=function(e){return e instanceof u||(e=u.create(e)),this.decode(e,e.uint32())},y.prototype.verify=function(e){return this.setup().verify(e)},y.prototype.fromObject=function(e){return this.setup().fromObject(e)},y.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},y.d=function(e){return function(t){f.decorateType(t,e)}}},{11:11,12:12,13:13,14:14,15:15,18:18,19:19,21:21,23:23,24:24,30:30,33:33,36:36,37:37,38:38}],32:[function(e,t,n){var r=n,i=e(33),a=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(e,t){var n=0,r={};for(t|=0;n<e.length;)r[a[n+t]]=e[n++];return r}r.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),r.long=o([0,0,0,1,1],7),r.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},{33:33}],33:[function(e,t,n){var r,i,a=t.exports=e(35),o=e(27);a.codegen=e(3),a.fetch=e(5),a.path=e(8),a.fs=a.inquire("fs"),a.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},a.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],i=e[n++];i!==undefined&&(t[r]=i)}return t};var s=/\\/g,c=/"/g;a.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},a.safeProp=function(e){return!/^[$\w_]+$/.test(e)||a.isReserved(e)?'["'+e.replace(s,"\\\\").replace(c,'\\"')+'"]':"."+e},a.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;a.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,(function(e,t){return t.toUpperCase()}))},a.compareFieldsById=function(e,t){return e.id-t.id},a.decorateType=function(t,n){if(t.$type)return n&&t.$type.name!==n&&(a.decorateRoot.remove(t.$type),t.$type.name=n,a.decorateRoot.add(t.$type)),t.$type;r||(r=e(31));var i=new r(n||t.name);return a.decorateRoot.add(i),i.ctor=t,Object.defineProperty(t,"$type",{value:i,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:i,enumerable:!1}),i};var u=0;a.decorateEnum=function(t){if(t.$type)return t.$type;i||(i=e(14));var n=new i("Enum"+u++,t);return a.decorateRoot.add(n),Object.defineProperty(t,"$type",{value:n,enumerable:!1}),n},a.setProperty=function(e,t,n){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,n,r){var i=n.shift();if(n.length>0)t[i]=e(t[i]||{},n,r);else{var a=t[i];a&&(r=[].concat(a).concat(r)),t[i]=r}return t}(e,t=t.split("."),n)},Object.defineProperty(a,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(e(26)))}})},{14:14,26:26,27:27,3:3,31:31,35:35,5:5,8:8}],34:[function(e,t,n){t.exports=i;var r=e(35);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var a=i.zero=new i(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):a},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?a:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},{35:35}],35:[function(e,t,n){var r=n;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)e[r[i]]!==undefined&&n||(e[r[i]]=t[r[i]]);return e}function a(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=e(1),r.base64=e(2),r.EventEmitter=e(4),r.float=e(6),r.inquire=e(7),r.utf8=e(10),r.pool=e(9),r.LongBits=e(34),r.isNode=Boolean(void 0!==global&&global&&global.process&&global.process.versions&&global.process.versions.node),r.global=r.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=a,r.ProtocolError=a("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&this[e[n]]!==undefined&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},{1:1,10:10,2:2,34:34,4:4,6:6,7:7,9:9}],36:[function(e,t,n){t.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n={};e.oneofsArray.length&&t("var p={}");for(var r=0;r<e.fieldsArray.length;++r){var c=e._fieldsArray[r].resolve(),l="m"+i.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",a(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),s(t,c,"k[i]"),o(t,c,r,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",a(c,"array"))("for(var i=0;i<%s.length;++i){",l),o(t,c,r,l+"[i]")("}");else{if(c.partOf){var u=i.safeProp(c.partOf.name);1===n[c.partOf.name]&&t("if(p%s===1)",u)("return%j",c.partOf.name+": multiple values"),n[c.partOf.name]=1,t("p%s=1",u)}o(t,c,r,l)}c.optional&&t("}")}return t("return null")};var r=e(14),i=e(33);function a(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(%s){",i)("default:")("return%j",a(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),s=0;s<o.length;++s)e("case %i:",t.resolvedType.values[o[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",a(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",a(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",a(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",a(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",a(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",a(t,"buffer"))}return e}function s(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",a(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",a(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",a(t,"boolean key"))}return e}},{14:14,33:33}],37:[function(e,t,n){var r=n,i=e(19);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),n=this.lookup(t);if(n){var r="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===r.indexOf("/")&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n="",r="";if(t&&t.json&&e.type_url&&e.value){r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var a=this.lookup(r);a&&(e=a.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var o=e.$type.toObject(e,t);return""===n&&(n="type.googleapis.com/"),r=n+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),o["@type"]=r,o}return this.toObject(e,t)}}},{19:19}],38:[function(e,t,n){t.exports=d;var r,i=e(35),a=i.LongBits,o=i.base64,s=i.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=undefined,this.val=n}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var f=function(){return i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function h(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=undefined,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function v(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=f(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(m,10,a.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=a.from(e);return this._push(m,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=a.from(e).zzEncode();return this._push(m,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(v,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=a.from(e);return this._push(v,4,t.lo)._push(v,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var g=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var n=d.alloc(t=o.length(e));o.decode(e,n,0),e=n}return this.uint32(t)._push(g,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=f(),r._configure()}},{35:35}],39:[function(e,t,n){t.exports=a;var r=e(38);(a.prototype=Object.create(r.prototype)).constructor=a;var i=e(35);function a(){r.call(this)}function o(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}a._configure=function(){a.alloc=i._Buffer_allocUnsafe,a.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},a.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a.writeBytesBuffer,t,e),this},a.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},a._configure()},{35:35,38:38}]},{})}()}).call(this,__nested_webpack_require_660171__(33),__nested_webpack_require_660171__(60)(module))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var a={},o={};function s(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=l(e,(0|e)<0?-1:0,!0),i&&(o[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=l(e,e<0?-1:0,!1),i&&(a[e]=n),n)}function c(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=p)return S}else{if(e<=-m)return E;if(e+1>=m)return w}return e<0?c(-e,t).neg():l(e%h|0,e/h|0,t)}function l(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=c,r.fromBits=l;var u=Math.pow;function d(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return d(e.substring(1),t,n).neg();for(var i=c(u(n,8)),a=g,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+s),n);if(s<8){var f=c(u(n,s));a=a.mul(f).add(c(l))}else a=(a=a.mul(i)).add(c(l))}return a.unsigned=t,a}function f(e,t){return"number"==typeof e?c(e,t):"string"==typeof e?d(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=d,r.fromValue=f;var h=4294967296,p=h*h,m=p/2,v=s(1<<24),g=s(0);r.ZERO=g;var y=s(0,!0);r.UZERO=y;var b=s(1);r.ONE=b;var _=s(1,!0);r.UONE=_;var x=s(-1);r.NEG_ONE=x;var w=l(-1,2147483647,!1);r.MAX_VALUE=w;var S=l(-1,-1,!0);r.MAX_UNSIGNED_VALUE=S;var E=l(0,-2147483648,!1);r.MIN_VALUE=E;var k=r.prototype;k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},k.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var t=c(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=c(u(e,6),this.unsigned),a=this,o="";;){var s=a.div(i),l=(a.sub(s.mul(i)).toInt()>>>0).toString(e);if((a=s).isZero())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},k.isZero=function(){return 0===this.high&&0===this.low},k.eqz=k.isZero,k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return 1==(1&this.low)},k.isEven=function(){return 0==(1&this.low)},k.equals=function(e){return i(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},k.eq=k.equals,k.notEquals=function(e){return!this.eq(e)},k.neq=k.notEquals,k.ne=k.notEquals,k.lessThan=function(e){return this.comp(e)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(e){return this.comp(e)<=0},k.lte=k.lessThanOrEqual,k.le=k.lessThanOrEqual,k.greaterThan=function(e){return this.comp(e)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(e){return this.comp(e)>=0},k.gte=k.greaterThanOrEqual,k.ge=k.greaterThanOrEqual,k.compare=function(e){if(i(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(b)},k.neg=k.negate,k.add=function(e){i(e)||(e=f(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,a=65535&this.low,o=e.high>>>16,s=65535&e.high,c=e.low>>>16,u=0,d=0,h=0,p=0;return h+=(p+=a+(65535&e.low))>>>16,d+=(h+=r+c)>>>16,u+=(d+=n+s)>>>16,u+=t+o,l((h&=65535)<<16|(p&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},k.subtract=function(e){return i(e)||(e=f(e)),this.add(e.neg())},k.sub=k.subtract,k.multiply=function(e){if(this.isZero())return g;if(i(e)||(e=f(e)),n)return l(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(E))return e.isOdd()?E:g;if(e.eq(E))return this.isOdd()?E:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return c(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,a=this.low>>>16,o=65535&this.low,s=e.high>>>16,u=65535&e.high,d=e.low>>>16,h=65535&e.low,p=0,m=0,y=0,b=0;return y+=(b+=o*h)>>>16,m+=(y+=a*h)>>>16,y&=65535,m+=(y+=o*d)>>>16,p+=(m+=r*h)>>>16,m&=65535,p+=(m+=a*d)>>>16,m&=65535,p+=(m+=o*u)>>>16,p+=t*h+r*d+a*u+o*s,l((y&=65535)<<16|(b&=65535),(p&=65535)<<16|(m&=65535),this.unsigned)},k.mul=k.multiply,k.divide=function(e){if(i(e)||(e=f(e)),e.isZero())throw Error("division by zero");var t,r,a;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return _;a=y}else{if(this.eq(E))return e.eq(b)||e.eq(x)?E:e.eq(E)?b:(t=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:x:(r=this.sub(e.mul(t)),a=t.add(r.div(e)));if(e.eq(E))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=g}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),s=o<=48?1:u(2,o-48),d=c(t),h=d.mul(e);h.isNegative()||h.gt(r);)h=(d=c(t-=s,this.unsigned)).mul(e);d.isZero()&&(d=b),a=a.add(d),r=r.sub(h)}return a},k.div=k.divide,k.modulo=function(e){return i(e)||(e=f(e)),n?l((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},k.mod=k.modulo,k.rem=k.modulo,k.not=function(){return l(~this.low,~this.high,this.unsigned)},k.and=function(e){return i(e)||(e=f(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},k.or=function(e){return i(e)||(e=f(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},k.xor=function(e){return i(e)||(e=f(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},k.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.shr_u=k.shiftRightUnsigned,k.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},k.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},k.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},k.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e){e.exports=JSON.parse('{"PeerPublishStatus":408,"JoinChannelTimeout":407,"OnUpdateStream":356,"OnRemoveStream":355,"OnAddVideoStream":353,"OnAddAudioStream":352,"FirstAudioDecode":351,"FirstVideoDecode":350,"FirstAudioReceived":349,"FirstVideoReceived":348,"ReqUserAccount":196,"ApiInvoke":41,"RequestProxyWorkerManager":36,"RequestProxyAppCenter":35,"VideoSendingStopped":34,"AudioSendingStopped":33,"StreamSwitch":32,"FirstFrame":31,"Publish":30,"Subscribe":29,"JoinGateway":28,"JoinChooseServer":27,"Session":26,"APWorkerEvent":160,"WorkerEvent":156,"JoinWebProxyAP":700,"WebSocketQuit":671}')},function(e){e.exports=JSON.parse('{"nested":{"protobuf":{"nested":{"Session":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"version":{"type":"string","id":11},"browser":{"type":"string","id":12},"appid":{"type":"string","id":13},"mode":{"type":"string","id":14},"extend":{"type":"string","id":15},"process":{"type":"string","id":16},"build":{"type":"string","id":17},"ipv6":{"type":"string","id":18},"sourceHost":{"type":"string","id":19},"sourcePath":{"type":"string","id":20},"collectorHost":{"type":"string","id":21},"collectorName":{"type":"string","id":22}}},"JoinChooseServer":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"chooseServerAddr":{"type":"string","id":11},"chooseServerAddrList":{"type":"string","id":12},"errorCode":{"type":"string","id":13},"eventElapse":{"type":"int64","id":14},"chooseServerIp":{"type":"string","id":15}}},"JoinGateway":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"gatewayAddr":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"eventElapse":{"type":"int64","id":13},"firstSuccess":{"type":"bool","id":14}}},"Subscribe":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"localSdp":{"type":"string","id":11},"remoteSdp":{"type":"string","id":12},"extend":{"type":"string","id":13},"errorCode":{"type":"string","id":14},"eventElapse":{"type":"int64","id":15},"video":{"type":"bool","id":16},"audio":{"type":"bool","id":17},"subscribeRequestid":{"type":"int32","id":18},"p2pid":{"type":"int32","id":19}}},"Publish":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"localSdp":{"type":"string","id":11},"remoteSdp":{"type":"string","id":12},"extend":{"type":"string","id":13},"errorCode":{"type":"string","id":14},"eventElapse":{"type":"int64","id":15},"videoName":{"type":"string","id":16},"audioName":{"type":"string","id":17},"screenName":{"type":"string","id":18},"video":{"type":"bool","id":19},"audio":{"type":"bool","id":20},"publishRequestid":{"type":"int32","id":21},"p2pid":{"type":"int32","id":22},"screenshare":{"type":"bool","id":23}}},"FirstFrame":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"extend":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"width":{"type":"int64","id":13},"height":{"type":"int64","id":14}}},"StreamSwitch":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"isDual":{"type":"bool","id":11}}},"AudioSendingStopped":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"reason":{"type":"string","id":10},"eventType":{"type":"string","id":11}}},"VideoSendingStopped":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"reason":{"type":"string","id":10},"eventType":{"type":"string","id":11}}},"RequestProxyAppCenter":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"APAddr":{"type":"string","id":11},"workerManagerList":{"type":"string","id":12},"errorCode":{"type":"string","id":13},"eventElapse":{"type":"int64","id":14},"extend":{"type":"string","id":15},"response":{"type":"string","id":16}}},"RequestProxyWorkerManager":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"workerManagerAddr":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"eventElapse":{"type":"int64","id":13},"extend":{"type":"string","id":14},"response":{"type":"string","id":15}}},"ApiInvoke":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"apiName":{"type":"string","id":9},"errorCode":{"type":"string","id":10},"options":{"type":"string","id":11},"execElapse":{"type":"int64","id":12},"execStates":{"type":"string","id":13},"execResult":{"type":"string","id":14},"invokeId":{"type":"int64","id":15}}},"ReqUserAccount":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"eventType":{"type":"string","id":9},"serverAddress":{"type":"string","id":10},"stringUid":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"extend":{"type":"string","id":13}}},"FirstVideoReceived":{"fields":{"lts":{"type":"int64","id":1},"peer":{"type":"int64","id":2},"elapse":{"type":"int64","id":3},"sid":{"type":"string","id":4},"cname":{"type":"string","id":5},"cid":{"type":"int64","id":6},"uid":{"type":"int64","id":8},"subscribeRequestid":{"type":"int32","id":9},"p2pid":{"type":"int32","id":10},"subscribeElapse":{"type":"int64","id":11}}},"FirstAudioReceived":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"elapse":{"type":"int64","id":8},"subscribeRequestid":{"type":"int32","id":9},"p2pid":{"type":"int32","id":10},"subscribeElapse":{"type":"int64","id":11}}},"FirstVideoDecode":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"elapse":{"type":"int64","id":8},"videowidth":{"type":"int32","id":9},"videoheight":{"type":"int32","id":10},"subscribeRequestid":{"type":"int32","id":11},"p2pid":{"type":"int32","id":12},"subscribeElapse":{"type":"int64","id":13}}},"FirstAudioDecode":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"elapse":{"type":"int64","id":8},"subscribeRequestid":{"type":"int32","id":9},"p2pid":{"type":"int32","id":10},"subscribeElapse":{"type":"int64","id":11}}},"OnAddAudioStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7}}},"OnAddVideoStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7}}},"OnRemoveStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7}}},"OnUpdateStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"audio":{"type":"bool","id":8},"video":{"type":"bool","id":9}}},"JoinChannelTimeout":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":5},"elapse":{"type":"int64","id":6},"timeout":{"type":"int32","id":7}}},"PeerPublishStatus":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":5},"peer":{"type":"int64","id":6},"elapse":{"type":"int64","id":7},"peerPublishDuration":{"type":"int64","id":8},"joinChannelSuccessElapse":{"type":"int64","id":9},"subscribeElapse":{"type":"int64","id":10},"audiotag":{"type":"int32","id":11},"videotag":{"type":"int32","id":12},"screensharetag":{"type":"int32","id":13},"firsttimetag":{"type":"int32","id":14}}},"WebSocketQuit":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":5},"elapse":{"type":"int64","id":6},"succ":{"type":"int32","id":7},"errorCode":{"type":"string","id":8},"ip":{"type":"string","id":9}}},"Message":{"fields":{"id":{"type":"int64","id":1},"msg":{"type":"bytes","id":2}}},"ProtoRaws":{"fields":{"sendTs":{"type":"int64","id":1},"payloads":{"rule":"repeated","type":"Message","id":2},"vid":{"type":"int32","id":3}}},"APWorkerEvent":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"ec":{"type":"int32","id":10},"sc":{"type":"int32","id":11},"serverIp":{"type":"string","id":12},"firstSuccess":{"type":"bool","id":13},"responseTime":{"type":"int32","id":14},"serviceName":{"type":"string","id":15},"responseDetail":{"type":"string","id":16}}},"WorkerEvent":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"command":{"type":"string","id":10},"actionType":{"type":"string","id":11},"url":{"type":"string","id":12},"payload":{"type":"string","id":13},"serverCode":{"type":"int32","id":14},"code":{"type":"int32","id":15},"traceId":{"type":"string","id":16},"workerType":{"type":"int32","id":17},"responseTime":{"type":"int32","id":18},"requestId":{"type":"int64","id":19},"packIndex":{"type":"int32","id":20},"requestByUser":{"type":"bool","id":21},"tid":{"type":"string","id":22}}},"JoinWebProxyAP":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"sucess":{"type":"int32","id":7},"elapse":{"type":"int64","id":8},"eventType":{"type":"string","id":9},"apServerAddr":{"type":"string","id":10},"turnServerAddrList":{"type":"string","id":11},"errorCode":{"type":"string","id":12}}}}}}}')},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof u?t:u,a=Object.create(i.prototype),o=new w(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l={};function u(){}function d(){}function f(){}var h={};h[i]=function(){return this};var p=Object.getPrototypeOf,m=p&&p(p(S([])));m&&m!==t&&n.call(m,i)&&(h=m);var v=f.prototype=u.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=v.constructor=f,f.constructor=d,f[o]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),y.prototype[a]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new y(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),v[o]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="object"==typeof window&&window.RTCPeerConnection,i="object"==typeof window&&window.webkitRTCPeerConnection,a="object"==typeof window&&window.mozRTCPeerConnection;t.createRTCPeerConnection=function(e){var t=r||i||a;return t?new t(e):null}},function(e,t,n){var r;!function(t){"use strict";function i(){}var a=i.prototype,o=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}a.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},a.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},a.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},a.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},a.on=c("addListener"),a.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},a.once=c("addOnceListener"),a.defineEvent=function(e){return this.getListeners(e),this},a.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},a.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&-1!==(n=s(i[r],t))&&i[r].splice(n,1);return this},a.off=c("removeListener"),a.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},a.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},a.manipulateListeners=function(e,t,n){var r,i,a=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)a.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?a.call(this,r,i):o.call(this,r,i));return this},a.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},a.removeAllListeners=c("removeEvent"),a.emitEvent=function(e,t){var n,r,i,a,o=this.getListenersAsObject(e);for(a in o)if(o.hasOwnProperty(a))for(n=o[a].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},a.trigger=c("emitEvent"),a.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},a.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return t.EventEmitter=o,i},void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})},function(e,t,n){var r=n(35);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){(function(t){var r;e.exports=(r=r||function(e,r){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==t&&t.crypto&&(i=t.crypto),!i)try{i=n(74)}catch(e){}var a=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},c=s.lib={},l=c.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=c.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(a());return new u.init(t,e)}}),d=s.enc={},f=d.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},h=d.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},p=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},m=c.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,a=r.sigBytes,o=this.blockSize,s=a/(4*o),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,l=e.min(4*c,a);if(c){for(var d=0;d<c;d+=o)this._doProcessBlock(i,d);n=i.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(c.Hasher=m.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math),r)}).call(this,n(33))},function(e,t){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(76),c=n(27),l=n(95),u=n(20),d=n(24),f=n(31),h=o(n(0)),p=o(n(37)),m=function(){function e(e){this.retryTimeout=1e4,this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.taskMutex=new l.PromiseMutex("LS"),this.cancelToken=p.default.CancelToken.source(),this.injectConfig=r({},c.DEFAULT_INJECT_CONFIG),this.injectLoopTimes=0,this.lastTaskId=1,this.statusError=new Map,this.spec=e}return Object.defineProperty(e.prototype,"isNeedReset",{get:function(){for(var e=this,t=0,n=Array.from(this.streamingTasks.values());t<n.length;t++){var r=n[t];if(r.mode===c.LiveStreamingServiceMode.INJECT)return!0;if(r.mode===c.LiveStreamingServiceMode.TRANSCODE&&(this.transcodingConfig&&(this.transcodingConfig.userConfigs||this.transcodingConfig.transcodingUsers)||[]).find((function(t){return t.uid===e.spec.uid})))return!0}return!1},enumerable:!0,configurable:!0}),e.prototype.setTranscodingConfig=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,s,l=this;return a(this,(function(a){switch(a.label){case 0:(t=r(r({},c.DEFAULT_TRANSCODING_CONFIG),e)).transcodingUsers||(t.transcodingUsers=t.userConfigs),66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(h.default.debug("["+this.spec.clientId+"] set transcoding config, fix video codec profile: "+t.videoCodecProfile+" -> 100"),t.videoCodecProfile=100),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map((function(e){return r(r(r({},c.DEFAULT_LIVE_STREAMING_TRANSCODING_USER),e),{zOrder:e.zOrder?e.zOrder+1:1})}))),t.images&&(t.images=t.images.map((function(e){return r(r({},c.DEFAULT_LIVE_STREAMING_TRANSCODING_WATERMARK),e)})));try{c.isLiveStreamingTranscodingConfig(t)}catch(e){throw e}return t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map((function(e){return r({},e)})),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers),n=(t.userConfigs||[]).map((function(e){return"number"==typeof e.uid?Promise.resolve(e.uid):u.getUserAccount(l.spec,null,e.uid)})),[4,this.taskMutex.lock()];case 1:return i=a.sent(),[4,Promise.all(n)];case 2:if(a.sent().forEach((function(e,n){t.userConfigs&&t.userConfigs[n]&&(t.userConfigs[n].uid=e&&e.uid||e)})),this.transcodingConfig=t,!this.connection)return i(),[2];a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(this.streamingTasks.values()).map((function(e){return e.taskId})).join("#")})];case 4:return o=a.sent(),i(),h.default.debug("["+this.spec.clientId+"] update live transcoding config success, code: "+o.code+", config:",JSON.stringify(this.transcodingConfig)),[3,6];case 5:if(s=a.sent(),i(),!s.data||!s.data.retry)throw s;return s.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((function(e){h.default.warning("["+l.spec.clientId+"] live streaming receive error",s.toString(),"try to republish",e.url),l.startLiveStreamingTask(e.url,e.mode,s).then((function(){h.default.debug("["+l.spec.clientId+"] live streaming republish "+e.url+" success")})).catch((function(t){h.default.error("["+l.spec.clientId+"] live streaming republish failed",e.url,t.toString()),l.onLiveStreamError&&l.onLiveStreamError(e.url,t)}))})),[3,6];case 6:return[2]}}))}))},e.prototype.setInjectStreamConfig=function(e,t){this.injectConfig=Object.assign({},this.injectConfig,e),this.injectLoopTimes=t},e.prototype.startLiveStreamingTask=function(e,t,n){return i(this,void 0,void 0,(function(){var i,o,s,l,u,p,m,v,g=this;return a(this,(function(a){switch(a.label){case 0:return Array.from(this.streamingTasks.values()).find((function(e){return e.mode===c.LiveStreamingServiceMode.INJECT}))&&t===c.LiveStreamingServiceMode.INJECT?[2,new d.AgoraRTCError(d.AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT,"inject stream over limit").throw()]:(i={command:"PublishStream",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:30},h.default.debug("["+this.spec.clientId+"] start live streaming "+e+", mode: "+t),[4,this.taskMutex.lock()]);case 1:if(o=a.sent(),!this.transcodingConfig&&t===c.LiveStreamingServiceMode.TRANSCODE)throw o(),new d.AgoraRTCError(d.AgoraRTCErrorCode.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");if(!this.connection&&n)return o(),[2];if(this.streamingTasks.get(e)&&!n)return o(),[2,new d.AgoraRTCError(d.AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT).throw()];if(!this.transcodingConfig&&t===c.LiveStreamingServiceMode.TRANSCODE)throw o(),new d.AgoraRTCError(d.AgoraRTCErrorCode.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");a.label=2;case 2:return a.trys.push([2,5,,6]),this.connection?[3,4]:(s=this,[4,this.connect(t)]);case 3:s.connection=a.sent(),a.label=4;case 4:return[3,6];case 5:throw l=a.sent(),o(),l;case 6:switch(t){case c.LiveStreamingServiceMode.TRANSCODE:i.transcodingConfig=r({},this.transcodingConfig);break;case c.LiveStreamingServiceMode.RAW:break;case c.LiveStreamingServiceMode.INJECT:i={cname:this.spec.cname,command:"InjectStream",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:e,loopTimes:this.injectLoopTimes}}this.uapResponse&&this.uapResponse.vid&&(i.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0,u=this.lastTaskId++,a.label=7;case 7:return a.trys.push([7,9,,14]),p=new Promise((function(t,r){f.wait(g.retryTimeout).then((function(){if(n)return r(n);var t=g.statusError.get(e);return t?(g.statusError.delete(e),r(t)):void 0}))})),[4,Promise.race([this.connection.request("request",{clientRequest:i},!0,{url:e,command:"PublishStream",workerType:t===c.LiveStreamingServiceMode.TRANSCODE?1:2,requestByUser:!n,tid:u.toString()}),p])];case 8:return m=a.sent(),this.isStartingStreamingTask=!1,h.default.debug("["+this.spec.clientId+"] live streaming started, code: "+m.code),this.streamingTasks.set(e,{clientRequest:i,mode:t,url:e,taskId:u}),o(),[3,14];case 9:if(v=a.sent(),o(),this.isStartingStreamingTask=!1,!v.data||!v.data.retry||n)throw v;return v.data.changeAddress?[3,11]:[4,this.startLiveStreamingTask(e,t,v)];case 10:return[2,a.sent()];case 11:return this.connection.tryNextAddress(),[4,this.startLiveStreamingTask(e,t,v)];case 12:return[2,a.sent()];case 13:return[3,14];case 14:return[2]}}))}))},e.prototype.stopLiveStreamingTask=function(e){var t=this;return new Promise((function(n,r){var i=t.streamingTasks.get(e);if(!i||!t.connection)return new d.AgoraRTCError(d.AgoraRTCErrorCode.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();var a=i.mode;i.abortTask=function(){h.default.debug("["+t.spec.clientId+"] stop live streaming success(worker exception)"),t.streamingTasks.delete(e),n()},h.default.debug("stop live streaming task request: "+JSON.stringify(e)),t.connection.request("request",{clientRequest:{command:a===c.LiveStreamingServiceMode.INJECT?"UninjectStream":"UnpublishStream",url:i.url}},!1,{url:e,command:"UnPublishStream",workerType:a===c.LiveStreamingServiceMode.TRANSCODE?1:2,requestByUser:!0,tid:(t.lastTaskId++).toString()}).then((function(r){h.default.debug("["+t.spec.clientId+"] stop live streaming success, code: "+r.code),t.streamingTasks.delete(e),0===t.streamingTasks.size&&a!==c.LiveStreamingServiceMode.INJECT&&(t.connection.close(),t.connection=void 0),n()})).catch(r)}))},e.prototype.controlInjectStream=function(e,t,n,r){return i(this,void 0,void 0,(function(){var i;return a(this,(function(a){switch(a.label){case 0:if(!(i=this.streamingTasks.get(e))||!this.connection||i.mode!==c.LiveStreamingServiceMode.INJECT)throw new d.AgoraRTCError(d.AgoraRTCErrorCode.INVALID_OPERATION,"can not find inject stream task to control");return[4,this.connection.request("request",{clientRequest:{command:"ControlStream",url:e,control:t,audioVolume:n,position:r}})];case 1:return[2,a.sent().serverResponse]}}))}))},e.prototype.resetAllTask=function(){var e=this,t=Array.from(this.streamingTasks.values());this.terminate();for(var n=function(t){r.startLiveStreamingTask(t.url,t.mode).catch((function(n){e.onLiveStreamError&&e.onLiveStreamError(t.url,n)}))},r=this,i=0,a=t;i<a.length;i++)n(a[i])},e.prototype.setGatewayConnectionState=function(e){this.connection&&(this.connection.gatewayConnectionState=e)},e.prototype.terminate=function(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=p.default.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0},e.prototype.connect=function(e){return i(this,void 0,void 0,(function(){var t,n=this;return a(this,(function(r){switch(r.label){case 0:if(this.connection)throw new d.AgoraRTCError(d.AgoraRTCErrorCode.UNEXPECTED_ERROR,"live streaming connection has already connected");return[4,f.getLiveStreamingWorkerMangerResult(e,this.spec,this.cancelToken.token)];case 1:return t=r.sent(),this.uapResponse=t,this.connection=new s.AgoraLiveStreamingUapSignal(t.workerToken,this.spec,e),this.connection.on(c.LiveStreamingUapSignalEvents.WARNING,(function(e,t){return n.onLiveStreamWarning&&n.onLiveStreamWarning(t,e)})),this.connection.on(c.LiveStreamingUapSignalEvents.PUBLISH_STREAM_STATUS,(function(e){return n.handlePublishStreamServer(e)})),this.connection.on(c.LiveStreamingUapSignalEvents.INJECT_STREAM_STATUS,(function(e){return n.handleInjectStreamServerStatus(e)})),this.connection.on(c.LiveStreamingUapSignalEvents.REQUEST_NEW_ADDRESS,(function(t,r){if(!n.connection)return r(new d.AgoraRTCError(d.AgoraRTCErrorCode.UNEXPECTED_ERROR,"can not get new live streaming address list"));f.getLiveStreamingWorkerMangerResult(e,n.spec,n.cancelToken.token).then((function(e){n.uapResponse=e,t(e.addressList)})).catch(r)})),[4,this.connection.init(t.addressList)];case 2:return r.sent(),[2,this.connection]}}))}))},e.prototype.handlePublishStreamServer=function(e){var t=this,n=e.serverStatus&&e.serverStatus.url;if(!n)throw new d.AgoraRTCError(d.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"empty url",{code:e.code});var r=this.streamingTasks.get(n);switch(e.code){case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:var i=new d.AgoraRTCError(d.AgoraRTCErrorCode.LIVE_STREAMING_CDN_ERROR,"",{code:e.code});if(r)return h.default.error(i.toString()),this.onLiveStreamError&&this.onLiveStreamError(n,i);if(!this.isStartingStreamingTask)return;this.statusError.set(n,i);case c.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_LOST:case c.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(!this.connection||0===this.streamingTasks.size)return;this.connection.tryNextAddress();for(var a=Array.from(this.streamingTasks.values()),o=function(n){if(n.abortTask)return n.abortTask(),"continue";h.default.warning("["+s.spec.clientId+"] publish stream status code",e.code,"try to republish",n.url),s.startLiveStreamingTask(n.url,n.mode,new d.AgoraRTCError(d.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then((function(){h.default.debug("["+t.spec.clientId+"] republish live stream success",n.url)})).catch((function(e){h.default.error(e.toString()),t.onLiveStreamError&&t.onLiveStreamError(n.url,e)}))},s=this,l=0,u=a;l<u.length;l++)o(u[l]);return}},e.prototype.handleInjectStreamServerStatus=function(e){var t=Number(e.uid),n=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(0,t,n));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(1,t,n),void this.streamingTasks.delete(n);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(2,t,n),void this.streamingTasks.delete(n);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(10,t,n),void this.streamingTasks.delete(n);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(3,t,n),void this.streamingTasks.delete(n);default:return void h.default.debug("inject stream server status",e)}},e.prototype.haveUrl=function(e){return this.streamingTasks.has(e)||void 0},e}();t.AgoraRTCLiveStreamingClient=m},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(27),u=n(77),d=n(36),f=n(24),h=n(2),p=c(n(0)),m=n(1),v=n(31),g=function(e){function t(t,n,r){var i=e.call(this)||this;return i._gatewayConnectionState="CONNECTED",i.reconnectMode="retry",i.reqId=0,i.commandReqId=0,i.waitingResponseList=[],i.handleWebSocketOpen=function(){i.reconnectMode="retry",i.startPingPong()},i.handleWebSocketMessage=function(e){if(e.data){var t=JSON.parse(e.data);if(t.requestId)i.emit("@"+t.requestId,t);else if(i.serviceMode===l.LiveStreamingServiceMode.INJECT)i.emit(l.LiveStreamingUapSignalEvents.INJECT_STREAM_STATUS,t);else{m.report.requestWorkerEvent(i.spec.sid,{actionType:"status",serverCode:t.code,workerType:i.serviceMode===l.LiveStreamingServiceMode.TRANSCODE?1:2});var n=t.serverStatus&&t.serverStatus.url;n&&i.waitingResponseList.includes(n)&&200===t.code&&i.emit(n),i.emit(l.LiveStreamingUapSignalEvents.PUBLISH_STREAM_STATUS,t)}}},i.spec=n,i.token=t,i.serviceMode=r,i.websocket=new u.AgoraWebSocketManager("live-streaming"),i.websocket.on(l.WebSocketManagerEvents.CONNECTED,i.handleWebSocketOpen),i.websocket.on(l.WebSocketManagerEvents.ON_MESSAGE,i.handleWebSocketMessage),i.websocket.on(l.WebSocketManagerEvents.REQUEST_NEW_URLS,(function(e,t){d.emitAsPromise(i,l.LiveStreamingUapSignalEvents.REQUEST_NEW_ADDRESS).then(e).catch(t)})),i.websocket.on(l.WebSocketManagerEvents.RECONNECTING,(function(){i.websocket.reconnectMode=i.reconnectMode})),i}return i(t,e),Object.defineProperty(t.prototype,"gatewayConnectionState",{get:function(){return this._gatewayConnectionState},set:function(e){this._gatewayConnectionState=e,"CONNECTED"===e&&this.emit("gateway-connected",e)},enumerable:!0,configurable:!0}),t.prototype.init=function(e){return this.websocket.init(e)},t.prototype.request=function(e,t,n,r){return o(this,void 0,void 0,(function(){var i,o,c,u,d,p,g,y,b,_,x=this;return s(this,(function(s){switch(s.label){case 0:if(this.reqId+=1,i=this.reqId,"request"===e&&(this.commandReqId+=1),o=this.commandReqId,!i||!this.websocket)throw new f.AgoraRTCError(f.AgoraRTCErrorCode.UNEXPECTED_ERROR);if(c=h.VERSION,"closed"===this.websocket.state)throw new f.AgoraRTCError(f.AgoraRTCErrorCode.WS_DISCONNECT);return u=function(){return new Promise((function(e,t){var n=function t(){"CONNECTED"===x.gatewayConnectionState&&"connected"===x.websocket.state&&(x.off("gateway-connected",t),x.websocket.off(l.WebSocketManagerEvents.CONNECTED,t),e(void 0))};x.on("gateway-connected",n),x.websocket.once(l.WebSocketManagerEvents.CLOSED,(function(){return t(new f.AgoraRTCError(f.AgoraRTCErrorCode.WS_ABORT))})),x.websocket.on(l.WebSocketManagerEvents.CONNECTED,n)}))},"connected"===this.websocket.state&&"CONNECTED"===this.gatewayConnectionState?[3,2]:[4,u()];case 1:s.sent(),s.label=2;case 2:d=Promise.race([new Promise((function(e,t){var n=function(){t(new f.AgoraRTCError(f.AgoraRTCErrorCode.WS_ABORT))};x.websocket.once(l.WebSocketManagerEvents.RECONNECTING,n),x.websocket.once(l.WebSocketManagerEvents.CLOSED,n),x.once("@"+i,(function(t){e(t)}))})),v.wait(h.getParameter("LIVE_STREAMING_TIMEOUT")).then((function(){return!1}))]),(p=a({command:e,sdkVersion:c,seq:i,requestId:i,allocate:n,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t)).clientRequest&&(p.clientRequest.workerToken=this.token),r&&m.report.requestWorkerEvent(this.spec.sid,a(a({},r),{requestId:o,actionType:"request",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0})),g=Date.now(),this.websocket.sendMessage(p),y=null,s.label=3;case 3:return s.trys.push([3,5,,8]),[4,d];case 4:return y=s.sent(),[3,8];case 5:if(b=s.sent(),"closed"===this.websocket.state)throw b;return[4,u()];case 6:return s.sent(),[4,this.request(e,t,n,r)];case 7:return[2,s.sent()];case 8:if(!1===y)throw _=new f.AgoraRTCError(f.AgoraRTCErrorCode.NETWORK_TIMEOUT,(t&&t.clientRequest&&t.clientRequest.command)+" timeout",{changeAddress:!0,retry:!0}),this.emit(l.LiveStreamingUapSignalEvents.WARNING,_,r&&r.url||"unknown url"),r&&m.report.requestWorkerEvent(this.spec.sid,a(a({},r),{requestId:o,actionType:"response",payload:"TIMEOUT",serverCode:0,success:0,responseTime:Date.now()-g})),_;return r&&m.report.requestWorkerEvent(this.spec.sid,a(a({},r),{requestId:o,actionType:"response",payload:JSON.stringify(y.serverResponse),serverCode:y.code,success:200===y.code,responseTime:Date.now()-g})),200===y.code?[3,10]:[4,this.handleResponseError(y)];case 9:s.sent(),s.label=10;case 10:return[2,y]}}))}))},t.prototype.tryNextAddress=function(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")},t.prototype.close=function(){var e="__VERSION__"===h.VERSION?"0.0.1":h.VERSION;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)},t.prototype.handleResponseError=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,a=this;return s(this,(function(o){switch(p.default.debug("[live-streaming] receive response error "+e.code),e.code){case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return p.default.warning("live stream response already exists stream"),t=e.serverResponse.url,this.emit(l.LiveStreamingUapSignalEvents.WARNING,"live stream response already exists stream, code 454",t),this.waitingResponseList.includes(t)||this.waitingResponseList.push(t),[2,new Promise((function(n,r){a.once(t,(function(){a.waitingResponseList.splice(a.waitingResponseList.indexOf(t),1),n()})),setTimeout((function(){a.waitingResponseList.splice(a.waitingResponseList.indexOf(t),1),r(new f.AgoraRTCError(f.AgoraRTCErrorCode.TIMEOUT,"live stream timeout waiting 454",{code:e.code}))}),1e4)}))];case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_BAD_STREAM:case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw()];case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_INGNORE_MESSAGE:throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INVALID_ARGUMENT,"",{retry:!0,changeAddress:!0});case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return[2];throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw()];case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:return n=new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE),[2,this.emit(l.LiveStreamingUapSignalEvents.WARNING,n,e.serverResponse.url)];case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:return n=new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_WARN_FREQUENT_REQUEST),[2,this.emit(l.LiveStreamingUapSignalEvents.WARNING,n,e.serverResponse.url)];case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_TRANSCODING_NOT_SUPPORT,"",{code:e.code}).throw()];case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:return n=new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT),[2,this.emit(l.LiveStreamingUapSignalEvents.WARNING,n,e.serverResponse.url)];case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw()];case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_LOST:case l.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return[2];throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case l.LIVE_STREAM_ERROR_CODE.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return[2];if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw()];throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case l.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case l.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case l.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case l.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return r=e.serverResponse.url,this.waitingResponseList.includes(r)||this.waitingResponseList.push(r),i=new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}),this.emit(l.LiveStreamingUapSignalEvents.WARNING,i,r),[2,new Promise((function(e,t){a.once(r,(function(){a.waitingResponseList.splice(a.waitingResponseList.indexOf(r),1),e()})),setTimeout((function(){a.waitingResponseList.splice(a.waitingResponseList.indexOf(r),1),t(i)}),1e4)}))]}return[2]}))}))},t.prototype.startPingPong=function(){var e=this;this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((function(){"connected"===e.websocket.state&&e.request("ping",{}).catch((function(){}))}),6e3)},t}(d.EventEmitter);t.AgoraLiveStreamingUapSignal=g},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(24),l=n(36),u=n(31),d=n(27),f=s(n(0)),h=function(e){function t(t){var n=e.call(this)||this;return n.connectionID=0,n.currentURLIndex=0,n.reconnectMode="tryNext",n._state="closed",n.retryConfig=u.DEFAULT_RETRY_CONFIG,n.reconnectCount=0,n.name=t,n}return i(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this.websocket?this.websocket.url:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(d.WebSocketManagerEvents.RECONNECTING,this.reconnectMode):"connected"===this._state?this.emit(d.WebSocketManagerEvents.CONNECTED):"closed"===this._state?this.emit(d.WebSocketManagerEvents.CLOSED):"failed"===this._state&&this.emit(d.WebSocketManagerEvents.FAILED))},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var t=this;return new Promise((function(n,r){t.urls=e;var i=t.urls[t.currentURLIndex];t.state="connecting",t.createWebSocketConnection(i).then(n).catch(r),t.once(d.WebSocketManagerEvents.CLOSED,(function(){return r(new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_DISCONNECT))})),t.once(d.WebSocketManagerEvents.CONNECTED,(function(){return n()}))}))},t.prototype.close=function(e,t){if(this.currentURLIndex=0,this.reconnectCount=0,this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;var n=this.websocket;t?setTimeout((function(){return n.close()}),500):n.close(),this.websocket=void 0}this.state=e?"failed":"closed"},t.prototype.reconnect=function(e){if(this.websocket){void 0!==e&&(this.reconnectMode=e);var t=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),t&&t.bind(this.websocket)({code:9999})}else f.default.warning("["+this.name+"] can not reconnect, no websocket")},t.prototype.sendMessage=function(e){if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_ABORT,"websocket is not ready");var t=JSON.stringify(e);try{this.websocket.send(t)}catch(e){throw new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_ERR,"send websocket message error"+e.toString())}},t.prototype.createWebSocketConnection=function(e){return a(this,void 0,void 0,(function(){var t,n=this;return o(this,(function(r){return this.connectionID+=1,t=this.connectionID,[2,new Promise((function(r,i){n.websocket&&(n.websocket.onclose=null,n.websocket.close()),f.default.debug("["+n.name+"] start connect, url: "+e);try{n.websocket=new WebSocket(e),n.websocket.binaryType="arraybuffer"}catch(e){var s=new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_ERR,"init websocket failed! Error: "+e.toString());return f.default.error("["+n.name+"]"+s),void i(s)}u.wait(5e3).then((function(){t===n.connectionID&&n.websocket&&n.websocket.readyState!==WebSocket.OPEN&&n.websocket&&n.websocket.close()})),n.websocket.onopen=function(){f.default.debug("["+n.name+"] websockect opened:",e),n.reconnectMode="retry",n.state="connected",n.reconnectCount=0,r()},n.websocket.onclose=function(e){return a(n,void 0,void 0,(function(){var t,n;return o(this,(function(a){switch(a.label){case 0:return f.default.debug("["+this.name+"] websocket close "+(this.websocket&&this.websocket.url)+", code: "+e.code+", reason: "+e.reason+", current mode: "+this.reconnectMode),this.reconnectCount<this.retryConfig.maxRetryCount?("connected"===this.state&&(this.state="reconnecting"),t=l.emitAsInvokerNoResponse(this,d.WebSocketManagerEvents.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,[4,this.reconnectWithAction(t)]):[3,2];case 1:return n=a.sent(),"closed"===this.state?(f.default.debug("["+this.connectionID+"] ws is closed, no need to reconnect"),[2]):n?(r(),[3,3]):(i(new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_DISCONNECT,"websocket reconnect failed: "+e.code)),this.close(!0),[2]);case 2:i(new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_DISCONNECT,"websocket close: "+e.code)),this.close(),a.label=3;case 3:return[2]}}))}))},n.websocket.onmessage=function(e){n.emit(d.WebSocketManagerEvents.ON_MESSAGE,e)}}))]}))}))},t.prototype.reconnectWithAction=function(e,t){return a(this,void 0,void 0,(function(){var n,r,i,a;return o(this,(function(o){switch(o.label){case 0:return!t&&this.reconnectCount>=this.retryConfig.maxRetryCount?[2,!1]:this.urls?"closed"===this.state?[2,!1]:(n=u.getRetryWaitTime(this.reconnectCount,this.retryConfig),f.default.debug("["+this.name+"] wait "+n+"ms to reconnect websocket, mode: "+e),[4,u.wait(n)]):[2,!1];case 1:if(o.sent(),"closed"===this.state)return[2,!1];this.reconnectCount+=1,o.label=2;case 2:return o.trys.push([2,12,,14]),"retry"!==e?[3,4]:(i=this.urls[this.currentURLIndex],[4,this.createWebSocketConnection(i)]);case 3:return o.sent(),[3,11];case 4:return"tryNext"!==e?[3,8]:(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length?[4,this.reconnectWithAction("recover")]:[3,6]);case 5:return[2,o.sent()];case 6:return f.default.debug("["+this.name+"] websocket url length: "+this.urls.length+" current index: "+this.currentURLIndex),i=this.urls[this.currentURLIndex],[4,this.createWebSocketConnection(i)];case 7:return o.sent(),[3,11];case 8:return"recover"!==e?[3,11]:(f.default.debug("["+this.name+"] request new urls"),r=this,[4,l.emitAsPromise(this,d.WebSocketManagerEvents.REQUEST_NEW_URLS)]);case 9:return r.urls=o.sent(),this.currentURLIndex=0,i=this.urls[this.currentURLIndex],[4,this.createWebSocketConnection(i)];case 10:o.sent(),o.label=11;case 11:return[2,!0];case 12:return a=o.sent(),f.default.error("["+this.name+"] reconnect failed",a.toString()),[4,this.reconnectWithAction(e)];case 13:return[2,o.sent()];case 14:return[2]}}))}))},t}(l.EventEmitter);t.AgoraWebSocketManager=h},function(e,t,n){"use strict";var r=n(18),i=n(38),a=n(79),o=n(44);function s(e){var t=new a(e),n=i(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var c=s(n(41));c.Axios=a,c.create=function(e){return s(o(c.defaults,e))},c.Cancel=n(45),c.CancelToken=n(93),c.isCancel=n(40),c.all=function(e){return Promise.all(e)},c.spread=n(94),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var r=n(18),i=n(39),a=n(80),o=n(81),s=n(44);function c(e){this.defaults=e,this.interceptors={request:new a,response:new a}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=c},function(e,t,n){"use strict";var r=n(18);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(18),i=n(82),a=n(40),o=n(41);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(43);e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(88),i=n(89);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(18),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},function(e,t,n){"use strict";var r=n(18);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(18);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(45);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=1,o=function(){function e(e){this.lockingPromise=Promise.resolve(),this.locks=0,this.name="",this.lockId=a++,e&&(this.name=e),i.default.debug("[lock-"+this.name+"-"+this.lockId+"] is created.")}return Object.defineProperty(e.prototype,"isLocked",{get:function(){return this.locks>0},enumerable:!0,configurable:!0}),e.prototype.lock=function(){var e,t=this;this.locks+=1,i.default.debug("[lock-"+this.name+"-"+this.lockId+"] is locked, current queue "+this.locks+".");var n=new Promise((function(n){e=function(){t.locks-=1,i.default.debug("[lock-"+t.name+"-"+t.lockId+"] is not locked, current queue "+t.locks+"."),n()}})),r=this.lockingPromise.then((function(){return e}));return this.lockingPromise=this.lockingPromise.then((function(){return n})),r},e}();t.PromiseMutex=o},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),a=n(1),o=n(8),s=n(4),c=function(){};c.prototype.set=function(e,t){["BatteryLevel"].indexOf(e)>-1&&(this[e]=t)};var l=function(){var e=a.report.reportApiInvoke(null,{name:"checkSystemRequirements",options:arguments,tag:"tracer"}),t=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,r=window.WebSocket,i=!!t&&!!n&&!!r,o=!1;s.isChrome()&&s.getBrowserVersion()>=58&&"iOS"!==s.getBrowserOS()&&(o=!0),s.isFireFox()&&s.getBrowserVersion()>=56&&(o=!0),s.isOpera()&&s.getBrowserVersion()>=45&&(o=!0),s.isSafari()&&s.getBrowserVersion()>=11&&(o=!0),s.isEdge()&&(o=!0),(s.isWeChatBrowser()||s.isQQBrowser())&&"iOS"!==s.getBrowserOS()&&(o=!0),s.isSupportedPC()||s.isSupportedMobile()||(o=!1);var c=i&&o;return e(null,c),c},u=new function(){var e=Object(o.b)();return e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.batteryManager=null,e._init=function(t,n){e.state=e.states.INITING,navigator.getBattery?navigator.getBattery().then((function(n){e.batteryManager=n,t&&setTimeout((function(){t()}),0)})).catch((function(e){i.default.debug("navigator.getBattery is disabled",e),t&&t()})):(e.state=e.states.INITED,t&&t())},e._getBatteryStats=function(){var t={};return e.batteryManager&&e.batteryManager.level?t.BatteryLevel=Math.floor(100*e.batteryManager.level):t.BatteryLevel="UNSUPPORTED",t},e.getStats=function(t,n){var r=new c,i=e._getBatteryStats();i&&i.BatteryLevel&&r.set("BatteryLevel",i.BatteryLevel),t&&t(r)},e._init(),e},d=n(22),f=n(19),h=n(26),p=n(53),m=n(9),v=["live","rtc","web","interop","h264_interop","web-only"],g=["vp8","vp9","h264"],y=["aes-128-gcm","aes-256-gcm","aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-256-gcm2","aes-128-gcm2"],b=n(11),_=n.n(b),x=n(7),w=n.n(x),S=n(13),E=n(5),k=n(10),N=n(20),j=n(6),T=n(14),I={1001:"FRAMERATE_INPUT_TOO_LOW",1002:"FRAMERATE_SENT_TOO_LOW",1003:"SEND_VIDEO_BITRATE_TOO_LOW",1005:"RECV_VIDEO_DECODE_FAILED",2001:"AUDIO_INPUT_LEVEL_TOO_LOW",2002:"AUDIO_OUTPUT_LEVEL_TOO_LOW",2003:"SEND_AUDIO_BITRATE_TOO_LOW",2005:"RECV_AUDIO_DECODE_FAILED",3001:"FRAMERATE_INPUT_TOO_LOW_RECOVER",3002:"FRAMERATE_SENT_TOO_LOW_RECOVER",3003:"SEND_VIDEO_BITRATE_TOO_LOW_RECOVER",3005:"RECV_VIDEO_DECODE_FAILED_RECOVER",4001:"AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER",4002:"AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER",4003:"SEND_AUDIO_BITRATE_TOO_LOW_RECOVER",4005:"RECV_AUDIO_DECODE_FAILED_RECOVER"},C={FramerateInput:1001,FramerateSent:1002,SendVideoBitrate:1003,VideoDecode:1005,AudioIntputLevel:2001,AudioOutputLevel:2002,SendAudioBitrate:2003,AudioDecode:2005},R=function(e){var t={remoteStreamStorage:{},localStreamStorage:{}};return t.gatewayClient=e,t.checkAudioOutputLevel=function(e){return!(e&&parseInt(e.audioRecvBytesDelta)>0&&parseInt(e.audioDecodingNormalDelta)>0&&0===parseInt(e.audioOutputLevel))},t.checkAudioIntputLevel=function(e){return!e||0!==parseInt(e.audioInputLevel)},t.checkFramerateInput=function(e,t){if(!e||!t.attributes)return!0;var n=parseInt(t.attributes.maxFrameRate),r=parseInt(e.googFrameRateInput);return!n||!r||!(n>10&&r<5||n<10&&n>=5&&r<=1)},t.checkFramerateSent=function(e){return!(e&&parseInt(e.googFrameRateInput)>5&&parseInt(e.googFrameRateSent)<=1)},t.checkSendVideoBitrate=function(e){return!e||0!==parseInt(e.videoSendBytesDelta)},t.checkSendAudioBitrate=function(e){return!e||0!==parseInt(e.audioSendBytesDelta)},t.checkVideoDecode=function(e){return!e||0===parseInt(e.videoRecvBytesDelta)||0!==parseInt(e.googFrameRateDecoded)},t.checkAudioDecode=function(e){return!e||0===parseInt(e.audioRecvBytesDelta)||0!==parseInt(e.audioDecodingNormalDelta)},t.record=function(e,n,r,i,a){r[e]||(r[e]={isPrevNormal:!0,record:[]});var o=r[e],s=t["check"+e](n,a);if(o.record.push(s),o.record.length>=5){o.isCurNormal=-1!==o.record.indexOf(!0);var c=C[e];o.isPrevNormal&&!o.isCurNormal&&t.gatewayClient.dispatchEvent({type:"exception",code:c,msg:I[c],uid:i}),!o.isPrevNormal&&o.isCurNormal&&t.gatewayClient.dispatchEvent({type:"exception",code:c+2e3,msg:I[c+2e3],uid:i}),o.isPrevNormal=o.isCurNormal,o.record=[]}},t.setLocalStats=function(e){var n={};Object.keys(e).map((function(r){var i=e[r],a=t.gatewayClient.localStreams[parseInt(r)],o=t.localStreamStorage[r]||{};a&&a.hasVideo()&&(t.record("SendVideoBitrate",i.videoStats,o,r),t.record("FramerateInput",i.videoStats,o,r,a),t.record("FramerateSent",i.videoStats,o,r)),a&&a.hasAudio()&&(t.record("AudioIntputLevel",i.audioStats,o,r),t.record("SendAudioBitrate",i.audioStats,o,r)),n[r]=o})),t.localStreamStorage=n},t.setRemoteStats=function(n){var r={};Object.keys(n).map((function(i){var a=n[i],o=e.remoteStreams[i],s=t.remoteStreamStorage[i]||{};o&&o.hasVideo()&&o.isPlaying()&&t.record("VideoDecode",a.videoStats,s,i),o&&o.hasAudio()&&o.isPlaying()&&(t.record("AudioOutputLevel",a.audioStats,s,i),t.record("AudioDecode",a.audioStats,s,i)),r[i]=s})),t.remoteStreamStorage=r},t};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A,P=n(3),L=new function(){var e=Object(o.b)();return e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.type=null,e.lastConnectedAt=null,e.lastDisconnectedAt=null,e.lastTypeChangedAt=null,e.networkChangeTimer=null,e._init=function(t,n){if(e.state=e.states.INITING,navigator.connection&&navigator.connection.addEventListener){var r=e._getNetworkInfo();e.type=r&&r.type,e.state=e.states.INITED,t&&t()}else e.state=e.states.UNINIT,n&&n("DO_NOT_SUPPORT")},e._getNetworkInfo=function(){return navigator.connection},e._reloadNetworkInfo=function(){var t=e._getNetworkInfo(),n=t&&t.type||"UNSUPPORTED",r=Date.now();if(n!==e.type){e.lastTypeChangedAt=r,"none"==n?e.lastDisconnectedAt=r:"none"==e.type&&(e.lastConnectedAt=r),e.type=n;var i={type:"networkTypeChanged",networkType:n};e.dispatchEvent(i)}},e.getStats=function(t,n){var r={},i=e._getNetworkInfo();i&&(r.NetworkType=i.type||"UNSUPPORTED"),setTimeout((function(){t(r)}),0)},e._init((function(){navigator.connection.addEventListener("change",(function(){e._reloadNetworkInfo()})),e.networkChangeTimer=setInterval((function(){e._reloadNetworkInfo()}),5e3)}),(function(e){})),e},D=n(55),M=n(16),U=n(56),F=n.n(U),V=n(21),B=function(){return void 0!==window.isSecureContext},z="host",W=function(e){var t={key:void 0,highStream:null,lowStream:null,lowStreamParameter:null,isDualStream:!1,highStreamState:2,lowStreamState:2,proxyServer:null,turnServers:[],useProxyServer:!1,useLocalAccessPoint:!1};if(t.mode=e.mode,t.codec=e.codec,t.clientId=Object(k.generateSessionId)().slice(0,5),t.uintUid=null,t.customReportCount=0,e=w()({},e),t.aespassword=null,t.aesmode="none",t.hasPublished=!1,t.getSessionId=function(){return e.sessionId},t.startChannelMediaRelay=function(n,r){var i=a.report.reportApiInvoke(e.sessionId,{callback:function(e){if(e)return r&&r(e);r&&r()},name:"Client.startChannelMediaRelay",options:arguments,tag:"tracer"});if(!(n instanceof m.ChannelMediaRelayConfiguration))throw"Configration should be instance of [ChannelMediaRelayConfiguration]";var o=n.getSrcChannelMediaInfo(),s=n.getDestChannelMediaInfos();if(Object(P.isEmpty)(o))throw"srcChannelMediaInfo should not be empty";if(Object(P.isEmpty)(s)||0===s.length)throw"destChannelMediaInfos should not be empty";if(!Object(k.is32Uint)(o.uid))throw"Invalid uid in srcChannelMediaInfo";if(!Object(P.isValidChannelName)(o.channelName))throw"Invalid channelName in srcChannelMediaInfo";if(o.token&&!Object(P.isValidToken)(o.token))throw"Invalid token in srcChannelMediaInfo";if(s.forEach((function(e){if(!Object(k.is32Uint)(e.uid))throw"Invalid uid in destChannelMediaInfo";if(!Object(P.isValidChannelName)(e.channelName))throw"Invalid channelName in destChannelMediaInfo";if(e.token&&!Object(P.isValidToken)(e.token))throw"Invalid token in destChannelMediaInfo"})),t.gatewayClient.state!==S.a.CONNECTED)throw"startChannelMediaRelay should be used after join";t.gatewayClient.startChannelMediaRelay(n).then((function(){i&&i()})).catch((function(e){i&&i(e)}))},t.updateChannelMediaRelay=function(n,r){var i=a.report.reportApiInvoke(e.sessionId,{callback:function(e){if(e)return r&&r(e);r&&r()},name:"Client.updateChannelMediaRelay",options:arguments,tag:"tracer"});if(!(n instanceof m.ChannelMediaRelayConfiguration))throw"Configration should be instance of [ChannelMediaRelayConfiguration]";var o=n.getSrcChannelMediaInfo(),s=n.getDestChannelMediaInfos();if(Object(P.isEmpty)(o))throw"srcChannelMediaInfo should not be empty";if(Object(P.isEmpty)(s)||0===s.length)throw"destChannelMediaInfos should not be empty";if(!Object(k.is32Uint)(o.uid))throw"Invalid uid in srcChannelMediaInfo";if(!Object(P.isValidChannelName)(o.channelName))throw"Invalid channelName in srcChannelMediaInfo";if(o.token&&!Object(P.isValidToken)(o.token))throw"Invalid token in srcChannelMediaInfo";if(s.forEach((function(e){if(!Object(k.is32Uint)(e.uid))throw"Invalid uid in destChannelMediaInfo";if(!Object(P.isValidChannelName)(e.channelName))throw"Invalid channelName in destChannelMediaInfo";if(e.token&&!Object(P.isValidToken)(e.token))throw"Invalid token in destChannelMediaInfo"})),t.gatewayClient.state!==S.a.CONNECTED)throw"updateChannelMediaRelay should be used after join";t.gatewayClient.updateChannelMediaRelay(n).then((function(){i&&i()})).catch((function(e){i&&i(e)}))},t.stopChannelMediaRelay=function(n){var r=a.report.reportApiInvoke(e.sessionId,{callback:function(e){if(e)return n&&n(e);n&&n()},name:"Client.stopChannelMediaRelay",options:arguments,tag:"tracer"});t.gatewayClient.stopChannelMediaRelay().then((function(){r&&r()})).catch((function(e){r&&r(e)}))},t.getConnectionState=function(){var n=a.report.reportApiInvoke(e.sessionId,{name:"Client.getConnectionState",options:arguments,tag:"tracer"}),r=S.a.connetionStateMap[t.gatewayClient.state];return n(),r},t.setClientRole=function(n,r){var o=a.report.reportApiInvoke(e.sessionId,{callback:r,name:"Client.setClientRole",options:arguments,tag:"tracer"});if(Object(P.checkValidEnum)(n,"setClientRole",[z,"audience"]),"rtc"===t.mode){var s="RTC mode can not use setClientRole";return i.default.warning("[".concat(t.clientId,"] ").concat(s)),o&&o(s)}t.gatewayClient&&t.gatewayClient.state===S.a.CONNECTED?("audience"===n&&(0===this.highStreamState?this._unpublish(this.highStream,(function(){o&&o(null,{role:n})}),(function(e){o&&o(e)})):t.gatewayClient.setClientRole("audience",o)),n===z&&t.gatewayClient.setClientRole(z,o)):(t.gatewayClient.role=n,o&&o(null,{role:n}))},t.getGatewayInfo=function(e){if(t.gatewayClient.state!==S.a.CONNECTED){var n="Client is not in connected state";return i.default.error("[".concat(t.clientId,"] ").concat(n)),void e(n)}t.gatewayClient.getGatewayInfo((function(t){e(null,t)}),e)},t.renewToken=function(n,r,o){var s=a.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return i.default.error("Failed to renew token ".concat(e),t),o&&o(e);r&&r(t)},name:"Client.renewToken",options:arguments,tag:"tracer"});if(!Object(P.isValidToken)(n))throw new Error("Invalid token: Token is of the string type .Length of the string: [1,255]. ASCII characters only.");return t.gatewayClient?t.key?(t.key=n,void t.gatewayClient.renewToken(n,(function(e){return s(null,e)}),s)):(i.default.error("[".concat(t.clientId,"] renewToken should not be called before user join")),s(E.default.INVALID_OPERATION)):(i.default.error("[".concat(t.clientId,"] renewToken Failed. GatewayClient not Exist")),s(E.default.INVALID_OPERATION))},t.setLowStreamParameter=function(n){var r=a.report.reportApiInvoke(e.sessionId,{name:"Client.setLowStreamParameter",options:arguments,tag:"tracer"});Object(P.checkValidObject)(n,"param");var o=n.width,s=n.height,c=n.framerate,l=n.bitrate;Object(P.isEmpty)(o)||Object(P.checkValidNumber)(o,"width"),Object(P.isEmpty)(s)||Object(P.checkValidNumber)(s,"height"),Object(P.isEmpty)(c)||Object(P.checkValidNumber)(c,"framerate"),Object(P.isEmpty)(l)||Object(P.checkValidNumber)(l,"bitrate",1,1e7),(!o&&s||o&&!s)&&i.default.warning("[".concat(t.clientId,"] The width and height parameters take effect only when both are set")),t.lowStreamParameter=n,r()},t.init=function(t,n,r){var i=a.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e);n&&n(t)},name:"Client.init",options:arguments,tag:"tracer"});Object(P.checkValidString)(t),Object(s.isChromeKernel)()&&Object(s.getChromeKernelVersion)()<=48?r?i(E.default.BAD_ENVIRONMENT):Object(k.popBanTip)():(e.appId=t,e.sessionId=Object(k.generateSessionId)(),i())},t.setTurnServer=function(n){var r=a.report.reportApiInvoke(e.sessionId,{name:"Client.setTurnServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==S.a.DISCONNECTED)throw new Error("Set turn server before join channel");if(t.useProxyServer)throw new Error("You have already set the proxy");if(t.useLocalAccessPoint)throw new Error("You have already set the local proxy");n instanceof Array||(n=[n]);var o=[];n.map((function(e,n){Object(P.checkValidObject)(e,"turnServer");var r=e.turnServerURL,a=e.username,s=e.password,c=e.udpport,l=e.forceturn,u=e.tcpport;if(Object(P.checkValidString)(r,"turnServerURL"),Object(P.checkValidString)(a,"username"),Object(P.checkValidString)(s,"password"),Object(P.checkValidString)(c,"udpport"),0===parseInt(c))throw new Error("udpport should not be ".concat(c));Object(P.isEmpty)(l)||Object(P.checkValidBoolean)(l,"forceturn");var d={mode:"manual"};if(d.url=r,d.udpport=c,d.username=a,d.credential=s,d.forceturn=l||!1,!Object(P.isEmpty)(u)){if(Object(P.checkValidString)(u,"tcpport"),0===parseInt(u))throw new Error("tcpport should not be ".concat(u));d.tcpport=u,i.default.info("[".concat(t.clientId,"] Set turnserver[").concat(n,"] tcpurl. ").concat(d.url,":").concat(d.tcpport))}i.default.info("[".concat(t.clientId,"] Set turnserver[").concat(n,"] udpurl. ").concat(d.url,":").concat(d.udpport,",username: ").concat(d.username)),o.push(d)})),t.turnServers=o,r()},t.setProxyServer=function(n){var r=a.report.reportApiInvoke(e.sessionId,{name:"Client.setProxyServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==S.a.DISCONNECTED)throw new Error("Set proxy server before join channel");if(!n)throw new Error("Do not set the proxyServer parameter as empty");if(t.useProxyServer)throw new Error("You have already set the proxy");if(t.useLocalAccessPoint)throw new Error("You have already set the local proxy");Object(P.checkValidString)(n,"proxyServer"),t.proxyServer=n,a.report.setProxyServer(n),i.default.setProxyServer(n),r()},t.startProxyServer=function(n){var r=a.report.reportApiInvoke(e.sessionId,{name:"Client.startProxyServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==S.a.DISCONNECTED)throw new Error("Start proxy server before join channel");if(t.proxyServer)throw new Error("You have already set the proxy");if(t.useLocalAccessPoint)throw new Error("You have already set the local proxy");t.useProxyServer=!0,t.proxyServerType=n||1,r()},t.stopProxyServer=function(){var n=a.report.reportApiInvoke(e.sessionId,{name:"Client.stopProxyServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==S.a.DISCONNECTED)throw new Error("Stop proxy server after leave channel");a.report.setProxyServer(),i.default.setProxyServer(),t.turnServers=[],t.proxyServer=null,t.useProxyServer=!1,t.proxyServerType=null,n()},t.setEncryptionSecret=function(n){var r=a.report.reportApiInvoke(e.sessionId,{name:"Client.setEncryptionSecret",options:arguments,tag:"tracer"});Object(P.checkValidString)(n,"password"),new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})").test(n)||i.default.warning("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer,\n      "),t.aespassword=n,r()},t.setEncryptionMode=function(n,r){var i=a.report.reportApiInvoke(e.sessionId,{name:"Client.setEncryptionMode",options:arguments,tag:"tracer"});if(Object(P.checkValidString)(n,"encryptionMode"),-1===y.indexOf(n))throw new Error('Invalid encryptionMode: encryptionMode should be "aes-128-xts" | "aes-256-xts" | "aes-128-ecb" | "sm4-128-ecb" | "aes-128-gcm" | "aes-256-gcm" | "aes-128-gcm2" | "aes-256-gcm2"');if(-1!==["aes-128-gcm2","aes-256-gcm2"].indexOf(n)){if(!r||!(r instanceof Uint8Array&&32===r.length))throw Error("salt must be an Uint8Array and exactly equal to 32 bytes")}else if(r)throw new Error("Only ".concat("aes-128-gcm2"," and ").concat("aes-256-gcm2"," support use salt"));r&&(t.aesSalt=Object(k.uint8ArrayToBase64)(r)),t.aesmode=n,i()},t.configPublisher=function(n){var r=a.report.reportApiInvoke(e.sessionId,{name:"Client.configPublisher",options:arguments,tag:"tracer"});Object(P.checkValidObject)(n,"config");var i=n.width,o=n.height,s=n.framerate,c=n.bitrate,l=n.publisherUrl;Object(P.checkValidNumber)(i,"width"),Object(P.checkValidNumber)(o,"height"),Object(P.checkValidNumber)(s,"framerate"),Object(P.checkValidNumber)(c,"bitrate",1,1e7),l&&Object(P.checkValidString)(l,"publisherUrl"),t.gatewayClient.configPublisher(n),r()},t.enableDualStream=function(n,r){var o=a.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e);n&&n(t)},name:"Client.enableDualStream",options:arguments,tag:"tracer"});return"iOS"===Object(s.getBrowserOS)()?(a.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!1}),o(E.default.IOS_NOT_SUPPORT)):Object(s.isWeChatBrowser)()?(a.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!1}),o(E.default.WECHAT_NOT_SUPPORT)):(a.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!0}),t.isDualStream=!0,t.highStream&&(t.highStream.isDualStream=!0),void(0===t.highStreamState?t._publishLowStream((function(e){return o(null,e)}),(function(e){i.default.warning("[".concat(t.clientId,"]"),e),o(E.default.ENABLE_DUALSTREAM_FAILED)})):1===t.highStreamState?o(E.default.STILL_ON_PUBLISHING):o(null)))},t.disableDualStream=function(n,r){var o=a.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e);n&&n(t)},name:"Client.disableDualStream",options:arguments,tag:"tracer"});a.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!1,succ:!0}),t.isDualStream=!1,t.highStream&&(t.highStream.isDualStream=!1),0===t.highStreamState?t._unpublishLowStream((function(){t.highStream.lowStream=null,o()}),(function(e){i.default.warning("[".concat(t.clientId,"]"),e),o(E.default.DISABLE_DUALSTREAM_FAILED)})):1===t.highStreamState?o(E.default.STILL_ON_PUBLISHING):o()},t._getLowStream=function(e,n){t.lowStream?e(t.lowStream):t._createLowStream((function(n){t.lowStream=n,e(t.lowStream)}),n)},t._createLowStream=function(e,n){if(t.highStream&&t.highStream.stream){var r=w()({},t.highStream.params);if(r.streamID+=1,r.audio=!1,r.video)if(t.highStream.stream.getVideoTracks()[0]){var i=new d.a(r);i.isLowStream=!0,i.streamId=t.highStream.getId()+1;var a={};t.lowStreamParameter&&(a=w()({},t.lowStreamParameter)),a.width&&a.height||(a.width=160,a.height=120),a.framerate=a.framerate||15,a.bitrate=a.bitrate||50,i.setVideoProfileCustomPlus(a);try{var o=F()(t.highStream,{width:i.videoConstraint.width.ideal,height:i.videoConstraint.height.ideal,framerate:i.videoConstraint.frameRate});return i.stream=o,t.highStream.lowStream=i,t.highStream.userMuteVideo&&i.muteVideo(),e&&e(i)}catch(e){return n&&n(e)}}else n&&n(E.default.HIGH_STREAM_NOT_VIDEO_TRACE);else n&&n(E.default.HIGH_STREAM_NOT_VIDEO_TRACE)}else n&&n(E.default.HIGH_STREAM_NOT_VIDEO_TRACE)},t._publishLowStream=function(e,n){return 2!==t.lowStreamState?n&&n(E.default.LOW_STREAM_ALREADY_PUBLISHED):t.highStream&&t.highStream.hasScreen()?n&&n(E.default.SHARING_SCREEN_NOT_SUPPORT):void t._getLowStream((function(r){t.lowStreamState=1,t.gatewayClient.publish(r,{streamType:1},(function(){t.lowStreamState=0,e&&e()}),(function(e){1===t.lowStreamState&&(t.lowStreamState=2),i.default.debug("[".concat(t.clientId,"] publish low stream failed")),n&&n(e)}))}),n)},t._unpublishLowStream=function(e,n){if(0!==t.lowStreamState)return n&&n(E.default.LOW_STREAM_NOT_YET_PUBLISHED);t.lowStream&&(t.gatewayClient.unpublish(t.lowStream,{streamType:1},(function(){}),(function(e){i.default.debug("[".concat(t.clientId,"] unpublish low stream failed")),n&&n(e)})),t.lowStream.close(),t.lowStream=null,t.lowStreamState=2,e&&e())},t.join=function(n,r,o,c,u,d){c&&"function"==typeof c&&(d=u,u=c,c=null);var f=l(),h=Object(s.getBrowserInfo)();i.default.debug(h,",Support: "+f);var p="HTTPS"===(A||A||(A=(window.location.protocol.split(":")[0]||"").toUpperCase())),m=B()?window.isSecureContext:"Browser Not Support",v=function(){i.default.warning("The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser")};B()?window.isSecureContext||v():p||v();var g=a.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return d&&d(e);u&&u(t)},name:"Client.join",options:arguments,getStates:function(){return{isHttps:p,isSecureContext:m}},tag:"tracer"});if(n&&!Object(P.isValidToken)(n))return i.default.warning("[".concat(t.clientId,"] Param channelKey should be string")),g(E.default.INVALID_PARAMETER);if(!Object(P.isValidChannelName)(r))return i.default.error("Invalid Channel Name ".concat(r)),i.default.warning("[".concat(t.clientId,"] The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")),g(E.default.INVALID_PARAMETER);if("string"==typeof r&&""===r)return i.default.warning("[".concat(t.clientId,"] Param channel should not be empty")),g(E.default.INVALID_PARAMETER);if(c&&!Object(P.isValidString)(c))return i.default.warning("[".concat(t.clientId,"] optionalInfo should be string")),g(E.default.INVALID_PARAMETER);if(o&&!Object(k.is32Uint)(o)&&!Object(P.isValidString)(o,1,255))return i.default.error("Invalid UID ".concat(o," ").concat(_()(o))),i.default.warning("[".concat(t.clientId,"] [String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is 32Uint")),g(E.default.INVALID_PARAMETER);if("string"==typeof o&&0==o.length)return i.default.warning("[".concat(t.clientId,"] String uid should not be empty")),g(E.default.INVALID_PARAMETER);if("string"==typeof o&&o.length>256)return i.default.warning("[".concat(t.clientId,"] Length of string uid should be less than 255")),g(E.default.INVALID_PARAMETER);i.default.stopWaitJoin(),t.highStream=null,t.lowStream=null,t.lowStreamParameter=null,t.isDualStream=!1,t.highStreamState=2,t.lowStreamState=2;var y=Date.now(),b=setTimeout((function(){if(1!=t.gatewayClient.hasJoined){i.default.debug("[".concat(t.clientId,"] The time to join the channel is greater than 5 seconds "));var n=Date.now();a.report.joinChannelTimeOut({lts:n,sid:e.sessionId,cname:r,cid:x&&x.cid,uid:x.uid||("string"==typeof o?void 0:o),elapse:n-y,timeout:5})}}),5e3),x={clientId:t.clientId,appId:e.appId,sid:e.sessionId,cname:r,uid:o,turnServers:t.turnServers.concat(),proxyServer:t.proxyServer,token:n||e.appId,useProxyServer:t.useProxyServer,useLocalAccessPoint:t.useLocalAccessPoint,proxyServerType:t.proxyServerType,optionalInfo:c};if("string"==typeof o&&(x.stringUid=o,t.uintUid?(x.uid=t.uintUid,delete t.uintUid):x.uid=0),t.aespassword&&"none"!==t.aesmode&&w()(x,{aespassword:t.aespassword,aesmode:t.aesmode}),t.aesSalt&&(x.aes_salt=t.aesSalt),a.report.sessionInit(e.sessionId,{lts:(new Date).getTime(),cname:r,appid:e.appId,mode:e.mode,succ:!0}),t.onSuccess=function(e){clearTimeout(b),t.rtcStatsCollector.startNetworkQualityTimer(),t.onSuccess=null,g(null,e)},t.onFailure=function(e){return g(e)},t.channel=r,t.gatewayClient.state!==S.a.DISCONNECTED)return i.default.error("[".concat(t.clientId,"] Client already in connecting/connected state")),g(E.default.INVALID_OPERATION),void a.report.joinGateway(e.sessionId,{lts:Date.now(),succ:!1,ec:E.default.INVALID_OPERATION,addr:null});t.gatewayClient.state=S.a.CONNECTING;var j=function(a,o){i.default.info("[".concat(t.clientId,"] Joining channel: ").concat(r)),t.gatewayClient.dispatchEvent({type:"config-distribute",config:o,joinInfo:x}),t.key=n||e.appId,x.cid=a.cid,x.uid||(x.uid=a.uid),x.vid=a.vid,x.clientId=t.clientId,x.apResponse=a.res,a.uni_lbs_ip&&a.uni_lbs_ip[1]&&(x.uni_lbs_ip=a.uni_lbs_ip[1]),x.gatewayAddr=a.gateway_addr,t.joinInfo=x,t.gatewayClient.join(x,t.key,(function(e){i.default.info("[".concat(t.clientId,"] Join channel ").concat(r," success, join with uid: ").concat(e,".")),t.onSuccess=null,t.rtcStatsCollector.startNetworkQualityTimer(),g(null,e)}),(function(e){return g(e)}))};x.stringUid&&!x.uid?(t.userAccountReq&&!t.userAccountReq.isFinished()&&t.userAccountReq.cancel(),t.userAccountReq=Object(N.getUserAccount)(x,t.gatewayClient),t.userAccountReq.then((function(e){i.default.debug("getUserAccount Success ".concat(e.url," ").concat(x.stringUid," => ").concat(e.uid)),x.uid=e.uid,Object(N.getGatewayList)(x,j,(function(e){return g(e)}))})).catch((function(e){i.default.error("getUserAccount rejected",e),g(e)}))):Object(N.getGatewayList)(x,j,(function(e){return g(e)}))},t.renewChannelKey=function(n,r,o){var s=a.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return o&&o(e);r&&r(t)},name:"Client.renewChannelKey",options:arguments,tag:"tracer"});Object(P.checkValidString)(n,"key",1,2047),void 0===t.key?(i.default.error("[".concat(t.clientId,"] renewChannelKey should not be called before user join")),s(E.default.INVALID_OPERATION)):(t.key=n,t.gatewayClient.joinInfo.token=n,t.gatewayClient.key=n,t.gatewayClient.recover(),s())},t.leave=function(n,o){t.gatewayClient.isFirstSuccess=!0,t.gatewayClient.hasInvokeLeave=!0;var s=!1,c=a.report.reportApiInvoke(e.sessionId,{callback:function(e,r){if(e)return o&&o(e);t.gatewayClient.reconnectingCS=!1,t.gatewayClient.state=S.a.DISCONNECTED,clearTimeout(Object(N._getReconnectCSTimer)(t.clientId)),t._renewSession(),t.rtcStatsCollector.clearNetworkQualityTimer(),n&&n(r)},name:"Client.leave",options:arguments,tag:"tracer"});i.default.info("[".concat(t.clientId,"] Leaving channel")),t.userAccountReq&&!t.userAccountReq.isFinished()&&(t.userAccountReq.cancel(),t.gatewayClient.state===S.a.CONNECTING&&(t.gatewayClient.state=S.a.DISCONNECTED)),t._terminateLiveStreaming(),t.gatewayClient.leave((function(e){s=!0,c(null,e)}),c),setTimeout((function(){s||(t.gatewayClient.socket&&(t.gatewayClient.socket.close(),t.gatewayClient.socket=null),t.gatewayClient.state=S.a.DISCONNECTED,c(null,"LEAVE_MSG_TIMEOUT"))}),Object(r.getParameter)("LEAVE_MSG_TIMEOUT"))},t._renewSession=function(){var n=Object(k.generateSessionId)();if(i.default.debug("renewSession ".concat(e.sessionId," => ").concat(n)),e.sessionId=n,t.gatewayClient.peerPublishDurationMap.clear(),t.joinInfo&&(t.joinInfo.sid=n),t.gatewayClient&&(t.gatewayClient.joinInfo&&(t.gatewayClient.joinInfo.sid=n),t.gatewayClient.localStreams))for(var r in t.gatewayClient.localStreams){var a=t.gatewayClient.localStreams[r];a&&(a.sid=n)}},t._publish=function(n,a,o,s){if(2!==t.highStreamState)return i.default.warning("[".concat(t.clientId,"] Can't publish stream when stream already publish ").concat(n.getId())),o&&o(E.default.STREAM_ALREADY_PUBLISHED);if(0===t.turnServers.length&&Object(r.getParameter)("FORCE_TURN")&&!Object(r.getParameter)("TURN_ENABLE_TCP")&&!Object(r.getParameter)("TURN_ENABLE_UDP"))throw new Error("force TURN With No TURN Configuration");i.default.info("[".concat(t.clientId,"] Publishing stream, uid ").concat(n.getId())),t.highStream=n,t.highStreamState=1,t.highStream.streamId=t.joinInfo.stringUid||t.joinInfo.uid,t.hasPublished=!1;var c=function(n,r,a){t.gatewayClient.publish(n,{streamType:0},(function(){n.sid=e.sessionId,t.highStreamState=0,i.default.info("[".concat(t.clientId,"] Publish success, uid: ").concat(n.getId())),t.highStream&&(t.highStream.isDualStream=t.isDualStream),t.isDualStream?t._publishLowStream((function(){r&&r()}),(function(e){i.default.warning("[".concat(t.clientId,"] "),e),M.a.replaceWithCanvasTrack(n).then((function(){r&&r()}))})):M.a.replaceWithCanvasTrack(n).then((function(){r&&r()}))}),a)};"audience"!==t.gatewayClient.role||"live"!==t.mode||s?c(n,a,o):t.gatewayClient.setClientRole(z,(function(e){if(e)return o&&o(e);c(n,a,o)}))},t._unpublish=function(e,n,r,a){if(0!==t.highStreamState)return i.default.warning("[".concat(t.clientId,"] Can't unpublish stream when stream not publish")),r&&r(E.default.STREAM_NOT_YET_PUBLISHED);i.default.info("[".concat(t.clientId,"] Unpublish stream, uid ").concat(e.getId()));var o=function(e,n,r){t.isDualStream&&t.lowStream&&t._unpublishLowStream(null,r),t.gatewayClient.unpublish(e,{streamType:0},(function(){t.highStreamState=2,i.default.info("[".concat(t.clientId,"] Unpublish stream success, uid: ").concat(e.getId())),t.gatewayClient.dispatchEvent({type:"stream-unpublished",stream:e}),n&&n()}),(function(n){i.default.info("[".concat(t.clientId,"] Unpublish stream fail, uid: ").concat(e.getId())),r&&r(n)}))};t.gatewayClient.role!==z||"live"!==t.mode||a?o(e,n,r):t.gatewayClient.setClientRole("audience",(function(t){if(t)return r&&r(t);o(e,n,r)}))},t.publish=function(n,r){var i=a.report.reportApiInvoke(e.sessionId,{callback:function(e,n){if(e)return 1===t.highStreamState&&"REQUEST_ABORT"!==e&&(t.highStreamState=2),r&&r(e)},name:"Client.publish",tag:"tracer",options:{stream:"too long to show",onFailure:!!r}});2===t.highStreamState?n._hasVideoTracks()||n._hasAudioTracks()?(t.gatewayClient.publishRequestId=Object(k.generateId)(),t._publish(n,(function(e){return i(null,e)}),(function(e){return i(e)}))):i(E.default.NO_TRACK_IN_STREAM):i(E.default.STREAM_ALREADY_PUBLISHED)},t.unpublish=function(n,r,i){var o=a.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e);i&&i(t)},name:"Client.unpublish",tag:"tracer",options:{stream:"too long to show",onFailure:!!r}});0===t.highStreamState?(t.gatewayClient.publishRequestId=null,t._unpublish(n,(function(e){return o(null,e)}),(function(e){return o(e)}))):o(E.default.STREAM_NOT_YET_PUBLISHED)},t.subscribe=function(n,r,o){var c=a.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return o&&o(e)},name:"Client.subscribe",tag:"tracer",options:{stream:"too long to show",options:r,onFailure:!!o}});"function"==typeof r&&(o=r,r=null),Object(P.checkValidObject)(n,"stream"),Object(P.isEmpty)(r)||(Object(P.checkValidObject)(r,"options"),Object(P.isEmpty)(r.video)||Object(P.checkValidBoolean)(r.video,"options.video"),Object(P.isEmpty)(r.audio)||Object(P.checkValidBoolean)(r.audio,"options.audio"));var l={video:!0,audio:!0};if(!Object(P.isEmpty)(r)){if(Object(s.isSafari)()&&(!r.video||!r.audio)){var u="SAFARI_NOT_SUPPORTED_FOR_TRACK_SUBSCRIPTION";return i.default.error("[".concat(t.clientId,"] "),u),void c(u)}if(!Object(P.isEmpty)(r.video)&&!Object(P.isValidBoolean)(r.video)||!Object(P.isEmpty)(r.audio)&&!Object(P.isValidBoolean)(r.audio)||!1===r.audio&&!1===r.video)return u="INVALID_PARAMETER ".concat(JSON.stringify(r)),i.default.error("[".concat(t.clientId,"] "),u),void c(u)}n.subscribeOptions?(w()(n.subscribeOptions,l,r),t.gatewayClient.subscribeChange(n,(function(e){return c(null,e)}),c)):(t.gatewayClient.subscribeRequestId.set(n.getId(),Object(k.generateId)()),n.subscribeOptions=w()({},l,r),t.gatewayClient.subscribe(n,(function(e){return c(null,e)}),c))},t.unsubscribe=function(n,r){var o=a.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e)},name:"Client.unsubscribe",tag:"tracer",options:{stream:"too long to show",onFailure:!!r}});i.default.info("[".concat(t.clientId,"] Unsubscribe stream, uid: ").concat(n.getId())),t.gatewayClient.subscribeRequestId.delete(n.getId()),t.gatewayClient.unsubscribe(n,(function(e){return o(null,e)}),o)},t.setRemoteVideoStreamType=function(n,r){var i=a.report.reportApiInvoke(e.sessionId,{name:"Client.setRemoteVideoStreamType",tag:"tracer",options:{stream:"too long to show",streamType:r}});Object(P.checkValidEnum)(r,"streamType",[0,1]),t.gatewayClient.setRemoteVideoStreamType(n,r),i()},t.setStreamFallbackOption=function(n,r){var i=a.report.reportApiInvoke(e.sessionId,{name:"Client.setStreamFallbackOption",tag:"tracer",options:{stream:"too long to show",fallbackType:r}});Object(P.checkValidEnum)(r,"fallbackType",[0,1,2]),t.gatewayClient.setStreamFallbackOption(n,r),i()},t.enableAudioVolumeIndicator=function(n,r){var o=a.report.reportApiInvoke(e.sessionId,{name:"Client.enableAudioVolumeIndicator",options:arguments,tag:"tracer"});n=n||2e3,r=r||3,Object(P.checkValidNumber)(r,"smooth",1,100),Object(P.checkValidNumber)(n,"interval",50,1e5),t.audioVolumeIndication=t.audioVolumeIndication||{enabled:!0},t.audioVolumeIndication.interval=n,t.audioVolumeIndication.smooth=r,t.audioVolumeIndication={interval:n,smooth:r},i.default.info("[".concat(t.clientId,"] enableAudioVolumeIndicator interval ").concat(n," smooth ").concat(r)),t.gatewayClient.enableAudioVolumeIndicator(n,r),o()},t.getNetworkStats=function(e,n){return i.default.deprecate("[".concat(t.clientId,"] client.getNetworkStats is deprecated. Use client.getTransportStats instead.")),L.getStats(e,n)},t.getSystemStats=function(e,t){return u.getStats(e,t)},t.getRecordingDevices=function(e,t){return f.a.getRecordingDevices(e,t)},t.getPlayoutDevices=function(e,t){return f.a.getPlayoutDevices(e,t)},t.getCameras=function(e,t){return f.a.getCameras(e,t)},t.getRemoteAudioStats=function(e,n){return t.rtcStatsCollector.getRemoteAudioStats(e,n)},t.getLocalAudioStats=function(e,n){return t.rtcStatsCollector.getLocalAudioStats(e,n)},t.getRemoteVideoStats=function(e,n){return t.rtcStatsCollector.getRemoteVideoStats(e,n)},t.getLocalVideoStats=function(e,n){return t.rtcStatsCollector.getLocalVideoStats(e,n)},t._getRemoteVideoQualityStats=function(e,n){return t.rtcStatsCollector.getRemoteVideoQualityStats(e,n)},t._getRemoteAudioQualityStats=function(e,n){return t.rtcStatsCollector.getRemoteAudioQualityStats(e,n)},t.getTransportStats=function(e,n){return t.rtcStatsCollector.getTransportStats((function(t){return L.getStats((function(n){var r=w()({},t,n);e&&e(r)}),n)}),n)},t.getSessionStats=function(e,n){return t.rtcStatsCollector.getSessionStats(e,n)},t.onNetworkQuality=function(){return t.rtcStatsCollector.onNetworkQuality(onSuccess,onFailure)},t.sendMetadata=function(n,r){var i=a.report.reportApiInvoke(e.sessionId,{name:"Client.sendMetadata",tag:"tracer",callback:function(e){if(e)return r&&r(e);r&&r()}});t.gatewayClient.sendMetadata(n,i)},t.sendCustomReportMessage=function(n,o,s,c,l,u){Object(r.getParameter)("CR")?t.customReportCount>Object(r.getParameter)("CRL")?u&&u("REPORT_LIMITED"):(t.gatewayClient.hasJoined||(i.default.WARNING("Should invoke Client.sendCustomReportMessage after join"),u&&u("REPORT_BEFORE_JOINED")),t.customReportTimer||(t.customReportTimer=setInterval((function(){t.customReportCount=0}),Object(r.getParameter)("CRI"))),Object(P.checkValidString)(n,"reportId",0,100,!1),Object(P.checkValidString)(o,"category",0,100,!1),Object(P.checkValidString)(s,"event",0,100,!1),Object(P.checkValidString)(c,"label",0,100,!1),Object(P.checkValidNumber)(l,"value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),t.customReportCount++,a.report.sendCustomReportMessage(e.sessionId,{reportId:n,category:o,event:s,label:c,value:l,lts:Date.now()},(function(e){e?u&&u("REPORT_FAILED"):u&&u()}))):u&&u("REPORT_FORBIDDEN")},t.setLocalAccessPoints=function(n,i){var o=a.report.reportApiInvoke(e.sessionId,{name:"Client.setLocalAccessPoints",tag:"tracer"});if(Object(P.checkValidArray)(n,"serverList"),Object(P.checkValidString)(i,"domain"),t.useProxyServer)throw new Error("You have already set the proxy");var s=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;n=n.map((function(e){return s.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(i):e})),t.useLocalAccessPoint=!0,Object(r.setParameter)("WEBCS_DOMAIN",n),Object(r.setParameter)("WEBCS_DOMAIN_BACKUP_LIST",n),Object(r.setParameter)("GATEWAY_DOMAINS",[i]),Object(r.setParameter)("EVENT_REPORT_DOMAIN",n[Math.floor(Math.random()*n.length)]),Object(r.setParameter)("EVENT_REPORT_BACKUP_DOMAIN",n[Math.floor(Math.random()*n.length)]),Object(r.setParameter)("LOG_UPLOAD_SERVER","".concat(n[Math.floor(Math.random()*n.length)],":6444")),o()},e.clientId=t.clientId,t.gatewayClient=Object(S.a)(e),t.listenerLoggerTimer=null,t.listenerLoggerCache=[],t.on=function(e,n){t.gatewayClient.on(e,n),t.listenerLoggerCache.push("".concat(e).concat(n.name?":"+n.name:"")),t.listenerLoggerTimer?clearTimeout(t.listenerLoggerTimer):i.default.info("[".concat(t.clientId,"] Adding event handler on ").concat(e)),t.listenerLoggerTimer=setTimeout((function(){t.listenerLoggerCache.length&&(t.listenerLoggerTimer=null,i.default.info("[".concat(t.clientId,"] Added event handler on ").concat(t.listenerLoggerCache.join(", "))),t.listenerLoggerCache=[])}),0)},t.off=function(e,n){i.default.info("remove event handler from [".concat(e,"]")),t.gatewayClient.removeEventListener(e,n)},t.rtcStatsCollector=function(e){var t=Object(o.b)();return t.gatewayClient=e,t.exceptionMonitor=new R(e),t.localStats={},t.remoteStats={},t.session={sendBytes:0,recvBytes:0,WSSendBytes:0,WSSendBytesDelta:0,WSRecvBytes:0,WSRecvBytesDelta:0,HTTPSendBytes:0,HTTPSendBytesDelta:0,HTTPRecvBytes:0,HTTPRecvBytesDelta:0},t.getRemoteAudioStats=function(e){var n=t.gatewayClient.traffic_stats,r={};for(var i in t.remoteStats){var a={},o=t.remoteStats[i];if(Object(j.b)(a,"End2EndDelay",o.peer_delay&&o.peer_delay.audio_delay),Object(j.b)(a,"TransportDelay",o.peer_delay&&o.peer_delay.e2e_delay),Object(j.b)(a,"PacketLossRate",o.peer_delay&&o.peer_delay.e2e_audio_lost_ratio_400ms),Object(j.b)(a,"RecvLevel",o.audioStats&&o.audioStats.audioOutputLevel),Object(j.b)(a,"RecvBitrate",o.audioRecvBitrate),Object(j.b)(a,"CodecType",o.audioStats&&o.audioStats.googCodecName),Object(j.b)(a,"MuteState",o.audioDisabled),Object(j.b)(a,"TotalFreezeTime",o.audioStats&&o.audioStats.audioTotalFreezeTime),Object(j.b)(a,"TotalPlayDuration",o.audioStats&&o.audioStats.audioTotalPlayDuration),n&&n.peer_delay){var s=n.peer_delay.find((function(e){return e.peer_uid==i}));if(s){var c=s.peer_publish_audio_duration+(Date.now()-n.timestamp);Object(j.b)(a,"AudioPublishDuration",c)}else Object(j.b)(a,"AudioPublishDuration",-1)}r[i]=a}e&&e(r)},t.getLocalAudioStats=function(e){var n={};for(var r in t.localStats){var i={},a=t.localStats[r];Object(j.b)(i,"RecordingLevel",a.audioStats&&a.audioStats.audioInputLevel),Object(j.b)(i,"SendLevel",a.audioStats&&a.audioStats.totalAudioEnergy),Object(j.b)(i,"SamplingRate",a.audioStats&&a.audioStats.totalSamplesDuration),Object(j.b)(i,"SendBitrate",a.audioSendBitrate),Object(j.b)(i,"CodecType",a.audioStats&&a.audioStats.googCodecName),Object(j.b)(i,"MuteState",a.audioDisabled),Object(j.b)(i,"audioSendPacketsLost",a.audioStats&&a.audioStats.packetsLost);var o=t.gatewayClient.localStreams[r];o&&o.isPlaying()&&Object(j.b)(i,"MuteState",o.userMuteAudio?"1":"0"),n[r]=i}e&&e(n)},t.getRemoteVideoStats=function(e){var n=t.gatewayClient.traffic_stats,r={};for(var i in t.remoteStats){var a={},o=t.remoteStats[i];if(Object(j.b)(a,"End2EndDelay",o.peer_delay&&o.peer_delay.video_delay),Object(j.b)(a,"TransportDelay",o.peer_delay&&o.peer_delay.e2e_delay),Object(j.b)(a,"PacketLossRate",o.peer_delay&&o.peer_delay.e2e_video_lost_ratio_400ms),Object(j.b)(a,"RecvBitrate",o.videoRecvBitrate),Object(j.b)(a,"RecvResolutionWidth",o.videoStats&&o.videoStats.googFrameWidthReceived),Object(j.b)(a,"RecvResolutionHeight",o.videoStats&&o.videoStats.googFrameHeightReceived),Object(j.b)(a,"RenderResolutionWidth",o.videoStats&&o.videoStats.renderRemoteWidth),Object(j.b)(a,"RenderResolutionHeight",o.videoStats&&o.videoStats.renderRemoteHeight),Object(j.b)(a,"RenderFrameRate",o.videoStats&&o.videoStats.googFrameRateOutput),Object(j.b)(a,"MuteState",o.videoDisabled),Object(j.b)(a,"TotalFreezeTime",o.videoStats&&o.videoStats.videoTotalFreezeTime),Object(j.b)(a,"TotalPlayDuration",o.videoStats&&o.videoStats.videoTotalPlayDuration),n&&n.peer_delay){var s=n.peer_delay.find((function(e){return e.peer_uid==i}));if(s){var c=s.peer_publish_video_duration+(Date.now()-n.timestamp);Object(j.b)(a,"VideoPublishDuration",c)}else Object(j.b)(a,"VideoPublishDuration",-1)}r[i]=a}e&&e(r)},t.getLocalVideoStats=function(e){var n={};for(var r in t.localStats){var i={},a=t.localStats[r];Object(j.b)(i,"TargetSendBitrate",a.videoTargetSendBitrate),Object(j.b)(i,"SendFrameRate",a.videoStats&&a.videoStats.googFrameRateSent),Object(j.b)(i,"SendBitrate",a.videoSendBitrate),Object(j.b)(i,"SendResolutionWidth",a.videoStats&&a.videoStats.googFrameWidthSent),Object(j.b)(i,"SendResolutionHeight",a.videoStats&&a.videoStats.googFrameHeightSent),Object(j.b)(i,"CaptureResolutionWidth",a.videoStats&&a.videoStats.googFrameWidthInput),Object(j.b)(i,"CaptureResolutionHeight",a.videoStats&&a.videoStats.googFrameHeightInput),Object(j.b)(i,"EncodeDelay",a.videoStats&&a.videoStats.googAvgEncodeMs),Object(j.b)(i,"MuteState",a.videoDisabled),Object(j.b)(i,"TotalFreezeTime",a.videoStats&&a.videoStats.videoTotalFreezeTime),Object(j.b)(i,"TotalDuration",a.videoStats&&a.videoStats.videoTotalPlayDuration),Object(j.b)(i,"CaptureFrameRate",a.videoStats&&a.videoStats.googFrameRateSent),Object(j.b)(i,"videoSendPacketsLost",a.videoStats&&a.videoStats.packetsLost),a.videoStats&&!a.videoStats.googFrameWidthInput&&Object(j.b)(i,"CaptureResolutionWidth",a.videoStats&&a.videoStats.renderLocalWidth),a.videoStats&&!a.videoStats.googFrameHeightInput&&Object(j.b)(i,"CaptureResolutionHeight",a.videoStats&&a.videoStats.renderLocalHeight),n[r]=i}e&&e(n)},t.getRemoteVideoQualityStats=function(e){var n={};for(var r in t.remoteStats){var i={},a=t.remoteStats[r];Object(j.b)(i,"videoReceiveDelay",a.videoStats&&a.videoStats.googCurrentDelayMs),Object(j.b)(i,"VideoFreezeRate",a.videoStats&&a.videoStats.videoFreezeRate),Object(j.b)(i,"FirstFrameTime",a.firstFrameTime),n[r]=i}e&&e(n)},t.getRemoteAudioQualityStats=function(e){var n={};for(var r in t.remoteStats){var i={},a=t.remoteStats[r];Object(j.b)(i,"audioReceiveDelay",a.audioStats&&a.audioStats.googCurrentDelayMs),Object(j.b)(i,"AudioFreezeRate",a.videoStats&&a.videoStats.videoFreezeRate),n[r]=i}e&&e(n)},t.getTransportStats=function(e){var n={},r={},i=t.gatewayClient.traffic_stats,a=i.peer_delay;if(Object(j.b)(n,"OutgoingAvailableBandwidth",t.gatewayClient.OutgoingAvailableBandwidth/1e3),Object(j.b)(n,"RTT",i&&2*i.access_delay),a){var o,s=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){o=!0,i=e})),f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}(a);try{for(s.s();!(o=s.n()).done;){var c=o.value;c.downlink_estimate_bandwidth&&(r[c.peer_uid]=c.downlink_estimate_bandwidth/1e3+"")}}catch(e){s.e(e)}finally{s.f()}}n.IncomingAvailableBandwidth=r,e&&e(n)},t.getSessionStats=function(e){var n={},r=t.gatewayClient.traffic_stats,i=t.gatewayClient.socket,a=0,o=0;for(var s in t.remoteStats)(c=t.remoteStats[s])&&c.videoStats&&c.videoStats.videoRecvBytesDelta&&(o+=parseInt(c.videoStats.videoRecvBytesDelta)),c&&c.audioStats&&c.audioStats.audioRecvBytesDelta&&(o+=parseInt(c.audioStats.audioRecvBytesDelta));for(var s in t.localStats){var c;(c=t.localStats[s])&&c.videoStats&&c.videoStats.videoSendBytesDelta&&(a+=parseInt(c.videoStats.videoSendBytesDelta)),c&&c.audioStats&&c.audioStats.audioSendBytesDelta&&(a+=parseInt(c.audioStats.audioSendBytesDelta))}var l=a+t.session.WSSendBytesDelta+t.session.HTTPSendBytesDelta,u=o+t.session.WSRecvBytesDelta+t.session.HTTPRecvBytesDelta,d=t.session.sendBytes+Object(T.getHTTPSendBytes)(),f=t.session.recvBytes+Object(T.getHTTPRecvBytes)();t.gatewayClient.socket&&t.gatewayClient.socket.state===t.gatewayClient.CONNECTED&&(d+=i.getSendBytes(),f+=i.getRecvBytes());var h=1;r.peer_delay&&(h=r.peer_delay.length,h+=1),i?Object(j.b)(n,"Duration",i.getDuration()):Object(j.b)(n,"Duration",0),Object(j.b)(n,"UserCount",h),Object(j.b)(n,"SendBytes",d),Object(j.b)(n,"RecvBytes",f),Object(j.b)(n,"SendBitrate",8*l/1e3),Object(j.b)(n,"RecvBitrate",8*u/1e3),e&&e(n)},t.isLocalVideoFreeze=function(e,t){var n=0,r=0;if(!e||!t)return!1;if(Object(s.isChrome)()||Object(s.isOpera)())n=e.googFrameRateInput,r=e.googFrameRateSent;else if(Object(s.isSafari)())n=parseInt(e.framerateMean),r=parseInt(e.framesEncoded)-parseInt(t.framesEncoded);else{if(!Object(s.isFireFox)())return!1;n=parseInt(e.framerateMean),r=parseInt(e.framesEncoded)-parseInt(t.framesEncoded)}return n>5&&r<3},t.isRemoteVideoFreeze=function(e,t){var n=0,r=0;if(!e||!t)return!1;if(Object(s.isChrome)()||Object(s.isOpera)())n=e.googFrameRateReceived,r=e.googFrameRateDecoded;else if(Object(s.isSafari)())n=e.framerateMean,r=parseInt(e.framesDecoded)-parseInt(t.framesDecoded);else{if(!Object(s.isFireFox)())return!1;n=parseInt(e.framesReceived)-parseInt(t.framesReceived),r=parseInt(e.framesDecoded)-parseInt(t.framesDecoded)}return n>5&&n<10&&r<3||n>10&&n<20&&r<4||n>20&&r<5},t.isAudioFreeze=function(e){if(Object(s.isChrome)()&&e){if(e.googDecodingPLC&&e.googDecodingPLCCNG&&e.googDecodingCTN)return(parseInt(e.googDecodingPLC)+parseInt(e.googDecodingPLCCNG))/parseInt(e.googDecodingCTN)>.2}else if((Object(s.isSafari)()||Object(s.isFireFox)())&&e.packetsLost&&e.packetsReceived)return parseInt(e.packetsLost)/(parseInt(e.packetsLost)+parseInt(e.packetsReceived))>.2;return!1},t.isAudioDecodeFailed=function(e){return!!((Object(s.isChrome)()||Object(s.isOpera)())&&e&&parseInt(e.bytesReceived)>0&&0===parseInt(e.googDecodingNormal))},t.startNetworkQualityTimer=function(){t.clearNetworkQualityTimer(),t.networkQualityTimer=setInterval((function(){if(t.gatewayClient.state===S.a.CONNECTED&&navigator.onLine){var e=t.gatewayClient.traffic_stats;t.gatewayClient.dispatchEvent({type:"network-quality",uplinkNetworkQuality:t.networkQualityTrans(e.uplink_network_quality),downlinkNetworkQuality:t.networkQualityTrans(e.downlink_network_quality)})}else t.gatewayClient.dispatchEvent({type:"network-quality",uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3)},t.clearNetworkQualityTimer=function(){t.networkQualityTimer&&clearInterval(t.networkQualityTimer)},t.networkQualityTrans=function(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0},t.getStatsTimer=setInterval((function(){var e=t.gatewayClient.traffic_stats,n=Date.now();t.gatewayClient.dispatchEvent({type:"_testException"}),Object.keys(t.localStats).length&&t.exceptionMonitor.setLocalStats(t.localStats),Object.keys(t.remoteStats).length&&t.exceptionMonitor.setRemoteStats(t.remoteStats);var r={};Object.keys(t.gatewayClient.remoteStreams).forEach((function(i){var a=t.gatewayClient.remoteStreams[i],o=t.remoteStats[i],s={id:i,updatedAt:n};r[i]=s,s.firstFrameTime=a.firstFrameTime,o?(s.audioTotalPlayDuration=o.audioTotalPlayDuration+1,s.audioTotalFreezeTime=o.audioTotalFreezeTime,s.isAudioFreeze=!1,s.isAudioDecodeFailed=!1,s.videoTotalPlayDuration=o.videoTotalPlayDuration+1,s.videoTotalFreezeTime=o.videoTotalFreezeTime,s.isVideoFreeze=!1):(s.audioTotalPlayDuration=1,s.audioTotalFreezeTime=0,s.videoTotalPlayDuration=1,s.videoTotalFreezeTime=0);var c=e&&e.peer_delay&&e.peer_delay.find((function(e){return e.peer_uid==i}));c&&(s.peer_delay=c),a&&(a.isPlaying()&&(s.audioDisabled=a.userMuteAudio||a.peerMuteAudio?"1":"0",s.videoDisabled=a.userMuteVideo||a.peerMuteVideo?"1":"0"),o&&o.peer_delay&&c&&o.peer_delay.stream_type!==c.stream_type&&t.gatewayClient.dispatchEvent({type:"streamTypeChange",uid:i,streamType:c.stream_type}),a.pc&&"established"==a.pc.state&&a.pc.getStats((function(e){if(s.pcStats=e,s.audioStats=e.find((function(e){return"audio"==e.mediaType&&(e.id.indexOf("_recv")>-1||e.id.toLowerCase().indexOf("inbound")>-1)})),s.videoStats=e.find((function(e){return"video"==e.mediaType&&(e.id.indexOf("_recv")>-1||e.id.toLowerCase().indexOf("inbound")>-1)})),o&&o.audioStats&&s.audioStats){var n=parseInt(s.audioStats.bytesReceived)-parseInt(o.audioStats.bytesReceived),r=parseInt(s.audioStats.googDecodingNormal)-parseInt(o.audioStats.googDecodingNormal);if(s.audioStats.audioRecvBytesDelta=n,s.audioStats.audioDecodingNormalDelta=r,t.session.recvBytes+=n,isFinite(n)&&s.audioStats.timestamp){var i=s.audioStats.timestamp.getTime()-o.audioStats.timestamp.getTime();s.audioRecvBitrate=Math.floor(8*n/i)}t.isAudioFreeze(s.audioStats)&&s.audioTotalPlayDuration>10&&(s.audioTotalFreezeTime++,s.isAudioFreeze=!0),t.isAudioDecodeFailed(s.audioStats)&&s.audioTotalPlayDuration>10&&(s.isAudioDecodeFailed=!0),s.audioStats.audioTotalFreezeTime=s.audioTotalFreezeTime,s.audioStats.audioTotalPlayDuration=s.audioTotalPlayDuration,s.audioStats.audioFreezeRate=Math.ceil(100*s.audioTotalFreezeTime/s.audioTotalPlayDuration)}if(o&&o.videoStats&&s.videoStats){var c=parseInt(s.videoStats.bytesReceived)-parseInt(o.videoStats.bytesReceived);s.videoStats.videoRecvBytesDelta=c,t.session.recvBytes+=c,isFinite(c)&&s.videoStats.timestamp&&(i=s.videoStats.timestamp.getTime()-o.videoStats.timestamp.getTime(),s.videoRecvBitrate=Math.floor(8*c/i)),t.isRemoteVideoFreeze(s.videoStats,o.videoStats)&&(s.videoTotalFreezeTime++,s.isVideoFreeze=!0),s.videoStats.videoTotalFreezeTime=s.videoTotalFreezeTime,s.videoStats.videoTotalPlayDuration=s.videoTotalPlayDuration,s.videoStats.videoFreezeRate=Math.ceil(100*s.videoTotalFreezeTime/s.videoTotalPlayDuration),a.player&&a.player.video&&a.player.video.videoWidth&&a.player.video.videoHeight?(s.videoStats.renderRemoteWidth=a.player.video.videoWidth,s.videoStats.renderRemoteHeight=a.player.video.videoHeight):(s.videoStats.renderRemoteWidth=a.videoWidth||s.videoStats.googFrameWidthReceived,s.videoStats.renderRemoteHeight=a.videoHeight||s.videoStats.googFrameHeightReceived)}})))})),t.remoteStats=r;var i={};if(Object.keys(t.gatewayClient.localStreams).forEach((function(e){var r=t.gatewayClient.localStreams[e],a=t.localStats[e],o={id:e,updatedAt:n};i[e]=o,a?(o.videoTotalPlayDuration=a.videoTotalPlayDuration+1,o.videoTotalFreezeTime=a.videoTotalFreezeTime,o.isVideoFreeze=!1):(o.videoTotalPlayDuration=1,o.videoTotalFreezeTime=0),r&&(r.isPlaying()&&(o.audioDisabled=r.userMuteAudio?"1":"0",o.videoDisabled=r.userMuteVideo?"1":"0"),r.video&&r.attributes.maxVideoBW?o.videoTargetSendBitrate=r.attributes.maxVideoBW:r.video&&r.screenAttributes&&(o.videoTargetSendBitrate=r.screenAttributes.maxVideoBW),r.pc&&"established"==r.pc.state&&r.pc.getStats((function(e){if(o.pcStats=e.reverse(),o.audioStats=e.find((function(e){return"audio"==e.mediaType&&(e.id.indexOf("_send")>-1||e.id.toLowerCase().indexOf("outbound")>-1)})),o.videoStats=e.find((function(e){return"video"==e.mediaType&&(e.id.indexOf("_send")>-1||e.id.toLowerCase().indexOf("outbound")>-1)})),o.audioStats&&a&&a.audioStats){var n=parseInt(o.audioStats.bytesSent)-parseInt(a.audioStats.bytesSent);if(o.audioStats.audioSendBytesDelta=n,t.session.sendBytes+=n,isFinite(n)&&o.audioStats.timestamp){var i=o.audioStats.timestamp.getTime()-a.audioStats.timestamp.getTime();o.audioSendBitrate=Math.floor(8*n/i)}}if(o.videoStats&&a&&a.videoStats){var s=parseInt(o.videoStats.bytesSent)-parseInt(a.videoStats.bytesSent);o.videoStats.videoSendBytesDelta=s,t.session.sendBytes+=s,isFinite(s)&&o.videoStats.timestamp&&(i=o.videoStats.timestamp.getTime()-a.videoStats.timestamp.getTime(),o.videoSendBitrate=Math.floor(8*s/i)),t.isLocalVideoFreeze(o.videoStats,a.videoStats)&&(o.videoTotalFreezeTime++,o.isVideoFreeze=!0),o.videoStats.videoTotalFreezeTime=o.videoTotalFreezeTime,o.videoStats.videoTotalPlayDuration=o.videoTotalPlayDuration,o.videoStats.videoFreezeRate=Math.ceil(100*o.videoTotalFreezeTime/o.videoTotalPlayDuration),o.videoStats.renderLocalWidth=r.videoWidth||o.videoStats.googFrameWidthSent,o.videoStats.renderLocalHeight=r.videoHeight||o.videoStats.googFrameHeightSent}})))})),t.localStats=i,t.session.HTTPSendBytesDelta=Object(T.getHTTPSendBytes)()-t.session.HTTPSendBytes,t.session.HTTPSendBytes=Object(T.getHTTPSendBytes)(),t.session.HTTPRecvBytesDelta=Object(T.getHTTPRecvBytes)()-t.session.HTTPRecvBytes,t.session.HTTPRecvBytes=Object(T.getHTTPRecvBytes)(),t.gatewayClient.socket&&t.gatewayClient.socket.state===t.gatewayClient.CONNECTED){var a=t.gatewayClient.socket;t.session.WSSendBytesDelta=a.getSendBytes()-t.session.WSSendBytes,t.session.WSSendBytes=a.getSendBytes(),t.session.WSRecvBytesDelta=a.getRecvBytes()-t.session.WSRecvBytes,t.session.WSRecvBytes=a.getRecvBytes()}}),1e3),t.gatewayClient.on("join",(function(){t.session={sendBytes:0,recvBytes:0,WSSendBytes:0,WSSendBytesDelta:0,WSRecvBytes:0,WSRecvBytesDelta:0,HTTPSendBytes:0,HTTPSendBytesDelta:0,HTTPRecvBytes:0,HTTPRecvBytesDelta:0}})),t}(t.gatewayClient),t.configDistributManager=function(e){var t={};return t.client=e,t.client.gatewayClient&&t.client.gatewayClient.on("config-distribute",(function(n){var o=n.joinInfo,s=n.config;if(s){Object(P.isEmpty)(s.uploadLog)||(Object(r.setParameter)("UPLOAD_LOG",s.uploadLog),a.report.reportApiInvoke(o.sid,{name:"_configDistribute",options:{feature:"uploadLog",value:s.uploadLog}})()),Object(P.isEmpty)(s.dualStream)||(e.isDualStream=s.dualStream,a.report.reportApiInvoke(o.sid,{name:"_configDistribute",options:{feature:"dualStream",value:s.dualStream}})()),Object(P.isEmpty)(s.streamFallbackOption)||t.client.gatewayClient&&t.client.gatewayClient.on("stream-subscribed",(function(e){var n=e.stream;n?(t.client.gatewayClient.setStreamFallbackOption(n,s.streamFallbackOption),a.report.reportApiInvoke(o.sid,{name:"_configDistribute",options:{feature:"streamFallbackOption",value:s.streamFallbackOption,streamId:n.getId()}})()):a.report.reportApiInvoke(o.sid,{name:"_configDistribute",options:{feature:"streamFallbackOption",value:s.streamFallbackOption,streamId:n.getId(),err:"invalid stream"}})()}));try{i.default.debug("[".concat(e.clientId,"] setParameter in distribution: ").concat(JSON.stringify(s))),Object.keys(s).map((function(e){return Object(r.setParameter)(e,s[e])}))}catch(t){i.default.debug("[".concat(e.clientId,"] setParameter in distribution failed: ").concat(JSON.stringify(s)))}}})),t}(t),Object(D.addLiveStreamingCapability)(t,e),e.areaCode){var n=e,c=n.areaCode,h=n.excludedArea,p=Object(V.getAreaCodeByConfig)({areaCode:c,excludedArea:h});Object(r.setParameter)("AREA_SETTING",p);var v=Object(V.getAreaDomainConfig)(p);Object.keys(v).map((function(e){var t=v[e];"LOG_UPLOAD_SERVER"==e||"EVENT_REPORT_DOMAIN"==e||"EVENT_REPORT_BACKUP_DOMAIN"==e||"NGINX"==e?Object(r.setParameter)(e,t[0]):Object(r.setParameter)(e,t)}))}return Object(P.isEmpty)(e.turnServer)||t.setTurnServer(e.turnServer),Object(P.isEmpty)(e.proxyServer)||t.setProxyServer(e.proxyServer),"live"===t.mode&&(t.gatewayClient.role="audience"),"rtc"===t.mode&&(t.gatewayClient.role=z),t.gatewayClient.on("onMultiIP",(function(e){t.gatewayClient.closeGateway(),t.gatewayClient.socket=void 0,t.gatewayClient.hasChangeBGPAddress=!0,t.joinInfo.multiIP=e.option,t.gatewayClient.state=S.a.CONNECTING;var n=function(e){i.default.info("[".concat(t.clientId,"] Joining channel: ").concat(t.channel)),t.joinInfo.cid=e.cid,t.joinInfo.uid||(t.joinInfo.uid=e.uid),t.joinInfo.uni_lbs_ip=e.uni_lbs_ip,t.joinInfo.gatewayAddr=e.gateway_addr,t.onSuccess?t.gatewayClient.join(t.joinInfo,t.key,(function(e){i.default.info("[".concat(t.clientId,"] Join channel ").concat(t.channel," success"));var n=t.onSuccess;t.onSuccess=null,t.onFailure=null,n(e)}),t.onFailure):(t.gatewayClient.joinInfo=w()({},t.joinInfo),t.gatewayClient.rejoin())};t.joinInfo.stringUid&&!t.joinInfo.uid?(t.userAccountReq&&!t.userAccountReq.isFinished()&&t.userAccountReq.cancel(),t.userAccountReq=Object(N.getUserAccount)(joinInfo,t.gatewayClient),t.userAccountReq.then((function(e){i.default.error("getUserAccount Success ".concat(e.url," ").concat(joinInfo.stringUid," => ").concat(e.uid)),t.joinInfo.uid=e.uid,Object(N.getGatewayList)(t.joinInfo,n,t.onFailure)})).catch((function(e){i.default.error("getUserAccount rejected",e),t.onFailure(e)}))):Object(N.getGatewayList)(t.joinInfo,n,t.onFailure)})),t.gatewayClient.on("rejoin-start",(function(){t._renewSession(),a.report.sessionInit(e.sessionId,{lts:(new Date).getTime(),extend:{rejoin:!0},cname:t.channel,appid:e.appId,mode:e.mode,succ:!0})})),t.gatewayClient.on("recover",(function(){t._renewSession(),i.default.debug("[".concat(t.clientId,"]"),"recover",e.sessionId),a.report.sessionInit(e.sessionId,{lts:(new Date).getTime(),extend:{recover:!0},cname:t.channel,appid:e.appId,mode:e.mode,succ:!0})})),t.gatewayClient.on("rejoin",(function(){var e=t.highStreamState;if(i.default.debug("[".concat(t.clientId,"] Client local stream preState: ").concat(e)),t.onSuccess){var n=t.onSuccess;t.onSuccess=null,t.onFailure=null,n(t.joinInfo.uid)}!t.highStream||0!==e&&1!==e||(i.default.info("[".concat(t.clientId,"] publish after rejoin")),t.highStreamState=2,t.lowStreamState=2,t.publish(t.highStream,(function(e){e&&i.default.info("[".concat(t.clientId,"] "),e)})))})),t.gatewayClient.on("streamPublished",(function(e){t.hasPublished||(t.hasPublished=!0,t.gatewayClient.dispatchEvent({type:"stream-published",stream:e.stream,proxy:e.proxy}))})),t.gatewayClient.on("pubP2PLost",(function(e){i.default.debug("[".concat(t.clientId,"] Start reconnect local peerConnection: ").concat(t.highStream.getId())),t.gatewayClient.dispatchEvent({type:"stream-reconnect-start",uid:t.highStream.getId()}),1===t.highStreamState&&(t.highStreamState=0,t.lowStreamState=0),t._unpublish(t.highStream,(function(){t._publish(t.highStream,(function(){i.default.debug("[".concat(t.clientId,"] Reconnect local peerConnection success: ").concat(t.highStream.getId())),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:t.highStream.getId(),success:!0,reason:""})}),(function(e){i.default.debug("[".concat(t.clientId,"] Reconnect local peerConnection failed: ").concat(e)),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:t.highStream.getId(),success:!1,reason:e})}),!0)}),(function(e){i.default.debug("[".concat(t.clientId,"] Reconnect local peerConnection failed: ").concat(e)),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:t.highStream.getId(),success:!1,reason:e})}),!0)})),t.gatewayClient.on("subP2PLost",(function(e){i.default.debug("[".concat(t.clientId,"] Start reconnect remote peerConnection: ").concat(e.stream.getId()," ").concat(e.stream.subscribeOptions)),t.gatewayClient.dispatchEvent({type:"stream-reconnect-start",uid:e.stream.getId()});var n=e.stream.subscribeOptions;i.default.debug("[".concat(t.clientId,"]"),"Re-subscribe stream",JSON.stringify(n)),t.gatewayClient.unsubscribe(e.stream,(function(){e.stream.subscribeOptions=n,t.gatewayClient.subscribe(e.stream,(function(){i.default.debug("[".concat(t.clientId,"] Reconnect remote peerConnection success: ").concat(e.stream.getId())),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:e.stream.getId(),success:!0,reason:""})}),(function(n){i.default.debug("[".concat(t.clientId,"] Reconnect remote peerConnection failed: "),n),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:e.stream.getId(),success:!1,reason:n})}))}),(function(n){i.default.debug("[".concat(t.clientId,"] Reconnect remote peerConnection failed: "),n),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:e.stream.getId(),success:!1,reason:n})}))})),L.on("networkTypeChanged",(function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var n=w()({},e,{type:"network-type-changed"});t.gatewayClient.dispatchEvent(n)})),f.a.on("recordingDeviceChanged",(function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var n=w()({},e,{type:"recording-device-changed"});t.gatewayClient.dispatchEvent(n)})),f.a.on("playoutDeviceChanged",(function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var n=w()({},e,{type:"playout-device-changed"});t.gatewayClient.dispatchEvent(n)})),f.a.on("cameraChanged",(function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var n=w()({},e,{type:"camera-changed"});t.gatewayClient.dispatchEvent(n)})),t.gatewayClient.on("streamTypeChange",(function(n){var r=w()({},n,{type:"stream-type-changed"});t.gatewayClient.dispatchEvent(r),a.report.reportApiInvoke(e.sessionId,{name:"streamTypeChange"})(null,JSON.stringify(n))})),t},H=f.a.getDevices,q=h.a.getScreenSources,G=JSON.parse(JSON.stringify(r.SUPPORT_RESOLUTION_LIST));t.default={TranscodingUser:{uid:0,x:0,y:0,width:0,height:0,zOrder:0,alpha:1},LiveTranscoding:{width:640,height:360,videoBitrate:400,videoFramerate:15,lowLatency:!1,audioSampleRate:48e3,audioBitrate:48,audioChannels:1,videoGop:30,videoCodecProfile:100,userCount:0,userConfigExtraInfo:{},backgroundColor:0,transcodingUsers:[]},createClient:function(e){var t=a.report.reportApiInvoke(null,{name:"createClient",options:arguments,tag:"tracer"});(e=w()({},e||{})).codec||(e.codec=function(e){return"h264_interop"===e?"h264":"vp8"}(e.mode));var n=function(e){return-1===v.indexOf(e.mode)?E.default.INVALID_CLIENT_MODE:-1===g.indexOf(e.codec)?E.default.INVALID_CLIENT_CODEC:"h264_interop"==e.mode&&"h264"!==e.codec&&E.default.CLIENT_MODE_CODEC_MISMATCH}(e);if(n)throw i.default.error("Invalid parameter setting MODE: ".concat(e.mode," CODEC: ").concat(e.codec," ERROR ").concat(n)),t(n),new Error(n);return i.default.info("Creating client, MODE: ".concat(e.mode," CODEC: ").concat(e.codec)),function(e){switch(e.mode){case"interop":case"h264_interop":e.mode="live";break;case"web-only":e.mode="rtc"}}(e),t(null,e),W(e)},createStream:d.b,Logger:i.default,report:a.report,getDevices:H,getScreenSources:q,getParameter:r.getParameter,setParameter:r.setParameter,checkSystemRequirements:l,getSupportedCodec:p.getSupportedCodec,ChannelMediaRelayConfiguration:m.ChannelMediaRelayConfiguration,VERSION:r.VERSION,BUILD:r.BUILD,PROFILE_TABLE:G,AUDIO_SAMPLE_RATE_32000:32e3,AUDIO_SAMPLE_RATE_44100:44100,AUDIO_SAMPLE_RATE_48000:48e3,VIDEO_CODEC_PROFILE_BASELINE:66,VIDEO_CODEC_PROFILE_MAIN:77,VIDEO_CODEC_PROFILE_HIGH:100,REMOTE_VIDEO_STREAM_HIGH:0,REMOTE_VIDEO_STREAM_LOW:1,REMOTE_VIDEO_STREAM_MEDIUM:2,AREAS:V.AREAS,AREA_VERSION:"global"}}]).default},module.exports=t()},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8177:function(e,t,n){!function(t,r,i){var a;e.exports=(a=n(8926),n(3713),n(3074),n(8228),n(3650),function(){var e=a,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],o=[],s=[],c=[],l=[],u=[],d=[],f=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,a=0;for(t=0;t<256;t++){var p=a^a<<1^a<<2^a<<3^a<<4;p=p>>>8^255&p^99,r[n]=p,i[p]=n;var m=e[n],v=e[m],g=e[v],y=257*e[p]^16843008*p;o[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,c[n]=y<<8|y>>>24,l[n]=y,y=16843009*g^65537*v^257*m^16843008*n,u[p]=y<<24|y>>>8,d[p]=y<<16|y>>>16,f[p]=y<<8|y>>>24,h[p]=y,n?(n=m^e[e[e[g^m]]],a^=e[e[a]]):n=a=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),a=this._keySchedule=[],o=0;o<i;o++)o<n?a[o]=t[o]:(l=a[o-1],o%n?n>6&&o%n==4&&(l=r[l>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l]):(l=r[(l=l<<8|l>>>24)>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l],l^=p[o/n|0]<<24),a[o]=a[o-n]^l);for(var s=this._invKeySchedule=[],c=0;c<i;c++){if(o=i-c,c%4)var l=a[o];else l=a[o-4];s[c]=c<4||o<=4?l:u[r[l>>>24]]^d[r[l>>>16&255]]^f[r[l>>>8&255]]^h[r[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,c,l,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,d,f,h,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,a,o,s){for(var c=this._nRounds,l=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],f=e[t+3]^n[3],h=4,p=1;p<c;p++){var m=r[l>>>24]^i[u>>>16&255]^a[d>>>8&255]^o[255&f]^n[h++],v=r[u>>>24]^i[d>>>16&255]^a[f>>>8&255]^o[255&l]^n[h++],g=r[d>>>24]^i[f>>>16&255]^a[l>>>8&255]^o[255&u]^n[h++],y=r[f>>>24]^i[l>>>16&255]^a[u>>>8&255]^o[255&d]^n[h++];l=m,u=v,d=g,f=y}m=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&f])^n[h++],v=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[f>>>8&255]<<8|s[255&l])^n[h++],g=(s[d>>>24]<<24|s[f>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^n[h++],y=(s[f>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^n[h++],e[t]=m,e[t+1]=v,e[t+2]=g,e[t+3]=y},keySize:8});e.AES=t._createHelper(m)}(),a.AES)}()},3650:function(e,t,n){!function(t,r,i){var a;e.exports=(a=n(8926),n(8228),void(a.lib.Cipher||function(e){var t=a,n=t.lib,r=n.Base,i=n.WordArray,o=n.BufferedBlockAlgorithm,s=t.enc,c=(s.Utf8,s.Base64),l=t.algo.EvpKDF,u=n.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:g}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),d=(n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),f=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=d.CBC=function(){var t=f.extend();function n(t,n,r){var i,a=this._iv;a?(i=a,this._iv=e):i=this._prevBlock;for(var o=0;o<r;o++)t[n+o]^=i[o]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,a=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=a}}),t}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,a=r<<24|r<<16|r<<8|r,o=[],s=0;s<r;s+=4)o.push(a);var c=i.create(o,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:h,padding:p}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),v=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(t):t).toString(c)},parse:function(e){var t,n=c.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},g=n.SerializableCipher=r.extend({cfg:r.extend({format:v}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),a=i.finalize(t),o=i.cfg;return m.create({ciphertext:a,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=i.random(8));var a=l.create({keySize:t+n}).compute(e,r),o=i.create(a.words.slice(t),4*n);return a.sigBytes=4*t,m.create({key:a,iv:o,salt:r})}},b=n.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:y}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var a=g.encrypt.call(this,e,t,i.key,r);return a.mixIn(i),a},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,g.decrypt.call(this,e,t,i.key,r)}})}()))}()},8926:function(t,n,r){t.exports=function(){var t=t||function(t,n){var i;if("undefined"!==typeof window&&window.crypto&&(i=window.crypto),"undefined"!==typeof self&&self.crypto&&(i=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!==typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&"undefined"!==typeof r.g&&r.g.crypto&&(i=r.g.crypto),!i)try{i=r(2480)}catch(g){}var a=function(){if(i){if("function"===typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"===typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},c=s.lib={},l=c.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=c.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=n?t:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(a());return new u.init(t,e)}}),d=s.enc={},f=d.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},h=d.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},p=d.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},m=c.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var n,r=this._data,i=r.words,a=r.sigBytes,o=this.blockSize,s=a/(4*o),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,l=t.min(4*c,a);if(c){for(var d=0;d<c;d+=o)this._doProcessBlock(i,d);n=i.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(c.Hasher=m.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math);return t}()},3713:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){var e=i,t=e.lib.WordArray;function n(e,n,r){for(var i=[],a=0,o=0;o<n;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2|r[e.charCodeAt(o)]>>>6-o%4*2;i[a>>>2]|=s<<24-a%4*8,a++}return t.create(i,a)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)i.push(r.charAt(o>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<r.length;a++)i[r.charCodeAt(a)]=a}var o=r.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)}()},886:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),i.enc.Utf8)}()},8228:function(e,t,n){!function(t,r,i){var a;e.exports=(a=n(8926),n(5590),n(5086),function(){var e=a,t=e.lib,n=t.Base,r=t.WordArray,i=e.algo,o=i.MD5,s=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,i=this.cfg,a=i.hasher.create(),o=r.create(),s=o.words,c=i.keySize,l=i.iterations;s.length<c;){n&&a.update(n),n=a.update(e).finalize(t),a.reset();for(var u=1;u<l;u++)n=a.finalize(n),a.reset();o.concat(n)}return o.sigBytes=4*c,o}});e.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)}}(),a.EvpKDF)}()},5086:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),void function(){var e=i,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,c=o.words,l=0;l<r;l++)s[l]^=1549556828,c[l]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())}()},3074:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(e){var t=i,n=t.lib,r=n.WordArray,a=n.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=o.MD5=a.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,o=e[t+0],c=e[t+1],h=e[t+2],p=e[t+3],m=e[t+4],v=e[t+5],g=e[t+6],y=e[t+7],b=e[t+8],_=e[t+9],x=e[t+10],w=e[t+11],S=e[t+12],E=e[t+13],k=e[t+14],N=e[t+15],j=a[0],T=a[1],I=a[2],C=a[3];j=l(j,T,I,C,o,7,s[0]),C=l(C,j,T,I,c,12,s[1]),I=l(I,C,j,T,h,17,s[2]),T=l(T,I,C,j,p,22,s[3]),j=l(j,T,I,C,m,7,s[4]),C=l(C,j,T,I,v,12,s[5]),I=l(I,C,j,T,g,17,s[6]),T=l(T,I,C,j,y,22,s[7]),j=l(j,T,I,C,b,7,s[8]),C=l(C,j,T,I,_,12,s[9]),I=l(I,C,j,T,x,17,s[10]),T=l(T,I,C,j,w,22,s[11]),j=l(j,T,I,C,S,7,s[12]),C=l(C,j,T,I,E,12,s[13]),I=l(I,C,j,T,k,17,s[14]),j=u(j,T=l(T,I,C,j,N,22,s[15]),I,C,c,5,s[16]),C=u(C,j,T,I,g,9,s[17]),I=u(I,C,j,T,w,14,s[18]),T=u(T,I,C,j,o,20,s[19]),j=u(j,T,I,C,v,5,s[20]),C=u(C,j,T,I,x,9,s[21]),I=u(I,C,j,T,N,14,s[22]),T=u(T,I,C,j,m,20,s[23]),j=u(j,T,I,C,_,5,s[24]),C=u(C,j,T,I,k,9,s[25]),I=u(I,C,j,T,p,14,s[26]),T=u(T,I,C,j,b,20,s[27]),j=u(j,T,I,C,E,5,s[28]),C=u(C,j,T,I,h,9,s[29]),I=u(I,C,j,T,y,14,s[30]),j=d(j,T=u(T,I,C,j,S,20,s[31]),I,C,v,4,s[32]),C=d(C,j,T,I,b,11,s[33]),I=d(I,C,j,T,w,16,s[34]),T=d(T,I,C,j,k,23,s[35]),j=d(j,T,I,C,c,4,s[36]),C=d(C,j,T,I,m,11,s[37]),I=d(I,C,j,T,y,16,s[38]),T=d(T,I,C,j,x,23,s[39]),j=d(j,T,I,C,E,4,s[40]),C=d(C,j,T,I,o,11,s[41]),I=d(I,C,j,T,p,16,s[42]),T=d(T,I,C,j,g,23,s[43]),j=d(j,T,I,C,_,4,s[44]),C=d(C,j,T,I,S,11,s[45]),I=d(I,C,j,T,N,16,s[46]),j=f(j,T=d(T,I,C,j,h,23,s[47]),I,C,o,6,s[48]),C=f(C,j,T,I,y,10,s[49]),I=f(I,C,j,T,k,15,s[50]),T=f(T,I,C,j,v,21,s[51]),j=f(j,T,I,C,S,6,s[52]),C=f(C,j,T,I,p,10,s[53]),I=f(I,C,j,T,x,15,s[54]),T=f(T,I,C,j,c,21,s[55]),j=f(j,T,I,C,b,6,s[56]),C=f(C,j,T,I,N,10,s[57]),I=f(I,C,j,T,g,15,s[58]),T=f(T,I,C,j,E,21,s[59]),j=f(j,T,I,C,m,6,s[60]),C=f(C,j,T,I,w,10,s[61]),I=f(I,C,j,T,h,15,s[62]),T=f(T,I,C,j,_,21,s[63]),a[0]=a[0]+j|0,a[1]=a[1]+T|0,a[2]=a[2]+I|0,a[3]=a[3]+C|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var a=e.floor(r/4294967296),o=r;n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+i+o;return(s<<a|s>>>32-a)+t}function u(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+i+o;return(s<<a|s>>>32-a)+t}function d(e,t,n,r,i,a,o){var s=e+(t^n^r)+i+o;return(s<<a|s>>>32-a)+t}function f(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+i+o;return(s<<a|s>>>32-a)+t}t.MD5=a._createHelper(c),t.HmacMD5=a._createHmacHelper(c)}(Math),i.MD5)}()},5590:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){var e=i,t=e.lib,n=t.WordArray,r=t.Hasher,a=e.algo,o=[],s=a.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],s=n[3],c=n[4],l=0;l<80;l++){if(l<16)o[l]=0|e[t+l];else{var u=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=u<<1|u>>>31}var d=(r<<5|r>>>27)+c+o[l];d+=l<20?1518500249+(i&a|~i&s):l<40?1859775393+(i^a^s):l<60?(i&a|i&s|a&s)-1894007588:(i^a^s)-899497514,c=s,s=a,a=i<<30|i>>>2,i=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(s),e.HmacSHA1=r._createHmacHelper(s)}(),i.SHA1)}()},9948:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function o(e,t){try{return t in e}catch(n){return!1}}function s(e,t,n){var i={};return n.isMergeableObject(e)&&a(e).forEach((function(t){i[t]=r(e[t],n)})),a(t).forEach((function(a){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(o(e,a)&&n.isMergeableObject(t[a])?i[a]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"===typeof n?n:c}(a,n)(e[a],t[a],n):i[a]=r(t[a],n))})),i}function c(e,n,a){(a=a||{}).arrayMerge=a.arrayMerge||i,a.isMergeableObject=a.isMergeableObject||t,a.cloneUnlessOtherwiseSpecified=r;var o=Array.isArray(n);return o===Array.isArray(e)?o?a.arrayMerge(e,n,a):s(e,n,a):r(n,a)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var l=c;e.exports=l},2244:function(e,t,n){var r=n(7447),i=n(8051).each;function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=a},4e3:function(e,t,n){var r=n(2244),i=n(8051),a=i.each,o=i.isFunction,s=i.isArray;function c(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}c.prototype={constructor:c,register:function(e,t,n){var i=this.queries,c=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,c)),o(t)&&(t={match:t}),s(t)||(t=[t]),a(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=c},7447:function(e){function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},8051:function(e){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},8153:function(e,t,n){var r=n(4e3);e.exports=new r},2110:function(t,n,r){"use strict";var i=r(8309),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function l(e){return i.isMemo(e)?s:c[e.$$typeof]||a}c[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[i.Memo]=s;var u=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;t.exports=function t(n,r,i){if("string"!==typeof r){if(m){var a=p(r);a&&a!==m&&t(n,a,i)}var s=d(r);f&&(s=s.concat(f(r)));for(var c=l(n),v=l(r),g=0;g<s.length;++g){var y=s[g];if(!o[y]&&(!i||!i[y])&&(!v||!v[y])&&(!c||!c[y])){var b=h(r,y);try{u(n,y,b)}catch(e){}}}}return n}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case l:case f:case v:case m:case c:return e;default:return t}}case i:return t}}}function w(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||x(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===f},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===v},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===g)},t.typeOf=x},8309:function(e,t,n){"use strict";e.exports=n(746)},5477:function(e,t,n){var r=n(2806),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,a){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},5102:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof r&&(i=r,r={}),r=r||{},i=i||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?t:n)(o,i),o.onload||t(o,i),a.appendChild(o)}},5095:function(e,t,n){var r=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,f=u||d||Function("return this")(),h=Object.prototype.toString,p=Math.max,m=Math.min,v=function(){return f.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==i}(e))return r;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=function(e,t,n){var r,i,a,o,s,c,l=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n)}function b(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=a}function _(){var e=v();if(b(e))return x(e);s=setTimeout(_,function(e){var n=t-(e-c);return d?m(n,a-(e-l)):n}(e))}function x(e){return s=void 0,f&&r?h(e):(r=i=void 0,o)}function w(){var e=v(),n=b(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return function(e){return l=e,s=setTimeout(_,t),u?h(e):o}(c);if(d)return s=setTimeout(_,t),h(c)}return void 0===s&&(s=setTimeout(_,t)),o}return t=y(t)||0,g(n)&&(u=!!n.leading,a=(d="maxWait"in n)?p(y(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),w.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=i=s=void 0},w.flush=function(){return void 0===s?o:x(v())},w}},5781:function(e,t,n){"use strict";n.r(t);var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],a=t[n],!(i===a||r(i)&&r(a)))return!1;var i,a;return!0}t.default=function(e,t){var n;void 0===t&&(t=i);var r,a=[],o=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return o&&n===this&&t(i,a)||(r=e.apply(this,i),o=!0,n=this,a=i),r}}},4154:function(e){e.exports=function(e,t){var n,r,i,a,o,s,c,l;for(n=3&e.length,r=e.length-n,i=t,o=3432918353,s=461845907,l=0;l<r;)c=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,i=27492+(65535&(a=5*(65535&(i=(i^=c=(65535&(c=(c=(65535&c)*o+(((c>>>16)*o&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(l+2))<<16;case 2:c^=(255&e.charCodeAt(l+1))<<8;case 1:i^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(l)))*o+(((c>>>16)*o&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4142:function(module,__unused_webpack_exports,__webpack_require__){module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=__webpack_require__(2007)},function(e,t){e.exports=__webpack_require__(2791)},function(module,__nested_webpack_exports__,__nested_webpack_require_1455__){"use strict";__nested_webpack_require_1455__.r(__nested_webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1455__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_1455__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_1455__(0),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__nested_webpack_require_1455__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){return function(){var t,n=_getPrototypeOf(e);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ReactAudioPlayer=function(_Component){_inherits(ReactAudioPlayer,_Component);var _super=_createSuper(ReactAudioPlayer);function ReactAudioPlayer(){var e;_classCallCheck(this,ReactAudioPlayer);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _defineProperty(_assertThisInitialized(e=_super.call.apply(_super,[this].concat(n))),"audioEl",react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef()),_defineProperty(_assertThisInitialized(e),"listenTracker",void 0),_defineProperty(_assertThisInitialized(e),"onError",(function(t){var n,r;return null===(n=(r=e.props).onError)||void 0===n?void 0:n.call(r,t)})),_defineProperty(_assertThisInitialized(e),"onCanPlay",(function(t){var n,r;return null===(n=(r=e.props).onCanPlay)||void 0===n?void 0:n.call(r,t)})),_defineProperty(_assertThisInitialized(e),"onCanPlayThrough",(function(t){var n,r;return null===(n=(r=e.props).onCanPlayThrough)||void 0===n?void 0:n.call(r,t)})),_defineProperty(_assertThisInitialized(e),"onPlay",(function(t){var n,r;e.setListenTrack(),null===(n=(r=e.props).onPlay)||void 0===n||n.call(r,t)})),_defineProperty(_assertThisInitialized(e),"onAbort",(function(t){var n,r;e.clearListenTrack(),null===(n=(r=e.props).onAbort)||void 0===n||n.call(r,t)})),_defineProperty(_assertThisInitialized(e),"onEnded",(function(t){var n,r;e.clearListenTrack(),null===(n=(r=e.props).onEnded)||void 0===n||n.call(r,t)})),_defineProperty(_assertThisInitialized(e),"onPause",(function(t){var n,r;e.clearListenTrack(),null===(n=(r=e.props).onPause)||void 0===n||n.call(r,t)})),_defineProperty(_assertThisInitialized(e),"onSeeked",(function(t){var n,r;null===(n=(r=e.props).onSeeked)||void 0===n||n.call(r,t)})),_defineProperty(_assertThisInitialized(e),"onLoadedMetadata",(function(t){var n,r;null===(n=(r=e.props).onLoadedMetadata)||void 0===n||n.call(r,t)})),_defineProperty(_assertThisInitialized(e),"onVolumeChanged",(function(t){var n,r;null===(n=(r=e.props).onVolumeChanged)||void 0===n||n.call(r,t)})),e}return _createClass(ReactAudioPlayer,[{key:"componentDidMount",value:function(){var e=this.audioEl.current;e&&(this.updateVolume(this.props.volume),e.addEventListener("error",this.onError),e.addEventListener("canplay",this.onCanPlay),e.addEventListener("canplaythrough",this.onCanPlayThrough),e.addEventListener("play",this.onPlay),e.addEventListener("abort",this.onAbort),e.addEventListener("ended",this.onEnded),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeeked),e.addEventListener("loadedmetadata",this.onLoadedMetadata),e.addEventListener("volumechange",this.onVolumeChanged))}},{key:"componentWillUnmount",value:function(){var e=this.audioEl.current;e&&(e.removeEventListener("error",this.onError),e.removeEventListener("canplay",this.onCanPlay),e.removeEventListener("canplaythrough",this.onCanPlayThrough),e.removeEventListener("play",this.onPlay),e.removeEventListener("abort",this.onAbort),e.removeEventListener("ended",this.onEnded),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeeked),e.removeEventListener("loadedmetadata",this.onLoadedMetadata),e.removeEventListener("volumechange",this.onVolumeChanged))}},{key:"componentDidUpdate",value:function(e){this.updateVolume(this.props.volume)}},{key:"setListenTrack",value:function(){var e=this;if(!this.listenTracker){var t=this.props.listenInterval;this.listenTracker=window.setInterval((function(){var t,n;e.audioEl.current&&(null===(t=(n=e.props).onListen)||void 0===t||t.call(n,e.audioEl.current.currentTime))}),t)}}},{key:"updateVolume",value:function(e){var t=this.audioEl.current;null!==t&&"number"==typeof e&&e!==(null==t?void 0:t.volume)&&(t.volume=e)}},{key:"clearListenTrack",value:function(){this.listenTracker&&(clearInterval(this.listenTracker),delete this.listenTracker)}},{key:"render",value:function(){var e=this.props.children||react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Your browser does not support the ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("code",null,"audio")," element."),t=!(!1===this.props.controls),n=this.props.title?this.props.title:this.props.src,r={};return this.props.controlsList&&(r.controlsList=this.props.controlsList),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("audio",_extends({autoPlay:this.props.autoPlay,className:"react-audio-player ".concat(this.props.className),controls:t,crossOrigin:this.props.crossOrigin,id:this.props.id,loop:this.props.loop,muted:this.props.muted,preload:this.props.preload,ref:this.audioEl,src:this.props.src,style:this.props.style,title:n},r),e)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ReactAudioPlayer}(react__WEBPACK_IMPORTED_MODULE_0__.Component);_defineProperty(ReactAudioPlayer,"propTypes",void 0),_defineProperty(ReactAudioPlayer,"defaultProps",void 0),ReactAudioPlayer.defaultProps={autoPlay:!1,children:null,className:"",controls:!1,controlsList:"",id:"",listenInterval:1e4,loop:!1,muted:!1,onAbort:function(){},onCanPlay:function(){},onCanPlayThrough:function(){},onEnded:function(){},onError:function(){},onListen:function(){},onPause:function(){},onPlay:function(){},onSeeked:function(){},onVolumeChanged:function(){},onLoadedMetadata:function(){},preload:"metadata",style:{},title:"",volume:1},ReactAudioPlayer.propTypes={autoPlay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.element,className:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,controls:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,controlsList:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,crossOrigin:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,id:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,listenInterval:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,loop:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,muted:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,onAbort:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onCanPlay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onCanPlayThrough:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onEnded:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onError:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onListen:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onLoadedMetadata:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onPause:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onPlay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onSeeked:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onVolumeChanged:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,preload:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(["","none","metadata","auto"]),src:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string),title:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,volume:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number};var _default=ReactAudioPlayer,reactHotLoader,leaveModule;__nested_webpack_exports__.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ReactAudioPlayer,"ReactAudioPlayer","/home/justin/Projects/react-audio-player/src/index.tsx"),reactHotLoader.register(_default,"default","/home/justin/Projects/react-audio-player/src/index.tsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__nested_webpack_require_1455__(3)(module))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}}])},4463:function(t,n,r){"use strict";var i=r(2791),a=r(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,c={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,U=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function B(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var c="\n"+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case N:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function $(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,n):t.hasOwnProperty("defaultValue")&&te(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function te(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ne=Array.isArray;function re(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(ne(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ce(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ce(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,de,fe=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,ke=null;function Ne(e){if(e=_i(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function je(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ie(e,t){return e(t)}function Ce(){}var Re=!1;function Oe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==Ee||null!==ke)&&(Ce(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Pe=!1}function De(e,t,n,r,i,a,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Me=!1,Ue=null,Fe=!1,Ve=null,Be={onError:function(e){Me=!0,Ue=e}};function ze(e,t,n,r,i,a,o,s,c){Me=!1,Ue=null,De.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(We(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,Ze=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Xe=a.unstable_now,$e=a.unstable_getCurrentPriorityLevel,et=a.unstable_ImmediatePriority,tt=a.unstable_UserBlockingPriority,nt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,it=a.unstable_IdlePriority,at=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ct(e)/lt|0)|0},ct=Math.log,lt=Math.LN2;var ut=64,dt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,Et,kt,Nt,jt=!1,Tt=[],It=null,Ct=null,Rt=null,Ot=new Map,At=new Map,Pt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=bi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Nt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){jt=!1,null!==It&&Ft(It)&&(It=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Rt&&Ft(Rt)&&(Rt=null),Ot.forEach(Vt),At.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Ct&&zt(Ct,e),null!==Rt&&zt(Rt,e),Ot.forEach(t),At.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Pt.shift()}var Ht=x.ReactCurrentBatchConfig,qt=!0;function Gt(e,t,n,r){var i=_t,a=Ht.transition;Ht.transition=null;try{_t=1,Yt(e,t,n,r)}finally{_t=i,Ht.transition=a}}function Kt(e,t,n,r){var i=_t,a=Ht.transition;Ht.transition=null;try{_t=4,Yt(e,t,n,r)}finally{_t=i,Ht.transition=a}}function Yt(e,t,n,r){if(qt){var i=Jt(e,t,n,r);if(null===i)qr(e,t,r,Zt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&wt(a),null===(a=Jt(e,t,n,r))&&qr(e,t,r,Zt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Zt=null;function Jt(e,t,n,r){if(Zt=null,null!==(e=bi(e=we(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case et:return 1;case tt:return 4;case nt:case rt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,en=null;function tn(){if(en)return en;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function an(){return!1}function on(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:an,this.isPropagationStopped=an,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var sn,cn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(un),fn=U({},un,{view:0,detail:0}),hn=on(fn),pn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=on(pn),vn=on(U({},pn,{dataTransfer:0})),gn=on(U({},fn,{relatedTarget:0})),yn=on(U({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=U({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(bn),xn=on(U({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Nn(){return kn}var jn=U({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(jn),In=on(U({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=on(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Rn=on(U({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=U({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(On),Pn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var Mn=d&&"TextEvent"in window&&!Dn,Un=d&&(!Ln||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){je(r),0<(t=Kr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Yn=null;function Zn(e){Fr(e,0)}function Jn(e){if(Y(xi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(d){var $n;if(d){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"===typeof tr.oninput}$n=er}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function nr(){Kn&&(Kn.detachEvent("onpropertychange",rr),Yn=Kn=null)}function rr(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];Gn(t,Yn,e,we(e)),Oe(Zn,t)}}function ir(e,t,n){"focusin"===e?(nr(),Yn=n,(Kn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function or(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!cr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=dr(n,a);var o=dr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==Z(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Kr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},kr={};function Nr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}d&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var jr=Nr("animationend"),Tr=Nr("animationiteration"),Ir=Nr("animationstart"),Cr=Nr("transitionend"),Rr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Rr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Lr=Or[Pr];Ar(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Ar(jr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Cr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,c,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Ue;Me=!1,Ue=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;Ur(i,s,l),a=c}else for(o=0;o<r.length;o++){if(c=(s=r[o]).instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;Ur(i,s,l),a=c}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var i=Gt;break;case 4:i=Kt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=bi(s)))return;if(5===(c=o.tag)||6===c){r=a=o;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var c=dn,l=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":c=Tn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Cn;break;case jr:case Tr:case Ir:c=yn;break;case Cr:c=Rn;break;case"scroll":c=hn;break;case"wheel":c=An;break;case"copy":case"cut":case"paste":c=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=In}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ae(p,f))&&u.push(Gr(p,m,h)))),d)break;p=p.return}0<u.length&&(s=new c(s,l,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(l=n.relatedTarget||n.fromElement)||!bi(l)&&!l[mi])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?bi(l):null)&&(l!==(d=We(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=mn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==c?s:xi(c),h=null==l?s:xi(l),(s=new u(m,p+"leave",c,n,i)).target=d,s.relatedTarget=h,m=null,bi(i)===r&&((u=new u(f,p+"enter",l,n,i)).target=h,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(f=l,p=0,h=u=c;h;h=Yr(h))p++;for(h=0,m=f;m;m=Yr(m))h++;for(;0<p-h;)u=Yr(u),p--;for(;0<h-p;)f=Yr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Yr(u),f=Yr(f)}u=null}else u=null;null!==c&&Zr(o,s,c,u,!1),null!==l&&null!==d&&Zr(o,d,l,u,!0)}if("select"===(c=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Qn;else if(qn(s))if(Xn)v=sr;else{v=ar;var g=ir}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?Gn(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&te(s,"number",s.value)),g=r?xi(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(gr=g,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=tn()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,Wn=!0)),0<(g=Kr(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=tn(),en=$t=Xt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(c=Ae(n,a))&&o.unshift(Gr(n,c,s)):i||null!=(c=Ae(n,a))&&o.push(Gr(n,c,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Qr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function ei(){}var ti=null,ni=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,ai="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ci)}:ii;function ci(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,pi="__reactProps$"+fi,mi="__reactContainer$"+fi,vi="__reactEvents$"+fi,gi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function bi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[hi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[pi]||null}var Si=[],Ei=-1;function ki(e){return{current:e}}function Ni(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function ji(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ti={},Ii=ki(Ti),Ci=ki(!1),Ri=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ni(Ci),Ni(Ii)}function Li(e,t,n){if(Ii.current!==Ti)throw Error(o(168));ji(Ii,t),ji(Ci,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ii.current,ji(Ii,e),ji(Ci,Ci.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ni(Ci),Ni(Ii),ji(Ii,e)):Ni(Ci),ji(Ci,n)}var Fi=null,Vi=!1,Bi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Wi(){if(!Bi&&null!==Fi){Bi=!0;var t=0,n=_t;try{var r=Fi;for(_t=1;t<r.length;t++){var i=r[t];do{i=i(!0)}while(null!==i)}Fi=null,Vi=!1}catch(e){throw null!==Fi&&(Fi=Fi.slice(t+1)),Ye(et,Wi),e}finally{_t=n,Bi=!1}}return null}var Hi=[],qi=0,Gi=null,Ki=0,Yi=[],Zi=0,Ji=null,Qi=1,Xi="";function $i(e,t){Hi[qi++]=Ki,Hi[qi++]=Gi,Gi=e,Ki=t}function ea(e,t,n){Yi[Zi++]=Qi,Yi[Zi++]=Xi,Yi[Zi++]=Ji,Ji=e;var r=Qi;e=Xi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-st(t)+i|n<<i|r,Xi=a+e}else Qi=1<<a|n<<i|r,Xi=e}function ta(e){null!==e.return&&($i(e,1),ea(e,1,0))}function na(e){for(;e===Gi;)Gi=Hi[--qi],Hi[qi]=null,Ki=Hi[--qi],Hi[qi]=null;for(;e===Ji;)Ji=Yi[--Zi],Yi[Zi]=null,Xi=Yi[--Zi],Yi[Zi]=null,Qi=Yi[--Zi],Yi[Zi]=null}var ra=null,ia=null,aa=!1,oa=null;function sa(e,t){var n=Al(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,ia=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Al(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(aa){var t=ia;if(t){var n=t;if(!ca(e,t)){if(la(e))throw Error(o(418));t=ui(n.nextSibling);var r=ra;t&&ca(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(la(e))throw Error(o(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function fa(e){if(e!==ra)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw ha(),Error(o(418));for(;t;)sa(e,t),t=ui(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=ra?ui(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ia;e;)e=ui(e.nextSibling)}function pa(){ia=ra=null,aa=!1}function ma(e){null===oa?oa=[e]:oa.push(e)}var va=x.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=ki(null),ba=null,_a=null,xa=null;function wa(){xa=_a=ba=null}function Sa(e){var t=ya.current;Ni(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t){ba=e,xa=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Na(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ba)throw Error(o(308));_a=e,ba.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var ja=null;function Ta(e){null===ja?ja=[e]:ja.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function Da(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===o?a=l:o.next=l,o=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==a){var d=i.baseState;for(o=0,u=l=c=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=U({},d,f);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=h,c=d):u=u.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Uc|=o,e.lanes=o,e.memoizedState=d}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Va=(new i.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nl(),i=rl(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(il(t,e,i,r),Da(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nl(),i=rl(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(il(t,e,i,r),Da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nl(),r=rl(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=La(e,i,r))&&(il(t,e,r,n),Da(t,e,r))}};function Wa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Ha(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Na(a):(i=Ai(t)?Ri:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Na(a):(a=Ai(t)?Ri:Ii.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ya(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ll(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Za(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Dl(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case S:return(t=Vl(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(ne(t)||D(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ya(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case A:return h(e,t,(i=n._init)(n._payload),r)}if(ne(n)||D(n))return null!==i?null:d(e,t,n,r,null);Ya(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(ne(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);Ya(t,r)}return null}function m(i,o,s,c){for(var l=null,u=null,d=o,m=o=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=h(i,d,s[m],c);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,m),null===u?l=g:u.sibling=g,u=g,d=v}if(m===s.length)return n(i,d),aa&&$i(i,m),l;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],c))&&(o=a(d,o,m),null===u?l=d:u.sibling=d,u=d);return aa&&$i(i,m),l}for(d=r(i,d);m<s.length;m++)null!==(v=p(d,i,m,s[m],c))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),o=a(v,o,m),null===u?l=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(i,e)})),aa&&$i(i,m),l}function v(i,s,c,l){var u=D(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var d=u=null,m=s,v=s=0,g=null,y=c.next();null!==m&&!y.done;v++,y=c.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=h(i,m,y.value,l);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,v),null===d?u=b:d.sibling=b,d=b,m=g}if(y.done)return n(i,m),aa&&$i(i,v),u;if(null===m){for(;!y.done;v++,y=c.next())null!==(y=f(i,y.value,l))&&(s=a(y,s,v),null===d?u=y:d.sibling=y,d=y);return aa&&$i(i,v),u}for(m=r(i,m);!y.done;v++,y=c.next())null!==(y=p(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),aa&&$i(i,v),u}return function e(r,a,o,c){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,u=a;null!==u;){if(u.key===l){if((l=o.type)===E){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===A&&Za(l)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=Ka(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===E?((a=Ml(o.props.children,r.mode,c,o.key)).return=r,r=a):((c=Dl(o.type,o.key,o.props,null,r.mode,c)).ref=Ka(r,a,o),c.return=r,r=c)}return s(r);case S:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vl(o,r.mode,c)).return=r,r=a}return s(r);case A:return e(r,a,(u=o._init)(o._payload),c)}if(ne(o))return m(r,a,o,c);if(D(o))return v(r,a,o,c);Ya(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fl(o,r.mode,c)).return=r,r=a),s(r)):n(r,a)}}var Qa=Ja(!0),Xa=Ja(!1),$a={},eo=ki($a),to=ki($a),no=ki($a);function ro(e){if(e===$a)throw Error(o(174));return e}function io(e,t){switch(ji(no,t),ji(to,e),ji(eo,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ni(eo),ji(eo,t)}function ao(){Ni(eo),Ni(to),Ni(no)}function oo(e){ro(no.current);var t=ro(eo.current),n=le(t,e.type);t!==n&&(ji(to,e),ji(eo,n))}function so(e){to.current===e&&(Ni(eo),Ni(to))}var co=ki(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function fo(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var ho=x.ReactCurrentDispatcher,po=x.ReactCurrentBatchConfig,mo=0,vo=null,go=null,yo=null,bo=!1,_o=!1,xo=0,wo=0;function So(){throw Error(o(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,a){if(mo=a,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?cs:ls,e=n(r,i),_o){a=0;do{if(_o=!1,xo=0,25<=a)throw Error(o(301));a+=1,yo=go=null,t.updateQueue=null,ho.current=us,e=n(r,i)}while(_o)}if(ho.current=ss,t=null!==go&&null!==go.next,mo=0,yo=go=vo=null,bo=!1,t)throw Error(o(300));return e}function No(){var e=0!==xo;return xo=0,e}function jo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===go){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,go=e;else{if(null===e)throw Error(o(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=To(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=s=null,l=null,u=a;do{var d=u.lane;if((mo&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=f,s=r):l=l.next=f,vo.lanes|=d,Uc|=d}u=u.next}while(null!==u&&u!==a);null===l?s=r:l.next=c,cr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,vo.lanes|=a,Uc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);cr(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Oo(){}function Ao(e,t){var n=vo,r=To(),i=t(),a=!cr(r.memoizedState,i);if(a&&(r.memoizedState=i,xs=!0),r=r.queue,qo(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Rc)throw Error(o(349));0!==(30&mo)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Uo(e)}function Do(e,t,n){return n((function(){Mo(t)&&Uo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cr(e,n)}catch(r){return!0}}function Uo(e){var t=Ca(e,1);null!==t&&il(t,e,1,-1)}function Fo(e){var t=jo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=rs.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return To().memoizedState}function zo(e,t,n,r){var i=jo();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Wo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function Ho(e,t){return zo(8390656,8,e,t)}function qo(e,t){return Wo(2048,8,e,t)}function Go(e,t){return Wo(4,2,e,t)}function Ko(e,t){return Wo(4,4,e,t)}function Yo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4,4,Yo.bind(null,t,e),n)}function Jo(){}function Qo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&mo)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(cr(n,t)||(n=vt(),vo.lanes|=n,Uc|=n,e.baseState=!0),t)}function es(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{_t=n,po.transition=r}}function ts(){return To().memoizedState}function ns(e,t,n){var r=rl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},is(e))as(t,n);else if(null!==(n=Ia(e,t,n,r))){il(n,e,r,nl()),os(n,t,r)}}function rs(e,t,n){var r=rl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(e))as(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,cr(s,o)){var c=t.interleaved;return null===c?(i.next=i,Ta(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(il(n,e,r,i=nl()),os(n,t,r))}}function is(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function as(e,t){_o=bo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var ss={readContext:Na,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},cs={readContext:Na,useCallback:function(e,t){return jo().memoizedState=[e,void 0===t?null:t],e},useContext:Na,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Yo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=jo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ns.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},jo().memoizedState=e},useState:Fo,useDebugValue:Jo,useDeferredValue:function(e){return jo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=es.bind(null,e[1]),jo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=jo();if(aa){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Rc)throw Error(o(349));0!==(30&mo)||Po(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ho(Do.bind(null,r,a,e),[e]),r.flags|=2048,Vo(9,Lo.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=jo(),t=Rc.identifierPrefix;if(aa){var n=Xi;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Na,useCallback:Qo,useContext:Na,useEffect:qo,useImperativeHandle:Zo,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:Xo,useReducer:Co,useRef:Bo,useState:function(){return Co(Io)},useDebugValue:Jo,useDeferredValue:function(e){return $o(To(),go.memoizedState,e)},useTransition:function(){return[Co(Io)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ao,useId:ts,unstable_isNewReconciler:!1},us={readContext:Na,useCallback:Qo,useContext:Na,useEffect:qo,useImperativeHandle:Zo,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ro,useRef:Bo,useState:function(){return Ro(Io)},useDebugValue:Jo,useDeferredValue:function(e){var t=To();return null===go?t.memoizedState=e:$o(t,go.memoizedState,e)},useTransition:function(){return[Ro(Io)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ao,useId:ts,unstable_isNewReconciler:!1};function ds(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function ms(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gc||(Gc=!0,Kc=r),hs(0,t)},n}function vs(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Yc?Yc=new Set([this]):Yc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=jl.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,La(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Qa(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var a=t.ref;return ka(t,i),r=ko(e,t,n,r,a,i),n=No(),null===e||xs?(aa&&n&&ta(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Ll(a,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Ts(e,t,n,r,i)}function Ns(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ji(Lc,Pc),Pc|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ji(Lc,Pc),Pc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,ji(Lc,Pc),Pc|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ji(Lc,Pc),Pc|=r;return ws(e,t,i,n),t.child}function js(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ai(n)?Ri:Ii.current;return a=Oi(t,a),ka(t,i),n=ko(e,t,n,r,a,i),r=No(),null===e||xs?(aa&&r&&ta(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Is(e,t,n,r,i){if(Ai(n)){var a=!0;Mi(t)}else a=!1;if(ka(t,i),null===t.stateNode)qs(e,t),Ha(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Na(l):l=Oi(t,l=Ai(n)?Ri:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||c!==l)&&qa(t,o,r,l),Ra=!1;var f=t.memoizedState;o.state=f,Ua(t,r,o,i),c=t.memoizedState,s!==r||f!==c||Ci.current||Ra?("function"===typeof u&&(Ba(t,n,u,r),c=t.memoizedState),(s=Ra||Wa(t,n,s,r,f,c,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ga(t.type,s),o.props=l,d=t.pendingProps,f=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=Na(c):c=Oi(t,c=Ai(n)?Ri:Ii.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==c)&&qa(t,o,r,c),Ra=!1,f=t.memoizedState,o.state=f,Ua(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ci.current||Ra?("function"===typeof h&&(Ba(t,n,h,r),p=t.memoizedState),(l=Ra||Wa(t,n,l,r,f,p,c)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){js(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Gs(e,t,a);r=t.stateNode,_s.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),io(e,t.containerInfo)}function Os(e,t,n,r,i){return pa(),ma(i),t.flags|=256,ws(e,t,n,r),t.child}var As,Ps,Ls,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Us(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=co.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ji(co,1&a),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,s?(i=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Ul(c,i,0,null),e=Ml(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Us(n),t.memoizedState=Ms,e):Vs(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ul({mode:"visible",children:r.children},i,0,null),(a=Ml(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Qa(t,e.child,null,s),t.child.memoizedState=Us(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Bs(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(c=0!==(s&e.childLanes),xs||c){if(null!==(r=Rc)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ca(e,i),il(r,e,i,-1))}return gl(),Bs(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ia=ui(i.nextSibling),ra=t,aa=!0,oa=null,null!==e&&(Yi[Zi++]=Qi,Yi[Zi++]=Xi,Yi[Zi++]=Ji,Qi=e.id,Xi=e.overflow,Ji=t),t=Vs(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,a,n);if(s){s=i.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ll(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ll(r,s):(s=Ml(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,c=null===(c=e.child.memoizedState)?Us(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Ll(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=Ul({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&ma(r),Qa(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Ws(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ji(co,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,a);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Uc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ll(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ll(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zs(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Ai(t.type)&&Pi(),Ys(t),null;case 3:return r=t.stateNode,ao(),Ni(Ci),Ni(Ii),fo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oa&&(cl(oa),oa=null))),Ps(e,t),Ys(t),null;case 5:so(t);var i=ro(no.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ys(t),null}if(e=ro(eo.current),fa(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Q(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":ae(r,a),Vr("invalid",r)}for(var s in be(n,a),i=null,a)if(a.hasOwnProperty(s)){var l=a[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",""+l]):c.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":K(r),ee(r,a,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ei)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ce(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[pi]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(s=_e(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Q(e,r),i=J(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ae(e,r),i=ie(e,r),Vr("invalid",e)}for(a in be(n,i),l=i)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&fe(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(c.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vr("scroll",e):null!=u&&_(e,a,u,s))}switch(n){case"input":K(e),ee(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?re(e,!!r.multiple,a,!1):null!=r.defaultValue&&re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ro(no.current),ro(eo.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ys(t),null;case 13:if(Ni(co),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,a=!1;else if(a=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),a=!1}else null!==oa&&(cl(oa),oa=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&co.current)?0===Dc&&(Dc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return ao(),Ps(e,t),null===e&&Wr(t.stateNode.containerInfo),Ys(t),null;case 10:return Sa(t.type._context),Ys(t),null;case 19:if(Ni(co),null===(a=t.memoizedState))return Ys(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)Ks(a,!1);else{if(0!==Dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=lo(e))){for(t.flags|=128,Ks(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ji(co,1&co.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Hc&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!aa)return Ys(t),null}else 2*Xe()-a.renderingStartTime>Hc&&1073741824!==n&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=co.current,ji(co,r?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pc)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Js(e,t){switch(na(t),t.tag){case 1:return Ai(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Ni(Ci),Ni(Ii),fo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return so(t),null;case 13:if(Ni(co),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ni(co),null;case 4:return ao(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ro(eo.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=ie(e,i),r=ie(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ei)}for(u in be(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(c.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(null!=l||null!=s))if("style"===u)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(c.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Vr("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Xs=!1,$s="function"===typeof WeakSet?WeakSet:Set,ec=null;function tc(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nl(e,t,r)}else n.current=null}function nc(e,t,n){try{n()}catch(r){Nl(e,t,r)}}var rc=!1;function ic(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&nc(t,n,a)}i=i.next}while(i!==r)}}function ac(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sc(e){var t=e.alternate;null!==t&&(e.alternate=null,sc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[vi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cc(e){return 5===e.tag||3===e.tag||4===e.tag}function lc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||cc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ei));else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}function dc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dc(e,t,n),e=e.sibling;null!==e;)dc(e,t,n),e=e.sibling}var fc=null,hc=!1;function pc(e,t,n){for(n=n.child;null!==n;)mc(e,t,n),n=n.sibling}function mc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Xs||tc(n,t);case 6:var r=fc,i=hc;fc=null,pc(e,t,n),hc=i,null!==(fc=r)&&(hc?(e=fc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fc.removeChild(n.stateNode));break;case 18:null!==fc&&(hc?(e=fc,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Wt(e)):li(fc,n.stateNode));break;case 4:r=fc,i=hc,fc=n.stateNode.containerInfo,hc=!0,pc(e,t,n),fc=r,hc=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&nc(n,t,o),i=i.next}while(i!==r)}pc(e,t,n);break;case 1:if(!Xs&&(tc(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Nl(n,t,s)}pc(e,t,n);break;case 21:pc(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,pc(e,t,n),Xs=r):pc(e,t,n);break;default:pc(e,t,n)}}function vc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:fc=c.stateNode,hc=!1;break e;case 3:case 4:fc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===fc)throw Error(o(160));mc(a,s,i),fc=null,hc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Nl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yc(t,e),t=t.sibling}function yc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),bc(e),4&r){try{ic(3,e,e.return),ac(3,e)}catch(v){Nl(e,e.return,v)}try{ic(5,e,e.return)}catch(v){Nl(e,e.return,v)}}break;case 1:gc(t,e),bc(e),512&r&&null!==n&&tc(n,n.return);break;case 5:if(gc(t,e),bc(e),512&r&&null!==n&&tc(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){Nl(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&X(i,a),_e(c,s);var u=_e(c,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?fe(i,f):"children"===d?he(i,f):_(i,d,f,u)}switch(c){case"input":$(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?re(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?re(i,!!a.multiple,a.defaultValue,!0):re(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(v){Nl(e,e.return,v)}}break;case 6:if(gc(t,e),bc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){Nl(e,e.return,v)}}break;case 3:if(gc(t,e),bc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(v){Nl(e,e.return,v)}break;case 4:default:gc(t,e),bc(e);break;case 13:gc(t,e),bc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Wc=Xe())),4&r&&vc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,gc(t,e),Xs=u):gc(t,e),bc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(ec=e,d=e.child;null!==d;){for(f=ec=d;null!==ec;){switch(p=(h=ec).child,h.tag){case 0:case 11:case 14:case 15:ic(4,h,h.return);break;case 1:tc(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Nl(r,n,v)}}break;case 5:tc(h,h.return);break;case 22:if(null!==h.memoizedState){Sc(f);continue}}null!==p?(p.return=h,ec=p):Sc(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=ve("display",s))}catch(v){Nl(e,e.return,v)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Nl(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gc(t,e),bc(e),4&r&&vc(e);case 21:}}function bc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(cc(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),dc(e,lc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uc(e,lc(e),a);break;default:throw Error(o(161))}}catch(s){Nl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _c(e,t,n){ec=e,xc(e,t,n)}function xc(e,t,n){for(var r=0!==(1&e.mode);null!==ec;){var i=ec,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,c=null!==s&&null!==s.memoizedState||Xs;s=Qs;var l=Xs;if(Qs=o,(Xs=c)&&!l)for(ec=i;null!==ec;)c=(o=ec).child,22===o.tag&&null!==o.memoizedState?Ec(i):null!==c?(c.return=o,ec=c):Ec(i);for(;null!==a;)ec=a,xc(a,t,n),a=a.sibling;ec=i,Qs=s,Xs=l}wc(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,ec=a):wc(e)}}function wc(e){for(;null!==ec;){var t=ec;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ac(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fa(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Wt(f)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&oc(t)}catch(h){Nl(t,t.return,h)}}if(t===e){ec=null;break}if(null!==(n=t.sibling)){n.return=t.return,ec=n;break}ec=t.return}}function Sc(e){for(;null!==ec;){var t=ec;if(t===e){ec=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ec=n;break}ec=t.return}}function Ec(e){for(;null!==ec;){var t=ec;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ac(4,t)}catch(c){Nl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Nl(t,i,c)}}var a=t.return;try{oc(t)}catch(c){Nl(t,a,c)}break;case 5:var o=t.return;try{oc(t)}catch(c){Nl(t,o,c)}}}catch(c){Nl(t,t.return,c)}if(t===e){ec=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ec=s;break}ec=t.return}}var kc,Nc=Math.ceil,jc=x.ReactCurrentDispatcher,Tc=x.ReactCurrentOwner,Ic=x.ReactCurrentBatchConfig,Cc=0,Rc=null,Oc=null,Ac=0,Pc=0,Lc=ki(0),Dc=0,Mc=null,Uc=0,Fc=0,Vc=0,Bc=null,zc=null,Wc=0,Hc=1/0,qc=null,Gc=!1,Kc=null,Yc=null,Zc=!1,Jc=null,Qc=0,Xc=0,$c=null,el=-1,tl=0;function nl(){return 0!==(6&Cc)?Xe():-1!==el?el:el=Xe()}function rl(e){return 0===(1&e.mode)?1:0!==(2&Cc)&&0!==Ac?Ac&-Ac:null!==va.transition?(0===tl&&(tl=vt()),tl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function il(e,t,n,r){if(50<Xc)throw Xc=0,$c=null,Error(o(185));yt(e,n,r),0!==(2&Cc)&&e===Rc||(e===Rc&&(0===(2&Cc)&&(Fc|=n),4===Dc&&ll(e,Ac)),al(e,r),1===n&&0===Cc&&0===(1&t.mode)&&(Hc=Xe()+500,Vi&&Wi()))}function al(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-st(a),s=1<<o,c=i[o];-1===c?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Rc?Ac:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(ul.bind(null,e)):zi(ul.bind(null,e)),si((function(){0===(6&Cc)&&Wi()})),n=null;else{switch(xt(r)){case 1:n=et;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=it}n=Rl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(el=-1,tl=0,0!==(6&Cc))throw Error(o(327));var n=e.callbackNode;if(El()&&e.callbackNode!==n)return null;var r=ht(e,e===Rc?Ac:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Cc;Cc|=2;var a=vl();for(Rc===e&&Ac===t||(qc=null,Hc=Xe()+500,pl(e,t));;)try{_l();break}catch(c){ml(e,c)}wa(),jc.current=a,Cc=i,null!==Oc?t=0:(Rc=null,Ac=0,t=Dc)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(r=i,t=sl(e,i))),1===t)throw n=Mc,pl(e,0),ll(e,r),al(e,Xe()),n;if(6===t)ll(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!cr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(a=mt(e))&&(r=a,t=sl(e,a))),1===t))throw n=Mc,pl(e,0),ll(e,r),al(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sl(e,zc,qc);break;case 3:if(ll(e,r),(130023424&r)===r&&10<(t=Wc+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(Sl.bind(null,e,zc,qc),t);break}Sl(e,zc,qc);break;case 4:if(ll(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-st(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nc(r/1960))-r)){e.timeoutHandle=ii(Sl.bind(null,e,zc,qc),r);break}Sl(e,zc,qc);break;default:throw Error(o(329))}}}return al(e,Xe()),e.callbackNode===n?ol.bind(null,e):null}function sl(e,t){var n=Bc;return e.current.memoizedState.isDehydrated&&(pl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=zc,zc=n,null!==t&&cl(t)),e}function cl(e){null===zc?zc=e:zc.push.apply(zc,e)}function ll(e,t){for(t&=~Vc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Cc))throw Error(o(327));El();var t=ht(e,0);if(0===(1&t))return al(e,Xe()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=sl(e,r))}if(1===n)throw n=Mc,pl(e,0),ll(e,t),al(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sl(e,zc,qc),al(e,Xe()),null}function dl(e,t){var n=Cc;Cc|=1;try{return e(t)}finally{0===(Cc=n)&&(Hc=Xe()+500,Vi&&Wi())}}function fl(e){null!==Jc&&0===Jc.tag&&0===(6&Cc)&&El();var t=Cc;Cc|=1;var n=Ic.transition,r=_t;try{if(Ic.transition=null,_t=1,e)return e()}finally{_t=r,Ic.transition=n,0===(6&(Cc=t))&&Wi()}}function hl(){Pc=Lc.current,Ni(Lc)}function pl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ai(n)),null!==Oc)for(n=Oc.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:ao(),Ni(Ci),Ni(Ii),fo();break;case 5:so(r);break;case 4:ao();break;case 13:case 19:Ni(co);break;case 10:Sa(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Rc=e,Oc=e=Ll(e.current,null),Ac=Pc=t,Dc=0,Mc=null,Vc=Fc=Uc=0,zc=Bc=null,null!==ja){for(t=0;t<ja.length;t++)if(null!==(r=(n=ja[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ja=null}return e}function ml(e,t){for(;;){var n=Oc;try{if(wa(),ho.current=ss,bo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}bo=!1}if(mo=0,yo=go=vo=null,_o=!1,xo=0,Tc.current=null,null===n||null===n.return){Dc=1,Mc=t,Oc=null;break}e:{var a=e,s=n.return,c=n,l=t;if(t=Ac,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,bs(p,s,c,0,t),1&p.mode&&gs(a,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}if(0===(1&t)){gs(a,u,t),gl();break e}l=Error(o(426))}else if(aa&&1&c.mode){var g=ys(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),bs(g,s,c,0,t),ma(ds(l,c));break e}}a=l=ds(l,c),4!==Dc&&(Dc=2),null===Bc?Bc=[a]:Bc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ma(a,ms(0,l,t));break e;case 1:c=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yc||!Yc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ma(a,vs(a,c,t));break e}}a=a.return}while(null!==a)}wl(n)}catch(_){t=_,Oc===n&&null!==n&&(Oc=n=n.return);continue}break}}function vl(){var e=jc.current;return jc.current=ss,null===e?ss:e}function gl(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===Rc||0===(268435455&Uc)&&0===(268435455&Fc)||ll(Rc,Ac)}function yl(t,n){var r=Cc;Cc|=2;var i=vl();for(Rc===t&&Ac===n||(qc=null,pl(t,n));;)try{bl();break}catch(e){ml(t,e)}if(wa(),Cc=r,jc.current=i,null!==Oc)throw Error(o(261));return Rc=null,Ac=0,Dc}function bl(){for(;null!==Oc;)xl(Oc)}function _l(){for(;null!==Oc&&!Je();)xl(Oc)}function xl(e){var t=kc(e.alternate,e,Pc);e.memoizedProps=e.pendingProps,null===t?wl(e):Oc=t,Tc.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zs(n,t,Pc)))return void(Oc=n)}else{if(null!==(n=Js(n,t)))return n.flags&=32767,void(Oc=n);if(null===e)return Dc=6,void(Oc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Oc=t);Oc=t=e}while(null!==t);0===Dc&&(Dc=5)}function Sl(e,t,n){var r=_t,i=Ic.transition;try{Ic.transition=null,_t=1,function(e,t,n,r){do{El()}while(null!==Jc);if(0!==(6&Cc))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Rc&&(Oc=Rc=null,Ac=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zc||(Zc=!0,Rl(nt,(function(){return El(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ic.transition,Ic.transition=null;var s=_t;_t=1;var c=Cc;Cc|=4,Tc.current=null,function(e,t){if(ti=qt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,c=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(c=s+i),f!==a||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(c=s),h===a&&++d===r&&(l=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},qt=!1,ec=t;null!==ec;)if(e=(t=ec).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ec=e;else for(;null!==ec;){t=ec;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ga(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(x){Nl(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,ec=e;break}ec=t.return}m=rc,rc=!1}(e,n),yc(n,e),mr(ni),qt=!!ti,ni=ti=null,e.current=n,_c(n,e,i),Qe(),Cc=c,_t=s,Ic.transition=a}else e.current=n;if(Zc&&(Zc=!1,Jc=e,Qc=i),a=e.pendingLanes,0===a&&(Yc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),al(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gc)throw Gc=!1,e=Kc,Kc=null,e;0!==(1&Qc)&&0!==e.tag&&El(),a=e.pendingLanes,0!==(1&a)?e===$c?Xc++:(Xc=0,$c=e):Xc=0,Wi()}(e,t,n,r)}finally{Ic.transition=i,_t=r}return null}function El(){if(null!==Jc){var e=xt(Qc),t=Ic.transition,n=_t;try{if(Ic.transition=null,_t=16>e?16:e,null===Jc)var r=!1;else{if(e=Jc,Jc=null,Qc=0,0!==(6&Cc))throw Error(o(331));var i=Cc;for(Cc|=4,ec=e.current;null!==ec;){var a=ec,s=a.child;if(0!==(16&ec.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(ec=u;null!==ec;){var d=ec;switch(d.tag){case 0:case 11:case 15:ic(8,d,a)}var f=d.child;if(null!==f)f.return=d,ec=f;else for(;null!==ec;){var h=(d=ec).sibling,p=d.return;if(sc(d),d===u){ec=null;break}if(null!==h){h.return=p,ec=h;break}ec=p}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}ec=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,ec=s;else e:for(;null!==ec;){if(0!==(2048&(a=ec).flags))switch(a.tag){case 0:case 11:case 15:ic(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ec=y;break e}ec=a.return}}var b=e.current;for(ec=b;null!==ec;){var _=(s=ec).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,ec=_;else e:for(s=b;null!==ec;){if(0!==(2048&(c=ec).flags))try{switch(c.tag){case 0:case 11:case 15:ac(9,c)}}catch(w){Nl(c,c.return,w)}if(c===s){ec=null;break e}var x=c.sibling;if(null!==x){x.return=c.return,ec=x;break e}ec=c.return}}if(Cc=i,Wi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{_t=n,Ic.transition=t}}return!1}function kl(e,t,n){e=La(e,t=ms(0,t=ds(n,t),1),1),t=nl(),null!==e&&(yt(e,1,t),al(e,t))}function Nl(e,t,n){if(3===e.tag)kl(e,e,n);else for(;null!==t;){if(3===t.tag){kl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yc||!Yc.has(r))){t=La(t,e=vs(t,e=ds(n,e),1),1),e=nl(),null!==t&&(yt(t,1,e),al(t,e));break}}t=t.return}}function jl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nl(),e.pingedLanes|=e.suspendedLanes&n,Rc===e&&(Ac&n)===n&&(4===Dc||3===Dc&&(130023424&Ac)===Ac&&500>Xe()-Wc?pl(e,0):Vc|=n),al(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=nl();null!==(e=Ca(e,t))&&(yt(e,t,n),al(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tl(e,n)}function Rl(e,t){return Ye(e,t)}function Ol(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Al(e,t,n,r){return new Ol(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ll(e,t){var n=e.alternate;return null===n?((n=Al(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Ml(n.children,i,a,t);case k:s=8,i|=8;break;case N:return(e=Al(12,n,t,2|i)).elementType=N,e.lanes=a,e;case C:return(e=Al(13,n,t,i)).elementType=C,e.lanes=a,e;case R:return(e=Al(19,n,t,i)).elementType=R,e.lanes=a,e;case P:return Ul(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:s=10;break e;case T:s=9;break e;case I:s=11;break e;case O:s=14;break e;case A:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Al(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ml(e,t,n,r){return(e=Al(7,e,r,t)).lanes=n,e}function Ul(e,t,n,r){return(e=Al(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Al(6,e,null,t)).lanes=n,e}function Vl(e,t,n){return(t=Al(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,a,o,s,c){return e=new Bl(e,t,n,s,c),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Al(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Wl(e){if(!e)return Ti;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Di(e,n,t)}return t}function Hl(e,t,n,r,i,a,o,s,c){return(e=zl(n,r,!0,e,0,a,0,s,c)).context=Wl(null),n=e.current,(a=Pa(r=nl(),i=rl(n))).callback=void 0!==t&&null!==t?t:null,La(n,a,i),e.current.lanes=i,yt(e,i,r),al(e,r),e}function ql(e,t,n,r){var i=t.current,a=nl(),o=rl(i);return n=Wl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=La(i,t,o))&&(il(e,i,o,a),Da(e,i,o)),o}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}kc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),pa();break;case 5:oo(t);break;case 1:Ai(t.type)&&Mi(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ji(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ji(co,1&co.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(ji(co,1&co.current),null!==(e=Gs(e,t,n))?e.sibling:null);ji(co,1&co.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ji(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n)}return Gs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,aa&&0!==(1048576&t.flags)&&ea(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Oi(t,Ii.current);ka(t,n),i=ko(null,t,r,e,i,n);var a=No();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Cs(null,t,r,!0,a,n)):(t.tag=0,aa&&a&&ta(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===O)return 14}return 2}(r),e=ga(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ga(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Aa(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Os(e,t,r,n,i=ds(Error(o(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=ds(Error(o(424)),t));break e}for(ia=ui(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,oa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Gs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return oo(t),null===e&&ua(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ri(r,i)?s=null:null!==a&&ri(r,a)&&(t.flags|=32),js(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Fs(e,t,n);case 4:return io(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ji(ya,r._currentValue),r._currentValue=s,null!==a)if(cr(a.value,s)){if(a.children===i.children&&!Ci.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Pa(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ea(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ea(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ka(t,n),r=r(i=Na(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ga(r=t.type,t.pendingProps),Es(e,t,r,i=ga(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ga(r,i),qs(e,t),t.tag=1,Ai(r)?(e=!0,Mi(t)):e=!1,ka(t,n),Ha(t,r,i),Ga(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ns(e,t,n)}throw Error(o(156,t.tag))};var Zl="function"===typeof reportError?reportError:function(e){console.error(e)};function Jl(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Gl(o);s.call(e)}}ql(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gl(o);a.call(e)}}var o=Hl(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=o,e[mi]=o.current,Wr(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gl(c);s.call(e)}}var c=zl(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=c,e[mi]=c.current,Wr(8===e.nodeType?e.parentNode:e),fl((function(){ql(t,c,n,r)})),c}(n,t,e,i,r);return Gl(o)}Ql.prototype.render=Jl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));ql(e,t,null,null)},Ql.prototype.unmount=Jl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){ql(null,e,null,null)})),t[mi]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(bt(t,1|n),al(t,Xe()),0===(6&Cc)&&(Hc=Xe()+500,Wi()))}break;case 13:fl((function(){var t=Ca(e,1);if(null!==t){var n=nl();il(t,e,1,n)}})),Yl(e,1)}},St=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)il(t,e,134217728,nl());Yl(e,134217728)}},Et=function(e){if(13===e.tag){var t=rl(e),n=Ca(e,t);if(null!==n)il(n,e,t,nl());Yl(e,t)}},kt=function(){return _t},Nt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Se=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));Y(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&re(e,!!n.multiple,t,!1)}},Ie=dl,Ce=fl;var nu={usingClientEntryPoint:!1,Events:[_i,xi,wi,je,Te,dl]},ru={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{at=au.inject(iu),ot=au}catch(de){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,n.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},n.createRoot=function(e,t){if(!Xl(e))throw Error(o(299));var n=!1,r="",i=Zl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Jl(t)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},n.flushSync=function(e){return fl(e)},n.hydrate=function(e,t,n){if(!$l(t))throw Error(o(200));return tu(null,e,t,!0,n)},n.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Zl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,i,0,a,s),e[mi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ql(t)},n.render=function(e,t,n){if(!$l(t))throw Error(o(200));return tu(null,e,t,!1,n)},n.unmountComponentAtNode=function(e){if(!$l(e))throw Error(o(40));return!!e._reactRootContainer&&(fl((function(){tu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mi]=null}))})),!0)},n.unstable_batchedUpdates=dl,n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return tu(e,t,n,!1,r)},n.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,c,l,u;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(c=s;0!==c--;)if(!a(e[c],o[c]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;for(u=e.entries();!(c=u.next()).done;)if(!a(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(c=s;0!==c--;)if(e[c]!==o[c])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((s=(l=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(c=s;0!==c--;)if(!Object.prototype.hasOwnProperty.call(o,l[c]))return!1;if(t&&e instanceof Element)return!1;for(c=s;0!==c--;)if(("_owner"!==l[c]&&"__v"!==l[c]&&"__o"!==l[c]||!e.$$typeof)&&!a(e[l[c]],o[l[c]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},9434:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791)),s=(a=r(77))&&a.__esModule?a:{default:a},c=r(9174),l=r(135);function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=v(t);if(n){var a=v(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return m(e)}(this,e)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r,i=p(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(m(e=i.call.apply(i,[this].concat(n))),"mounted",!1),g(m(e),"isReady",!1),g(m(e),"isPlaying",!1),g(m(e),"isLoading",!0),g(m(e),"loadOnReady",null),g(m(e),"startOnPlay",!0),g(m(e),"seekOnPlay",null),g(m(e),"onDurationCalled",!1),g(m(e),"handlePlayerMount",(function(t){e.player||(e.player=t,e.player.load(e.props.url)),e.progress()})),g(m(e),"getInternalPlayer",(function(t){return e.player?e.player[t]:null})),g(m(e),"progress",(function(){if(e.props.url&&e.player&&e.isReady){var t=e.getCurrentTime()||0,n=e.getSecondsLoaded(),r=e.getDuration();if(r){var i={playedSeconds:t,played:t/r};null!==n&&(i.loadedSeconds=n,i.loaded=n/r),i.playedSeconds===e.prevPlayed&&i.loadedSeconds===e.prevLoaded||e.props.onProgress(i),e.prevPlayed=i.playedSeconds,e.prevLoaded=i.loadedSeconds}}e.progressTimeout=setTimeout(e.progress,e.props.progressFrequency||e.props.progressInterval)})),g(m(e),"handleReady",(function(){if(e.mounted){e.isReady=!0,e.isLoading=!1;var t=e.props,n=t.onReady,r=t.playing,i=t.volume,a=t.muted;n(),a||null===i||e.player.setVolume(i),e.loadOnReady?(e.player.load(e.loadOnReady,!0),e.loadOnReady=null):r&&e.player.play(),e.handleDurationCheck()}})),g(m(e),"handlePlay",(function(){e.isPlaying=!0,e.isLoading=!1;var t=e.props,n=t.onStart,r=t.onPlay,i=t.playbackRate;e.startOnPlay&&(e.player.setPlaybackRate&&1!==i&&e.player.setPlaybackRate(i),n(),e.startOnPlay=!1),r(),e.seekOnPlay&&(e.seekTo(e.seekOnPlay),e.seekOnPlay=null),e.handleDurationCheck()})),g(m(e),"handlePause",(function(t){e.isPlaying=!1,e.isLoading||e.props.onPause(t)})),g(m(e),"handleEnded",(function(){var t=e.props,n=t.activePlayer,r=t.loop,i=t.onEnded;n.loopOnEnded&&r&&e.seekTo(0),r||(e.isPlaying=!1,i())})),g(m(e),"handleError",(function(){var t;e.isLoading=!1,(t=e.props).onError.apply(t,arguments)})),g(m(e),"handleDurationCheck",(function(){clearTimeout(e.durationCheckTimeout);var t=e.getDuration();t?e.onDurationCalled||(e.props.onDuration(t),e.onDurationCalled=!0):e.durationCheckTimeout=setTimeout(e.handleDurationCheck,100)})),g(m(e),"handleLoaded",(function(){e.isLoading=!1})),e}return t=a,n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.player){var n=this.props,r=n.url,i=n.playing,a=n.volume,o=n.muted,c=n.playbackRate,u=n.pip,d=n.loop,f=n.activePlayer,h=n.disableDeferredLoading;if(!(0,s.default)(e.url,r)){if(this.isLoading&&!f.forceLoad&&!h&&!(0,l.isMediaStream)(r))return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}e.playing||!i||this.isPlaying||this.player.play(),e.playing&&!i&&this.isPlaying&&this.player.pause(),!e.pip&&u&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!u&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==a&&null!==a&&this.player.setVolume(a),e.muted!==o&&(o?this.player.mute():(this.player.unmute(),null!==a&&setTimeout((function(){return t.player.setVolume(a)})))),e.playbackRate!==c&&this.player.setPlaybackRate&&this.player.setPlaybackRate(c),e.loop!==d&&this.player.setLoop&&this.player.setLoop(d)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var n=this;if(this.isReady){if(t?"fraction"===t:e>0&&e<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*e):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e)}else 0!==e&&(this.seekOnPlay=e,setTimeout((function(){n.seekOnPlay=null}),5e3))}},{key:"render",value:function(){var e=this.props.activePlayer;return e?o.default.createElement(e,d({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}],n&&f(t.prototype,n),r&&f(t,r),a}(o.Component);n.default=y,g(y,"displayName","Player"),g(y,"propTypes",c.propTypes),g(y,"defaultProps",c.defaultProps)},8275:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791));function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=h(t);if(n){var a=h(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return f(e)}(this,e)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="64px",v={},g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,e);var t,n,r,i=d(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(f(e=i.call.apply(i,[this].concat(n))),"mounted",!1),p(f(e),"state",{image:null}),p(f(e),"handleKeyPress",(function(t){"Enter"!==t.key&&" "!==t.key||e.props.onClick()})),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.url,r=t.light;e.url===n&&e.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(e){var t=this,n=e.url,r=e.light,i=e.oEmbedUrl;if(!a.default.isValidElement(r))if("string"!==typeof r){if(!v[n])return this.setState({image:null}),window.fetch(i.replace("{url}",n)).then((function(e){return e.json()})).then((function(e){if(e.thumbnail_url&&t.mounted){var r=e.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");t.setState({image:r}),v[n]=r}}));this.setState({image:v[n]})}else this.setState({image:r})}},{key:"render",value:function(){var e=this.props,t=e.light,n=e.onClick,r=e.playIcon,i=e.previewTabIndex,o=this.state.image,s=a.default.isValidElement(t),l={display:"flex",alignItems:"center",justifyContent:"center"},u={preview:c({width:"100%",height:"100%",backgroundImage:o&&!s?"url(".concat(o,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},l),shadow:c({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:m,width:m,height:m,position:s?"absolute":void 0},l),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},d=a.default.createElement("div",{style:u.shadow,className:"react-player__shadow"},a.default.createElement("div",{style:u.playIcon,className:"react-player__play-icon"}));return a.default.createElement("div",{style:u.preview,className:"react-player__preview",onClick:n,tabIndex:i,onKeyPress:this.handleKeyPress},s?t:null,r||d)}}])&&l(t.prototype,n),r&&l(t,r),o}(a.Component);n.default=g},2646:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createReactPlayer=void 0;var i=k(r(2791)),a=d(r(9948)),o=d(r(5781)),s=d(r(77)),c=r(9174),l=r(135),u=d(r(9434));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function _(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=w(t);if(n){var i=w(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;return x(e)}(this,e)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return E=function(){return e},e}function k(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=E();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var N=(0,i.lazy)((function(){return Promise.resolve().then((function(){return k(r(8275))}))})),j="undefined"!==typeof window&&window.document,T="undefined"!==typeof r.g&&r.g.window&&r.g.window.document,I=Object.keys(c.propTypes),C=j||T?i.Suspense:function(){return null},R=[];n.createReactPlayer=function(e,t){var n,r;return r=n=function(n){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(g,n);var r,d,f,h=_(g);function g(){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return S(x(n=h.call.apply(h,[this].concat(s))),"state",{showPreview:!!n.props.light}),S(x(n),"references",{wrapper:function(e){n.wrapper=e},player:function(e){n.player=e}}),S(x(n),"handleClickPreview",(function(e){n.setState({showPreview:!1}),n.props.onClickPreview(e)})),S(x(n),"showPreview",(function(){n.setState({showPreview:!0})})),S(x(n),"getDuration",(function(){return n.player?n.player.getDuration():null})),S(x(n),"getCurrentTime",(function(){return n.player?n.player.getCurrentTime():null})),S(x(n),"getSecondsLoaded",(function(){return n.player?n.player.getSecondsLoaded():null})),S(x(n),"getInternalPlayer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(e):null})),S(x(n),"seekTo",(function(e,t){if(!n.player)return null;n.player.seekTo(e,t)})),S(x(n),"handleReady",(function(){n.props.onReady(x(n))})),S(x(n),"getActivePlayer",(0,o.default)((function(n){for(var r=0,i=[].concat(R,v(e));r<i.length;r++){var a=i[r];if(a.canPlay(n))return a}return t||null}))),S(x(n),"getConfig",(0,o.default)((function(e,t){var r=n.props.config;return a.default.all([c.defaultProps.config,c.defaultProps.config[t]||{},r,r[t]||{}])}))),S(x(n),"getAttributes",(0,o.default)((function(e){return(0,l.omit)(n.props,I)}))),S(x(n),"renderActivePlayer",(function(e){if(!e)return null;var t=n.getActivePlayer(e);if(!t)return null;var r=n.getConfig(e,t.key);return i.default.createElement(u.default,m({},n.props,{key:t.key,ref:n.references.player,config:r,activePlayer:t.lazyPlayer||t,onReady:n.handleReady}))})),n}return r=g,d=[{key:"shouldComponentUpdate",value:function(e,t){return!(0,s.default)(this.props,e)||!(0,s.default)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(e){if(!e)return null;var t=this.props,n=t.light,r=t.playIcon,a=t.previewTabIndex,o=t.oEmbedUrl;return i.default.createElement(N,{url:e,light:n,playIcon:r,previewTabIndex:a,oEmbedUrl:o,onClick:this.handleClickPreview})}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.style,r=e.width,a=e.height,o=e.fallback,s=e.wrapper,c=this.state.showPreview,l=this.getAttributes(t),u="string"===typeof s?this.references.wrapper:void 0;return i.default.createElement(s,m({ref:u,style:p(p({},n),{},{width:r,height:a})},l),i.default.createElement(C,{fallback:o},c?this.renderPreview(t):this.renderActivePlayer(t)))}}],d&&y(r.prototype,d),f&&y(r,f),g}(i.Component),S(n,"displayName","ReactPlayer"),S(n,"propTypes",c.propTypes),S(n,"defaultProps",c.defaultProps),S(n,"addCustomPlayer",(function(e){R.push(e)})),S(n,"removeCustomPlayers",(function(){R.length=0})),S(n,"canPlay",(function(t){for(var n=0,r=[].concat(R,v(e));n<r.length;n++){if(r[n].canPlay(t))return!0}return!1})),S(n,"canEnablePIP",(function(t){for(var n=0,r=[].concat(R,v(e));n<r.length;n++){var i=r[n];if(i.canEnablePIP&&i.canEnablePIP(t))return!0}return!1})),r}},6710:function(e,t,n){"use strict";t.Z=void 0;var r,i=(r=n(4687))&&r.__esModule?r:{default:r},a=n(2646);var o=i.default[i.default.length-1],s=(0,a.createReactPlayer)(i.default,o);t.Z=s},365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canPlay=t.FLV_EXTENSIONS=t.DASH_EXTENSIONS=t.HLS_EXTENSIONS=t.VIDEO_EXTENSIONS=t.AUDIO_EXTENSIONS=t.MATCH_URL_KALTURA=t.MATCH_URL_VIDYARD=t.MATCH_URL_MIXCLOUD=t.MATCH_URL_DAILYMOTION=t.MATCH_URL_TWITCH_CHANNEL=t.MATCH_URL_TWITCH_VIDEO=t.MATCH_URL_WISTIA=t.MATCH_URL_STREAMABLE=t.MATCH_URL_FACEBOOK_WATCH=t.MATCH_URL_FACEBOOK=t.MATCH_URL_VIMEO=t.MATCH_URL_SOUNDCLOUD=t.MATCH_URL_YOUTUBE=void 0;var r=n(135);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;t.MATCH_URL_YOUTUBE=o;var s=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;t.MATCH_URL_SOUNDCLOUD=s;var c=/vimeo\.com\/(?!progressive_redirect).+/;t.MATCH_URL_VIMEO=c;var l=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;t.MATCH_URL_FACEBOOK=l;var u=/^https?:\/\/fb\.watch\/.+$/;t.MATCH_URL_FACEBOOK_WATCH=u;var d=/streamable\.com\/([a-z0-9]+)$/;t.MATCH_URL_STREAMABLE=d;var f=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;t.MATCH_URL_WISTIA=f;var h=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;t.MATCH_URL_TWITCH_VIDEO=h;var p=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;t.MATCH_URL_TWITCH_CHANNEL=p;var m=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/;t.MATCH_URL_DAILYMOTION=m;var v=/mixcloud\.com\/([^/]+\/[^/]+)/;t.MATCH_URL_MIXCLOUD=v;var g=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;t.MATCH_URL_VIDYARD=g;var y=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;t.MATCH_URL_KALTURA=y;var b=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;t.AUDIO_EXTENSIONS=b;var _=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;t.VIDEO_EXTENSIONS=_;var x=/\.(m3u8)($|\?)/i;t.HLS_EXTENSIONS=x;var w=/\.(mpd)($|\?)/i;t.DASH_EXTENSIONS=w;var S=/\.(flv)($|\?)/i;t.FLV_EXTENSIONS=S;var E={youtube:function(e){return e instanceof Array?e.every((function(e){return o.test(e)})):o.test(e)},soundcloud:function(e){return s.test(e)&&!b.test(e)},vimeo:function(e){return c.test(e)&&!_.test(e)&&!x.test(e)},facebook:function(e){return l.test(e)||u.test(e)},streamable:function(e){return d.test(e)},wistia:function(e){return f.test(e)},twitch:function(e){return h.test(e)||p.test(e)},dailymotion:function(e){return m.test(e)},mixcloud:function(e){return v.test(e)},vidyard:function(e){return g.test(e)},kaltura:function(e){return y.test(e)},file:function e(t){if(t instanceof Array){var n,a=i(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if("string"===typeof o&&e(o))return!0;if(e(o.src))return!0}}catch(s){a.e(s)}finally{a.f()}return!1}return!(!(0,r.isMediaStream)(t)&&!(0,r.isBlobUrl)(t))||(b.test(t)||_.test(t)||x.test(t)||w.test(t)||S.test(t))}};t.canPlay=E},4303:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791)),o=r(135),s=r(365);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=g(t);if(n){var a=g(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return v(e)}(this,e)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,r,i=m(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(v(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),y(v(e),"onDurationChange",(function(){var t=e.getDuration();e.props.onDuration(t)})),y(v(e),"mute",(function(){e.callPlayer("setMuted",!0)})),y(v(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),y(v(e),"ref",(function(t){e.container=t})),e}return t=c,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.controls,i=n.config,a=n.onError,c=n.playing,l=d(e.match(s.MATCH_URL_DAILYMOTION),2)[1];this.player?this.player.load(l,{start:(0,o.parseStartTime)(e),autoplay:c}):(0,o.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(e){return e.player})).then((function(n){if(t.container){var s=n.player;t.player=new s(t.container,{width:"100%",height:"100%",video:l,params:u({controls:r,autoplay:t.props.playing,mute:t.props.muted,start:(0,o.parseStartTime)(e),origin:window.location.origin},i.params),events:{apiready:t.props.onReady,seeked:function(){return t.props.onSeek(t.player.currentTime)},video_end:t.props.onEnded,durationchange:t.onDurationChange,pause:t.props.onPause,playing:t.props.onPlay,waiting:t.props.onBuffer,error:function(e){return a(e)}}})}}),a)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return a.default.createElement("div",{style:e},a.default.createElement("div",{ref:this.ref}))}}])&&h(t.prototype,n),r&&h(t,r),c}(a.Component);n.default=b,y(b,"displayName","DailyMotion"),y(b,"canPlay",s.canPlay.dailymotion),y(b,"loopOnEnded",!0)},4793:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791)),o=r(135),s=r(365);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=p(t);if(n){var a=p(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return h(e)}(this,e)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v="https://connect.facebook.net/en_US/sdk.js",g="fbAsyncInit",y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,i=f(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),m(h(e),"playerID",e.props.config.playerId||"".concat("facebook-player-").concat((0,o.randomString)())),m(h(e),"mute",(function(){e.callPlayer("mute")})),m(h(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;t?(0,o.getSDK)(v,"FB",g).then((function(e){return e.XFBML.parse()})):(0,o.getSDK)(v,"FB",g).then((function(e){e.init({appId:n.props.config.appId,xfbml:!0,version:n.props.config.version}),e.Event.subscribe("xfbml.render",(function(e){n.props.onLoaded()})),e.Event.subscribe("xfbml.ready",(function(e){"video"===e.type&&e.id===n.playerID&&(n.player=e.instance,n.player.subscribe("startedPlaying",n.props.onPlay),n.player.subscribe("paused",n.props.onPause),n.player.subscribe("finishedPlaying",n.props.onEnded),n.player.subscribe("startedBuffering",n.props.onBuffer),n.player.subscribe("finishedBuffering",n.props.onBufferEnd),n.player.subscribe("error",n.props.onError),n.props.muted?n.callPlayer("mute"):n.callPlayer("unmute"),n.props.onReady(),document.getElementById(n.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.config.attributes;return a.default.createElement("div",l({style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},e))}}])&&u(t.prototype,n),r&&u(t,r),s}(a.Component);n.default=y,m(y,"displayName","Facebook"),m(y,"canPlay",s.canPlay.facebook),m(y,"loopOnEnded",!0)},8997:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791)),o=r(135),s=r(365);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=p(t);if(n){var a=p(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return h(e)}(this,e)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v="undefined"!==typeof navigator,g=v&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,y=v&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||g)&&!window.MSStream,b=v&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!window.MSStream,_=/www\.dropbox\.com\/.+/,x=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,w=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,t);var n,r,i,c=f(p);function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=c.call.apply(c,[this].concat(n))),"onReady",(function(){var t;return(t=e.props).onReady.apply(t,arguments)})),m(h(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),m(h(e),"onBuffer",(function(){var t;return(t=e.props).onBuffer.apply(t,arguments)})),m(h(e),"onBufferEnd",(function(){var t;return(t=e.props).onBufferEnd.apply(t,arguments)})),m(h(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),m(h(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),m(h(e),"onError",(function(){var t;return(t=e.props).onError.apply(t,arguments)})),m(h(e),"onPlayBackRateChange",(function(t){return e.props.onPlaybackRateChange(t.target.playbackRate)})),m(h(e),"onEnablePIP",(function(){var t;return(t=e.props).onEnablePIP.apply(t,arguments)})),m(h(e),"onDisablePIP",(function(t){var n=e.props,r=n.onDisablePIP,i=n.playing;r(t),i&&e.play()})),m(h(e),"onPresentationModeChange",(function(t){if(e.player&&(0,o.supportsWebKitPresentationMode)(e.player)){var n=e.player.webkitPresentationMode;"picture-in-picture"===n?e.onEnablePIP(t):"inline"===n&&e.onDisablePIP(t)}})),m(h(e),"onSeek",(function(t){e.props.onSeek(t.target.currentTime)})),m(h(e),"mute",(function(){e.player.muted=!0})),m(h(e),"unmute",(function(){e.player.muted=!1})),m(h(e),"renderSourceElement",(function(e,t){return"string"===typeof e?a.default.createElement("source",{key:t,src:e}):a.default.createElement("source",l({key:t},e))})),m(h(e),"renderTrack",(function(e,t){return a.default.createElement("track",l({key:t},e))})),m(h(e),"ref",(function(t){e.player&&(e.prevPlayer=e.player),e.player=t})),e}return n=p,(r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),this.player.src=this.getSource(this.props.url),y&&this.player.load()}},{key:"componentDidUpdate",value:function(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer,e.url),this.addListeners(this.player)),this.props.url===e.url||(0,o.isMediaStream)(this.props.url)||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.player.src="",this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(e){var t=this.props,n=t.url,r=t.playsinline;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("ratechange",this.onPlayBackRateChange),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(n)||e.addEventListener("canplay",this.onReady),r&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(e,t){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("ratechange",this.onPlayBackRateChange),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(e){return!e.config.forceVideo&&!e.config.attributes.poster&&(s.AUDIO_EXTENSIONS.test(e.url)||e.config.forceAudio)}},{key:"shouldUseHLS",value:function(e){return!!this.props.config.forceHLS||!(!b||!this.props.config.forceSafariHLS)||!y&&(s.HLS_EXTENSIONS.test(e)||x.test(e))}},{key:"shouldUseDASH",value:function(e){return s.DASH_EXTENSIONS.test(e)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(e){return s.FLV_EXTENSIONS.test(e)||this.props.config.forceFLV}},{key:"load",value:function(t){var n=this,r=this.props.config,i=r.hlsVersion,a=r.hlsOptions,s=r.dashVersion,c=r.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(t)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",i),"Hls").then((function(e){if(n.hls=new e(a),n.hls.on(e.Events.MANIFEST_PARSED,(function(){n.props.onReady()})),n.hls.on(e.Events.ERROR,(function(t,r){n.props.onError(t,r,n.hls,e)})),x.test(t)){var r=t.match(x)[1];n.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",r))}else n.hls.loadSource(t);n.hls.attachMedia(n.player),n.props.onLoaded()})),this.shouldUseDASH(t)&&(0,o.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",s),"dashjs").then((function(e){n.dash=e.MediaPlayer().create(),n.dash.initialize(n.player,t,n.props.playing),n.dash.on("error",n.props.onError),parseInt(s)<3?n.dash.getDebug().setLogToBrowserConsole(!1):n.dash.updateSettings({debug:{logLevel:e.Debug.LOG_LEVEL_NONE}}),n.props.onLoaded()})),this.shouldUseFLV(t)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",c),"flvjs").then((function(e){n.flv=e.createPlayer({type:"flv",url:t}),n.flv.attachMediaElement(n.player),n.flv.on(e.Events.ERROR,(function(t,r){n.props.onError(t,r,n.flv,e)})),n.flv.load(),n.props.onLoaded()})),t instanceof Array)this.player.load();else if((0,o.isMediaStream)(t))try{this.player.srcObject=t}catch(e){this.player.src=window.URL.createObjectURL(t)}}},{key:"play",value:function(){var e=this.player.play();e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(e){this.player.currentTime=e}},{key:"setVolume",value:function(e){this.player.volume=e}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(e){try{this.player.playbackRate=e}catch(t){this.props.onError(t)}}},{key:"getDuration",value:function(){if(!this.player)return null;var e=this.player,t=e.duration,n=e.seekable;return t===1/0&&n.length>0?n.end(n.length-1):t}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var e=this.player.buffered;if(0===e.length)return 0;var t=e.end(e.length-1),n=this.getDuration();return t>n?n:t}},{key:"getSource",value:function(e){var t=this.shouldUseHLS(e),n=this.shouldUseDASH(e),r=this.shouldUseFLV(e);if(!(e instanceof Array||(0,o.isMediaStream)(e)||t||n||r))return _.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.playing,r=e.loop,i=e.controls,o=e.muted,s=e.config,c=e.width,u=e.height,d=this.shouldUseAudio(this.props)?"audio":"video",f={width:"auto"===c?c:"100%",height:"auto"===u?u:"100%"};return a.default.createElement(d,l({ref:this.ref,src:this.getSource(t),style:f,preload:"auto",autoPlay:n||void 0,controls:i,muted:o,loop:r},s.attributes),t instanceof Array&&t.map(this.renderSourceElement),s.tracks.map(this.renderTrack))}}])&&u(n.prototype,r),i&&u(n,i),p}(a.Component);n.default=w,m(w,"displayName","FilePlayer"),m(w,"canPlay",s.canPlay.file)},9332:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791)),o=r(135),s=r(365);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=h(t);if(n){var a=h(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return f(e)}(this,e)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var t,n,r,i=d(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(f(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),p(f(e),"duration",null),p(f(e),"currentTime",null),p(f(e),"secondsLoaded",null),p(f(e),"mute",(function(){e.callPlayer("mute")})),p(f(e),"unmute",(function(){e.callPlayer("unmute")})),p(f(e),"ref",(function(t){e.iframe=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.on("ready",(function(){setTimeout((function(){t.player.isReady=!0,t.player.setLoop(t.props.loop),t.props.muted&&t.player.mute(),t.addListeners(t.player,t.props),t.props.onReady()}),500)})))}),this.props.onError)}},{key:"addListeners",value:function(e,t){var n=this;e.on("play",t.onPlay),e.on("pause",t.onPause),e.on("ended",t.onEnded),e.on("error",t.onError),e.on("timeupdate",(function(e){var t=e.duration,r=e.seconds;n.duration=t,n.currentTime=r}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return a.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}])&&l(t.prototype,n),r&&l(t,r),s}(a.Component);n.default=m,p(m,"displayName","Kaltura"),p(m,"canPlay",s.canPlay.kaltura)},2732:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791)),o=r(135),s=r(365);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=m(t);if(n){var a=m(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return p(e)}(this,e)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,r,i=h(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(p(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),v(p(e),"duration",null),v(p(e),"currentTime",null),v(p(e),"secondsLoaded",null),v(p(e),"mute",(function(){})),v(p(e),"unmute",(function(){})),v(p(e),"ref",(function(t){e.iframe=t})),e}return t=c,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,o.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(e){t.player=e.PlayerWidget(t.iframe),t.player.ready.then((function(){t.player.events.play.on(t.props.onPlay),t.player.events.pause.on(t.props.onPause),t.player.events.ended.on(t.props.onEnded),t.player.events.error.on(t.props.error),t.player.events.progress.on((function(e,n){t.currentTime=e,t.duration=n})),t.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.config,r=t.match(s.MATCH_URL_MIXCLOUD)[1],i=(0,o.queryString)(u(u({},n.options),{},{feed:"/".concat(r,"/")}));return a.default.createElement("iframe",{key:r,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(i),frameBorder:"0",allow:"autoplay"})}}],n&&d(t.prototype,n),r&&d(t,r),c}(a.Component);n.default=g,v(g,"displayName","Mixcloud"),v(g,"canPlay",s.canPlay.mixcloud),v(g,"loopOnEnded",!0)},1801:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791)),o=r(135),s=r(365);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=m(t);if(n){var a=m(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return p(e)}(this,e)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,r,i=h(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(p(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),v(p(e),"duration",null),v(p(e),"currentTime",null),v(p(e),"fractionLoaded",null),v(p(e),"mute",(function(){e.setVolume(0)})),v(p(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),v(p(e),"ref",(function(t){e.iframe=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;(0,o.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(r){if(n.iframe){var i=r.Widget.Events,a=i.PLAY,o=i.PLAY_PROGRESS,s=i.PAUSE,c=i.FINISH,l=i.ERROR;t||(n.player=r.Widget(n.iframe),n.player.bind(a,n.props.onPlay),n.player.bind(s,(function(){n.duration-n.currentTime<.05||n.props.onPause()})),n.player.bind(o,(function(e){n.currentTime=e.currentPosition/1e3,n.fractionLoaded=e.loadedProgress})),n.player.bind(c,(function(){return n.props.onEnded()})),n.player.bind(l,(function(e){return n.props.onError(e)}))),n.player.load(e,u(u({},n.props.config.options),{},{callback:function(){n.player.getDuration((function(e){n.duration=e/1e3,n.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",1e3*e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return a.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:e,frameBorder:0,allow:"autoplay"})}}])&&d(t.prototype,n),r&&d(t,r),s}(a.Component);n.default=g,v(g,"displayName","SoundCloud"),v(g,"canPlay",s.canPlay.soundcloud),v(g,"loopOnEnded",!0)},1286:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791)),o=r(135),s=r(365);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=h(t);if(n){var a=h(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return f(e)}(this,e)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(c,e);var t,n,r,i=d(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(f(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),p(f(e),"duration",null),p(f(e),"currentTime",null),p(f(e),"secondsLoaded",null),p(f(e),"mute",(function(){e.callPlayer("mute")})),p(f(e),"unmute",(function(){e.callPlayer("unmute")})),p(f(e),"ref",(function(t){e.iframe=t})),e}return t=c,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.setLoop(t.props.loop),t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seeked",t.props.onSeek),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.duration,r=e.seconds;t.duration=n,t.currentTime=r})),t.player.on("buffered",(function(e){var n=e.percent;t.duration&&(t.secondsLoaded=t.duration*n)})),t.props.muted&&t.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e=this.props.url.match(s.MATCH_URL_STREAMABLE)[1];return a.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(e),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;"})}}])&&l(t.prototype,n),r&&l(t,r),c}(a.Component);n.default=m,p(m,"displayName","Streamable"),p(m,"canPlay",s.canPlay.streamable)},6741:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791)),o=r(135),s=r(365);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=p(t);if(n){var a=p(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return h(e)}(this,e)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,n,r,i=f(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),m(h(e),"playerID",e.props.config.playerId||"".concat("twitch-player-").concat((0,o.randomString)())),m(h(e),"mute",(function(){e.callPlayer("setMuted",!0)})),m(h(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),e}return t=c,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this,r=this.props,i=r.playsinline,a=r.onError,c=r.config,u=r.controls,d=s.MATCH_URL_TWITCH_CHANNEL.test(e),f=d?e.match(s.MATCH_URL_TWITCH_CHANNEL)[1]:e.match(s.MATCH_URL_TWITCH_VIDEO)[1];t?d?this.player.setChannel(f):this.player.setVideo("v"+f):(0,o.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(t){n.player=new t.Player(n.playerID,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({video:d?"":f,channel:d?f:"",height:"100%",width:"100%",playsinline:i,autoplay:n.props.playing,muted:n.props.muted,controls:!!d||u,time:(0,o.parseStartTime)(e)},c.options));var r=t.Player,a=r.READY,s=r.PLAYING,h=r.PAUSE,p=r.ENDED,v=r.ONLINE,g=r.OFFLINE,y=r.SEEK;n.player.addEventListener(a,n.props.onReady),n.player.addEventListener(s,n.props.onPlay),n.player.addEventListener(h,n.props.onPause),n.player.addEventListener(p,n.props.onEnded),n.player.addEventListener(y,n.props.onSeek),n.player.addEventListener(v,n.props.onLoaded),n.player.addEventListener(g,n.props.onLoaded)}),a)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return a.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}],n&&u(t.prototype,n),r&&u(t,r),c}(a.Component);n.default=v,m(v,"displayName","Twitch"),m(v,"canPlay",s.canPlay.twitch),m(v,"loopOnEnded",!0)},5561:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791)),o=r(135),s=r(365);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=p(t);if(n){var a=p(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return h(e)}(this,e)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,n,r,i=f(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),m(h(e),"mute",(function(){e.setVolume(0)})),m(h(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),m(h(e),"ref",(function(t){e.container=t})),e}return t=c,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,i=n.config,a=n.onError,c=n.onDuration,u=e&&e.match(s.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,o.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then((function(e){t.container&&(e.api.addReadyListener((function(e,n){t.player||(t.player=n,t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seek",t.props.onSeek),t.player.on("playerComplete",t.props.onEnded))}),u),e.api.renderPlayer(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uuid:u,container:t.container,autoplay:r?1:0},i.options)),e.api.getPlayerMetadata(u).then((function(e){t.duration=e.length_in_seconds,c(e.length_in_seconds)})))}),a)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackSpeed",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return a.default.createElement("div",{style:e},a.default.createElement("div",{ref:this.ref}))}}],n&&u(t.prototype,n),r&&u(t,r),c}(a.Component);n.default=v,m(v,"displayName","Vidyard"),m(v,"canPlay",s.canPlay.vidyard)},7600:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791)),o=r(135),s=r(365);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=p(t);if(n){var a=p(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return h(e)}(this,e)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,i=f(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),m(h(e),"duration",null),m(h(e),"currentTime",null),m(h(e),"secondsLoaded",null),m(h(e),"mute",(function(){e.setMuted(!0)})),m(h(e),"unmute",(function(){e.setMuted(!1)})),m(h(e),"ref",(function(t){e.container=t})),e}return t=s,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;this.duration=null,(0,o.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(n){if(t.container){var r=t.props.config,i=r.playerOptions,a=r.title;t.player=new n.Player(t.container,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:e,autoplay:t.props.playing,muted:t.props.muted,loop:t.props.loop,playsinline:t.props.playsinline,controls:t.props.controls},i)),t.player.ready().then((function(){var e=t.container.querySelector("iframe");e.style.width="100%",e.style.height="100%",a&&(e.title=a)})).catch(t.props.onError),t.player.on("loaded",(function(){t.props.onReady(),t.refreshDuration()})),t.player.on("play",(function(){t.props.onPlay(),t.refreshDuration()})),t.player.on("pause",t.props.onPause),t.player.on("seeked",(function(e){return t.props.onSeek(e.seconds)})),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.seconds;t.currentTime=n})),t.player.on("progress",(function(e){var n=e.seconds;t.secondsLoaded=n})),t.player.on("bufferstart",t.props.onBuffer),t.player.on("bufferend",t.props.onBufferEnd),t.player.on("playbackratechange",(function(e){return t.props.onPlaybackRateChange(e.playbackRate)}))}}),this.props.onError)}},{key:"refreshDuration",value:function(){var e=this;this.player.getDuration().then((function(t){e.duration=t}))}},{key:"play",value:function(){var e=this.callPlayer("play");e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setMuted",value:function(e){this.callPlayer("setMuted",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return a.default.createElement("div",{key:this.props.url,ref:this.ref,style:e})}}],n&&u(t.prototype,n),r&&u(t,r),s}(a.Component);n.default=v,m(v,"displayName","Vimeo"),m(v,"canPlay",s.canPlay.vimeo),m(v,"forceLoad",!0)},5793:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791)),o=r(135),s=r(365);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=m(t);if(n){var a=m(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return p(e)}(this,e)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,r,i=h(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(p(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),v(p(e),"playerID",e.props.config.playerId||"".concat("wistia-player-").concat((0,o.randomString)())),v(p(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),v(p(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),v(p(e),"onSeek",(function(){var t;return(t=e.props).onSeek.apply(t,arguments)})),v(p(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),v(p(e),"onPlaybackRateChange",(function(){var t;return(t=e.props).onPlaybackRateChange.apply(t,arguments)})),v(p(e),"mute",(function(){e.callPlayer("mute")})),v(p(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=c,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,i=n.muted,a=n.controls,s=n.onReady,c=n.config,l=n.onError;(0,o.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(e){c.customControls&&c.customControls.forEach((function(t){return e.defineControl(t)})),window._wq=window._wq||[],window._wq.push({id:t.playerID,options:u({autoPlay:r,silentAutoPlay:"allow",muted:i,controlsVisibleOnLoad:a,fullscreenButton:a,playbar:a,playbackRateControl:a,qualityControl:a,volumeControl:a,settingsControl:a,smallPlayButton:a},c.options),onReady:function(e){t.player=e,t.unbind(),t.player.bind("play",t.onPlay),t.player.bind("pause",t.onPause),t.player.bind("seek",t.onSeek),t.player.bind("end",t.onEnded),t.player.bind("playbackratechange",t.onPlaybackRateChange),s()}})}),l)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(e){this.callPlayer("time",e)}},{key:"setVolume",value:function(e){this.callPlayer("volume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("playbackRate",e)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.url,t=e&&e.match(s.MATCH_URL_WISTIA)[1],n="wistia_embed wistia_async_".concat(t);return a.default.createElement("div",{id:this.playerID,key:t,className:n,style:{width:"100%",height:"100%"}})}}],n&&d(t.prototype,n),r&&d(t,r),c}(a.Component);n.default=g,v(g,"displayName","Wistia"),v(g,"canPlay",s.canPlay.wistia),v(g,"loopOnEnded",!0)},8322:function(t,n,r){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(r(2791)),o=r(135),s=r(365);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=g(t);if(n){var a=g(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return v(e)}(this,e)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,_=/user\/([a-zA-Z0-9_-]+)\/?/,x=/youtube-nocookie\.com/,w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,r,i=m(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(v(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),y(v(e),"parsePlaylist",(function(t){return t instanceof Array?{listType:"playlist",playlist:t.map(e.getID).join(",")}:b.test(t)?{listType:"playlist",list:d(t.match(b),2)[1].replace(/^UC/,"UU")}:_.test(t)?{listType:"user_uploads",list:d(t.match(_),2)[1]}:{}})),y(v(e),"onStateChange",(function(t){var n=t.data,r=e.props,i=r.onPlay,a=r.onPause,o=r.onBuffer,s=r.onBufferEnd,c=r.onEnded,l=r.onReady,u=r.loop,d=r.config,f=d.playerVars,h=d.onUnstarted,p=window.YT.PlayerState,m=p.UNSTARTED,v=p.PLAYING,g=p.PAUSED,y=p.BUFFERING,b=p.ENDED,_=p.CUED;if(n===m&&h(),n===v&&(i(),s()),n===g&&a(),n===y&&o(),n===b){var x=!!e.callPlayer("getPlaylist");u&&!x&&(f.start?e.seekTo(f.start):e.play()),c()}n===_&&l()})),y(v(e),"mute",(function(){e.callPlayer("mute")})),y(v(e),"unmute",(function(){e.callPlayer("unMute")})),y(v(e),"ref",(function(t){e.container=t})),e}return t=c,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(e){return!e||e instanceof Array||b.test(e)?null:e.match(s.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(e,t){var n=this,r=this.props,i=r.playing,a=r.muted,s=r.playsinline,c=r.controls,l=r.loop,d=r.config,f=r.onError,h=d.playerVars,p=d.embedOptions,m=this.getID(e);if(t)return b.test(e)||_.test(e)||e instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(e)):void this.player.cueVideoById({videoId:m,startSeconds:(0,o.parseStartTime)(e)||h.start,endSeconds:(0,o.parseEndTime)(e)||h.end});(0,o.getSDK)("https://www.youtube.com/iframe_api","YT","onYouTubeIframeAPIReady",(function(e){return e.loaded})).then((function(t){n.container&&(n.player=new t.Player(n.container,u({width:"100%",height:"100%",videoId:m,playerVars:u(u({autoplay:i?1:0,mute:a?1:0,controls:c?1:0,start:(0,o.parseStartTime)(e),end:(0,o.parseEndTime)(e),origin:window.location.origin,playsinline:s?1:0},n.parsePlaylist(e)),h),events:{onReady:function(){l&&n.player.setLoop(!0),n.props.onReady()},onPlaybackRateChange:function(e){return n.props.onPlaybackRateChange(e.data)},onStateChange:n.onStateChange,onError:function(e){return f(e.data)}},host:x.test(e)?"https://www.youtube-nocookie.com":void 0},p)))}),f),p.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer\u2019s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",e),this.props.playing||this.pause()}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return a.default.createElement("div",{style:e},a.default.createElement("div",{ref:this.ref}))}}])&&h(t.prototype,n),r&&h(t,r),c}(a.Component);n.default=w,y(w,"displayName","YouTube"),y(w,"canPlay",s.canPlay.youtube)},4687:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2791),i=n(135),a=n(365);function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var l=[{key:"youtube",name:"YouTube",canPlay:a.canPlay.youtube,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return c(n(8322))}))}))},{key:"soundcloud",name:"SoundCloud",canPlay:a.canPlay.soundcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return c(n(1801))}))}))},{key:"vimeo",name:"Vimeo",canPlay:a.canPlay.vimeo,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return c(n(7600))}))}))},{key:"facebook",name:"Facebook",canPlay:a.canPlay.facebook,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return c(n(4793))}))}))},{key:"streamable",name:"Streamable",canPlay:a.canPlay.streamable,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return c(n(1286))}))}))},{key:"wistia",name:"Wistia",canPlay:a.canPlay.wistia,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return c(n(5793))}))}))},{key:"twitch",name:"Twitch",canPlay:a.canPlay.twitch,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return c(n(6741))}))}))},{key:"dailymotion",name:"DailyMotion",canPlay:a.canPlay.dailymotion,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return c(n(4303))}))}))},{key:"mixcloud",name:"Mixcloud",canPlay:a.canPlay.mixcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return c(n(2732))}))}))},{key:"vidyard",name:"Vidyard",canPlay:a.canPlay.vidyard,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return c(n(5561))}))}))},{key:"kaltura",name:"Kaltura",canPlay:a.canPlay.kaltura,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return c(n(9332))}))}))},{key:"file",name:"FilePlayer",canPlay:a.canPlay.file,canEnablePIP:function(e){return a.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,i.supportsWebKitPresentationMode)())&&!a.AUDIO_EXTENSIONS.test(e)},lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return c(n(8997))}))}))}];t.default=l},9174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=t.propTypes=void 0;var r,i=(r=n(2007))&&r.__esModule?r:{default:r};var a=i.default.string,o=i.default.bool,s=i.default.number,c=i.default.array,l=i.default.oneOfType,u=i.default.shape,d=i.default.object,f=i.default.func,h=i.default.node,p={url:l([a,c,d]),playing:o,loop:o,controls:o,volume:s,muted:o,playbackRate:s,width:l([a,s]),height:l([a,s]),style:d,progressInterval:s,playsinline:o,pip:o,stopOnUnmount:o,light:l([o,a,d]),playIcon:h,previewTabIndex:s,fallback:h,oEmbedUrl:a,wrapper:l([a,f,u({render:f.isRequired})]),config:u({soundcloud:u({options:d}),youtube:u({playerVars:d,embedOptions:d,onUnstarted:f}),facebook:u({appId:a,version:a,playerId:a,attributes:d}),dailymotion:u({params:d}),vimeo:u({playerOptions:d,title:a}),file:u({attributes:d,tracks:c,forceVideo:o,forceAudio:o,forceHLS:o,forceSafariHLS:o,forceDASH:o,forceFLV:o,hlsOptions:d,hlsVersion:a,dashVersion:a,flvVersion:a}),wistia:u({options:d,playerId:a,customControls:c}),mixcloud:u({options:d}),twitch:u({options:d,playerId:a}),vidyard:u({options:d})}),onReady:f,onStart:f,onPlay:f,onPause:f,onBuffer:f,onBufferEnd:f,onEnded:f,onError:f,onDuration:f,onSeek:f,onPlaybackRateChange:f,onProgress:f,onClickPreview:f,onEnablePIP:f,onDisablePIP:f};t.propTypes=p;var m=function(){},v={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:m},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:m,onStart:m,onPlay:m,onPause:m,onBuffer:m,onBufferEnd:m,onEnded:m,onError:m,onDuration:m,onSeek:m,onPlaybackRateChange:m,onProgress:m,onClickPreview:m,onEnablePIP:m,onDisablePIP:m};t.defaultProps=v},135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStartTime=function(e){return f(e,c)},t.parseEndTime=function(e){return f(e,l)},t.randomString=function(){return Math.random().toString(36).substr(2,5)},t.queryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},t.getSDK=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,o=h(t);if(o&&i(o))return Promise.resolve(o);return new Promise((function(r,i){if(p[e])p[e].push({resolve:r,reject:i});else{p[e]=[{resolve:r,reject:i}];var o=function(t){p[e].forEach((function(e){return e.resolve(t)}))};if(n){var s=window[n];window[n]=function(){s&&s(),o(h(t))}}a(e,(function(r){r?(p[e].forEach((function(e){return e.reject(r)})),p[e]=null):n||o(h(t))}))}}))},t.getConfig=function(e,t){return(0,i.default)(t.config,e.config)},t.omit=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=(t=[]).concat.apply(t,r),o={},s=Object.keys(e),c=0,l=s;c<l.length;c++){var u=l[c];-1===a.indexOf(u)&&(o[u]=e[u])}return o},t.callPlayer=function(e){var t;if(!this.player||!this.player[e]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return(t=this.player)[e].apply(t,i)},t.isMediaStream=function(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream},t.isBlobUrl=function(e){return/^blob:/.test(e)},t.supportsWebKitPresentationMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t};var r=a(n(5102)),i=a(n(9948));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=/[?&#](?:start|t)=([0-9hms]+)/,l=/[?&#]end=([0-9hms]+)/,u=/(\d+)(h|m|s)/g,d=/^\d+$/;function f(e,t){if(!(e instanceof Array)){var n=e.match(t);if(n){var r=n[1];if(r.match(u))return function(e){var t=0,n=u.exec(e);for(;null!==n;){var r=o(n,3),i=r[1],a=r[2];"h"===a&&(t+=60*parseInt(i,10)*60),"m"===a&&(t+=60*parseInt(i,10)),"s"===a&&(t+=parseInt(i,10)),n=u.exec(e)}return t}(r);if(d.test(r))return parseInt(r)}}}function h(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}var p={}},6167:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(886)),i=o(n(8177)),a=o(n(5128));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r="",(n="secureKey")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.secureKey=(0,a.default)()}var t,n,o;return t=e,(n=[{key:"encrypt",value:function(e){return i.default.encrypt(e,this.secureKey).toString()}},{key:"decrypt",value:function(e){try{return i.default.decrypt(e,this.secureKey).toString(r.default)||null}catch(t){return null}}}])&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=c},6053:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={getHashKey:function(){var e=null;try{e="undefined"!=typeof Cypress?Cypress.env("SECURE_LOCAL_STORAGE_HASH_KEY")||Cypress.env("REACT_APP_SECURE_LOCAL_STORAGE_HASH_KEY")||Cypress.env("NEXT_PUBLIC_SECURE_LOCAL_STORAGE_HASH_KEY")||Cypress.env("VITE_SECURE_LOCAL_STORAGE_HASH_KEY"):{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SECURE_LOCAL_STORAGE_HASH_KEY||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SECURE_LOCAL_STORAGE_HASH_KEY||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_SECURE_LOCAL_STORAGE_HASH_KEY||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.VITE_SECURE_LOCAL_STORAGE_HASH_KEY}catch(t){return null}return e},getStoragePrefix:function(){var e=null;try{e="undefined"!=typeof Cypress?Cypress.env("SECURE_LOCAL_STORAGE_PREFIX")||Cypress.env("REACT_APP_SECURE_LOCAL_STORAGE_PREFIX")||Cypress.env("NEXT_PUBLIC_SECURE_LOCAL_STORAGE_PREFIX")||Cypress.env("VITE_SECURE_LOCAL_STORAGE_PREFIX"):{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SECURE_LOCAL_STORAGE_PREFIX||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SECURE_LOCAL_STORAGE_PREFIX||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_SECURE_LOCAL_STORAGE_PREFIX||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.VITE_SECURE_LOCAL_STORAGE_PREFIX}catch(t){return null}return e},getDisabledKeys:function(){var e=null;try{e="undefined"!=typeof Cypress?Cypress.env("SECURE_LOCAL_STORAGE_DISABLED_KEYS")||Cypress.env("REACT_APP_SECURE_LOCAL_STORAGE_DISABLED_KEYS")||Cypress.env("NEXT_PUBLIC_SECURE_LOCAL_STORAGE_DISABLED_KEYS")||Cypress.env("VITE_SECURE_LOCAL_STORAGE_DISABLED_KEYS"):{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SECURE_LOCAL_STORAGE_DISABLED_KEYS||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SECURE_LOCAL_STORAGE_DISABLED_KEYS||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_SECURE_LOCAL_STORAGE_DISABLED_KEYS||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.VITE_SECURE_LOCAL_STORAGE_DISABLED_KEYS}catch(t){return null}return e}};t.default=n},5128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(6053)),i=a(n(5233));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){var e=r.default.getHashKey()||"E86E2612010258B35137";return"undefined"===typeof window?e:i.default.getFingerprint()+e};t.default=o},5233:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,a=(i=r(4154))&&i.__esModule?i:{default:i},o=r(994);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=new(function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,r,i;return n=t,(r=[{key:"getFingerprint",value:function(){var e="|",t=(0,o.getDisabledKeys)(),n="";return t.includes(o.FINGERPRINT_KEYS.USERAGENT)||(n+=navigator.userAgent+e),t.includes(o.FINGERPRINT_KEYS.HOSTNAME)||(n+=window.location.hostname+e),t.includes(o.FINGERPRINT_KEYS.SCREEN_PRINT)||(n+=this.getScreenPrint()+e),t.includes(o.FINGERPRINT_KEYS.PLUGINS)||(n+=this.getPlugins()+e),t.includes(o.FINGERPRINT_KEYS.FONTS)||(n+=this.getFonts()+e),t.includes(o.FINGERPRINT_KEYS.LOCAL_STORAGE)||(n+=this.isLocalStorage()+e),t.includes(o.FINGERPRINT_KEYS.SESSION_STORAGE)||(n+=this.isSessionStorage()+e),t.includes(o.FINGERPRINT_KEYS.TIMEZONE)||(n+=this.getTimeZone()+e),t.includes(o.FINGERPRINT_KEYS.LANGUAGE)||(n+=this.getLanguage()+e),t.includes(o.FINGERPRINT_KEYS.SYSTEM_LANGUAGE)||(n+=this.getSystemLanguage()+e),t.includes(o.FINGERPRINT_KEYS.COOKIE)||(n+=this.isCookie()+e),t.includes(o.FINGERPRINT_KEYS.CANVAS)||(n+=this.getCanvasPrint()),n.endsWith(e)&&(n=n.substring(0,n.length-1)),(0,a.default)(n,256)}},{key:"getScreenPrint",value:function(){return"Color Depth: "+this.getColorDepth()+", Device XDPI: "+this.getDeviceXDPI()+", Device YDPI: "+this.getDeviceYDPI()}},{key:"getColorDepth",value:function(){return window.screen.colorDepth}},{key:"getCurrentResolution",value:function(){return window.screen.width+"x"+window.screen.height}},{key:"getAvailableResolution",value:function(){return window.screen.availWidth+"x"+window.screen.availHeight}},{key:"getDeviceXDPI",value:function(){return""}},{key:"getDeviceYDPI",value:function(){return""}},{key:"getPlugins",value:function(){for(var e="",t=0;t<navigator.plugins.length;t++)t===navigator.plugins.length-1?e+=navigator.plugins[t].name:e+=navigator.plugins[t].name+", ";return e}},{key:"getFonts",value:function(){return""}},{key:"isLocalStorage",value:function(){try{return!!localStorage}catch(e){return!0}}},{key:"isSessionStorage",value:function(){try{return!!sessionStorage}catch(e){return!0}}},{key:"isCookie",value:function(){return navigator.cookieEnabled}},{key:"getTimeZone",value:function(){var e,t;return e=new Date,(t=String(-e.getTimezoneOffset()/60))<0?"-"+("0"+(t*=-1)).slice(-2):"+"+("0"+t).slice(-2)}},{key:"getLanguage",value:function(){return navigator.language}},{key:"getSystemLanguage",value:function(){return navigator.language||window.navigator.language}},{key:"getCanvasPrint",value:function(){var t,n=document.createElement("canvas");try{t=n.getContext("2d")}catch(e){return""}var r="ClientJS,org <canvas> 1.0";return t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(r,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(r,4,17),n.toDataURL()}}])&&s(n.prototype,r),i&&s(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}());n.default=c},644:function(e,t,n){"use strict";t.Z=void 0;var r=a(n(6167)),i=a(n(3460));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var c=(0,n(994).getSecurePrefix)(),l=function(e,t){var n=function(e){return"object"===s(e)?"j":"boolean"===typeof e?"b":"number"===typeof e?"n":"s"}(t);return c+"".concat(n,".")+e},u=new(function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={},(n="_localStorageItems")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._localStorageItems=(0,i.default)()}var t,n,a;return t=e,(n=[{key:"setItem",value:function(e,t){var n="object"===s(t)?JSON.stringify(t):t+"",i=l(e,t),a=c+e;null!=e&&(this._localStorageItems[a]=t);var o=new r.default;localStorage.setItem(i,o.encrypt(n))}},{key:"getItem",value:function(e){var t=c+e;return this._localStorageItems[t]||null}},{key:"removeItem",value:function(e){var t=c+e,n=this._localStorageItems[t],r=l(e,n);void 0!==this._localStorageItems[t]&&delete this._localStorageItems[t],localStorage.removeItem(r)}},{key:"clear",value:function(){this._localStorageItems={},localStorage.clear()}}])&&o(t.prototype,n),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}());t.Z=u},3460:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(6167))&&r.__esModule?r:{default:r};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=(0,n(994).getSecurePrefix)(),c=function(){var e={};if("undefined"!==typeof window)for(var t=new i.default,n=0,r=Object.entries(localStorage);n<r.length;n++){var o=a(r[n],2),c=o[0],l=o[1];if(c.startsWith(s)){var u=c.replace(s,"")[0],d=c.replace(/[.][bjns][.]/,"."),f=t.decrypt(l),h=null;if(null!=f)switch(u){case"b":h="true"===f;break;case"j":h=JSON.parse(f);break;case"n":h=Number(f);break;default:h=f}e[d]=h}}return e};t.default=c},994:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSecurePrefix=t.getDisabledKeys=t.FINGERPRINT_KEYS=void 0;var r,i=(r=n(6053))&&r.__esModule?r:{default:r};t.getSecurePrefix=function(){var e=i.default.getStoragePrefix()||"@secure.";return e.endsWith(".")?e:e+"."};var a={USERAGENT:"UserAgent",SCREEN_PRINT:"ScreenPrint",PLUGINS:"Plugins",FONTS:"Fonts",LOCAL_STORAGE:"LocalStorage",SESSION_STORAGE:"SessionStorage",TIMEZONE:"TimeZone",LANGUAGE:"Language",SYSTEM_LANGUAGE:"SystemLanguage",COOKIE:"Cookie",CANVAS:"Canvas",HOSTNAME:"Hostname"};t.FINGERPRINT_KEYS=a;t.getDisabledKeys=function(){var e=i.default.getDisabledKeys()||"";if(""===e)return[];var t=[a.USERAGENT,a.SCREEN_PRINT,a.PLUGINS,a.FONTS,a.LOCAL_STORAGE,a.SESSION_STORAGE,a.TIMEZONE,a.LANGUAGE,a.SYSTEM_LANGUAGE,a.COOKIE,a.CANVAS,a.HOSTNAME],n=[];return e.split("|").forEach((function(e){""===e||(t.includes(e)?n.push(e):console.warn("react-secure-storage : ".concat(e," is not present in the available disabled keys options! Please go through the documentation")))})),n}},8436:function(t,n,r){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.PrevArrow=n.NextArrow=void 0;var a=c(r(2791)),o=c(r(1694)),s=r(8026);function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function y(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=b(t);if(n){var a=b(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var _=function(e){v(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,o.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?a.default.cloneElement(this.props.prevArrow,d(d({},n),r)):a.default.createElement("button",l({key:"0",type:"button"},n)," ","Previous")}}]),n}(a.default.PureComponent);n.PrevArrow=_;var x=function(e){v(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,s.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,o.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?a.default.cloneElement(this.props.nextArrow,d(d({},n),r)):a.default.createElement("button",l({key:"1",type:"button"},n)," ","Next")}}]),n}(a.default.PureComponent);n.NextArrow=x},5484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(2791))&&r.__esModule?r:{default:r};var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=a},3800:function(t,n,r){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Dots=void 0;var a=c(r(2791)),o=c(r(1694)),s=r(8026);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=p(t);if(n){var a=p(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(c,e);var t,n,r,i=h(c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.apply(this,arguments)}return t=c,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,i=t.onMouseLeave,c=t.infinite,d=t.slidesToScroll,f=t.slidesToShow,h=t.slideCount,p=t.currentSlide,m=(e={slideCount:h,slidesToScroll:d,slidesToShow:f,infinite:c}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,v={onMouseEnter:n,onMouseOver:r,onMouseLeave:i},g=[],y=0;y<m;y++){var b=(y+1)*d-1,_=c?b:(0,s.clamp)(b,0,h-1),x=_-(d-1),w=c?x:(0,s.clamp)(x,0,h-1),S=(0,o.default)({"slick-active":c?p>=w&&p<=_:p===w}),E={message:"dots",index:y,slidesToScroll:d,currentSlide:p},k=this.clickHandler.bind(this,E);g=g.concat(a.default.createElement("li",{key:y,className:S},a.default.cloneElement(this.props.customPaging(y),{onClick:k})))}return a.default.cloneElement(this.props.appendDots(g),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},v))}}],n&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.default.PureComponent);n.Dots=m},5717:function(e,t,n){"use strict";var r;t.Z=void 0;var i=((r=n(3178))&&r.__esModule?r:{default:r}).default;t.Z=i},1382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},8293:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InnerSlider=void 0;var i=h(r(2791)),a=h(r(1382)),o=h(r(5095)),s=h(r(1694)),c=r(8026),l=r(4931),u=r(3800),d=r(8436),f=h(r(474));function h(e){return e&&e.__esModule?e:{default:e}}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function x(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=S(t);if(n){var i=S(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,e)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(g,e);var t,n,r,h=x(g);function g(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),E(w(t=h.call(this,e)),"listRefHandler",(function(e){return t.list=e})),E(w(t),"trackRefHandler",(function(e){return t.track=e})),E(w(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,c.getHeight)(e)+"px"}})),E(w(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,c.getOnDemandLazySlides)(y(y({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=y({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new f.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),E(w(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),E(w(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,c.getOnDemandLazySlides)(y(y({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var r=y(y({listRef:t.list,trackRef:t.track},t.props),t.state),a=t.didPropsChange(e);a&&t.updateState(r,a,(function(){t.state.currentSlide>=i.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:i.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),E(w(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,o.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),E(w(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=y(y({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),E(w(t),"updateState",(function(e,n,r){var a=(0,c.initializedState)(e);e=y(y(y({},e),a),{},{slideIndex:a.currentSlide});var o=(0,c.getTrackLeft)(e);e=y(y({},e),{},{left:o});var s=(0,c.getTrackCSS)(e);(n||i.default.Children.count(t.props.children)!==i.default.Children.count(e.children))&&(a.trackStyle=s),t.setState(a,r)})),E(w(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,r=[],a=(0,c.getPreClones)(y(y(y({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,c.getPostClones)(y(y(y({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){r.push(t.props.style.width),e+=t.props.style.width}));for(var s=0;s<a;s++)n+=r[r.length-1-s],e+=r[r.length-1-s];for(var l=0;l<o;l++)e+=r[l];for(var u=0;u<t.state.currentSlide;u++)n+=r[u];var d={width:e+"px",left:-n+"px"};if(t.props.centerMode){var f="".concat(r[t.state.currentSlide],"px");d.left="calc(".concat(d.left," + (100% - ").concat(f,") / 2 ) ")}return{trackStyle:d}}var h=i.default.Children.count(t.props.children),p=y(y(y({},t.props),t.state),{},{slideCount:h}),m=(0,c.getPreClones)(p)+(0,c.getPostClones)(p)+h,v=100/t.props.slidesToShow*m,g=100/m,b=-g*((0,c.getPreClones)(p)+t.state.currentSlide)*v/100;return t.props.centerMode&&(b+=(100-g*v/100)/2),{slideWidth:g+"%",trackStyle:{width:v+"%",left:b+"%"}}})),E(w(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(){a(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),E(w(t),"progressiveLazyLoad",(function(){for(var e=[],n=y(y({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,c.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,c.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),E(w(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,a=r.beforeChange,o=r.onLazyLoad,s=r.speed,l=r.afterChange,u=t.state.currentSlide,d=(0,c.slideHandler)(y(y(y({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),f=d.state,h=d.nextState;if(f){a&&a(u,f.currentSlide);var p=f.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&p.length>0&&o(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),l&&l(u),delete t.animationEndCallback),t.setState(f,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),h&&(t.animationEndCallback=setTimeout((function(){var e=h.animating,n=v(h,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),l&&l(f.currentSlide),delete t.animationEndCallback}))}),s))}))}})),E(w(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=y(y({},t.props),t.state),i=(0,c.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var a=t.list.querySelectorAll(".slick-current");a[0]&&a[0].focus()}})),E(w(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),E(w(t),"keyHandler",(function(e){var n=(0,c.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),E(w(t),"selectHandler",(function(e){t.changeSlide(e)})),E(w(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),E(w(t),"enableBodyScroll",(function(){window.ontouchmove=null})),E(w(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,c.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),E(w(t),"swipeMove",(function(e){var n=(0,c.swipeMove)(e,y(y(y({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),E(w(t),"swipeEnd",(function(e){var n=(0,c.swipeEnd)(e,y(y(y({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),E(w(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),E(w(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),E(w(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),E(w(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),E(w(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,c.canGoNext)(y(y({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),E(w(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),E(w(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),E(w(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),E(w(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),E(w(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),E(w(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),E(w(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),E(w(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),E(w(t),"render",(function(){var e,n,r,a=(0,s.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),o=y(y({},t.props),t.state),f=(0,c.extractObject)(o,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),h=t.props.pauseOnHover;if(f=y(y({},f),{},{onMouseEnter:h?t.onTrackOver:null,onMouseLeave:h?t.onTrackLeave:null,onMouseOver:h?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var p=(0,c.extractObject)(o,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),v=t.props.pauseOnDotsHover;p=y(y({},p),{},{clickHandler:t.changeSlide,onMouseEnter:v?t.onDotsLeave:null,onMouseOver:v?t.onDotsOver:null,onMouseLeave:v?t.onDotsLeave:null}),e=i.default.createElement(u.Dots,p)}var g=(0,c.extractObject)(o,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=t.changeSlide,t.props.arrows&&(n=i.default.createElement(d.PrevArrow,g),r=i.default.createElement(d.NextArrow,g));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var _=null;!1===t.props.vertical?!0===t.props.centerMode&&(_={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(_={padding:t.props.centerPadding+" 0px"});var x=y(y({},b),_),w=t.props.touchMove,S={className:"slick-list",style:x,onClick:t.clickHandler,onMouseDown:w?t.swipeStart:null,onMouseMove:t.state.dragging&&w?t.swipeMove:null,onMouseUp:w?t.swipeEnd:null,onMouseLeave:t.state.dragging&&w?t.swipeEnd:null,onTouchStart:w?t.swipeStart:null,onTouchMove:t.state.dragging&&w?t.swipeMove:null,onTouchEnd:w?t.touchEnd:null,onTouchCancel:t.state.dragging&&w?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},E={className:a,dir:"ltr",style:t.props.style};return t.props.unslick&&(S={className:"slick-list"},E={className:a}),i.default.createElement("div",E,t.props.unslick?"":n,i.default.createElement("div",m({ref:t.listRefHandler},S),i.default.createElement(l.Track,m({ref:t.trackRefHandler},f),t.props.children)),t.props.unslick?"":r,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=y(y({},a.default),{},{currentSlide:t.props.initialSlide,slideCount:i.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=y(y({},t.state),n),t}return t=g,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,r=Object.keys(this.props);n<r.length;n++){var a=r[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==p(e[a])&&"function"!==typeof e[a]&&e[a]!==this.props[a]){t=!0;break}}return t||i.default.Children.count(this.props.children)!==i.default.Children.count(e.children)}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),g}(i.default.Component);n.InnerSlider=k},3178:function(t,n,r){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(r(2791)),o=r(8293),s=u(r(5477)),c=u(r(5484)),l=r(8026);function u(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=y(t);if(n){var a=y(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=(0,l.canUseDOM)()&&r(8153),x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(u,e);var t,n,r,i=v(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),b(g(t=i.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),b(g(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),b(g(t),"slickNext",(function(){return t.innerSlider.slickNext()})),b(g(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),b(g(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),b(g(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=u,(n=[{key:"media",value:function(e,t){_.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,s.default)({minWidth:0,maxWidth:n}):(0,s.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,l.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,s.default)({minWidth:t.slice(-1)[0]});(0,l.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){_.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},c.default),this.props),t[0].settings):h(h({},c.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=a.default.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var i=[],s=null,l=0;l<r.length;l+=e.rows*e.slidesPerRow){for(var u=[],f=l;f<l+e.rows*e.slidesPerRow;f+=e.slidesPerRow){for(var p=[],m=f;m<f+e.slidesPerRow&&(e.variableWidth&&r[m].props.style&&(s=r[m].props.style.width),!(m>=r.length));m+=1)p.push(a.default.cloneElement(r[m],{key:100*l+10*f+m,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));u.push(a.default.createElement("div",{key:10*l+f},p))}e.variableWidth?i.push(a.default.createElement("div",{key:l,style:{width:s}},u)):i.push(a.default.createElement("div",{key:l},u))}if("unslick"===e){var v="regular slider "+(this.props.className||"");return a.default.createElement("div",{className:v},r)}return i.length<=e.slidesToShow&&(e.unslick=!0),a.default.createElement(o.InnerSlider,d({style:this.props.style,ref:this.innerSliderRefHandler},e),i)}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(a.default.Component);n.default=x},4931:function(t,n,r){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Track=void 0;var a=c(r(2791)),o=c(r(1694)),s=r(8026);function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=p(t);if(n){var a=p(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t,n,r,i,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-i-1&&a<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},b=function(e,t){return e.key||t},_=function(e){var t,n=[],r=[],i=[],c=a.default.Children.count(e.children),l=(0,s.lazyStartIndex)(e),u=(0,s.lazyEndIndex)(e);return a.default.Children.forEach(e.children,(function(d,f){var h,p={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};h=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?d:a.default.createElement("div",null);var m=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(v(v({},e),{},{index:f})),g=h.props.className||"",_=y(v(v({},e),{},{index:f}));if(n.push(a.default.cloneElement(h,{key:"original"+b(h,f),"data-index":f,className:(0,o.default)(_,g),tabIndex:"-1","aria-hidden":!_["slick-active"],style:v(v({outline:"none"},h.props.style||{}),m),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var x=c-f;x<=(0,s.getPreClones)(e)&&c!==e.slidesToShow&&((t=-x)>=l&&(h=d),_=y(v(v({},e),{},{index:t})),r.push(a.default.cloneElement(h,{key:"precloned"+b(h,t),"data-index":t,tabIndex:"-1",className:(0,o.default)(_,g),"aria-hidden":!_["slick-active"],style:v(v({},h.props.style||{}),m),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),c!==e.slidesToShow&&((t=c+f)<u&&(h=d),_=y(v(v({},e),{},{index:t})),i.push(a.default.cloneElement(h,{key:"postcloned"+b(h,t),"data-index":t,tabIndex:"-1",className:(0,o.default)(_,g),"aria-hidden":!_["slick-active"],style:v(v({},h.props.style||{}),m),onClick:function(t){h.props&&h.props.onClick&&h.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})))}})),e.rtl?r.concat(n,i).reverse():r.concat(n,i)},x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(o,e);var t,n,r,i=f(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=i.call.apply(i,[this].concat(n))),"node",null),g(h(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=_(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return a.default.createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(a.default.PureComponent);n.Track=x},8026:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=c,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var r,i=(r=n(2791))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){return Math.max(t,Math.min(e,n))}var l=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=l;var u=function(e){for(var t=[],n=d(e),r=f(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};t.getOnDemandLazySlides=u;t.getRequiredLazySlides=function(e){for(var t=[],n=d(e),r=f(e),i=n;i<r;i++)t.push(i);return t};var d=function(e){return e.currentSlide-h(e)};t.lazyStartIndex=d;var f=function(e){return e.currentSlide+p(e)};t.lazyEndIndex=f;var h=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=h;var p=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=p;var m=function(e){return e&&e.offsetWidth||0};t.getWidth=m;var v=function(e){return e&&e.offsetHeight||0};t.getHeight=v;var g=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===a?i>=35&&i<=135?"up":"down":"vertical"};t.getSwipeDirection=g;var y=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=y;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=i.default.Children.count(e.children),r=e.listRef,a=Math.ceil(m(r)),s=e.trackRef&&e.trackRef.node,c=Math.ceil(m(s));if(e.vertical)t=a;else{var l=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(l*=a/100),t=Math.ceil((a-l)/e.slidesToShow)}var d=r&&v(r.querySelector('[data-index="0"]')),f=d*e.slidesToShow,h=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(h=n-1-e.initialSlide);var p=e.lazyLoadedList||[],g=u(o(o({},e),{},{currentSlide:h,lazyLoadedList:p})),y={slideCount:n,slideWidth:t,listWidth:a,trackWidth:c,currentSlide:h,slideHeight:d,listHeight:f,lazyLoadedList:p=p.concat(g)};return null===e.autoplaying&&e.autoplay&&(y.autoplaying="playing"),y};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,a=e.index,s=e.slideCount,l=e.lazyLoad,d=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,v=e.lazyLoadedList;if(t&&n)return{};var g,b,_,x=a,w={},N={},j=i?a:c(a,0,s-1);if(r){if(!i&&(a<0||a>=s))return{};a<0?x=a+s:a>=s&&(x=a-s),l&&v.indexOf(x)<0&&(v=v.concat(x)),w={animating:!0,currentSlide:x,lazyLoadedList:v,targetSlide:x},N={animating:!1,targetSlide:x}}else g=x,x<0?(g=x+s,i?s%h!==0&&(g=s-s%h):g=0):!y(e)&&x>d?x=g=d:f&&x>=s?(x=i?s:s-1,g=i?0:s-1):x>=s&&(g=x-s,i?s%h!==0&&(g=0):g=s-p),!i&&x+p>=s&&(g=s-p),b=k(o(o({},e),{},{slideIndex:x})),_=k(o(o({},e),{},{slideIndex:g})),i||(b===_&&(x=g),b=_),l&&(v=v.concat(u(o(o({},e),{},{currentSlide:x})))),m?(w={animating:!0,currentSlide:g,trackStyle:E(o(o({},e),{},{left:b})),lazyLoadedList:v,targetSlide:j},N={animating:!1,currentSlide:g,trackStyle:S(o(o({},e),{},{left:_})),swipeLeft:null,targetSlide:j}):w={currentSlide:g,trackStyle:S(o(o({},e),{},{left:_})),lazyLoadedList:v,targetSlide:j};return{state:w,nextState:N}};t.changeSlide=function(e,t){var n,r,i,a,s=e.slidesToScroll,c=e.slidesToShow,l=e.slideCount,u=e.currentSlide,d=e.targetSlide,f=e.lazyLoad,h=e.infinite;if(n=l%s!==0?0:(l-u)%s,"previous"===t.message)a=u-(i=0===n?s:c-n),f&&!h&&(a=-1===(r=u-i)?l-1:r),h||(a=d-s);else if("next"===t.message)a=u+(i=0===n?s:n),f&&!h&&(a=(u+s)%l+n),h||(a=d+s);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,h){var p=I(o(o({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===p?a-=l:a<t.currentSlide&&"right"===p&&(a+=l)}}else"index"===t.message&&(a=Number(t.index));return a};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&l(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,a=t.swipeToSlide,s=t.verticalSwiping,c=t.rtl,u=t.currentSlide,d=t.edgeFriction,f=t.edgeDragged,h=t.onEdge,p=t.swiped,m=t.swiping,v=t.slideCount,b=t.slidesToScroll,_=t.infinite,x=t.touchObject,w=t.swipeEvent,E=t.listHeight,N=t.listWidth;if(!n){if(r)return l(e);i&&a&&s&&l(e);var j,T={},I=k(t);x.curX=e.touches?e.touches[0].pageX:e.clientX,x.curY=e.touches?e.touches[0].pageY:e.clientY,x.swipeLength=Math.round(Math.sqrt(Math.pow(x.curX-x.startX,2)));var C=Math.round(Math.sqrt(Math.pow(x.curY-x.startY,2)));if(!s&&!m&&C>10)return{scrolling:!0};s&&(x.swipeLength=C);var R=(c?-1:1)*(x.curX>x.startX?1:-1);s&&(R=x.curY>x.startY?1:-1);var O=Math.ceil(v/b),A=g(t.touchObject,s),P=x.swipeLength;return _||(0===u&&("right"===A||"down"===A)||u+1>=O&&("left"===A||"up"===A)||!y(t)&&("left"===A||"up"===A))&&(P=x.swipeLength*d,!1===f&&h&&(h(A),T.edgeDragged=!0)),!p&&w&&(w(A),T.swiped=!0),j=i?I+P*(E/N)*R:c?I-P*R:I+P*R,s&&(j=I+P*R),T=o(o({},T),{},{touchObject:x,swipeLeft:j,trackStyle:S(o(o({},t),{},{left:j}))}),Math.abs(x.curX-x.startX)<.8*Math.abs(x.curY-x.startY)?T:(x.swipeLength>10&&(T.swiping=!0,l(e)),T)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,a=t.listWidth,s=t.touchThreshold,c=t.verticalSwiping,u=t.listHeight,d=t.swipeToSlide,f=t.scrolling,h=t.onSwipe,p=t.targetSlide,m=t.currentSlide,v=t.infinite;if(!n)return r&&l(e),{};var y=c?u/s:a/s,b=g(i,c),w={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f)return w;if(!i.swipeLength)return w;if(i.swipeLength>y){var S,N;l(e),h&&h(b);var j=v?m:p;switch(b){case"left":case"up":N=j+x(t),S=d?_(t,N):N,w.currentDirection=0;break;case"right":case"down":N=j-x(t),S=d?_(t,N):N,w.currentDirection=1;break;default:S=j}w.triggerSlideHandler=S}else{var T=k(t);w.trackStyle=E(o(o({},t),{},{left:T}))}return w};var b=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=b;var _=function(e,t){var n=b(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t};t.checkNavigable=_;var x=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+v(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+m(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll};t.getSlideCount=x;var w=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=w;var S=function(e){var t,n;w(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=T(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",c=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=o(o({},i),{},{WebkitTransform:a,transform:s,msTransform:c})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=S;var E=function(e){w(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=S(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=E;var k=function(e){if(e.unslick)return 0;w(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,a=e.infinite,o=e.centerMode,s=e.slideCount,c=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,f=e.variableWidth,h=e.slideHeight,p=e.fade,m=e.vertical;if(p||1===e.slideCount)return 0;var v=0;if(a?(v=-N(e),s%l!==0&&r+l>s&&(v=-(r>s?c-(r-s):s%l)),o&&(v+=parseInt(c/2))):(s%l!==0&&r+l>s&&(v=c-s%l),o&&(v=parseInt(c/2))),t=m?r*h*-1+v*h:r*u*-1+v*u,!0===f){var g,y=i&&i.node;if(g=r+N(e),t=(n=y&&y.childNodes[g])?-1*n.offsetLeft:0,!0===o){g=a?r+N(e):r,n=y&&y.children[g],t=0;for(var b=0;b<g;b++)t-=y&&y.children[b]&&y.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(d-n.offsetWidth)/2}}return t};t.getTrackLeft=k;var N=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=N;var j=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=j;var T=function(e){return 1===e.slideCount?1:N(e)+e.slideCount+j(e)};t.getTotalSlides=T;var I=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+C(e)?"left":"right":e.targetSlide<e.currentSlide-R(e)?"right":"left"};t.siblingDirection=I;var C=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1};t.slidesOnRight=C;var R=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0};t.slidesOnLeft=R;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},4682:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(2)()},function(e,t){e.exports=n(2791)},function(e,t,n){"use strict";var r=n(3);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t),n.d(t,"FacebookLoginButton",(function(){return O})),n.d(t,"GoogleLoginButton",(function(){return L})),n.d(t,"GithubLoginButton",(function(){return U})),n.d(t,"TwitterLoginButton",(function(){return B})),n.d(t,"AmazonLoginButton",(function(){return H})),n.d(t,"InstagramLoginButton",(function(){return K})),n.d(t,"LinkedInLoginButton",(function(){return J})),n.d(t,"MicrosoftLoginButton",(function(){return $})),n.d(t,"BufferLoginButton",(function(){return ne})),n.d(t,"TelegramLoginButton",(function(){return ae})),n.d(t,"AppleLoginButton",(function(){return ce})),n.d(t,"DiscordLoginButton",(function(){return de})),n.d(t,"OktaLoginButton",(function(){return pe})),n.d(t,"SlackLoginButton",(function(){return ge})),n.d(t,"YahooLoginButton",(function(){return _e})),n.d(t,"createButton",(function(){return T})),n.d(t,"createSvgIcon",(function(){return C})),n.d(t,"ZaloLoginButton",(function(){return Se})),n.d(t,"TikTokLoginButton",(function(){return Ne})),n.d(t,"MetamaskLoginButton",(function(){return Ce}));var r={};n.r(r),n.d(r,"FacebookLoginButton",(function(){return O})),n.d(r,"GoogleLoginButton",(function(){return L})),n.d(r,"GithubLoginButton",(function(){return U})),n.d(r,"TwitterLoginButton",(function(){return B})),n.d(r,"AmazonLoginButton",(function(){return H})),n.d(r,"InstagramLoginButton",(function(){return K})),n.d(r,"LinkedInLoginButton",(function(){return J})),n.d(r,"MicrosoftLoginButton",(function(){return $})),n.d(r,"BufferLoginButton",(function(){return ne})),n.d(r,"TelegramLoginButton",(function(){return ae})),n.d(r,"AppleLoginButton",(function(){return ce})),n.d(r,"DiscordLoginButton",(function(){return de})),n.d(r,"OktaLoginButton",(function(){return pe})),n.d(r,"SlackLoginButton",(function(){return ge})),n.d(r,"YahooLoginButton",(function(){return _e})),n.d(r,"createButton",(function(){return T})),n.d(r,"createSvgIcon",(function(){return C})),n.d(r,"ZaloLoginButton",(function(){return Se})),n.d(r,"TikTokLoginButton",(function(){return Ne})),n.d(r,"MetamaskLoginButton",(function(){return Ce}));var i=n(1),a=n.n(i),o=n(0),s=n.n(o),c=function(e){var t=e.name,n=e.size,r=e.format;return a.a.createElement("i",{className:r(t),style:{fontSize:n}})};c.propTypes={format:s.a.func,name:s.a.string.isRequired,size:s.a.oneOfType([s.a.string,s.a.number]).isRequired},c.defaultProps={format:function(e){return"demo-icon icon-".concat(e)},size:26};var l=c,u=function(e){var t=e.type,n=e.size,r=e.format,i=e.color,o=void 0===i?"#FFFFFF":i;return"string"==typeof t?a.a.createElement(l,{format:r,name:t,size:n}):a.a.createElement(t,{size:n,color:o})};u.propTypes={format:s.a.func,size:s.a.oneOfType([s.a.number,s.a.string]),type:s.a.oneOfType([s.a.string,s.a.node,s.a.func]),color:s.a.string};var d=u;function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,r=b(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e)).state={focused:!1,hovered:!1},t.handleMouseEnter=function(){t.setState({hovered:!0}),"function"==typeof t.props.onMouseEnter&&t.props.onMouseEnter()},t.handleMouseLeave=function(){t.setState({hovered:!1}),"function"==typeof t.props.onMouseLeave&&t.props.onMouseLeave()},t.handleFocus=function(){t.setState({focused:!0})},t.handleBlur=function(){t.setState({focused:!1})},t.handleClick=function(e){"function"==typeof t.props.onClick&&t.props.onClick(e)},t}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.activeStyle,n=e.align,r=e.text,i=e.children,o=void 0===i?r:i,s=e.className,c=e.icon,l=e.iconFormat,u=e.iconSize,f=e.iconColor,h=void 0===f?"#FFFFFF":f,p=e.preventActiveStyles,m=e.size,g=e.style,y=e.disabled,b=this.state,_=b.focused,x=b.hovered,k=S(E.button,{activeStyle:p?g:t,customStyle:g,active:x||_,size:m});return a.a.createElement("button",v({type:"button",style:k,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur},{className:s},{disabled:y}),a.a.createElement("div",{style:E.flex},!w(u)&&a.a.createElement("div",{style:{display:"flex",justifyContent:"center",minWidth:u}},a.a.createElement(d,{type:c,size:u,format:l,color:h})),!w(u)&&a.a.createElement("div",{style:E.divider}),a.a.createElement("div",{style:{textAlign:n,width:"100%"}},o)))}}])&&g(t.prototype,n),i}(i.Component),w=function(e){return"0"===e||"0px"===e||0===e},S=function(e,t){var n=t.size,r=t.customStyle,i=t.active,a=t.activeStyle;return h(h(h({},e),{},{height:n},r),i&&a)};x.propTypes={activeStyle:s.a.object,align:s.a.oneOf(["left","right","center"]),children:s.a.node,className:s.a.string,icon:s.a.oneOfType([s.a.string,s.a.node,s.a.func]),iconFormat:s.a.func,iconSize:s.a.string,iconColor:s.a.string,onClick:s.a.func,onMouseEnter:s.a.func,onMouseLeave:s.a.func,preventActiveStyles:s.a.bool,size:s.a.string,style:s.a.object,text:s.a.string,disabled:s.a.bool},x.defaultProps={align:"left",iconSize:"26px",preventActiveStyles:!1,size:"50px"};var E={button:{display:"block",border:0,borderRadius:3,boxShadow:"rgba(0, 0, 0, 0.5) 0 1px 2px",color:"#ffffff",cursor:"pointer",fontSize:"19px",margin:"5px",width:"calc(100% - 10px)",overflow:"hidden",padding:"0 10px",userSelect:"none"},divider:{width:"10px"},flex:{alignItems:"center",display:"flex",height:"100%"}};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){return function(t){var n=N(N(N({activeStyle:N(N({},e.activeStyle),t.activeStyle)},e),t),{},{style:N(N({},e.style),t.style)});return a.a.createElement(x,n)}};function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=function e(t){return function(n){var r=n.size,i=n.color;return"string"==typeof t?e((function(e){return a.a.createElement("img",I({src:t},e))})):a.a.createElement(t,{width:r,height:r,color:i})}},R={activeStyle:{background:"#293e69"},icon:C(A),style:{background:"#3b5998"},text:"Log in with Facebook"},O=T(R);function A(e){var t=e.width,n=e.height,r=e.color;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 90 90"},a.a.createElement("g",null,a.a.createElement("path",{d:"M90,15.001C90,7.119,82.884,0,75,0H15C7.116,0,0,7.119,0,15.001v59.998   C0,82.881,7.116,90,15.001,90H45V56H34V41h11v-5.844C45,25.077,52.568,16,61.875,16H74v15H61.875C60.548,31,59,32.611,59,35.024V41   h15v15H59v34h16c7.884,0,15-7.119,15-15.001V15.001z",fill:r})))}A.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var P={activeStyle:{background:"#EFF0EE"},icon:C(D),style:{background:"white",color:"black"},text:"Log in with Google"},L=T(P);function D(e){var t=e.width,n=e.height;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",width:t,height:n},a.a.createElement("linearGradient",{id:"95yY7w43Oj6n2vH63j6HJb",x1:"29.401",x2:"29.401",y1:"4.064",y2:"106.734",gradientTransform:"matrix(1 0 0 -1 0 66)",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"0",stopColor:"#ff5840"}),a.a.createElement("stop",{offset:".007",stopColor:"#ff5840"}),a.a.createElement("stop",{offset:".989",stopColor:"#fa528c"}),a.a.createElement("stop",{offset:"1",stopColor:"#fa528c"})),a.a.createElement("path",{fill:"url(#95yY7w43Oj6n2vH63j6HJb)",d:"M47.46,15.5l-1.37,1.48c-1.34,1.44-3.5,1.67-5.15,0.6c-2.71-1.75-6.43-3.13-11-2.37\tc-4.94,0.83-9.17,3.85-11.64, 7.97l-8.03-6.08C14.99,9.82,23.2,5,32.5,5c5,0,9.94,1.56,14.27,4.46\tC48.81,10.83,49.13,13.71,47.46,15.5z"}),a.a.createElement("linearGradient",{id:"95yY7w43Oj6n2vH63j6HJc",x1:"12.148",x2:"12.148",y1:".872",y2:"47.812",gradientTransform:"matrix(1 0 0 -1 0 66)",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"0",stopColor:"#feaa53"}),a.a.createElement("stop",{offset:".612",stopColor:"#ffcd49"}),a.a.createElement("stop",{offset:"1",stopColor:"#ffde44"})),a.a.createElement("path",{fill:"url(#95yY7w43Oj6n2vH63j6HJc)",d:"M16.01,30.91c-0.09,2.47,0.37,4.83,1.27,6.96l-8.21,6.05c-1.35-2.51-2.3-5.28-2.75-8.22\tc-1.06-6.88,0.54-13.38, 3.95-18.6l8.03,6.08C16.93,25.47,16.1,28.11,16.01,30.91z"}),a.a.createElement("linearGradient",{id:"95yY7w43Oj6n2vH63j6HJd",x1:"29.76",x2:"29.76",y1:"32.149",y2:"-6.939",gradientTransform:"matrix(1 0 0 -1 0 66)",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"0",stopColor:"#42d778"}),a.a.createElement("stop",{offset:".428",stopColor:"#3dca76"}),a.a.createElement("stop",{offset:"1",stopColor:"#34b171"})),a.a.createElement("path",{fill:"url(#95yY7w43Oj6n2vH63j6HJd)",d:"M50.45,51.28c-4.55,4.07-10.61,6.57-17.36,6.71C22.91,58.2,13.66,52.53,9.07,43.92l8.21-6.05\tC19.78,43.81, 25.67,48,32.5,48c3.94,0,7.52-1.28,10.33-3.44L50.45,51.28z"}),a.a.createElement("linearGradient",{id:"95yY7w43Oj6n2vH63j6HJe",x1:"46",x2:"46",y1:"3.638",y2:"35.593",gradientTransform:"matrix(1 0 0 -1 0 66)",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"0",stopColor:"#155cde"}),a.a.createElement("stop",{offset:".278",stopColor:"#1f7fe5"}),a.a.createElement("stop",{offset:".569",stopColor:"#279ceb"}),a.a.createElement("stop",{offset:".82",stopColor:"#2cafef"}),a.a.createElement("stop",{offset:"1",stopColor:"#2eb5f0"})),a.a.createElement("path",{fill:"url(#95yY7w43Oj6n2vH63j6HJe)",d:"M59,31.97c0.01,7.73-3.26,14.58-8.55,19.31l-7.62-6.72c2.1-1.61,3.77-3.71,4.84-6.15 c0.29-0.66-0.2-1.41-0.92-1.41H37c-2.21,0-4-1.79-4-4v-2c0-2.21,1.79-4,4-4h17C56.75,27,59,29.22,59,31.97z"}))}D.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var M={activeStyle:{background:"#555555"},icon:C(F),style:{background:"#333333"},text:"Log in with GitHub"},U=T(M);function F(e){var t=e.width,n=e.height,r=e.color;return a.a.createElement("svg",{fill:r,role:"img",viewBox:"0 0 24 24",width:t,height:n,xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}))}F.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var V={activeStyle:{background:"#3b82da"},icon:C(z),style:{background:"#5aa4eb"},text:"Log in with Twitter"},B=T(V);function z(e){var t=e.width,n=e.height,r=e.color;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 24 24"},a.a.createElement("path",{fill:r,d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}))}z.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var W={activeStyle:{background:"#ff9f23"},icon:C(q),style:{background:"#f9ae32"},text:"Log in with Amazon"},H=T(W);function q(e){var t=e.width,n=void 0===t?24:t,r=e.height,i=void 0===r?24:r,o=e.color;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:o,width:n,height:i,viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M13.958 10.09c0 1.232.029 2.256-.591 3.351-.502.891-1.301 1.438-2.186 1.438-1.214 0-1.922-.924-1.922-2.292 0-2.692 2.415-3.182 4.7-3.182v.685zm3.186 7.705c-.209.189-.512.201-.745.074-1.052-.872-1.238-1.276-1.814-2.106-1.734 1.767-2.962 2.297-5.209 2.297-2.66 0-4.731-1.641-4.731-4.925 0-2.565 1.391-4.309 3.37-5.164 1.715-.754 4.11-.891 5.942-1.095v-.41c0-.753.06-1.642-.383-2.294-.385-.579-1.124-.82-1.775-.82-1.205 0-2.277.618-2.54 1.897-.054.285-.261.567-.549.582l-3.061-.333c-.259-.056-.548-.266-.472-.66.704-3.716 4.06-4.838 7.066-4.838 1.537 0 3.547.41 4.758 1.574 1.538 1.436 1.392 3.352 1.392 5.438v4.923c0 1.481.616 2.13 1.192 2.929.204.287.247.63-.01.839-.647.541-1.794 1.537-2.423 2.099l-.008-.007zm3.559 1.988c-2.748 1.472-5.735 2.181-8.453 2.181-4.027 0-7.927-1.393-11.081-3.706-.277-.202-.481.154-.251.416 2.925 3.326 6.786 5.326 11.076 5.326 3.061 0 6.614-1.214 9.066-3.494.406-.377.058-.945-.357-.723zm.67 2.216c-.091.227.104.32.31.147 1.339-1.12 1.685-3.466 1.411-3.804-.272-.336-2.612-.626-4.04.377-.22.154-.182.367.062.337.805-.096 2.595-.312 2.913.098.319.41-.355 2.094-.656 2.845z",fillRule:"evenodd",clipRule:"evenodd"}))}q.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var G={activeStyle:{background:"linear-gradient(to right, rgb(214, 146, 60) 0%, rgb(160, 11, 143) 50%, rgb(56, 10, 115) 100%)"},icon:C(Y),style:{background:"linear-gradient(to right, rgb(236, 146, 35) 0%, rgb(177, 42, 160) 50%, rgb(105, 14, 224) 100%)"},text:"Log in with Instagram"},K=T(G);function Y(e){var t=e.width,n=e.height,r=e.color;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 169.063 169.063"},a.a.createElement("g",{fill:r},a.a.createElement("path",{d:"M122.406,0H46.654C20.929,0,0,20.93,0,46.655v75.752c0,25.726,20.929,46.655,46.654,46.655h75.752   c25.727,0,46.656-20.93,46.656-46.655V46.655C169.063,20.93,148.133,0,122.406,0z M154.063,122.407   c0,17.455-14.201,31.655-31.656,31.655H46.654C29.2,154.063,15,139.862,15,122.407V46.655C15,29.201,29.2,15,46.654,15h75.752   c17.455,0,31.656,14.201,31.656,31.655V122.407z"}),a.a.createElement("path",{d:"M84.531,40.97c-24.021,0-43.563,19.542-43.563,43.563c0,24.02,19.542,43.561,43.563,43.561s43.563-19.541,43.563-43.561   C128.094,60.512,108.552,40.97,84.531,40.97z M84.531,113.093c-15.749,0-28.563-12.812-28.563-28.561   c0-15.75,12.813-28.563,28.563-28.563s28.563,12.813,28.563,28.563C113.094,100.281,100.28,113.093,84.531,113.093z"}),a.a.createElement("path",{d:"M129.921,28.251c-2.89,0-5.729,1.17-7.77,3.22c-2.051,2.04-3.23,4.88-3.23,7.78c0,2.891,1.18,5.73,3.23,7.78   c2.04,2.04,4.88,3.22,7.77,3.22c2.9,0,5.73-1.18,7.78-3.22c2.05-2.05,3.22-4.89,3.22-7.78c0-2.9-1.17-5.74-3.22-7.78   C135.661,29.421,132.821,28.251,129.921,28.251z"})))}Y.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var Z={activeStyle:{background:"rgb(7, 112, 169)"},icon:C(Q),style:{background:"rgb(26, 129, 185)"},text:"Log in with LinkedIn"},J=T(Z);function Q(e){var t=e.width,n=e.height,r=e.color;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 430.117 430.117"},a.a.createElement("g",null,a.a.createElement("path",{d:"M430.117,261.543V420.56h-92.188V272.193c0-37.271-13.334-62.707-46.703-62.707   c-25.473,0-40.632,17.142-47.301,33.724c-2.432,5.928-3.058,14.179-3.058,22.477V420.56h-92.219c0,0,1.242-251.285,0-277.32h92.21   v39.309c-0.187,0.294-0.43,0.611-0.606,0.896h0.606v-0.896c12.251-18.869,34.13-45.824,83.102-45.824   C384.633,136.724,430.117,176.361,430.117,261.543z M52.183,9.558C20.635,9.558,0,30.251,0,57.463   c0,26.619,20.038,47.94,50.959,47.94h0.616c32.159,0,52.159-21.317,52.159-47.94C103.128,30.251,83.734,9.558,52.183,9.558z    M5.477,420.56h92.184v-277.32H5.477V420.56z",fill:r})))}Q.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var X={activeStyle:{background:"#555555"},icon:C(ee),style:{background:"#333333"},text:"Log in with Microsoft"},$=T(X);function ee(e){var t=e.width,n=e.height,r=e.color;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,fill:r,x:"0px",y:"0px",viewBox:"0 0 48 48"},a.a.createElement("path",{fill:"#ff5722",d:"M6 6H22V22H6z",transform:"rotate(-180 14 14)"}),a.a.createElement("path",{fill:"#4caf50",d:"M26 6H42V22H26z",transform:"rotate(-180 34 14)"}),a.a.createElement("path",{fill:"#ffc107",d:"M26 26H42V42H26z",transform:"rotate(-180 34 34)"}),a.a.createElement("path",{fill:"#03a9f4",d:"M6 26H22V42H6z",transform:"rotate(-180 14 34)"}))}ee.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var te={activeStyle:{background:"#1171BB"},icon:C(re),style:{background:"#168EEA"},text:"Log in with Buffer"},ne=T(te);function re(e){var t=e.width,n=e.height,r=e.color;return a.a.createElement("svg",{"aria-labelledby":"simpleicons-buffer-icon",role:"img",viewBox:"0 0 24 24",width:t,height:n,xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M23.784 18.24c.287.142.287.267 0 .374l-11.357 5.223c-.287.145-.57.145-.854 0L.213 18.614c-.284-.107-.284-.232 0-.375l2.722-1.23c.284-.14.57-.14.852 0l7.787 3.573c.285.14.57.14.854 0l7.787-3.574c.283-.14.568-.14.852 0l2.717 1.23zm0-6.454c.287.143.287.285 0 .426L12.427 17.44c-.287.104-.57.104-.854 0L.213 12.21c-.284-.143-.284-.284 0-.426l2.722-1.227c.284-.144.57-.144.852 0l7.787 3.57c.285.144.57.144.854 0l7.787-3.57c.283-.144.568-.144.852 0l2.717 1.226zM.214 5.76c-.285-.143-.285-.267 0-.375L11.574.16c.283-.14.57-.14.852 0l11.358 5.23c.287.107.287.232 0 .375l-11.357 5.223c-.287.143-.57.143-.854 0L.213 5.76z",fill:r}))}re.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var ie={activeStyle:{background:"#0088cc"},icon:C(oe),style:{background:"#54a9eb"},text:"Log in with Telegram"},ae=T(ie);function oe(e){var t=e.width,n=e.height;return e.color,a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 240 240",width:t,height:n,style:{transform:"scale(1.5)"}},a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"b",x1:".66",x2:".851",y1:".437",y2:".802"},a.a.createElement("stop",{offset:"0",stopColor:"#eff7fc"}),a.a.createElement("stop",{offset:"1",stopColor:"#fff"}))),a.a.createElement("circle",{cx:"120",cy:"120",r:"120",fill:"url(#a)"}),a.a.createElement("path",{fill:"#c8daea",d:"M98 175c-3.888 0-3.227-1.468-4.568-5.17L82 132.207 170 80"}),a.a.createElement("path",{fill:"#a9c9dd",d:"M98 175c3 0 4.325-1.372 6-3l16-15.558-19.958-12.035"}),a.a.createElement("path",{fill:"url(#b)",d:"M100.04 144.41l48.36 35.729c5.519 3.045 9.501 1.468 10.876-5.123l19.685-92.763c2.015-8.08-3.08-11.746-8.36-9.349l-115.59 44.571c-7.89 3.165-7.843 7.567-1.438 9.528l29.663 9.259 68.673-43.325c3.242-1.966 6.218-.91 3.776 1.258"}))}oe.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var se={activeStyle:{background:"#3333331c"},icon:C(le),style:{background:"#FFFFFF",color:"#000000"},text:"Log in with Apple"},ce=T(se);function le(e){var t=e.width,n=e.height;return e.color,a.a.createElement("svg",{width:t,height:n,viewBox:"0 0 56 56",style:{transform:"scale(2.5)"},version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M28.2226562,20.3846154 C29.0546875,20.3846154 30.0976562,19.8048315 30.71875,19.0317864 C31.28125,18.3312142 31.6914062,17.352829 31.6914062,16.3744437 C31.6914062,16.2415766 31.6796875,16.1087095 31.65625,16 C30.7304687,16.0362365 29.6171875,16.640178 28.9492187,17.4494596 C28.421875,18.06548 27.9414062,19.0317864 27.9414062,20.0222505 C27.9414062,20.1671964 27.9648438,20.3121424 27.9765625,20.3604577 C28.0351562,20.3725366 28.1289062,20.3846154 28.2226562,20.3846154 Z M25.2929688,35 C26.4296875,35 26.9335938,34.214876 28.3515625,34.214876 C29.7929688,34.214876 30.109375,34.9758423 31.375,34.9758423 C32.6171875,34.9758423 33.4492188,33.792117 34.234375,32.6325493 C35.1132812,31.3038779 35.4765625,29.9993643 35.5,29.9389701 C35.4179688,29.9148125 33.0390625,28.9122695 33.0390625,26.0979021 C33.0390625,23.6579784 34.9140625,22.5588048 35.0195312,22.474253 C33.7773438,20.6382708 31.890625,20.5899555 31.375,20.5899555 C29.9804688,20.5899555 28.84375,21.4596313 28.1289062,21.4596313 C27.3554688,21.4596313 26.3359375,20.6382708 25.1289062,20.6382708 C22.8320312,20.6382708 20.5,22.5950413 20.5,26.2911634 C20.5,28.5861411 21.3671875,31.013986 22.4335938,32.5842339 C23.3476562,33.9129053 24.1445312,35 25.2929688,35 Z",fill:"#000000",fillRule:"nonzero"})))}le.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var ue={activeStyle:{background:"#697ec4"},icon:C(fe),style:{background:"#7289DA"},text:"Log in with Discord"},de=T(ue);function fe(e){var t=e.width,n=e.height,r=e.color;return a.a.createElement("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:r,width:t,height:n},a.a.createElement("title",null,"Discord icon"),a.a.createElement("path",{d:"M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z"}))}fe.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var he={activeStyle:{background:"#f5f5f5"},icon:C(me),style:{background:"white",color:"black"},text:"Log in with Okta"},pe=T(he);function me(e){var t=e.width,n=void 0===t?24:t,r=e.height,i=void 0===r?24:r;return a.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 400 134.7",width:n,height:i},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#007DC1",d:"M50.3,33.8C22.5,33.8,0,56.3,0,84.1s22.5,50.3,50.3,50.3s50.3-22.5,50.3-50.3S78.1,33.8,50.3,33.8z M50.3,109.3c-13.9,0-25.2-11.3-25.2-25.2s11.3-25.2,25.2-25.2s25.2,11.3,25.2,25.2S64.2,109.3,50.3,109.3z"})),a.a.createElement("path",{fill:"#007DC1",d:"M138.7,101c0-4,4.8-5.9,7.6-3.1c12.6,12.8,33.4,34.8,33.5,34.9c0.3,0.3,0.6,0.8,1.8,1.2 c0.5,0.2,1.3,0.2,2.2,0.2l22.7,0c4.1,0,5.3-4.7,3.4-7.1l-37.6-38.5l-2-2c-4.3-5.1-3.8-7.1,1.1-12.3L201.2,41c1.9-2.4,0.7-7-3.5-7 h-20.6c-0.8,0-1.4,0-2,0.2c-1.2,0.4-1.7,0.8-2,1.2c-0.1,0.1-16.6,17.9-26.8,28.8c-2.8,3-7.8,1-7.8-3.1l0-57.1c0-2.9-2.4-4-4.3-4 h-16.8c-2.9,0-4.3,1.9-4.3,3.6v126.6c0,2.9,2.4,3.7,4.4,3.7h16.8c2.6,0,4.3-1.9,4.3-3.8v-1.3V101z"}),a.a.createElement("path",{fill:"#007DC1",d:"M275.9,129.6l-1.8-16.8c-0.2-2.3-2.4-3.9-4.7-3.5c-1.3,0.2-2.6,0.3-3.9,0.3c-13.4,0-24.3-10.5-25.1-23.8 c0-0.4,0-0.9,0-1.4V63.8c0-2.7,2-4.9,4.7-4.9l22.5,0c1.6,0,4-1.4,4-4.3V38.7c0-3.1-2-4.7-3.8-4.7h-22.7c-2.6,0-4.7-1.9-4.8-4.5 l0-25.5c0-1.6-1.2-4-4.3-4h-16.7c-2.1,0-4.1,1.3-4.1,3.9c0,0,0,81.5,0,81.9c0.7,27.2,23,48.9,50.3,48.9c2.3,0,4.5-0.2,6.7-0.5 C274.6,133.9,276.2,131.9,275.9,129.6z"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#007DC1",d:"M397.1,108.5c-14.2,0-16.4-5.1-16.4-24.2c0-0.1,0-0.1,0-0.2l0-45.9c0-1.6-1.2-4.3-4.4-4.3h-16.8 c-2.1,0-4.4,1.7-4.4,4.3l0,2.1c-7.3-4.2-15.8-6.6-24.8-6.6c-27.8,0-50.3,22.5-50.3,50.3c0,27.8,22.5,50.3,50.3,50.3 c12.5,0,23.9-4.6,32.7-12.1c4.7,7.2,12.3,12,24.2,12.1c2,0,12.8,0.4,12.8-4.7v-17.9C400,110.2,398.8,108.5,397.1,108.5z M330.4,109.3c-13.9,0-25.2-11.3-25.2-25.2c0-13.9,11.3-25.2,25.2-25.2c13.9,0,25.2,11.3,25.2,25.2 C355.5,98,344.2,109.3,330.4,109.3z"})))}me.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var ve={activeStyle:{background:"#f5f5f5"},icon:C(ye),style:{background:"white",color:"black"},text:"Log in with Slack"},ge=T(ve);function ye(e){var t=e.width,n=void 0===t?24:t,r=e.height,i=void 0===r?24:r,o=e.color;return a.a.createElement("svg",{enableBackground:"new 0 0 2447.6 2452.5",viewBox:"0 0 2447.6 2452.5",fill:o,width:n,height:i,xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{clipRule:"evenodd",fillRule:"evenodd"},a.a.createElement("path",{d:"m897.4 0c-135.3.1-244.8 109.9-244.7 245.2-.1 135.3 109.5 245.1 244.8 245.2h244.8v-245.1c.1-135.3-109.5-245.1-244.9-245.3.1 0 .1 0 0 0m0 654h-652.6c-135.3.1-244.9 109.9-244.8 245.2-.2 135.3 109.4 245.1 244.7 245.3h652.7c135.3-.1 244.9-109.9 244.8-245.2.1-135.4-109.5-245.2-244.8-245.3z",fill:"#36c5f0"}),a.a.createElement("path",{d:"m2447.6 899.2c.1-135.3-109.5-245.1-244.8-245.2-135.3.1-244.9 109.9-244.8 245.2v245.3h244.8c135.3-.1 244.9-109.9 244.8-245.3zm-652.7 0v-654c.1-135.2-109.4-245-244.7-245.2-135.3.1-244.9 109.9-244.8 245.2v654c-.2 135.3 109.4 245.1 244.7 245.3 135.3-.1 244.9-109.9 244.8-245.3z",fill:"#2eb67d"}),a.a.createElement("path",{d:"m1550.1 2452.5c135.3-.1 244.9-109.9 244.8-245.2.1-135.3-109.5-245.1-244.8-245.2h-244.8v245.2c-.1 135.2 109.5 245 244.8 245.2zm0-654.1h652.7c135.3-.1 244.9-109.9 244.8-245.2.2-135.3-109.4-245.1-244.7-245.3h-652.7c-135.3.1-244.9 109.9-244.8 245.2-.1 135.4 109.4 245.2 244.7 245.3z",fill:"#ecb22e"}),a.a.createElement("path",{d:"m0 1553.2c-.1 135.3 109.5 245.1 244.8 245.2 135.3-.1 244.9-109.9 244.8-245.2v-245.2h-244.8c-135.3.1-244.9 109.9-244.8 245.2zm652.7 0v654c-.2 135.3 109.4 245.1 244.7 245.3 135.3-.1 244.9-109.9 244.8-245.2v-653.9c.2-135.3-109.4-245.1-244.7-245.3-135.4 0-244.9 109.8-244.8 245.1 0 0 0 .1 0 0",fill:"#e01e5a"})))}ye.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string]),color:s.a.string};var be={activeStyle:{background:"#ac3ade"},icon:C(xe),style:{background:"#720E9E"},text:"Log in with Yahoo"},_e=T(be);function xe(e){var t=e.width,n=e.height,r=e.color;return a.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 291.319 291.319",xstyle:"enable-background:new 0 0 291.319 291.319;",xmlSpace:"preserve",fill:r,width:t,height:n},a.a.createElement("g",null,a.a.createElement("path",{fill:"transparent",d:"M145.659,0c80.45,0,145.66,65.219,145.66,145.66c0,80.45-65.21,145.659-145.66,145.659 S0,226.109,0,145.66C0,65.219,65.21,0,145.659,0z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M212.353,114.98l0.155-0.027l4.825-5.371l-0.237-0.018l0.51-0.801h-67.595l2.604,9.249h18.444 l-31.044,28.722c-6.336-9.24-21.184-30.479-31.544-46.411h19.254v-6.555l0.264-1.884l-0.264-0.036v-0.765H54.631v9.24H77.49 c8.876,7.328,47.358,54.049,48.76,58.51c0.564,4.179,1.366,28.841-0.291,30.698c-1.994,2.868-22.814,1.32-26.483,1.593 l-0.137,9.058c6.7,0.2,26.801-0.009,33.584-0.009c13.364,0,36.77-0.346,40.065-0.082l0.41-8.576l-26.901-0.401 c-0.564-3.887-1.183-28.422-0.619-31.098c2.54-7.765,43.816-39.902,48.059-41.112l3.997-0.901h12.472 C210.405,118.002,212.353,114.98,212.353,114.98z M202.266,179.079l11.689,0.892l13.628-49.979 c-2.276-0.082-22.95-1.93-25.636-2.431L202.266,179.079z M200.245,187.091l0.064,12.208l5.917,0.492l6.391,0.446l1.875-11.944 l-6.737-0.31C207.756,187.983,200.245,187.091,200.245,187.091z"})))}xe.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var we={activeStyle:{background:"#008FF3"},icon:C(Ee),style:{background:"#0573ff"},text:"Log in with Zalo"},Se=T(we);function Ee(e){var t=e.width,n=e.height,r=e.color;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 24 24"},a.a.createElement("path",{fill:r,d:"M12.49 10.2722v-.4496h1.3467v6.3218h-.7704a.576.576 0 01-.5763-.5729l-.0006.0005a3.273 3.273 0 01-1.9372.6321c-1.8138 0-3.2844-1.4697-3.2844-3.2823 0-1.8125 1.4706-3.2822 3.2844-3.2822a3.273 3.273 0 011.9372.6321l.0006.0005zM6.9188 7.7896v.205c0 .3823-.051.6944-.2995 1.0605l-.03.0343c-.0542.0615-.1815.206-.2421.2843L2.024 14.8h4.8948v.7682a.5764.5764 0 01-.5767.5761H0v-.3622c0-.4436.1102-.6414.2495-.8476L4.8582 9.23H.1922V7.7896h6.7266zm8.5513 8.3548a.4805.4805 0 01-.4803-.4798v-7.875h1.4416v8.3548H15.47zM20.6934 9.6C22.52 9.6 24 11.0807 24 12.9044c0 1.8252-1.4801 3.306-3.3066 3.306-1.8264 0-3.3066-1.4808-3.3066-3.306 0-1.8237 1.4802-3.3044 3.3066-3.3044zm-10.1412 5.253c1.0675 0 1.9324-.8645 1.9324-1.9312 0-1.065-.865-1.9295-1.9324-1.9295s-1.9324.8644-1.9324 1.9295c0 1.0667.865 1.9312 1.9324 1.9312zm10.1412-.0033c1.0737 0 1.945-.8707 1.945-1.9453 0-1.073-.8713-1.9436-1.945-1.9436-1.0753 0-1.945.8706-1.945 1.9436 0 1.0746.8697 1.9453 1.945 1.9453z"}))}Ee.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var ke={activeStyle:{background:"#333333"},icon:C(je),style:{background:"#000000",color:"#FFFFFF"},text:"Log in with TikTok"},Ne=T(ke);function je(e){var t=e.width,n=e.height,r=e.color;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,fill:r,viewBox:"0 0 512 512"},a.a.createElement("path",{d:"M412.19 118.66a109.27 109.27 0 01-9.45-5.5 132.87 132.87 0 01-24.27-20.62c-18.1-20.71-24.86-41.72-27.35-56.43h.1C349.14 23.9 350 16 350.13 16h-82.44v318.78c0 4.28 0 8.51-.18 12.69 0 .52-.05 1-.08 1.56 0 .23 0 .47-.05.71v.18a70 70 0 01-35.22 55.56 68.8 68.8 0 01-34.11 9c-38.41 0-69.54-31.32-69.54-70s31.13-70 69.54-70a68.9 68.9 0 0121.41 3.39l.1-83.94a153.14 153.14 0 00-118 34.52 161.79 161.79 0 00-35.3 43.53c-3.48 6-16.61 30.11-18.2 69.24-1 22.21 5.67 45.22 8.85 54.73v.2c2 5.6 9.75 24.71 22.38 40.82A167.53 167.53 0 00115 470.66v-.2l.2.2c39.91 27.12 84.16 25.34 84.16 25.34 7.66-.31 33.32 0 62.46-13.81 32.32-15.31 50.72-38.12 50.72-38.12a158.46 158.46 0 0027.64-45.93c7.46-19.61 9.95-43.13 9.95-52.53V176.49c1 .6 14.32 9.41 14.32 9.41s19.19 12.3 49.13 20.31c21.48 5.7 50.42 6.9 50.42 6.9v-81.84c-10.14 1.1-30.73-2.1-51.81-12.61z"}))}function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}je.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])};var Ie={activeStyle:{background:"#eeeeee"},icon:C(Re),style:{background:"#ffffff",color:"#333333"},text:"Log in with Metamask"},Ce=T(Ie);function Re(e){return e.width,e.height,e.color,a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",version:"1.1",viewBox:"0 0 318.6 318.6",xmlSpace:"preserve"},a.a.createElement("path",{fill:"#e2761b",stroke:"#e2761b",strokeLinecap:"round",strokeLinejoin:"round",d:"M274.1 35.5l-99.5 73.9L193 65.8z"}),a.a.createElement("path",Te({d:"M44.4 35.5l98.7 74.6-17.5-44.3zm193.9 171.3l-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z"},Oe)),a.a.createElement("path",Te({d:"M103.6 138.2l-15.8 23.9 56.3 2.5-2-60.5zm111.3 0l-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5l33.9 16.5-4.7-39.3z"},Oe)),a.a.createElement("path",{fill:"#d7c1b3",stroke:"#d7c1b3",strokeLinecap:"round",strokeLinejoin:"round",d:"M211.8 247.4l-33.9-16.5 2.7 22.1-.3 9.3zm-105 0l31.5 14.9-.2-9.3 2.5-22.1z"}),a.a.createElement("path",{fill:"#233447",stroke:"#233447",strokeLinecap:"round",strokeLinejoin:"round",d:"M138.8 193.5l-28.2-8.3 19.9-9.1zm40.9 0l8.3-17.4 20 9.1z"}),a.a.createElement("path",{fill:"#cd6116",stroke:"#cd6116",strokeLinecap:"round",strokeLinejoin:"round",d:"M106.8 247.4l4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7l-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1l20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),a.a.createElement("path",{fill:"#e4751f",stroke:"#e4751f",strokeLinecap:"round",strokeLinejoin:"round",d:"M87.8 162.1l23.6 46-.8-22.9zm120.3 23.1l-1 22.9 23.7-46zm-64-20.6l-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0l-2.7 18 1.2 45 6.7-34.1z"}),a.a.createElement("path",Te({d:"M179.8 193.5l-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3l.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z"},Ae)),a.a.createElement("path",{fill:"#c0ad9e",stroke:"#c0ad9e",strokeLinecap:"round",strokeLinejoin:"round",d:"M180.3 262.3l.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),a.a.createElement("path",{fill:"#161616",stroke:"#161616",strokeLinecap:"round",strokeLinejoin:"round",d:"M177.9 230.9l-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),a.a.createElement("path",{fill:"#763d16",stroke:"#763d16",strokeLinecap:"round",strokeLinejoin:"round",d:"M278.3 114.2l8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),a.a.createElement("path",Te({d:"M267.2 153.5l-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3l-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4l3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z"},Ae)))}var Oe={fill:"#e4761b",stroke:"#e4761b",strokeLinecap:"round",strokeLinejoin:"round"},Ae={fill:"#f6851b",stroke:"#f6851b",strokeLinecap:"round",strokeLinejoin:"round"};Re.propTypes={width:s.a.oneOfType([s.a.number,s.a.string]),height:s.a.oneOfType([s.a.number,s.a.string])},t.default=r}])},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var _=b.prototype=new y;_.constructor=b,m(_,g.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===a[i]&&(a[i]=c[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return o=o(c=e),e=""===a?"."+T(c,0):a,x(o)?(i="",null!=e&&(i=e.replace(j,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(N(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(j,"$&/")+"/")+e)),t.push(o)),1;if(c=0,a=""===a?".":a+":",x(e))for(var l=0;l<e.length;l++){var u=a+T(s=e[l],l);c+=I(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=I(s=s.value,t,i,u=a+T(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function C(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},A={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},474:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],c="undefined"!==typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&c()}function s(){o(a)}function c(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return c}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},f=y(0,0,0,0);function h(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=h(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=h(r.width),c=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=p(r,"left","right")+a),Math.round(c+o)!==n&&(c-=p(r,"top","bottom")+o)),!function(e){return e===d(e).document.documentElement}(e)){var l=Math.round(s+a)-t,u=Math.round(c+o)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return y(i.left,i.top,s,c)}var v="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function g(e){return i?v(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):f}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),_=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return u(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);u(this,{target:e,contentRect:n})},x=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new _(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!==typeof WeakMap?new WeakMap:new r,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new x(t,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=w.get(this))[e].apply(t,arguments)}}));var E="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:S;t.default=E},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>a(c,n))l<i&&0>a(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<i&&0>a(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function x(e){if(v=!1,_(e),!m)if(null!==r(l))m=!0,A(w);else{var t=r(u);null!==t&&P(x,t.startTime-e)}}function w(e,n){m=!1,v&&(v=!1,y(N),N=-1),p=!0;var a=h;try{for(_(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!I());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),_(n)}else i(l);f=r(l)}if(null!==f)var c=!0;else{var d=r(u);null!==d&&P(x,d.startTime-n),c=!1}return c}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,N=-1,j=5,T=-1;function I(){return!(t.unstable_now()-T<j)}function C(){if(null!==k){var e=t.unstable_now();T=e;var n=!0;try{n=k(!0,e)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"===typeof b)S=function(){b(C)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=C,S=function(){O.postMessage(null)}}else S=function(){g(C,0)};function A(e){k=e,E||(E=!0,S())}function P(e,n){N=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(l)&&e===r(u)&&(v?(y(N),N=-1):v=!0,P(x,a-o))):(e.sortIndex=s,n(l,e),m||p||(m=!0,A(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},2806:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},2480:function(){}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},__webpack_require__.d(i,a),i}}(),__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,n){return __webpack_require__.f[n](e,t),t}),[]))},__webpack_require__.u=function(e){return"static/js/"+e+".05ca151f.chunk.js"},__webpack_require__.miniCssF=function(e){},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="sevenprojects:";__webpack_require__.l=function(n,r,i,a){if(e[n])e[n].push(r);else{var o,s;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){o=u;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[r];var d=function(t,r){o.onerror=o.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),s&&document.head.appendChild(o)}}}(),__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/",function(){var e={179:0};__webpack_require__.f.j=function(t,n){var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var a=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(a,(function(n){if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,a=n[0],o=n[1],s=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in o)__webpack_require__.o(o,r)&&(__webpack_require__.m[r]=o[r]);if(s)s(__webpack_require__)}for(t&&t(n);c<a.length;c++)i=a[c],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunksevenprojects=self.webpackChunksevenprojects||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__={};!function(){"use strict";var t={};__webpack_require__.r(t),__webpack_require__.d(t,{FirebaseError:function(){return am},SDK_VERSION:function(){return wv},_DEFAULT_ENTRY_NAME:function(){return lv},_addComponent:function(){return hv},_addOrOverwriteComponent:function(){return pv},_apps:function(){return dv},_clearComponents:function(){return yv},_components:function(){return fv},_getProvider:function(){return vv},_registerComponent:function(){return mv},_removeServiceInstance:function(){return gv},deleteApp:function(){return Nv},getApp:function(){return Ev},getApps:function(){return kv},initializeApp:function(){return Sv},onLog:function(){return Iv},registerVersion:function(){return Tv},setLogLevel:function(){return Cv}});var n,r=__webpack_require__(2791),i=__webpack_require__.t(r,2),a=__webpack_require__(1250);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function l(e){return function(e){if(Array.isArray(e))return o(e)}(e)||s(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=y();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,n)}}function x(e,t,n){return x=y()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i},x.apply(null,arguments)}function w(e){var t="function"===typeof Map?new Map:void 0;return w=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return x(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},w(e)}function S(e){if(Array.isArray(e))return e}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){return S(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||c(e,t)||E()}function N(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));var T,I="popstate";function C(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(t,n){if(!t){"undefined"!==typeof console&&console.warn(n);try{throw new Error(n)}catch(e){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function A(e,t,n,r){return void 0===n&&(n=null),j({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function D(e,t,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,c=a.v5Compat,l=void 0!==c&&c,u=s.history,d=n.Pop,f=null,h=p();function p(){return(u.state||{idx:null}).idx}function m(){d=n.Pop;var e=p(),t=null==e?null:e-h;h=e,f&&f({action:d,location:g.location,delta:t})}function v(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:P(e);return C(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,u.replaceState(j({},u.state,{idx:h}),""));var g={get action(){return d},get location(){return e(s,u)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(I,m),f=e,function(){s.removeEventListener(I,m),f=null}},createHref:function(e){return t(s,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d=n.Push;var i=A(g.location,e,t);r&&r(i,e);var a=O(i,h=p()+1),o=g.createHref(i);try{u.pushState(a,"",o)}catch(H_){s.location.assign(o)}l&&f&&f({action:d,location:g.location,delta:1})},replace:function(e,t){d=n.Replace;var i=A(g.location,e,t);r&&r(i,e);var a=O(i,h=p()),o=g.createHref(i);u.replaceState(a,"",o),l&&f&&f({action:d,location:g.location,delta:0})},go:function(e){return u.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(T||(T={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function M(e,t,n){void 0===n&&(n="/");var r=Q(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Y(i[o],J(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(C(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=te([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(C(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),U(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:K(s,e.index),routesMeta:c})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=N(F(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function F(e){var t=e.split("/");if(0===t.length)return[];var n,r=S(n=t)||s(n)||c(n)||E(),i=r[0],a=r.slice(1),o=i.endsWith("?"),u=i.replace(/\?$/,"");if(0===a.length)return o?[u,""]:[u];var d=F(a.join("/")),f=[];return f.push.apply(f,l(d.map((function(e){return""===e?u:[u,e].join("/")})))),o&&f.push.apply(f,l(d)),f.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,B=3,z=2,W=1,H=10,q=-2,G=function(e){return"*"===e};function K(e,t){var n=e.split("/"),r=n.length;return n.some(G)&&(r+=q),t&&(r+=z),n.filter((function(e){return!G(e)})).reduce((function(e,t){return e+(V.test(t)?B:""===t?W:H)}),r)}function Y(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],c=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=Z({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l);if(!u)return null;Object.assign(r,u.params);var d=s.route;a.push({params:r,pathname:te([i,u.pathname]),pathnameBase:ne(te([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=te([i,u.pathnameBase]))}return a}function Z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=k(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),u=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(H_){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+H_+")."),e}}(l[n]||"",t),e}),{});return{params:u,pathname:s,pathnameBase:c,pattern:e}}function J(e){try{return decodeURI(e)}catch(H_){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+H_+")."),e}}function Q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ee(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(C(!(i=j({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),C(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),C(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var c=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),c-=1;i.pathname=l.join("/")}a=c>=0?t[c]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,c=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:c,search:re(a),hash:ie(s)}}(i,a),d=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}var te=function(e){return e.join("/").replace(/\/\/+/g,"/")},ne=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},re=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ie=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ae=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n)}(w(Error));function oe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var se=["post","put","patch","delete"],ce=(new Set(se),["get"].concat(se));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var ue=r.createContext(null);var de=r.createContext(null);var fe=r.createContext(null);var he=r.createContext(null);var pe=r.createContext(null);var me=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ve=r.createContext(null);function ge(){return null!=r.useContext(pe)}function ye(){return ge()||C(!1),r.useContext(pe).location}function be(e){r.useContext(he).static||r.useLayoutEffect(e)}function _e(){return r.useContext(me).isDataRoute?function(){var e=Ce(Ee.UseNavigateStable).router,t=Oe(ke.UseNavigateStable),n=r.useRef(!1);be((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,le({fromRouteId:t},i)))}),[e,t]);return i}():function(){ge()||C(!1);var e=r.useContext(ue),t=r.useContext(he),n=t.basename,i=t.navigator,a=r.useContext(me).matches,o=ye().pathname,s=JSON.stringify($(a).map((function(e){return e.pathnameBase}))),c=r.useRef(!1);be((function(){c.current=!0}));var l=r.useCallback((function(t,r){if(void 0===r&&(r={}),c.current)if("number"!==typeof t){var a=ee(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:te([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,s,o,e]);return l}()}function xe(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(me).matches,a=ye().pathname,o=JSON.stringify($(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return ee(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function we(e,t,i){ge()||C(!1);var a,o=r.useContext(he).navigator,s=r.useContext(me).matches,c=s[s.length-1],l=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/"),d=(c&&c.route,ye());if(t){var f,h="string"===typeof t?L(t):t;"/"===u||(null==(f=h.pathname)?void 0:f.startsWith(u))||C(!1),a=h}else a=d;var p=a.pathname||"/",m=M(e,{pathname:"/"===u?p:p.slice(u.length)||"/"});var v=Ie(m&&m.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:te([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:te([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return t&&v?r.createElement(pe.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:n.Pop}},v):v}function Se(){var e=function(){var e,t=r.useContext(ve),n=Re(ke.UseRouteError),i=Oe(ke.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=oe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ee,ke,Ne=r.createElement(Se,null),je=function(e){v(n,e);var t=_(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return p(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(me.Provider,{value:this.props.routeContext},r.createElement(ve.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Te(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(ue);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(me.Provider,{value:t},i)}function Ie(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var c=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));c>=0||C(!1),o=o.slice(0,Math.min(o.length,c+1))}return o.reduceRight((function(e,i,a){var c=i.route.id?null==s?void 0:s[i.route.id]:null,l=null;n&&(l=i.route.errorElement||Ne);var u=t.concat(o.slice(0,a+1)),d=function(){var t;return t=c?l:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Te,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(je,{location:n.location,revalidation:n.revalidation,component:l,error:c,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}function Ce(e){var t=r.useContext(ue);return t||C(!1),t}function Re(e){var t=r.useContext(de);return t||C(!1),t}function Oe(e){var t=function(e){var t=r.useContext(me);return t||C(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||C(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Ee||(Ee={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(ke||(ke={}));var Ae;function Pe(e){C(!1)}function Le(e){var t=e.basename,i=void 0===t?"/":t,a=e.children,o=void 0===a?null:a,s=e.location,c=e.navigationType,l=void 0===c?n.Pop:c,u=e.navigator,d=e.static,f=void 0!==d&&d;ge()&&C(!1);var h=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:h,navigator:u,static:f}}),[h,u,f]);"string"===typeof s&&(s=L(s));var m=s,v=m.pathname,g=void 0===v?"/":v,y=m.search,b=void 0===y?"":y,_=m.hash,x=void 0===_?"":_,w=m.state,S=void 0===w?null:w,E=m.key,k=void 0===E?"default":E,N=r.useMemo((function(){var e=Q(g,h);return null==e?null:{location:{pathname:e,search:b,hash:x,state:S,key:k},navigationType:l}}),[h,g,b,x,S,k,l]);return null==N?null:r.createElement(he.Provider,{value:p},r.createElement(pe.Provider,{children:o,value:N}))}function De(e){var t=e.children,n=e.location;return we(Ue(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ae||(Ae={}));var Me=new Promise((function(){}));r.Component;function Ue(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(l(t),[i]);if(e.type!==r.Fragment){e.type!==Pe&&C(!1),e.props.index&&e.props.children&&C(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ue(e.props.children,a)),n.push(o)}else n.push.apply(n,Ue(e.props.children,a))}})),n}function Fe(){Fe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new N(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=l;var f={};function h(){}function p(){}function m(){}var v={};c(v,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(j([])));y&&y!==t&&n.call(y,a)&&(v=y);var b=m.prototype=h.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,a,o,s){var c=u(e[r],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==d(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(c.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(b),c(b,s,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ve(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(H_){return void n(H_)}s.done?t(c):Promise.resolve(c).then(r,i)}function Be(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ve(a,r,i,o,s,"next",e)}function s(e){Ve(a,r,i,o,s,"throw",e)}o(void 0)}))}}var ze={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},We=r.createContext&&r.createContext(ze),He=function(){return He=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},He.apply(this,arguments)},qe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ge(e){return e&&e.map((function(e,t){return r.createElement(e.tag,He({key:t},e.attr),Ge(e.child))}))}function Ke(e){return function(t){return r.createElement(Ye,He({attr:He({},e.attr)},t),Ge(e.child))}}function Ye(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,s=qe(e,["attr","size","title"]),c=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",He({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:He(He({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==We?r.createElement(We.Consumer,null,(function(e){return t(e)})):t(ze)}function Ze(e){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 8h-2.81a5.985 5.985 0 00-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"}}]})(e)}function Je(e){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 002 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"}}]})(e)}function Qe(e){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M2 13a9 9 0 0013.79 7.62l-1.46-1.46c-.99.53-2.13.84-3.33.84-3.86 0-7-3.14-7-7s3.14-7 7-7h.17L9.59 7.59 11 9l4-4-4-4-1.42 1.41L11.17 4H11a9 9 0 00-9 9zm9 0l6 6 6-6-6-6-6 6zm6 3.17L13.83 13 17 9.83 20.17 13 17 16.17z"}}]})(e)}var Xe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$e=function(e){function t(t){var n=e.call(this,t)||this;return n.name="AssertionError",n}return Xe(t,e),t}(Error);function et(e,t){if(!e)throw new $e(t)}function tt(e){var t=Object.entries(e).filter((function(e){var t=e[1];return void 0!==t&&null!==t})).map((function(e){var t=e[0],n=e[1];return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(String(n)))}));return t.length>0?"?".concat(t.join("&")):""}var nt=__webpack_require__(1694),rt=__webpack_require__.n(nt),it=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=function(){return at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},at.apply(this,arguments)},ot=function(t,n,r,i){return new(r||(r=Promise))((function(a,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function c(t){try{l(i.throw(t))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((i=i.apply(t,n||[])).next())}))},st=function(t,n){var r,i,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=n.call(t,s)}catch(e){o=[6,e],i=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},ct=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var lt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.openShareDialog=function(t){var r=n.props,i=r.onShareWindowClose,a=r.windowHeight,o=void 0===a?400:a,s=r.windowPosition,c=void 0===s?"windowCenter":s,l=r.windowWidth,u=void 0===l?550:l,d=at({height:o,width:u},"windowCenter"===c?function(e,t){return{left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}}(u,o):function(e,t){return{top:(window.screen.height-t)/2,left:(window.screen.width-e)/2}}(u,o));!function(t,n,r){var i=n.height,a=n.width,o=ct(n,["height","width"]),s=at({height:i,width:a,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},o),c=window.open(t,"",Object.keys(s).map((function(e){return"".concat(e,"=").concat(s[e])})).join(", "));if(r)var l=window.setInterval((function(){try{(null===c||c.closed)&&(window.clearInterval(l),r(c))}catch(e){console.error(e)}}),1e3)}(t,d,i)},n.handleClick=function(e){return ot(n,void 0,void 0,(function(){var t,n,r,i,a,o,s,c,l,u;return st(this,(function(d){switch(d.label){case 0:return t=this.props,n=t.beforeOnClick,r=t.disabled,i=t.networkLink,a=t.onClick,o=t.url,s=t.openShareDialogOnClick,c=t.opts,l=i(o,c),r?[2]:(e.preventDefault(),n?(u=n(),!(f=u)||"object"!==typeof f&&"function"!==typeof f||"function"!==typeof f.then?[3,2]:[4,u]):[3,2]);case 1:d.sent(),d.label=2;case 2:return s&&this.openShareDialog(l),a&&a(e,l),[2]}var f}))}))},n}return it(n,t),n.prototype.render=function(){var e=this.props,t=(e.beforeOnClick,e.children),n=e.className,i=e.disabled,a=e.disabledStyle,o=e.forwardedRef,s=(e.networkLink,e.networkName),c=(e.onShareWindowClose,e.openShareDialogOnClick,e.opts,e.resetButtonStyle),l=e.style,u=(e.url,e.windowHeight,e.windowPosition,e.windowWidth,ct(e,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","networkLink","networkName","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","url","windowHeight","windowPosition","windowWidth"])),d=rt()("react-share__ShareButton",{"react-share__ShareButton--disabled":!!i,disabled:!!i},n),f=at(at(c?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},l),i&&a);return r.createElement("button",at({},u,{"aria-label":u["aria-label"]||s,className:d,onClick:this.handleClick,ref:o,style:f}),t)},n.defaultProps={disabledStyle:{opacity:.6},openShareDialogOnClick:!0,resetButtonStyle:!0},n}(r.Component),ut=lt,dt=function(){return dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dt.apply(this,arguments)};var ft=function(e,t,n,i){function a(a,o){var s=n(a),c=dt({},a);return Object.keys(s).forEach((function(e){delete c[e]})),r.createElement(ut,dt({},i,c,{forwardedRef:o,networkName:e,networkLink:t,opts:n(a)}))}return a.displayName="ShareButton-".concat(e),(0,r.forwardRef)(a)};var ht=ft("facebook",(function(e,t){var n=t.quote,r=t.hashtag;return et(e,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+tt({u:e,quote:n,hashtag:r})}),(function(e){return{quote:e.quote,hashtag:e.hashtag}}),{windowWidth:550,windowHeight:400}),pt=ht;var mt=ft("twitter",(function(e,t){var n=t.title,r=t.via,i=t.hashtags,a=void 0===i?[]:i,o=t.related,s=void 0===o?[]:o;return et(e,"twitter.url"),et(Array.isArray(a),"twitter.hashtags is not an array"),et(Array.isArray(s),"twitter.related is not an array"),"https://twitter.com/share"+tt({url:e,text:n,via:r,hashtags:a.length>0?a.join(","):void 0,related:s.length>0?s.join(","):void 0})}),(function(e){return{hashtags:e.hashtags,title:e.title,via:e.via,related:e.related}}),{windowWidth:550,windowHeight:400}),vt=mt;var gt=ft("linkedin",(function(e,t){var n=t.title,r=t.summary,i=t.source;return et(e,"linkedin.url"),"https://linkedin.com/shareArticle"+tt({url:e,mini:"true",title:n,summary:r,source:i})}),(function(e){return{title:e.title,summary:e.summary,source:e.source}}),{windowWidth:750,windowHeight:600}),yt=gt;var bt=ft("whatsapp",(function(e,t){var n=t.title,r=t.separator;return et(e,"whatsapp.url"),"https://"+(/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)?"api":"web")+".whatsapp.com/send"+tt({text:n?n+r+e:e})}),(function(e){return{title:e.title,separator:e.separator||" "}}),{windowWidth:550,windowHeight:400}),_t=bt;function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xt.apply(this,arguments)}function wt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var St=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Et(e){var t=e.basename,n=e.children,i=e.window,a=r.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),D((function(e,t){var n=e.location;return A("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:P(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,s=k(r.useState({action:o.action,location:o.location}),2),c=s[0],l=s[1];return r.useLayoutEffect((function(){return o.listen(l)}),[o]),r.createElement(Le,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o})}var kt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Nt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=r.forwardRef((function(t,n){var i,a=t.onClick,o=t.relative,s=t.reloadDocument,c=t.replace,l=t.state,u=t.target,d=t.to,f=t.preventScrollReset,h=wt(t,St),p=r.useContext(he).basename,m=!1;if("string"===typeof d&&Nt.test(d)&&(i=d,kt))try{var v=new URL(window.location.href),g=d.startsWith("//")?new URL(v.protocol+d):new URL(d),y=Q(g.pathname,p);g.origin===v.origin&&null!=y?d=y+g.search+g.hash:m=!0}catch(e){}var b=function(e,t){var n=(void 0===t?{}:t).relative;ge()||C(!1);var i=r.useContext(he),a=i.basename,o=i.navigator,s=xe(e,{relative:n}),c=s.hash,l=s.pathname,u=s.search,d=l;return"/"!==a&&(d="/"===l?a:te([a,l])),o.createHref({pathname:d,search:u,hash:c})}(d,{relative:o}),_=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,c=n.relative,l=_e(),u=ye(),d=xe(e,{relative:c});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:P(u)===P(d);l(e,{replace:n,state:o,preventScrollReset:s,relative:c})}}),[u,l,d,a,o,i,e,s,c])}(d,{replace:c,state:l,target:u,preventScrollReset:f,relative:o});return r.createElement("a",xt({},h,{href:i||b,onClick:m||s?a:function(e){a&&a(e),e.defaultPrevented||_(e)},ref:n,target:u}))}));var Tt,It;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Tt||(Tt={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(It||(It={}));var Ct=__webpack_require__(5717);function Rt(e,t){return function(){return e.apply(t,arguments)}}var Ot,At=Object.prototype.toString,Pt=Object.getPrototypeOf,Lt=(Ot=Object.create(null),function(e){var t=At.call(e);return Ot[t]||(Ot[t]=t.slice(8,-1).toLowerCase())}),Dt=function(e){return e=e.toLowerCase(),function(t){return Lt(t)===e}},Mt=function(e){return function(t){return typeof t===e}},Ut=Array.isArray,Ft=Mt("undefined");var Vt=Dt("ArrayBuffer");var Bt=Mt("string"),zt=Mt("function"),Wt=Mt("number"),Ht=function(e){return null!==e&&"object"===typeof e},qt=function(e){if("object"!==Lt(e))return!1;var t=Pt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Gt=Dt("Date"),Kt=Dt("File"),Yt=Dt("Blob"),Zt=Dt("FileList"),Jt=Dt("URLSearchParams");function Qt(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ut(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),c=s.length;for(n=0;n<c;n++)o=s[n],t.call(null,e[o],o,e)}}function Xt(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var $t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,en=function(e){return!Ft(e)&&e!==$t};var tn,nn=(tn="undefined"!==typeof Uint8Array&&Pt(Uint8Array),function(e){return tn&&e instanceof tn}),rn=Dt("HTMLFormElement"),an=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),on=Dt("RegExp"),sn=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Qt(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},cn="abcdefghijklmnopqrstuvwxyz",ln="0123456789",un={DIGIT:ln,ALPHA:cn,ALPHA_DIGIT:cn+cn.toUpperCase()+ln};var dn=Dt("AsyncFunction"),fn={isArray:Ut,isArrayBuffer:Vt,isBuffer:function(e){return null!==e&&!Ft(e)&&null!==e.constructor&&!Ft(e.constructor)&&zt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||zt(e.append)&&("formdata"===(t=Lt(e))||"object"===t&&zt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Vt(e.buffer)},isString:Bt,isNumber:Wt,isBoolean:function(e){return!0===e||!1===e},isObject:Ht,isPlainObject:qt,isUndefined:Ft,isDate:Gt,isFile:Kt,isBlob:Yt,isRegExp:on,isFunction:zt,isStream:function(e){return Ht(e)&&zt(e.pipe)},isURLSearchParams:Jt,isTypedArray:nn,isFileList:Zt,forEach:Qt,merge:function e(){for(var t=(en(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&Xt(n,i)||i;qt(n[a])&&qt(r)?n[a]=e(n[a],r):qt(r)?n[a]=e({},r):Ut(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&Qt(arguments[i],r);return n},extend:function(e,t,n){return Qt(t,(function(t,r){n&&zt(t)?e[r]=Rt(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&Pt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Lt,kindOfTest:Dt,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(Ut(e))return e;var t=e.length;if(!Wt(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:rn,hasOwnProperty:an,hasOwnProp:an,reduceDescriptors:sn,freezeMethods:function(e){sn(e,(function(t,n){if(zt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];zt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return Ut(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:Xt,global:$t,isContextDefined:en,ALPHABET:un,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:un.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&zt(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(Ht(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=Ut(n)?[]:{};return Qt(n,(function(t,n){var a=e(t,r+1);!Ft(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:dn,isThenable:function(e){return e&&(Ht(e)||zt(e))&&zt(e.then)&&zt(e.catch)}};function hn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}fn.inherits(hn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var pn=hn.prototype,mn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){mn[e]={value:e}})),Object.defineProperties(hn,mn),Object.defineProperty(pn,"isAxiosError",{value:!0}),hn.from=function(e,t,n,r,i,a){var o=Object.create(pn);return fn.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),hn.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var vn=hn;function gn(e){return fn.isPlainObject(e)||fn.isArray(e)}function yn(e){return fn.endsWith(e,"[]")?e.slice(0,-2):e}function bn(e,t,n){return e?e.concat(t).map((function(e,t){return e=yn(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var _n=fn.toFlatObject(fn,{},null,(function(e){return/^is[A-Z]/.test(e)}));var xn=function(e,t,n){if(!fn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=fn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!fn.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&fn.isSpecCompliantForm(t);if(!fn.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(fn.isDate(e))return e.toISOString();if(!s&&fn.isBlob(e))throw new vn("Blob is not supported. Use a Buffer instead.");return fn.isArrayBuffer(e)||fn.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(fn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(fn.isArray(e)&&function(e){return fn.isArray(e)&&!e.some(gn)}(e)||(fn.isFileList(e)||fn.endsWith(n,"[]"))&&(s=fn.toArray(e)))return n=yn(n),s.forEach((function(e,r){!fn.isUndefined(e)&&null!==e&&t.append(!0===o?bn([n],r,a):null===o?n:n+"[]",c(e))})),!1;return!!gn(e)||(t.append(bn(i,n,a),c(e)),!1)}var u=[],d=Object.assign(_n,{defaultVisitor:l,convertValue:c,isVisitable:gn});if(!fn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!fn.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),fn.forEach(n,(function(n,a){!0===(!(fn.isUndefined(n)||null===n)&&i.call(t,n,fn.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),u.pop()}}(e),t};function wn(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Sn(e,t){this._pairs=[],e&&xn(e,this,t)}var En=Sn.prototype;En.append=function(e,t){this._pairs.push([e,t])},En.toString=function(e){var t=e?function(t){return e.call(this,t,wn)}:wn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var kn=Sn;function Nn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jn(e,t,n){if(!t)return e;var r,i=n&&n.encode||Nn,a=n&&n.serialize;if(r=a?a(t,n):fn.isURLSearchParams(t)?t.toString():new kn(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var Tn=function(){function e(){u(this,e),this.handlers=[]}return p(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){fn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),In=Tn,Cn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:kn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var On=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&fn.isArray(r)?r.length:a,s?(fn.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&fn.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&fn.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(fn.isFormData(e)&&fn.isFunction(e.entries)){var n={};return fn.forEachEntry(e,(function(e,r){t(function(e){return fn.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},An={"Content-Type":void 0};var Pn={transitional:Cn,adapter:["xhr","http"],transformRequest:[function(t,n){var r,i=n.getContentType()||"",a=i.indexOf("application/json")>-1,o=fn.isObject(t);if(o&&fn.isHTMLForm(t)&&(t=new FormData(t)),fn.isFormData(t))return a&&a?JSON.stringify(On(t)):t;if(fn.isArrayBuffer(t)||fn.isBuffer(t)||fn.isStream(t)||fn.isFile(t)||fn.isBlob(t))return t;if(fn.isArrayBufferView(t))return t.buffer;if(fn.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return xn(e,new Rn.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Rn.isNode&&fn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(t,this.formSerializer).toString();if((r=fn.isFileList(t))||i.indexOf("multipart/form-data")>-1){var s=this.env&&this.env.FormData;return xn(r?{"files[]":t}:t,s&&new s,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),function(t,n,r){if(fn.isString(t))try{return(n||JSON.parse)(t),fn.trim(t)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var n=this.transitional||Pn.transitional,r=n&&n.forcedJSONParsing,i="json"===this.responseType;if(t&&fn.isString(t)&&(r&&!this.responseType||i)){var a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(e){if(a){if("SyntaxError"===e.name)throw vn.from(e,vn.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rn.classes.FormData,Blob:Rn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};fn.forEach(["delete","get","head"],(function(e){Pn.headers[e]={}})),fn.forEach(["post","put","patch"],(function(e){Pn.headers[e]=fn.merge(An)}));var Ln=Pn,Dn=fn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mn=Symbol("internals");function Un(e){return e&&String(e).trim().toLowerCase()}function Fn(e){return!1===e||null==e?e:fn.isArray(e)?e.map(Fn):String(e)}function Vn(e,t,n,r,i){return fn.isFunction(r)?r.call(this,t,n):(i&&(t=n),fn.isString(t)?fn.isString(r)?-1!==t.indexOf(r):fn.isRegExp(r)?r.test(t):void 0:void 0)}var Bn=function(e,t){function n(e){u(this,n),e&&this.set(e)}return p(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=Un(t);if(!i)throw new Error("header name must be a non-empty string");var a=fn.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Fn(e))}var a=function(e,t){return fn.forEach(e,(function(e,n){return i(e,n,t)}))};return fn.isPlainObject(e)||e instanceof this.constructor?a(e,t):fn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&Dn[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=Un(e)){var n=fn.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(fn.isFunction(t))return t.call(this,r,n);if(fn.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Un(e)){var n=fn.findKey(this,e);return!(!n||void 0===this[n]||t&&!Vn(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=Un(e)){var i=fn.findKey(n,e);!i||t&&!Vn(0,n[i],i,t)||(delete n[i],r=!0)}}return fn.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!Vn(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return fn.forEach(this,(function(r,i){var a=fn.findKey(n,i);if(a)return t[a]=Fn(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Fn(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return fn.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&fn.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=k(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Mn]=this[Mn]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=Un(e);t[r]||(!function(e,t){var n=fn.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return fn.isArray(e)?e.forEach(r):r(e),this}}]),n}();Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),fn.freezeMethods(Bn.prototype),fn.freezeMethods(Bn);var zn=Bn;function Wn(e,t){var n=this||Ln,r=t||n,i=zn.from(r.headers),a=r.data;return fn.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Hn(e){return!(!e||!e.__CANCEL__)}function qn(e,t,n){vn.call(this,null==e?"canceled":e,vn.ERR_CANCELED,t,n),this.name="CanceledError"}fn.inherits(qn,vn,{__CANCEL__:!0});var Gn=qn;var Kn=Rn.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),fn.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),fn.isString(r)&&o.push("path="+r),fn.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Yn(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Zn=Rn.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=fn.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var Jn=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var c=Date.now(),l=i[o];n||(n=c),r[a]=s,i[a]=c;for(var u=o,d=0;u!==a;)d+=r[u++],u%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(c-n<t)){var f=l&&c-l;return f?Math.round(1e3*d/f):void 0}}};function Qn(e,t){var n=0,r=Jn(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,c=r(s);n=a;var l={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:c||void 0,estimated:c&&o&&a<=o?(o-a)/c:void 0,event:i};l[t?"download":"upload"]=!0,e(l)}}var Xn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=zn.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}fn.isFormData(i)&&(Rn.isStandardBrowserEnv||Rn.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var c=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(l+":"+u))}var d=Yn(e.baseURL,e.url);function f(){if(c){var r=zn.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new vn("Request failed with status code "+n.status,[vn.ERR_BAD_REQUEST,vn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}}if(c.open(e.method.toUpperCase(),jn(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(f)},c.onabort=function(){c&&(n(new vn("Request aborted",vn.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new vn("Network Error",vn.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||Cn;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new vn(t,r.clarifyTimeoutError?vn.ETIMEDOUT:vn.ECONNABORTED,e,c)),c=null},Rn.isStandardBrowserEnv){var h=(e.withCredentials||Zn(d))&&e.xsrfCookieName&&Kn.read(e.xsrfCookieName);h&&a.set(e.xsrfHeaderName,h)}void 0===i&&a.setContentType(null),"setRequestHeader"in c&&fn.forEach(a.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),fn.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),o&&"json"!==o&&(c.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&c.addEventListener("progress",Qn(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Qn(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){c&&(n(!t||t.type?new Gn(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);p&&-1===Rn.protocols.indexOf(p)?n(new vn("Unsupported protocol "+p+":",vn.ERR_BAD_REQUEST,e)):c.send(i||null)}))},$n={http:null,xhr:Xn};fn.forEach($n,(function(t,n){if(t){try{Object.defineProperty(t,"name",{value:n})}catch(e){}Object.defineProperty(t,"adapterName",{value:n})}}));var er=function(e){for(var t,n,r=(e=fn.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=fn.isString(t)?$n[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new vn("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(fn.hasOwnProp($n,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!fn.isFunction(n))throw new TypeError("adapter is not a function");return n};function tr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gn(null,e)}function nr(e){return tr(e),e.headers=zn.from(e.headers),e.data=Wn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),er(e.adapter||Ln.adapter)(e).then((function(t){return tr(e),t.data=Wn.call(e,e.transformResponse,t),t.headers=zn.from(t.headers),t}),(function(t){return Hn(t)||(tr(e),t&&t.response&&(t.response.data=Wn.call(e,e.transformResponse,t.response),t.response.headers=zn.from(t.response.headers))),Promise.reject(t)}))}var rr=function(e){return e instanceof zn?e.toJSON():e};function ir(e,t){t=t||{};var n={};function r(e,t,n){return fn.isPlainObject(e)&&fn.isPlainObject(t)?fn.merge.call({caseless:n},e,t):fn.isPlainObject(t)?fn.merge({},t):fn.isArray(t)?t.slice():t}function i(e,t,n){return fn.isUndefined(t)?fn.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!fn.isUndefined(t))return r(void 0,t)}function o(e,t){return fn.isUndefined(t)?fn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(rr(e),rr(t),!0)}};return fn.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=c[r]||i,o=a(e[r],t[r],r);fn.isUndefined(o)&&a!==s||(n[r]=o)})),n}var ar="1.4.0",or={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){or[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var sr={};or.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new vn(r(i," has been removed"+(t?" in "+t:"")),vn.ERR_DEPRECATED);return t&&!sr[i]&&(sr[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var cr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new vn("options must be an object",vn.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],c=void 0===s||o(s,a,e);if(!0!==c)throw new vn("option "+a+" must be "+c,vn.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new vn("Unknown option "+a,vn.ERR_BAD_OPTION)}},validators:or},lr=cr.validators,ur=function(){function e(t){u(this,e),this.defaults=t,this.interceptors={request:new In,response:new In}}return p(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=ir(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&cr.assertOptions(i,{silentJSONParsing:lr.transitional(lr.boolean),forcedJSONParsing:lr.transitional(lr.boolean),clarifyTimeoutError:lr.transitional(lr.boolean)},!1),null!=a&&(fn.isFunction(a)?t.paramsSerializer={serialize:a}:cr.assertOptions(a,{encode:lr.function,serialize:lr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&fn.merge(o.common,o[t.method]))&&fn.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=zn.concat(n,o);var s=[],c=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(c=c&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var l,u=[];this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));var d,f=0;if(!c){var h=[nr.bind(this),void 0];for(h.unshift.apply(h,s),h.push.apply(h,u),d=h.length,l=Promise.resolve(t);f<d;)l=l.then(h[f++],h[f++]);return l}d=s.length;var p=t;for(f=0;f<d;){var m=s[f++],v=s[f++];try{p=m(p)}catch(H_){v.call(this,H_);break}}try{l=nr.call(this,p)}catch(H_){return Promise.reject(H_)}for(f=0,d=u.length;f<d;)l=l.then(u[f++],u[f++]);return l}},{key:"getUri",value:function(e){return jn(Yn((e=ir(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();fn.forEach(["delete","get","head","options"],(function(e){ur.prototype[e]=function(t,n){return this.request(ir(n||{},{method:e,url:t,data:(n||{}).data}))}})),fn.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(ir(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ur.prototype[e]=t(),ur.prototype[e+"Form"]=t(!0)}));var dr=ur,fr=function(){function e(t){if(u(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new Gn(e,t,i),n(r.reason))}))}return p(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),hr=fr;var pr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pr).forEach((function(e){var t=k(e,2),n=t[0],r=t[1];pr[r]=n}));var mr=pr;var vr=function e(t){var n=new dr(t),r=Rt(dr.prototype.request,n);return fn.extend(r,dr.prototype,n,{allOwnKeys:!0}),fn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ir(t,n))},r}(Ln);vr.Axios=dr,vr.CanceledError=Gn,vr.CancelToken=hr,vr.isCancel=Hn,vr.VERSION=ar,vr.toFormData=xn,vr.AxiosError=vn,vr.Cancel=vr.CanceledError,vr.all=function(e){return Promise.all(e)},vr.spread=function(e){return function(t){return e.apply(null,t)}},vr.isAxiosError=function(e){return fn.isObject(e)&&!0===e.isAxiosError},vr.mergeConfig=ir,vr.AxiosHeaders=zn,vr.formToJSON=function(e){return On(fn.isHTMLForm(e)?new FormData(e):e)},vr.HttpStatusCode=mr,vr.default=vr;var gr=vr;function yr(e){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zM4 12c0-1.846.634-3.542 1.688-4.897l11.209 11.209A7.946 7.946 0 0 1 12 20c-4.411 0-8-3.589-8-8zm14.312 4.897L7.103 5.688A7.948 7.948 0 0 1 12 4c4.411 0 8 3.589 8 8a7.954 7.954 0 0 1-1.688 4.897z"}}]})(e)}function br(e){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}function _r(e){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 6a3.939 3.939 0 0 0-3.934 3.934h2C10.066 8.867 10.934 8 12 8s1.934.867 1.934 1.934c0 .598-.481 1.032-1.216 1.626a9.208 9.208 0 0 0-.691.599c-.998.997-1.027 2.056-1.027 2.174V15h2l-.001-.633c.001-.016.033-.386.441-.793.15-.15.339-.3.535-.458.779-.631 1.958-1.584 1.958-3.182A3.937 3.937 0 0 0 12 6zm-1 10h2v2h-2z"}},{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}}]})(e)}function xr(e){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"}},{tag:"path",attr:{d:"M11.412 8.586c.379.38.588.882.588 1.414h2a3.977 3.977 0 0 0-1.174-2.828c-1.514-1.512-4.139-1.512-5.652 0l1.412 1.416c.76-.758 2.07-.756 2.826-.002z"}}]})(e)}var wr=[{apiUrl:"http://103.104.74.215:3003/"}],Sr=__webpack_require__(644),Er=__webpack_require__(184);var kr=function(){var e=_e(),t=k((0,r.useState)([]),2),n=t[0],i=t[1],a=k((0,r.useState)(),2),o=a[0],s=a[1],c=k((0,r.useState)([]),2),l=(c[0],c[1],k((0,r.useState)([]),2)),u=(l[0],l[1],k((0,r.useState)([]),2)),d=(u[0],u[1]),f=k((0,r.useState)([]),2),h=f[0],p=f[1];(0,r.useEffect)((function(){m()}),[]);var m=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_channel"),r,n);case 6:(i=e.sent).data.data&&i.data.data.length>0&&(a=i.data.data[0].channel_name,o=i.data.data[0]._id,Sr.Z.setItem("channel_name",a),Sr.Z.setItem("channel_id",o),d(i.data.data)),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),v=Sr.Z.getItem("imageurl");(0,r.useEffect)((function(){g()}),[]);var g=function(){var e=Be(Fe().mark((function e(){var t,n,r,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/view_profile"),r,n);case 6:a=e.sent,i([a.data.data]),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){y()}),[]);var y=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/notification_count"),r,n);case 6:i=e.sent,s(i.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),b=Sr.Z.getItem("_id"),_=ye(),x=[].includes(_.pathname),w=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={_id:t},e.prev=3,e.next=6,gr.patch("".concat(wr[0].apiUrl,"api/logout"),r,n);case 6:i=e.sent,s(i.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:Sr.Z.removeItem("_id"),Sr.Z.removeItem("username"),Sr.Z.removeItem("email"),Sr.Z.removeItem("password"),Sr.Z.removeItem("confirm_password"),Sr.Z.removeItem("gender"),Sr.Z.removeItem("fcmm"),Sr.Z.removeItem("channel_name"),Sr.Z.removeItem("role"),Sr.Z.removeItem("channel_id"),Sr.Z.removeItem("videoiid"),Sr.Z.removeItem("userId"),Sr.Z.removeItem("useridd"),Sr.Z.removeItem("channelid"),Sr.Z.removeItem("categorytpee"),Sr.Z.removeItem("getsingleaudio"),Sr.Z.removeItem("comentidd"),Sr.Z.removeItem("getsinglevideo"),Sr.Z.removeItem("livechanennelname"),Sr.Z.removeItem("livetoken"),Sr.Z.removeItem("channel_id"),Sr.Z.removeItem("channel_name"),Sr.Z.removeItem("channelidaudio"),Sr.Z.removeItem("vaideoiid"),Sr.Z.removeItem("sizeofivideo"),localStorage.removeItem("yuonair_fcm"),localStorage.removeItem("imageurl"),localStorage.removeItem("facebook_id"),localStorage.removeItem("google_id"),localStorage.removeItem("twitter_id"),localStorage.removeItem("name");case 43:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();if(!b&&x)return(0,Er.jsx)(e,{to:"/login"});var S=function(e){gr.get("".concat(wr[0].apiUrl,"api/search?term=").concat(e.target.value)).then((function(e){p(e.data.data)}))},E=function(t){Sr.Z.setItem("video_value",t),e("/searchdata")},N=Sr.Z.getItem("_id"),j=function(){e("/login")};return(0,Er.jsx)(Er.Fragment,{children:b?(0,Er.jsxs)("nav",{className:"navbar navbar-expand navbar-light bg-dark static-top osahan-nav sticky-top",style:{zIndex:"1"},children:["\xa0\xa0",(0,Er.jsx)("img",{alt:"Avatar",src:"img/logo.png",className:"yunairlogo"}),(0,Er.jsxs)("div",{className:"input-group searchbar dropdown",children:[(0,Er.jsx)("input",{type:"search",onChange:S,class:"form-control rounded searchbarinput dropdown-toggle","data-toggle":"dropdown",placeholder:"Search","aria-label":"Search","aria-describedby":"search-addon"}),(0,Er.jsx)("button",{type:"button",class:"btn btn-primary serchbtn",children:"search"}),(0,Er.jsx)("div",{class:"dropdown-menu dropdwonsearch",children:h.slice(0,6).map((function(e){return(0,Er.jsxs)("p",{style:{color:"black",fontSize:"20px"},class:"dropdown-item",onClick:function(){return E(e.video_name)},children:[e.video_name," ",(0,Er.jsx)(xr,{style:{float:"right",fontSize:"25px",color:"black"}})," "]})}))})]}),(0,Er.jsxs)("ul",{className:"navbar-nav ml-auto ml-md-0 osahan-right-navbar sideul",children:[(0,Er.jsxs)("li",{className:"nav-item dropdown no-arrow mx-1",children:[(0,Er.jsx)(jt,{className:"nav-link dropdown-toggle",to:"#",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:(0,Er.jsx)("i",{className:"fas fa-plus-circle fa-fw"})}),N?(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"alertsDropdown",children:[(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/appp",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-edit "})," \xa0 Go Live"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/upload_Video",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-headphones-alt "})," \xa0 Upload a video"]}),(0,Er.jsx)("div",{className:"dropdown-divider"}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/uploadmusic",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-star "})," \xa0 Upload a Music"]})]}):(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"alertsDropdown",children:[(0,Er.jsxs)(jt,{onClick:j,className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-edit "})," \xa0 Go Live"]}),(0,Er.jsxs)(jt,{onClick:j,className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-headphones-alt "})," \xa0 Upload a video"]}),(0,Er.jsx)("div",{className:"dropdown-divider"}),(0,Er.jsxs)(jt,{onClick:j,className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-star "})," \xa0 Upload a Music"]})]})]}),(0,Er.jsxs)("li",{className:"nav-item dropdown no-arrow mx-1",children:[(0,Er.jsxs)(jt,{className:"nav-link dropdown-toggle",to:"#",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[(0,Er.jsx)("i",{className:"fas fa-bell fa-fw"}),(0,Er.jsxs)("span",{className:"badge badge-danger",children:[null===o||void 0===o?void 0:o.video_count,"+"]})]}),N?(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"alertsDropdown",children:[(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/notification",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-edit "})," \xa0 Notification"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-headphones-alt "})," \xa0 Another action"]}),(0,Er.jsx)("div",{className:"dropdown-divider"}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/report",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-star "})," \xa0 Something else here"]})]}):(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"alertsDropdown",children:[(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-edit "})," \xa0 Notification"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-headphones-alt "})," \xa0 Another action"]}),(0,Er.jsx)("div",{className:"dropdown-divider"}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-star "})," \xa0 Something else here"]})]})]}),(0,Er.jsxs)("li",{className:"nav-item dropdown no-arrow osahan-right-navbar-user",children:[(0,Er.jsx)(jt,{className:"nav-link dropdown-toggle user-dropdown-link",to:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:n&&n.length>0?n.map((function(e){var t;return(0,Er.jsx)(r.Fragment,{children:e&&e.profile_image&&e.profile_image.filename?(0,Er.jsx)("img",{alt:"Avatar",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.profile_image)||void 0===t?void 0:t.filename)}):(0,Er.jsx)("img",{alt:"Avatar",src:"img/logo.png"})},null===e||void 0===e?void 0:e._id)})):(0,Er.jsx)("p",{children:(0,Er.jsx)("img",{alt:"Avatar",src:v})})}),N?(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"userDropdown",children:[(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/myaccount",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-user-circle"})," \xa0 My Account"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/setting",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-cog"})," \xa0 Settings"]}),(0,Er.jsx)("div",{className:"dropdown-divider"}),(0,Er.jsxs)(jt,{onClick:w,className:"dropdown-item",to:"/login","data-toggle":"modal","data-target":"#logoutModal",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-sign-out-alt"})," \xa0 Logout"]})]}):(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"userDropdown",children:[(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-user-circle"})," \xa0 My Account"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-cog"})," \xa0 Settings"]}),(0,Er.jsx)("div",{className:"dropdown-divider"}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/login","data-toggle":"modal","data-target":"#logoutModal",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-sign-out-alt"})," \xa0 Login"]})]})]})]})]}):(0,Er.jsxs)("nav",{className:"navbar navbar-expand navbar-light bg-dark static-top osahan-nav sticky-top",style:{zIndex:"1"},children:["\xa0\xa0",(0,Er.jsx)("img",{alt:"Avatar",src:"img/logo.png",className:"yunairlogo"}),(0,Er.jsxs)("div",{className:"input-group searchbar dropdown",children:[(0,Er.jsx)("input",{type:"search",onChange:S,class:"form-control rounded searchbarinput dropdown-toggle","data-toggle":"dropdown",placeholder:"Search","aria-label":"Search","aria-describedby":"search-addon"}),(0,Er.jsx)("button",{type:"button",class:"btn btn-primary serchbtn",children:"search"}),(0,Er.jsx)("div",{class:"dropdown-menu dropdwonsearch",children:h.slice(0,6).map((function(e){return(0,Er.jsxs)("p",{style:{color:"black",fontSize:"20px"},class:"dropdown-item",onClick:function(){return E(e.video_name)},children:[e.video_name," ",(0,Er.jsx)(xr,{style:{float:"right",fontSize:"25px",color:"black"}})," "]})}))})]}),(0,Er.jsxs)("ul",{className:"navbar-nav ml-auto ml-md-0 osahan-right-navbar sideul",children:[(0,Er.jsxs)("li",{className:"nav-item dropdown no-arrow mx-1",children:[(0,Er.jsx)(jt,{className:"nav-link dropdown-toggle",to:"#",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:(0,Er.jsx)("i",{className:"fas fa-plus-circle fa-fw"})}),N?(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"alertsDropdown",children:[(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/appp",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-edit "})," \xa0 Go Live"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/upload_Video",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-headphones-alt "})," \xa0 Upload a video"]}),(0,Er.jsx)("div",{className:"dropdown-divider"}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/uploadmusic",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-star "})," \xa0 Upload a Music"]})]}):(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"alertsDropdown",children:[(0,Er.jsxs)(jt,{onClick:j,className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-edit "})," \xa0 Go Live"]}),(0,Er.jsxs)(jt,{onClick:j,className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-headphones-alt "})," \xa0 Upload a video"]}),(0,Er.jsx)("div",{className:"dropdown-divider"}),(0,Er.jsxs)(jt,{onClick:j,className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-star "})," \xa0 Upload a Music"]})]})]}),(0,Er.jsxs)("li",{className:"nav-item dropdown no-arrow mx-1",children:[(0,Er.jsxs)(jt,{className:"nav-link dropdown-toggle",to:"#",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[(0,Er.jsx)("i",{className:"fas fa-bell fa-fw"}),(0,Er.jsx)("span",{className:"badge badge-danger",children:"0+"})]}),N?(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"alertsDropdown",children:[(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/notification",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-edit "})," \xa0 Notification"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-headphones-alt "})," \xa0 Another action"]}),(0,Er.jsx)("div",{className:"dropdown-divider"}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/report",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-star "})," \xa0 Something else here"]})]}):(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"alertsDropdown",children:[(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-edit "})," \xa0 Notification"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-headphones-alt "})," \xa0 Another action"]}),(0,Er.jsx)("div",{className:"dropdown-divider"}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-star "})," \xa0 Something else here"]})]})]}),(0,Er.jsxs)("li",{className:"nav-item dropdown no-arrow osahan-right-navbar-user",children:[(0,Er.jsx)(jt,{className:"nav-link dropdown-toggle user-dropdown-link",to:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:(0,Er.jsx)("img",{alt:"Avatar",src:"img/logo.png"})}),N?(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"userDropdown",children:[(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/myaccount",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-user-circle"})," \xa0 My Account"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/setting",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-cog"})," \xa0 Settings"]}),(0,Er.jsx)("div",{className:"dropdown-divider"}),(0,Er.jsxs)(jt,{onClick:w,className:"dropdown-item",to:"/login","data-toggle":"modal","data-target":"#logoutModal",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-sign-out-alt"})," \xa0 Logout"]})]}):(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"userDropdown",children:[(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-user-circle"})," \xa0 My Account"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/login",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-cog"})," \xa0 Settings"]}),(0,Er.jsx)("div",{className:"dropdown-divider"}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"/login","data-toggle":"modal","data-target":"#logoutModal",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-sign-out-alt"})," \xa0 Login"]})]})]})]})]})})};function Nr(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){Nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ir=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1],i=k((0,r.useState)([]),2),a=(i[0],i[1]);(0,r.useEffect)((function(){o()}),[]);var o=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_channel"),r,n);case 6:(i=e.sent).data.data&&i.data.data.length>0&&(o=i.data.data[0].channel_name,s=i.data.data[0]._id,Sr.Z.setItem("channel_name",o),Sr.Z.setItem("channel_id",s),a(i.data.data)),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),s=function(e){var t=new Date(e),n=new Date,r=Math.abs(n-t),i=Math.floor(r/31536e6);if(i>0)return 1===i?"1 year ago":"".concat(i," years ago");var a=Math.floor(r/2592e6);if(a>0)return 1===a?"1 month ago":"".concat(a," months ago");var o=Math.floor(r/864e5);if(o>0)return 1===o?"1 day ago":"".concat(o," days ago");var s=Math.floor(r/36e5);if(s>0)return 1===s?"1 hour ago":"".concat(s," hours ago");var c=Math.floor(r/6e4);return c>0?1===c?"1 minute ago":"".concat(c," minutes ago"):"Just now"};(0,r.useEffect)((function(){c()}),[]);var c=function(){var e=Be(Fe().mark((function e(){var t,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r=JSON.stringify({}),e.next=4,gr.get("".concat(wr[0].apiUrl,"api/get_top_video"),r,t).then((function(e){n(e.data.data)})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Er.jsx)(Er.Fragment,{children:(0,Er.jsx)(Ct.Z,Tr(Tr({},{className:"center",centerMode:!0,focusOnSelect:!0,infinite:!0,centerPadding:"100px",slidesToShow:3,speed:600,autoplay:!0}),{},{children:t.map((function(e){var t,n;return(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{id:"recipeCarousel",className:"carousel slide","data-bs-interval":"false",children:(0,Er.jsx)("div",{className:"carousel-inner",role:"listbox",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsx)("div",{className:"col-lg-3",children:(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px",width:"320px",height:"250px",borderRadius:"14px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px",height:"250px"},children:[(0,Er.jsx)(jt,{onClick:function(){var t;Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("sizeofivideo",null===e||void 0===e||null===(t=e.video[1])||void 0===t?void 0:t.size)},className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{onClick:function(){var t;Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("sizeofivideo",null===e||void 0===e||null===(t=e.video[1])||void 0===t?void 0:t.size)},to:"/video_page",children:(0,Er.jsx)("img",{height:"100%",onClick:function(){var t;Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type),Sr.Z.setItem("sizeofivideo",null===e||void 0===e||null===(t=e.video[1])||void 0===t?void 0:t.size)},className:"img-fluid",style:{height:"250px",width:"320px"},src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.video[1])||void 0===t?void 0:t.filename),alt:""})})]}),(0,Er.jsxs)("div",{style:{height:"90px",width:"100px"},className:"video-card-body contents",children:[(0,Er.jsx)("div",{className:"video-title"}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{className:"viewss",style:{fontSize:"9px"},children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," ",e.video_views]}),(0,Er.jsxs)("p",{className:"likess",style:{fontSize:"9px"},children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," ",e.video_likes]})]}),(0,Er.jsxs)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},to:"/view_profile",children:[" ",(0,Er.jsx)("img",{style:{height:"20px",width:"20px"},className:"img-fluid Profiles",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(n=e.video[1])||void 0===n?void 0:n.filename),alt:""})]}),(0,Er.jsx)("p",{style:{color:"black"},className:"desription desriptionm",children:e.description.slice(0,10)}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},to:"/view_profile",children:(0,Er.jsx)("font",{className:"names",style:{color:"#888",fontSize:"7px"},children:null===e||void 0===e?void 0:e.channel_name.slice(0,6)})})," "]}),(0,Er.jsx)("p",{className:"datetimes",style:{fontSize:"7px",fontWeight:"600"},children:s(e.current_date)})]})]})]})})})})})})})})}))}))})};function Cr(e){return Ke({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.921 11.9 1.353 8.62a.719.719 0 0 1 0-1.238L5.921 4.1A.716.716 0 0 1 7 4.719V6c1.5 0 6 0 7 8-2.5-4.5-7-4-7-4v1.281c0 .56-.606.898-1.079.62z"}}]})(e)}function Rr(e){return Ke({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"}}]})(e)}function Or(e){return Ke({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm-.5 4.11v1.8l-2.5.5v5.09c0 .495-.301.883-.662 1.123C7.974 12.866 7.499 13 7 13c-.5 0-.974-.134-1.338-.377-.36-.24-.662-.628-.662-1.123s.301-.883.662-1.123C6.026 10.134 6.501 10 7 10c.356 0 .7.068 1 .196V4.41a1 1 0 0 1 .804-.98l1.5-.3a1 1 0 0 1 1.196.98z"}}]})(e)}function Ar(e){return Ke({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.5 3a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM3 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5z"}},{tag:"path",attr:{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm12-1v14h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1h-2zm-1 0H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h9V1z"}}]})(e)}var Pr=function(){var e=_e(),t=Sr.Z.getItem("_id");return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(Ar,{className:"chkicon shadow"}),(0,Er.jsx)("input",{type:"checkbox",id:"chk"}),(0,Er.jsxs)("ul",{className:"sidebar navbar-nav manusidebar",style:{top:"60px"},children:[(0,Er.jsx)("li",{className:"nav-item ",children:(0,Er.jsxs)(jt,{className:"nav-link",to:"/home",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-home"}),(0,Er.jsx)("span",{children:"Home"})]})}),(0,Er.jsx)("li",{className:"nav-item ",children:(0,Er.jsxs)(jt,{className:"nav-link",to:"/music",children:[(0,Er.jsx)(Or,{style:{fontSize:"20px"}}),(0,Er.jsx)("span",{children:"Music"})]})}),t?(0,Er.jsx)("li",{className:"nav-item",children:(0,Er.jsxs)(jt,{className:"nav-link",to:"/history_page",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-history"}),(0,Er.jsx)("span",{children:"History"})]})}):(0,Er.jsx)("li",{onClick:function(){e("/login")},className:"nav-item",children:(0,Er.jsxs)(jt,{className:"nav-link",to:"/history_page",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-history"}),(0,Er.jsx)("span",{children:"History"})]})}),(0,Er.jsx)("li",{className:"nav-item",children:(0,Er.jsxs)(jt,{className:"nav-link",to:"/help",children:[(0,Er.jsx)(_r,{style:{fontSize:"20px"}}),(0,Er.jsx)("span",{children:"Help"})]})}),(0,Er.jsx)("li",{className:"nav-item",children:(0,Er.jsxs)(jt,{className:"nav-link",to:"/about",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-history"}),(0,Er.jsx)("span",{children:"About"})]})})]})]})};function Lr(e){return Ke({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M14.164 0h-12.664c-0.827 0-1.5 0.673-1.5 1.5v14c0 0.827 0.673 1.5 1.5 1.5h14c0.827 0 1.5-0.673 1.5-1.5v-12.724l-2.836-2.776zM8 1v4h3v-4h1v5h-8v-5h4zM3 16v-6h11v6h-11zM16 15.5c0 0.275-0.225 0.5-0.5 0.5h-0.5v-7h-13v7h-0.5c-0.276 0-0.5-0.225-0.5-0.5v-14c0-0.275 0.224-0.5 0.5-0.5h1.5v6h10v-6h0.756l2.244 2.196v12.304z"}}]})(e)}function Dr(e){return Ke({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]})(e)}function Mr(e){return Ke({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 0 0 471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0 1 42.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}}]})(e)}function Ur(e){return Ke({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 0 0 0-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]})(e)}function Fr(e){return Ke({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 0 0-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]})(e)}function Vr(e){return Ke({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M273 495.9v428l.3-428zm538.2-88.3H496.8l9.6-198.4c.6-11.9-4.7-23.1-14.6-30.5-6.1-4.5-13.6-6.8-21.1-6.7-19.6.1-36.9 13.4-42.2 32.3-37.1 134.4-64.9 235.2-83.5 302.5V852h399.4a56.85 56.85 0 0 0 33.6-51.8c0-9.7-2.3-18.9-6.9-27.3l-13.9-25.4 21.9-19a56.76 56.76 0 0 0 19.6-43c0-9.7-2.3-18.9-6.9-27.3l-13.9-25.4 21.9-19a56.76 56.76 0 0 0 19.6-43c0-9.7-2.3-18.9-6.9-27.3l-14-25.5 21.9-19a56.76 56.76 0 0 0 19.6-43c0-19.1-11-37.5-28.8-48.4z"}},{tag:"path",attr:{d:"M112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32zm773.9 5.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.5-65.5-111a67.67 67.67 0 0 0-34.3-9.3H572.3l6-122.9c1.5-29.7-9-57.9-29.5-79.4a106.4 106.4 0 0 0-77.9-33.4c-52 0-98 35-111.8 85.1l-85.8 310.8-.3 428h472.1c9.3 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37zM820.4 499l-21.9 19 14 25.5a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.1 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.1 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 22.4-13.2 42.6-33.6 51.8H345V506.8c18.6-67.2 46.4-168 83.5-302.5a44.28 44.28 0 0 1 42.2-32.3c7.5-.1 15 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.1 32.2-19.6 43z"}}]})(e)}function Br(e){return Ke({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 1.5c-1.736 0-3.369 0.676-4.596 1.904s-1.904 2.86-1.904 4.596c0 1.736 0.676 3.369 1.904 4.596s2.86 1.904 4.596 1.904c1.736 0 3.369-0.676 4.596-1.904s1.904-2.86 1.904-4.596c0-1.736-0.676-3.369-1.904-4.596s-2.86-1.904-4.596-1.904zM8 0v0c4.418 0 8 3.582 8 8s-3.582 8-8 8c-4.418 0-8-3.582-8-8s3.582-8 8-8zM7 11h2v2h-2zM7 3h2v6h-2z"}}]})(e)}function zr(e){return Ke({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:"currentColor"}}]})(e)}var Wr=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1],i=k((0,r.useState)([]),2),a=i[0],o=i[1],s=k((0,r.useState)([]),2),c=s[0],l=s[1],u=k((0,r.useState)(""),2),d=u[0],f=u[1],h=k((0,r.useState)(""),2),p=h[0],m=h[1],v=k((0,r.useState)(""),2),g=v[0],y=v[1],b=_e(),_=Sr.Z.getItem("_id"),x=function(e){var t=new Date(e),n=new Date,r=Math.abs(n-t),i=Math.floor(r/31536e6);if(i>0)return 1===i?"1 year ago":"".concat(i," years ago");var a=Math.floor(r/2592e6);if(a>0)return 1===a?"1 month ago":"".concat(a," months ago");var o=Math.floor(r/864e5);if(o>0)return 1===o?"1 day ago":"".concat(o," days ago");var s=Math.floor(r/36e5);if(s>0)return 1===s?"1 hour ago":"".concat(s," hours ago");var c=Math.floor(r/6e4);return c>0?1===c?"1 minute ago":"".concat(c," minutes ago"):"Just now"},w=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n=Sr.Z.getItem("videoiid"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i={user_id:t,video_id:n,report:g},e.prev=4,e.next=7,gr.post("".concat(wr[0].apiUrl,"api/report_single_video"),i,r);case 7:e.sent,m("Submit successfully!"),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),S=function(e){y(e.target.value)},E=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("videoiid"),n=Sr.Z.getItem("_id"),r=Sr.Z.getItem("channelid"),i={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},a={user_id:n,channel_id:r,video_id:t,time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone},e.prev=5,e.next=8,gr.post("".concat(wr[0].apiUrl,"api/save_watch_later"),a,i);case 8:e.sent,f("Saved successfully!"),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(5);case 14:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n=Sr.Z.getItem("channelid"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i={user_id:t,channel_id:n},e.prev=4,e.next=7,gr.post("".concat(wr[0].apiUrl,"api/block_user"),i,r);case 7:e.sent,f("User blocked successfully!"),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("videoiid"),n=Sr.Z.getItem("_id"),r=Sr.Z.getItem("channelid"),i={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},a={user_id:n,channel_id:r,video_id:t},e.prev=5,e.next=8,gr.post("".concat(wr[0].apiUrl,"api/dont_recommend_channel"),a,i);case 8:e.sent,f("Dont Recommend!"),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(5);case 14:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("videoiid"),n=Sr.Z.getItem("_id"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i={user_id:n,video_id:t},e.prev=4,e.next=7,gr.post("".concat(wr[0].apiUrl,"api/not_interested_video"),i,r);case 7:e.sent,f("Not interrested!"),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){I()}),[0]);var I=function(){var e=Be(Fe().mark((function e(){var t,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r=JSON.stringify({}),e.next=4,gr.post("".concat(wr[0].apiUrl,"api/get_latest_video"),r,t).then((function(e){n(e.data.data)})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){C()}),[0]);var C=function(){var e=Be(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},n=JSON.stringify({}),e.next=4,gr.get("".concat(wr[0].apiUrl,"api/get_top_video"),n,t).then((function(e){l(e.data.data)})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){R()}),[]);var R=function(){var e=Be(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},n=JSON.stringify({}),e.next=4,gr.get("".concat(wr[0].apiUrl,"api/get_live_video"),n,t).then((function(e){o(e.data.data)})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=k((0,r.useState)(!0),2),A=O[0],P=O[1];return setTimeout((function(){P(!1)}),2e3),(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsxs)("div",{id:"wrapper",children:[(0,Er.jsx)("div",{id:"content-wrapper",children:(0,Er.jsx)("div",{className:"mobilewidth",children:1==A?(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{class:"spinner-border text-primary"})}):(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(Ir,{}),(0,Er.jsxs)("div",{className:"",children:[(0,Er.jsx)("hr",{}),(0,Er.jsx)("div",{className:"",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"",children:[(0,Er.jsx)("div",{className:"",children:(0,Er.jsx)("div",{className:"main-title"})}),(0,Er.jsx)("div",{className:"",children:(0,Er.jsx)("div",{id:"recipeCarousel",className:"carousel slide","data-bs-interval":"false",children:(0,Er.jsxs)("div",{className:"carousel-inner",role:"listbox",children:[null==_?(0,Er.jsx)("div",{className:"row justify-content-left",onClick:function(){b("/login")},children:a&&a.map((function(e){var t,n,r,i;return(0,Er.jsx)("div",{className:"col-lg-4 mb-4 col-sm-12   ",style:{borderRadius:"10px",width:"100%"},children:(0,Er.jsxs)("div",{className:"video-card  boxdoticons",style:{width:"100%",borderRadius:"10px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",width:"100%",height:"160px"},children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("livetoken",e.token),Sr.Z.setItem("livechanennelname",e.channel_name)},className:"play-icon",to:"/video_live",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("livetoken",e.token),Sr.Z.setItem("livechanennelname",e.channel_name)},to:"/video_live",children:(0,Er.jsx)("img",{className:"img-fluid",src:"".concat(wr[1].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.channel_data[0])||void 0===t||null===(n=t.image[0])||void 0===n?void 0:n.filename),alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body  content",style:{paddingBottom:"30px"},children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_live",children:null===e||void 0===e?void 0:e.video_name.slice(0,20)})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsx)("div",{className:"float-right",children:(0,Er.jsxs)("p",{className:"views",children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," ",e.total_views]})}),(0,Er.jsxs)(jt,{to:"/video_live",children:[" ",(0,Er.jsx)("img",{className:"img-fluid liveprofile",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(r=e.channel_data[0])||void 0===r||null===(i=r.image[1])||void 0===i?void 0:i.filename),alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsxs)("strong",{className:"livename",to:"/view_profile",children:[null===e||void 0===e?void 0:e.channel_name.slice(0,10)," ",(0,Er.jsx)("span",{style:{color:"red"},children:"Live"})]})})," "]}),(0,Er.jsx)("p",{className:"livedatetime",children:x(e.current_date)})]})]})]})})}))}):(0,Er.jsx)("div",{className:"row justify-content-left",children:a&&a.map((function(e){var t,n,r,i;return(0,Er.jsx)("div",{className:"col-lg-4 mb-4 col-sm-12   ",style:{borderRadius:"10px",width:"100%"},children:(0,Er.jsxs)("div",{className:"video-card  boxdoticons",style:{width:"100%",borderRadius:"10px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",width:"100%",height:"160px"},children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("livetoken",e.token),Sr.Z.setItem("livechanennelname",e.channel_name)},className:"play-icon",to:"/video_live",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("livetoken",e.token),Sr.Z.setItem("livechanennelname",e.channel_name)},to:"/video_live",children:(0,Er.jsx)("img",{className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.channel_data[0])||void 0===t||null===(n=t.image[0])||void 0===n?void 0:n.filename),alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body content",style:{paddingBottom:"30px"},children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_live",children:null===e||void 0===e?void 0:e.video_name.slice(0,20)})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsx)("div",{className:"float-right",children:(0,Er.jsxs)("p",{className:"views",children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," ",e.total_views]})}),(0,Er.jsxs)(jt,{to:"/video_live",children:[" ",(0,Er.jsx)("img",{className:"img-fluid liveprofile",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(r=e.channel_data[0])||void 0===r||null===(i=r.image[1])||void 0===i?void 0:i.filename),alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsxs)("strong",{className:"livename",to:"/view_profile",children:[e.channel_name.slice(0,10)," ",(0,Er.jsx)("span",{style:{color:"red"},children:"Live"})]})})," "]}),(0,Er.jsx)("p",{className:"livedatetime",children:x(e.current_date)})]})]})]})})}))}),(0,Er.jsxs)("div",{className:"carousel-item",children:[(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v2.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," "]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v3.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v4.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v5.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})]}),(0,Er.jsxs)("div",{className:"carousel-item",children:[(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v3.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v4.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v5.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})]}),(0,Er.jsxs)("div",{className:"carousel-item",children:[(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v4.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v5.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v2.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})]}),(0,Er.jsxs)("div",{className:"carousel-item",children:[(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v5.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v2.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v3.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})]})]})})})]})})})]}),(0,Er.jsx)("div",{className:"video-block section-padding ",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h5",{children:"Latest Videos"})})}),(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{id:"recipeCarousel",className:"carousel slide","data-bs-interval":"false",children:(0,Er.jsxs)("div",{className:"carousel-inner",role:"listbox",children:[(0,Er.jsx)("div",{className:"row justify-content-left",children:null===t||void 0===t?void 0:t.map((function(e){var t,n,r,i,a,o;return(0,Er.jsxs)("div",{className:"col-sm-4 mb-4  ",style:{borderRadius:"10px",width:"100%",margin:"0px -04px 0px -02px"},children:[(0,Er.jsxs)("div",{className:"video-card  boxdoticons",style:{width:"100%",borderRadius:"7px"},children:[(0,Er.jsxs)("div",{className:"video-card-image ",style:{borderRadius:"15px",width:"100%",height:"160px"},children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},to:"/video_page",children:(0,Er.jsx)("img",{style:{height:"160px"},onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.video[1])||void 0===t?void 0:t.filename),alt:""})})]}),(0,Er.jsx)("div",{className:"video-card-body content mobilewidthcontnet",style:{paddingBottom:"10px"},children:(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid Profile",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(n=e.data[0])||void 0===n||null===(r=n.image[0])||void 0===r?void 0:r.filename),alt:""})]}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},to:"#",children:(0,Er.jsx)("b",{className:"mobilewidthvideoname",style:{color:"black",fontSize:"16px",fontWeight:"500"},children:e.description.slice(0,20)})}),(0,Er.jsxs)("p",{className:"name",children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:(0,Er.jsx)("p",{"pr-10":!0,style:{color:"#888",fontSize:"12px"},className:"cname",onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:e.channel_name.slice(0,10)})})," ",(0,Er.jsxs)("p",{className:"maincname",children:[(0,Er.jsxs)("span",{style:{fontSize:"12px",fontWeight:"600"},className:"cviews",children:[e.video_views," views \xa0"]}),(0,Er.jsxs)("span",{className:"cdate",style:{fontSize:"12px",fontWeight:"600"},children:[(0,Er.jsx)(Je,{}),x(e.current_date)]})]})]})]})})]}),(0,Er.jsx)(br,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("channelid",e.channel_id)},className:"doticon","data-toggle":"modal","data-target":"#myModal",style:{fontSize:"25px",float:"right",cursor:"pointer",color:"balck"}}),(0,Er.jsx)("div",{className:"modal",id:"my1Modal",children:(0,Er.jsx)("div",{className:"modal-dialog",children:(0,Er.jsxs)("div",{className:"modal-content",style:{bottom:"-220px"},children:[(0,Er.jsxs)("div",{className:"modal-header",children:[(0,Er.jsx)("h4",{className:"modal-title",children:"Shared"}),(0,Er.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})]}),(0,Er.jsxs)("div",{className:"card-footer",children:[(0,Er.jsx)(pt,{url:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(i=e.video[0])||void 0===i?void 0:i.filename),children:(0,Er.jsx)("img",{style:{height:"66px"},className:"img-fluid",src:"img/facebook.png",alt:"fblogo"})}),"\xa0\xa0\xa0\xa0",(0,Er.jsx)(vt,{url:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(a=e.video[0])||void 0===a?void 0:a.filename),children:(0,Er.jsx)("img",{style:{height:"66px"},className:"img-fluid",src:"img/t.jpeg",alt:"twiiterklogo"})}),"\xa0\xa0\xa0\xa0",(0,Er.jsx)(yt,{url:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e?void 0:e.video[0].filename),children:(0,Er.jsx)("img",{style:{height:"66px"},className:"img-fluid",src:"img/l.jpeg",alt:"flinklogo"})}),"\xa0\xa0\xa0\xa0",(0,Er.jsx)(_t,{url:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(o=e.video[0])||void 0===o?void 0:o.filename),children:(0,Er.jsx)("img",{style:{height:"66px"},className:"img-fluid",src:"img/w.png",alt:"twiiterklogo"})}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),(0,Er.jsx)("div",{})]})]})})})]})}))}),(0,Er.jsxs)("div",{className:"carousel-item",children:[(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v2.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," "]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v3.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v4.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v5.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})]}),(0,Er.jsxs)("div",{className:"carousel-item",children:[(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v3.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v4.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v5.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})]}),(0,Er.jsxs)("div",{className:"carousel-item",children:[(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v4.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v5.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v2.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})]}),(0,Er.jsxs)("div",{className:"carousel-item",children:[(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v5.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v2.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v3.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})]})]})})})]})}),(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h5",{children:"Top Videos"})})}),(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{id:"recipeCarousel",className:"carousel slide","data-bs-interval":"false",children:(0,Er.jsxs)("div",{className:"carousel-inner",role:"listbox",children:[(0,Er.jsx)("div",{className:"row justify-content-left",children:c.map((function(e){var t,n,r;return(0,Er.jsxs)("div",{className:"col-sm-4 mb-4  ",style:{borderRadius:"10px",width:"100%",margin:"0px -04px 0px -02px"},children:[(0,Er.jsxs)("div",{className:"video-card  boxdoticons",style:{width:"100%",borderRadius:"7px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px",width:"100%",height:"160px"},children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},to:"/video_page",children:(0,Er.jsx)("img",{style:{height:"160px"},onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.video[1])||void 0===t?void 0:t.filename),alt:""})})]}),(0,Er.jsx)("div",{className:"video-card-body content mobilewidthcontnet",style:{paddingBottom:"10px"},children:(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid Profile",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(n=e.data[0])||void 0===n||null===(r=n.image[0])||void 0===r?void 0:r.filename),alt:""})]}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},to:"#",children:(0,Er.jsx)("b",{className:"mobilewidthvideoname",style:{color:"black",fontSize:"16px",fontWeight:"500"},children:e.description.slice(0,20)})}),(0,Er.jsxs)("p",{className:"name",children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:(0,Er.jsx)("p",{"pr-10":!0,style:{color:"#888",fontSize:"12px"},className:"cname",onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:e.channel_name.slice(0,10)})})," ",(0,Er.jsxs)("p",{className:"maincname",children:[(0,Er.jsxs)("span",{style:{fontSize:"12px",fontWeight:"600"},className:"cviews",children:[e.video_views," views \xa0"]}),(0,Er.jsxs)("span",{className:"cdate",style:{fontSize:"12px",fontWeight:"600"},children:[(0,Er.jsx)(Je,{}),x(e.current_date)]})]})]})]})})]}),(0,Er.jsx)(br,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("channelid",e.channel_id)},className:"doticon","data-toggle":"modal","data-target":"#myModal",style:{fontSize:"25px",float:"right",cursor:"pointer",color:"balck"}})]})}))}),(0,Er.jsxs)("div",{className:"carousel-item",children:[(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v2.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v3.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v4.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v5.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})]}),(0,Er.jsxs)("div",{className:"carousel-item",children:[(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v3.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v4.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v5.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})]}),(0,Er.jsxs)("div",{className:"carousel-item",children:[(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v4.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v5.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v2.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})]}),(0,Er.jsxs)("div",{className:"carousel-item",children:[(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v5.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v2.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]}),(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v3.png",alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})]})]})})})]})}),(0,Er.jsx)("hr",{className:"mt-0"})]})})}),(0,Er.jsx)("div",{className:"modal",id:"myModal",children:(0,Er.jsx)("div",{className:"modal-dialog",children:(0,Er.jsxs)("div",{className:"modal-content",style:{bottom:"-220px"},children:[(0,Er.jsx)("div",{className:"modal-header",children:(0,Er.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})}),(0,Er.jsxs)("div",{className:"card-body",children:[(0,Er.jsx)("font",{style:{color:"blue"},children:d&&(0,Er.jsx)("p",{children:d})}),(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsxs)("div",{className:"p-2",children:[(0,Er.jsx)("span",{children:(0,Er.jsx)(Lr,{style:{color:"black",fontSize:"22px"}})}),(0,Er.jsx)("span",{onClick:E,className:"ml-4 text-dark",style:{fontSize:"15px"},children:"Save to watch later"})]})}),(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsxs)("div",{className:"p-2",children:[(0,Er.jsx)("span",{children:(0,Er.jsx)(Ur,{"data-toggle":"modal","data-target":"#my1Modal",style:{color:"black",fontSize:"22px"}})}),(0,Er.jsx)("span",{className:"ml-4 text-dark","data-toggle":"modal","data-target":"#my1Modal","data-dismiss":"modal",style:{fontSize:"15px"},children:"Share"})]})}),(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsxs)("div",{className:"p-2",children:[(0,Er.jsx)("span",{children:(0,Er.jsx)(yr,{style:{color:"black",fontSize:"22px"}})}),(0,Er.jsx)("span",{onClick:N,className:"ml-4 text-dark",style:{fontSize:"15px"},children:"Block Users"})]})}),(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsxs)("div",{className:"p-2",children:[(0,Er.jsx)("span",{children:(0,Er.jsx)(Br,{style:{color:"black",fontSize:"22px"}})}),(0,Er.jsx)("span",{onClick:T,className:"ml-4 text-dark",style:{fontSize:"15px"},children:"Not interested"})]})}),(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsxs)("div",{className:"p-2",children:[(0,Er.jsx)("span",{children:(0,Er.jsx)(zr,{style:{color:"black",fontSize:"22px"}})}),(0,Er.jsx)("span",{onClick:j,className:"ml-4 text-dark",style:{fontSize:"15px"},children:"Don't recommed Channel"})]})}),(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsxs)("div",{className:"p-2",children:[(0,Er.jsx)("span",{children:(0,Er.jsx)(Ze,{style:{color:"black",fontSize:"22px"}})}),(0,Er.jsx)("span",{className:"ml-4 text-dark","data-toggle":"modal","data-dismiss":"modal","data-target":"#myModalreport",style:{fontSize:"15px"},children:"Report"})]})})]})]})})}),(0,Er.jsx)("div",{className:"modal",id:"myModalreport",children:(0,Er.jsx)("div",{className:"modal-dialog",children:(0,Er.jsxs)("div",{className:"modal-content",style:{bottom:"-242px"},children:[(0,Er.jsx)("div",{className:"modal-header",children:(0,Er.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})}),(0,Er.jsxs)("div",{className:"card-body",children:[(0,Er.jsx)("font",{style:{color:"blue"},children:p&&(0,Er.jsx)("p",{children:p})}),(0,Er.jsxs)("div",{className:"p-2",children:[(0,Er.jsxs)("label",{children:[(0,Er.jsx)("input",{type:"radio",name:"reportOption",value:"Sexual content",checked:"Sexual content"===g,onChange:S}),"\xa0\xa0\xa0Sexual content"]}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("label",{children:[(0,Er.jsx)("input",{type:"radio",name:"reportOption",value:"Violent or repulsive",checked:"Violent or repulsive"===g,onChange:S}),"\xa0\xa0\xa0 Violent or repulsive"]}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("label",{children:[(0,Er.jsx)("input",{type:"radio",name:"reportOption",value:"Harmful or dangerous acts content",checked:"Harmful or dangerous acts content"===g,onChange:S}),"\xa0\xa0\xa0 Harmful or dangerous acts content"]}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("label",{children:[(0,Er.jsx)("input",{type:"radio",name:"reportOption",value:"Harmful or dangerous acts content",checked:"Harmful or dangerous acts content"===g,onChange:S}),"\xa0\xa0\xa0 Harmful or dangerous acts content"]}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("label",{children:[(0,Er.jsx)("input",{type:"radio",name:"reportOption",value:"Harmful or dangerous acts content",checked:"Harmful or dangerous acts content"===g,onChange:S}),"\xa0\xa0\xa0 Harmful or dangerous acts content"]}),(0,Er.jsx)("br",{}),(0,Er.jsx)("button",{onClick:w,children:"Submit"})]})]})]})})})]})]})};var Hr=function(){var e=document.querySelectorAll(".carousel .carousel-item");return e.forEach((function(t){for(var n=t.nextElementSibling,r=1;r<4;r++){n||(n=e[0]);var i=n.cloneNode(!0);t.appendChild(i.children[0]),n=n.nextElementSibling}})),(0,Er.jsxs)("div",{children:[(0,Er.jsx)(jt,{className:"scroll-to-top rounded",to:"#page-top",children:(0,Er.jsx)("i",{className:"fas fa-angle-up"})}),(0,Er.jsx)("div",{className:"modal fade",id:"logoutModal",tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,Er.jsx)("div",{className:"modal-dialog modal-sm modal-dialog-centered",role:"document",children:(0,Er.jsxs)("div",{className:"modal-content",children:[(0,Er.jsxs)("div",{className:"modal-header",children:[(0,Er.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Ready to Leave?"}),(0,Er.jsx)("button",{className:"close",type:"button","data-dismiss":"modal","aria-label":"Close",children:(0,Er.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,Er.jsx)("div",{className:"modal-body",children:'Select "Logout" below if you are ready to end your current session.'}),(0,Er.jsxs)("div",{className:"modal-footer",children:[(0,Er.jsx)("button",{className:"btn btn-secondary",type:"button","data-dismiss":"modal",children:"Cancel"}),(0,Er.jsx)(jt,{className:"btn btn-primary",to:"login.html",children:"Logout"})]})]})})})]})};var qr=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1],i=function(e){var t=new Date(e),n=new Date,r=Math.abs(n-t),i=Math.floor(r/31536e6);if(i>0)return 1===i?"1 year ago":"".concat(i," years ago");var a=Math.floor(r/2592e6);if(a>0)return 1===a?"1 month ago":"".concat(a," months ago");var o=Math.floor(r/864e5);if(o>0)return 1===o?"1 day ago":"".concat(o," days ago");var s=Math.floor(r/36e5);if(s>0)return 1===s?"1 hour ago":"".concat(s," hours ago");var c=Math.floor(r/6e4);return c>0?1===c?"1 minute ago":"".concat(c," minutes ago"):"Just now"};(0,r.useEffect)((function(){a()}),[]);var a=function(){var e=Be(Fe().mark((function e(){var t,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=JSON.stringify({user_id:t}),e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_history"),i,r);case 6:a=e.sent,n(a.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),o=k((0,r.useState)(!0),2),s=o[0],c=o[1];return setTimeout((function(){c(!1)}),2e3),(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{children:(0,Er.jsxs)("div",{className:"mobilewidth",children:[(0,Er.jsx)("h5",{children:"History "}),(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"row",style:{marginLeft:"0px",marginRight:"0px"},children:t&&t.length>0?t.map((function(e){var t,n,r,o,s,c,l,u,d;return(0,Er.jsxs)("div",{className:"col-lg-3  col-sm-12 col-md-3 mb-3",style:{paddingLeft:10,paddingRight:0},children:[(0,Er.jsx)("button",{style:{borderRadius:"15px",float:"right"},className:"fas fa-times-circle btn ",onClick:function(){return function(e){var t=Sr.Z.getItem("_id"),n=JSON.stringify({user_id:t,video_id:e});gr.post("".concat(wr[0].apiUrl,"api/delete_history"),n,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){a()})).catch((function(e){}))}(e.video_id)}}),(0,Er.jsx)("div",{className:"",style:{background:"none",paddingRight:"22px",borderRadius:"10px"},children:(0,Er.jsxs)("div",{className:"mt-2 video-card-image",style:{height:"220px",width:"100%",borderRadius:"10px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.data[0].category_type)},children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.data[0].category_type)},children:(null===e||void 0===e?void 0:e.data)&&(null===e||void 0===e||null===(t=e.data[0])||void 0===t?void 0:t.video)&&(null===(n=e.data[0])||void 0===n||null===(r=n.video[1])||void 0===r?void 0:r.filename)&&(0,Er.jsx)("img",{style:{height:"140px",borderRadius:"10px"},className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/").concat(null===e||void 0===e||null===(o=e.data[0])||void 0===o||null===(s=o.video[1])||void 0===s?void 0:s.filename),alt:""})}),(0,Er.jsx)("div",{className:" video-card-body",style:{backgroundColor:"none"},children:(0,Er.jsxs)("div",{className:"video-title",children:[(0,Er.jsx)(jt,{to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),localStorage.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.data[0].category_type)},children:(0,Er.jsx)("font",{style:{color:"black",fontSize:"16px",fontWeight:"500"},children:e.data&&(null===(c=e.data[0])||void 0===c?void 0:c.description.slice(0,15))})}),(0,Er.jsx)("br",{}),(0,Er.jsx)(jt,{style:{color:"#4eda92"},to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),localStorage.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.data[0].category_type)},children:(0,Er.jsx)("font",{style:{color:"#888",fontSize:"12px"},children:e.data&&(null===(l=e.data[0])||void 0===l?void 0:l.channel_name.slice(0,20))})}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("p",{style:{fontSize:"12px",fontWeight:"600"},to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.data[0].category_type)},children:[e.data&&(null===(u=e.data[0])||void 0===u?void 0:u.video_views)," views"," ",(0,Er.jsx)("i",{class:"fas fa-calendar-alt pr-1"})," ",i(null===e||void 0===e||null===(d=e.data[0])||void 0===d?void 0:d.current_date)]})]})})]})})]},e._id)})):(0,Er.jsx)("div",{className:"col-md-12",children:1==s?(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{class:"spinner-border text-primary"})}):(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{})})})})})]})})})]})};var Gr=function(){return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"wrapper",children:(0,Er.jsx)("div",{id:"content-wrapper",children:(0,Er.jsxs)("div",{className:"container-fluid pb-0",children:[(0,Er.jsxs)("div",{className:"video-block section-padding",children:[(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsxs)("div",{className:"main-title",children:[(0,Er.jsxs)("div",{className:"btn-group float-right right-action",children:[(0,Er.jsxs)(jt,{to:"#",className:"right-action-link text-gray","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["Sort by ",(0,Er.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})]}),(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right",children:[(0,Er.jsxs)(jt,{className:"dropdown-item",to:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-star"})," \xa0 Top Rated"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-signal"})," \xa0 Viewed"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-times-circle"}),"\xa0 Close"]})]})]}),(0,Er.jsx)("h6",{children:"Channels"})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s1.png",alt:""})}),(0,Er.jsx)("div",{className:"channels-card-image-btn",children:(0,Er.jsxs)("button",{type:"button",className:"btn btn-outline-danger btn-sm",children:["Subscribe",(0,Er.jsx)("strong",{children:"1.4M"})]})})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s2.png",alt:""})}),(0,Er.jsx)("div",{className:"channels-card-image-btn",children:(0,Er.jsxs)("button",{type:"button",className:"btn btn-outline-danger btn-sm",children:["Subscribe",(0,Er.jsx)("strong",{children:"1.4M"})]})})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s3.png",alt:""})}),(0,Er.jsx)("div",{className:"channels-card-image-btn",children:(0,Er.jsxs)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",children:["Subscribed",(0,Er.jsx)("strong",{children:"1.4M"})]})})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsxs)(jt,{to:"#",children:["Channels Name"," ",(0,Er.jsx)("span",{title:"","data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle"})})]})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})}),(0,Er.jsx)("div",{className:"channels-card-image-btn",children:(0,Er.jsxs)("button",{type:"button",className:"btn btn-outline-danger btn-sm",children:["Subscribe",(0,Er.jsx)("strong",{children:"1.4M"})]})})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s6.png",alt:""})}),(0,Er.jsx)("div",{className:"channels-card-image-btn",children:(0,Er.jsxs)("button",{type:"button",className:"btn btn-outline-danger btn-sm",children:["Subscribe",(0,Er.jsx)("strong",{children:"1.4M"})]})})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s8.png",alt:""})}),(0,Er.jsx)("div",{className:"channels-card-image-btn",children:(0,Er.jsxs)("button",{type:"button",className:"btn btn-outline-danger btn-sm",children:["Subscribe",(0,Er.jsx)("strong",{children:"1.4M"})]})})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s5.png",alt:""})}),(0,Er.jsx)("div",{className:"channels-card-image-btn",children:(0,Er.jsxs)("button",{type:"button",className:"btn btn-outline-danger btn-sm",children:["Subscribe",(0,Er.jsx)("strong",{children:"1.4M"})]})})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s6.png",alt:""})}),(0,Er.jsx)("div",{className:"channels-card-image-btn",children:(0,Er.jsxs)("button",{type:"button",className:"btn btn-outline-danger btn-sm",children:["Subscribe",(0,Er.jsx)("strong",{children:"1.4M"})]})})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s8.png",alt:""})}),(0,Er.jsx)("div",{className:"channels-card-image-btn",children:(0,Er.jsxs)("button",{type:"button",className:"btn btn-outline-danger btn-sm",children:["Subscribe",(0,Er.jsx)("strong",{children:"1.4M"})]})})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s7.png",alt:""})}),(0,Er.jsx)("div",{className:"channels-card-image-btn",children:(0,Er.jsxs)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",children:["Subscribed",(0,Er.jsx)("strong",{children:"1.4M"})]})})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsxs)(jt,{to:"#",children:["Channels Name"," ",(0,Er.jsx)("span",{title:"","data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle"})})]})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s1.png",alt:""})}),(0,Er.jsx)("div",{className:"channels-card-image-btn",children:(0,Er.jsxs)("button",{type:"button",className:"btn btn-outline-danger btn-sm",children:["Subscribe",(0,Er.jsx)("strong",{children:"1.4M"})]})})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s2.png",alt:""})}),(0,Er.jsx)("div",{className:"channels-card-image-btn",children:(0,Er.jsxs)("button",{type:"button",className:"btn btn-outline-danger btn-sm",children:["Subscribe",(0,Er.jsx)("strong",{children:"1.4M"})]})})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})})]}),(0,Er.jsx)("nav",{"aria-label":"Page navigation example",children:(0,Er.jsxs)("ul",{className:"pagination justify-content-center pagination-sm mb-4",children:[(0,Er.jsx)("li",{className:"page-item disabled",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",tabIndex:-1,children:"Previous"})}),(0,Er.jsx)("li",{className:"page-item active",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",children:"1"})}),(0,Er.jsx)("li",{className:"page-item",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",children:"2"})}),(0,Er.jsx)("li",{className:"page-item",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",children:"3"})}),(0,Er.jsx)("li",{className:"page-item",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",children:"Next"})})]})})]}),(0,Er.jsx)("hr",{}),(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsxs)("div",{className:"main-title",children:[(0,Er.jsxs)("div",{className:"btn-group float-right right-action",children:[(0,Er.jsxs)(jt,{to:"#",className:"right-action-link text-gray","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["Sort by ",(0,Er.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})]}),(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right",children:[(0,Er.jsxs)(jt,{className:"dropdown-item",to:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-star"})," \xa0 Top Rated"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-signal"})," \xa0 Viewed"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-times-circle"}),"\xa0 Close"]})]})]}),(0,Er.jsx)("h6",{children:"Featured Videos"})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",children:[(0,Er.jsx)(jt,{className:"play-icon",to:"#",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v5.png",alt:""})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"#",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"video-page text-success",children:["Education"," ",(0,Er.jsx)(jt,{title:"","data-placement":"top","data-toggle":"tooltip",to:"#","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsxs)("div",{className:"video-view",children:["1.8M views \xa0",(0,Er.jsx)("i",{className:"fas fa-calendar-alt"})," 11 Months ago"]})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",children:[(0,Er.jsx)(jt,{className:"play-icon",to:"#",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v6.png",alt:""})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"#",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"video-page text-danger",children:["Education"," ",(0,Er.jsx)(jt,{title:"","data-placement":"top","data-toggle":"tooltip",to:"#","data-original-title":"Unverified",children:(0,Er.jsx)("i",{className:"fas fa-frown text-danger"})})]}),(0,Er.jsxs)("div",{className:"video-view",children:["1.8M views \xa0",(0,Er.jsx)("i",{className:"fas fa-calendar-alt"})," 11 Months ago"]})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",children:[(0,Er.jsx)(jt,{className:"play-icon",to:"#",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v7.png",alt:""})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"#",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"video-page text-success",children:["Education"," ",(0,Er.jsx)(jt,{title:"","data-placement":"top","data-toggle":"tooltip",to:"#","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsxs)("div",{className:"video-view",children:["1.8M views \xa0",(0,Er.jsx)("i",{className:"fas fa-calendar-alt"})," 11 Months ago"]})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",children:[(0,Er.jsx)(jt,{className:"play-icon",to:"#",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v8.png",alt:""})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"#",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"video-page text-success",children:["Education"," ",(0,Er.jsx)(jt,{title:"","data-placement":"top","data-toggle":"tooltip",to:"#","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsxs)("div",{className:"video-view",children:["1.8M views \xa0",(0,Er.jsx)("i",{className:"fas fa-calendar-alt"})," 11 Months ago"]})]})]})})]})})]})})}),(0,Er.jsx)(Hr,{})]})};function Kr(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Yr(e,t){if(null==e)return{};var n,r,i=Kr(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zr(e){return function(t){return!!t.type&&t.type.tabsRole===e}}var Jr=Zr("Tab"),Qr=Zr("TabList"),Xr=Zr("TabPanel");function $r(e,t){return r.Children.map(e,(function(e){return null===e?null:function(e){return Jr(e)||Qr(e)||Xr(e)}(e)?t(e):e.props&&e.props.children&&"object"===typeof e.props.children?(0,r.cloneElement)(e,Tr(Tr({},e.props),{},{children:$r(e.props.children,t)})):e}))}function ei(e,t){return r.Children.forEach(e,(function(e){null!==e&&(Jr(e)||Xr(e)?t(e):e.props&&e.props.children&&"object"===typeof e.props.children&&(Qr(e)&&t(e),ei(e.props.children,t)))}))}function ti(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ti(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var ni=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=ti(e))&&(r&&(r+=" "),r+=t);return r};function ri(e){var t=0;return ei(e,(function(e){Jr(e)&&t++})),t}var ii,ai=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function oi(e){return e&&"getAttribute"in e}function si(e){return oi(e)&&e.getAttribute("data-rttab")}function ci(e){return oi(e)&&"true"===e.getAttribute("aria-disabled")}var li={className:"react-tabs",focus:!1},ui=function(t){var n=(0,r.useRef)([]),i=(0,r.useRef)([]),a=(0,r.useRef)();function o(e,n){e<0||e>=l()||(0,t.onSelect)(e,t.selectedIndex,n)}function s(e){for(var t=l(),n=e+1;n<t;n++)if(!ci(u(n)))return n;for(var r=0;r<e;r++)if(!ci(u(r)))return r;return e}function c(e){for(var t=e;t--;)if(!ci(u(t)))return t;for(t=l();t-- >e;)if(!ci(u(t)))return t;return e}function l(){return ri(t.children)}function u(e){return n.current["tabs-".concat(e)]}function d(e){var t=e.target;do{if(f(t)){if(ci(t))return;return void o([].slice.call(t.parentNode.children).filter(si).indexOf(t),e)}}while(null!=(t=t.parentNode))}function f(e){if(!si(e))return!1;var t=e.parentElement;do{if(t===a.current)return!0;if(t.getAttribute("data-rttabs"))break;t=t.parentElement}while(t);return!1}var h=Tr(Tr({},li),t),p=(h.children,h.className),m=(h.disabledTabClassName,h.domRef),v=(h.focus,h.forceRenderTabPanel,h.onSelect,h.selectedIndex,h.selectedTabClassName,h.selectedTabPanelClassName,h.environment,h.disableUpDownKeys,h.disableLeftRightKeys,Yr(h,ai));return r.createElement("div",Object.assign({},v,{className:ni(p),onClick:d,onKeyDown:function(e){var n=t.direction,r=t.disableUpDownKeys,i=t.disableLeftRightKeys;if(f(e.target)){var a=t.selectedIndex,h=!1,p=!1;"Space"!==e.code&&32!==e.keyCode&&"Enter"!==e.code&&13!==e.keyCode||(h=!0,p=!1,d(e)),(i||37!==e.keyCode&&"ArrowLeft"!==e.code)&&(r||38!==e.keyCode&&"ArrowUp"!==e.code)?(i||39!==e.keyCode&&"ArrowRight"!==e.code)&&(r||40!==e.keyCode&&"ArrowDown"!==e.code)?35===e.keyCode||"End"===e.code?(a=function(){for(var e=l();e--;)if(!ci(u(e)))return e;return null}(),h=!0,p=!0):36!==e.keyCode&&"Home"!==e.code||(a=function(){for(var e=l(),t=0;t<e;t++)if(!ci(u(t)))return t;return null}(),h=!0,p=!0):(a="rtl"===n?c(a):s(a),h=!0,p=!0):(a="rtl"===n?s(a):c(a),h=!0,p=!0),h&&e.preventDefault(),p&&o(a,e)}},ref:function(e){a.current=e,m&&m(e)},"data-rttabs":!0}),function(){var a=0,o=t.children,s=t.disabledTabClassName,c=t.focus,d=t.forceRenderTabPanel,f=t.selectedIndex,h=t.selectedTabClassName,p=t.selectedTabPanelClassName,m=t.environment;i.current=i.current||[];for(var v=i.current.length-l(),g=(0,r.useId)();v++<0;)i.current.push("".concat(g).concat(i.current.length));return $r(o,(function(t){var o=t;if(Qr(t)){var l=0,v=!1;null==ii&&function(t){var n=t||("undefined"!==typeof window?window:void 0);try{ii=!("undefined"===typeof n||!n.document||!n.document.activeElement)}catch(e){ii=!1}}(m);var g=m||("undefined"!==typeof window?window:void 0);ii&&g&&(v=r.Children.toArray(t.props.children).filter(Jr).some((function(e,t){return g.document.activeElement===u(t)}))),o=(0,r.cloneElement)(t,{children:$r(t.props.children,(function(e){var t="tabs-".concat(l),a=f===l,o={tabRef:function(e){n.current[t]=e},id:i.current[l],selected:a,focus:a&&(c||v)};return h&&(o.selectedClassName=h),s&&(o.disabledClassName=s),l++,(0,r.cloneElement)(e,o)}))})}else if(Xr(t)){var y={id:i.current[a],selected:f===a};d&&(y.forceRender=d),p&&(y.selectedClassName=p),a++,o=(0,r.cloneElement)(t,y)}return o}))}())};ui.propTypes={};var di=ui,fi=["children","defaultFocus","defaultIndex","focusTabOnClick","onSelect"],hi={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},pi=function(e){var t=Tr(Tr({},hi),e),n=t.children,i=t.defaultFocus,a=t.defaultIndex,o=t.focusTabOnClick,s=t.onSelect,c=Yr(t,fi),l=k((0,r.useState)(i),2),u=l[0],d=l[1],f=(0,r.useState)(function(e){return null===e.selectedIndex?1:0}(c)),h=k(f,1)[0],p=k((0,r.useState)(1===h?a||0:null),2),m=p[0],v=p[1];if((0,r.useEffect)((function(){d(!1)}),[]),1===h){var g=ri(n);(0,r.useEffect)((function(){if(null!=m){var e=Math.max(0,g-1);v(Math.min(m,e))}}),[g])}var y=Tr(Tr({},e),c);return y.focus=u,y.onSelect=function(e,t,n){"function"===typeof s&&!1===s(e,t,n)||(o&&d(!0),1===h&&v(e))},null!=m&&(y.selectedIndex=m),delete y.defaultFocus,delete y.defaultIndex,delete y.focusTabOnClick,r.createElement(di,y,n)};pi.propTypes={},pi.tabsRole="Tabs";var mi=pi,vi=["children","className"],gi={className:"react-tabs__tab-list"},yi=function(e){var t=Tr(Tr({},gi),e),n=t.children,i=t.className,a=Yr(t,vi);return r.createElement("ul",Object.assign({},a,{className:ni(i),role:"tablist"}),n)};yi.tabsRole="TabList",yi.propTypes={};var bi=yi,_i=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"],xi="react-tabs__tab",wi={className:xi,disabledClassName:"".concat(xi,"--disabled"),focus:!1,id:null,selected:!1,selectedClassName:"".concat(xi,"--selected")},Si=function(e){var t,n=(0,r.useRef)(),i=Tr(Tr({},wi),e),a=i.children,o=i.className,s=i.disabled,c=i.disabledClassName,l=i.focus,u=i.id,d=i.selected,f=i.selectedClassName,h=i.tabIndex,p=i.tabRef,m=Yr(i,_i);return(0,r.useEffect)((function(){d&&l&&n.current.focus()}),[d,l]),r.createElement("li",Object.assign({},m,{className:ni(o,(t={},Nr(t,f,d),Nr(t,c,s),t)),ref:function(e){n.current=e,p&&p(e)},role:"tab",id:"tab".concat(u),"aria-selected":d?"true":"false","aria-disabled":s?"true":"false","aria-controls":"panel".concat(u),tabIndex:h||(d?"0":null),"data-rttab":!0}),a)};Si.propTypes={},Si.tabsRole="Tab";var Ei=Si,ki=["children","className","forceRender","id","selected","selectedClassName"],Ni="react-tabs__tab-panel",ji={className:Ni,forceRender:!1,selectedClassName:"".concat(Ni,"--selected")},Ti=function(e){var t=Tr(Tr({},ji),e),n=t.children,i=t.className,a=t.forceRender,o=t.id,s=t.selected,c=t.selectedClassName,l=Yr(t,ki);return r.createElement("div",Object.assign({},l,{className:ni(i,Nr({},c,s)),role:"tabpanel",id:"panel".concat(o),"aria-labelledby":"tab".concat(o)}),a||s?n:null)};Ti.tabsRole="TabPanel",Ti.propTypes={};var Ii=Ti;var Ci=function(){return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"wrapper",children:(0,Er.jsxs)("div",{className:"single-channel-page",id:"content-wrapper",children:[(0,Er.jsxs)("div",{className:"single-channel-image",children:[(0,Er.jsx)("img",{className:"img-fluid",alt:"",src:"img/channel-banner.png"}),(0,Er.jsxs)("div",{className:"channel-profile",children:[(0,Er.jsx)("img",{className:"channel-profile-img",alt:"",src:"img/s2.png"}),(0,Er.jsxs)("div",{className:"social hidden-xs",children:["Social \xa0",(0,Er.jsx)(jt,{className:"fb",to:"#",children:"Facebook"}),(0,Er.jsx)(jt,{className:"tw",to:"#",children:"Twitter"}),(0,Er.jsx)(jt,{className:"gp",to:"#",children:"Google"})]})]})]}),(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{className:"col-sm-8 mt-1",children:(0,Er.jsx)("div",{className:"single-channel-nav",children:(0,Er.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light",children:[(0,Er.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,Er.jsx)("span",{className:"navbar-toggler-icon"})}),(0,Er.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[(0,Er.jsxs)(jt,{className:"channel-brand p-2",to:"#",children:["Osahan Channel"," ",(0,Er.jsx)("span",{title:"","data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("ul",{className:"navbar-nav mr-auto",children:(0,Er.jsxs)("li",{className:"nav-item dropdown",children:[(0,Er.jsx)(jt,{className:"nav-link dropdown-toggle",to:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Donate"}),(0,Er.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[(0,Er.jsx)(jt,{className:"dropdown-item",to:"#",children:"Action"}),(0,Er.jsx)(jt,{className:"dropdown-item",to:"#",children:"Another action"}),(0,Er.jsx)("div",{className:"dropdown-divider"}),(0,Er.jsx)(jt,{className:"dropdown-item",to:"#",children:"Something else here"})]})]})}),(0,Er.jsxs)("form",{className:"form-inline my-2 my-lg-0",children:[(0,Er.jsx)("input",{className:"form-control form-control-sm mr-sm-1",type:"search",placeholder:"Search","aria-label":"Search"}),(0,Er.jsx)("button",{className:"btn btn-outline-success btn-sm my-2 my-sm-0",type:"submit",children:(0,Er.jsx)("i",{className:"fas fa-search"})})," ","\xa0\xa0\xa0"," ",(0,Er.jsxs)("button",{className:"btn btn-outline-danger btn-sm",type:"button",children:["Subscribe",(0,Er.jsx)("strong",{children:"1.4M"})]})]})]})]})})})}),(0,Er.jsxs)(mi,{className:"single-channel-nav mt-2",children:[(0,Er.jsxs)(bi,{children:[(0,Er.jsx)(Ei,{style:{paddingLeft:"118px",border:"none",borderBottom:"1px solid",borderColor:"black"},children:"Videos"}),(0,Er.jsx)(Ei,{style:{paddingLeft:"118px",border:"none",borderBottom:"1px solid",borderColor:"black"},children:"Playlist"}),(0,Er.jsx)(Ei,{style:{paddingLeft:"118px",border:"none",borderBottom:"1px solid",borderColor:"black"},children:"Channels"}),(0,Er.jsx)(Ei,{style:{paddingLeft:"118px",border:"none",borderBottom:"1px solid",borderColor:"black"},children:"Discusion"}),(0,Er.jsx)(Ei,{style:{paddingLeft:"118px",border:"none",borderBottom:"1px solid",borderColor:"black"},children:"About"})]}),(0,Er.jsx)(Ii,{children:(0,Er.jsx)("div",{className:"container-fluid",children:(0,Er.jsxs)("div",{className:"video-block section-padding",children:[(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsxs)("div",{className:"main-title",children:[(0,Er.jsxs)("div",{className:"btn-group float-right right-action",children:[(0,Er.jsxs)("a",{href:"#",className:"right-action-link text-gray","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["Sort by ",(0,Er.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})]}),(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right",children:[(0,Er.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-star"})," \xa0 Top Rated"]}),(0,Er.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-signal"})," \xa0 Viewed"]}),(0,Er.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-times-circle"}),"\xa0 Close"]})]})]}),(0,Er.jsx)("h6",{children:"Videos"})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",children:[(0,Er.jsx)("a",{className:"play-icon",href:"#",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png"})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)("a",{href:"#",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"video-page text-success",children:["Education ",(0,Er.jsx)("a",{"title-data-placement":"top","data-toggle":"tooltip",href:"#","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsxs)("div",{className:"video-view",children:["1.8M views \xa0",(0,Er.jsx)("i",{className:"fas fa-calendar-alt"})," 11 Months ago"]})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",children:[(0,Er.jsx)("a",{className:"play-icon",href:"#",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v2.png"})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)("a",{href:"#",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"video-page text-success",children:["Education ",(0,Er.jsx)("a",{"title-data-placement":"top","data-toggle":"tooltip",href:"#","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsxs)("div",{className:"video-view",children:["1.8M views \xa0",(0,Er.jsx)("i",{className:"fas fa-calendar-alt"})," 11 Months ago"]})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",children:[(0,Er.jsx)("a",{className:"play-icon",href:"#",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v3.png"})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)("a",{href:"#",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"video-page text-danger",children:["Education ",(0,Er.jsx)("a",{"title-data-placement":"top","data-toggle":"tooltip",href:"#","data-original-title":"Unverified",children:(0,Er.jsx)("i",{className:"fas fa-frown text-danger"})})]}),(0,Er.jsxs)("div",{className:"video-view",children:["1.8M views \xa0",(0,Er.jsx)("i",{className:"fas fa-calendar-alt"})," 11 Months ago"]})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",children:[(0,Er.jsx)("a",{className:"play-icon",href:"#",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v4.png"})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)("a",{href:"#",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"video-page text-success",children:["Education ",(0,Er.jsx)("a",{"title-data-placement":"top","data-toggle":"tooltip",href:"#","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsxs)("div",{className:"video-view",children:["1.8M views \xa0",(0,Er.jsx)("i",{className:"fas fa-calendar-alt"})," 11 Months ago"]})]})]})})]}),(0,Er.jsx)("nav",{"aria-label":"Page navigation example",children:(0,Er.jsxs)("ul",{className:"pagination justify-content-center pagination-sm mb-0",children:[(0,Er.jsx)("li",{className:"page-item disabled",children:(0,Er.jsx)("a",{tabIndex:-1,href:"#",className:"page-link",children:"Previous"})}),(0,Er.jsx)("li",{className:"page-item active",children:(0,Er.jsx)("a",{href:"#",className:"page-link",children:"1"})}),(0,Er.jsx)("li",{className:"page-item",children:(0,Er.jsx)("a",{href:"#",className:"page-link",children:"2"})}),(0,Er.jsx)("li",{className:"page-item",children:(0,Er.jsx)("a",{href:"#",className:"page-link",children:"3"})}),(0,Er.jsx)("li",{className:"page-item",children:(0,Er.jsx)("a",{href:"#",className:"page-link",children:"Next"})})]})})]})})}),(0,Er.jsx)(Ii,{children:(0,Er.jsx)("h2",{children:"Any content 2"})})]})]})})]})};function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ri.apply(this,arguments)}function Oi(e,t){var n=Ri({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=Ri({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=Ri({},a),Object.keys(i).forEach((function(e){n[r][e]=Oi(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function Ai(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}function Pi(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Li(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Di(e){if(e.type)return e;if("#"===e.charAt(0))return Di(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Pi(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Pi(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Mi(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Ui(e){var t="hsl"===(e=Di(e)).type||"hsla"===e.type?Di(function(e){var t=(e=Di(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",c=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",c.push(t[3])),Mi({type:s,values:c})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Fi(e,t){return e=Di(e),t=Li(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Mi(e)}function Vi(e,t){if(e=Di(e),t=Li(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Mi(e)}function Bi(e,t){if(e=Di(e),t=Li(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Mi(e)}function zi(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Wi=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Hi=zi((function(e){return Wi.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var qi=function(){function t(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var n=t.prototype;return n.hydrate=function(e){e.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{r.insertRule(t,r.cssRules.length)}catch(e){0}}else n.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},t}(),Gi=Math.abs,Ki=String.fromCharCode,Yi=Object.assign;function Zi(e){return e.trim()}function Ji(e,t,n){return e.replace(t,n)}function Qi(e,t){return e.indexOf(t)}function Xi(e,t){return 0|e.charCodeAt(t)}function $i(e,t,n){return e.slice(t,n)}function ea(e){return e.length}function ta(e){return e.length}function na(e,t){return t.push(e),e}var ra=1,ia=1,aa=0,oa=0,sa=0,ca="";function la(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:ra,column:ia,length:o,return:""}}function ua(e,t){return Yi(la("",null,null,"",null,null,0),e,{length:-e.length},t)}function da(){return sa=oa>0?Xi(ca,--oa):0,ia--,10===sa&&(ia=1,ra--),sa}function fa(){return sa=oa<aa?Xi(ca,oa++):0,ia++,10===sa&&(ia=1,ra++),sa}function ha(){return Xi(ca,oa)}function pa(){return oa}function ma(e,t){return $i(ca,e,t)}function va(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ga(e){return ra=ia=1,aa=ea(ca=e),oa=0,[]}function ya(e){return ca="",e}function ba(e){return Zi(ma(oa-1,wa(91===e?e+2:40===e?e+1:e)))}function _a(e){for(;(sa=ha())&&sa<33;)fa();return va(e)>2||va(sa)>3?"":" "}function xa(e,t){for(;--t&&fa()&&!(sa<48||sa>102||sa>57&&sa<65||sa>70&&sa<97););return ma(e,pa()+(t<6&&32==ha()&&32==fa()))}function wa(e){for(;fa();)switch(sa){case e:return oa;case 34:case 39:34!==e&&39!==e&&wa(sa);break;case 40:41===e&&wa(e);break;case 92:fa()}return oa}function Sa(e,t){for(;fa()&&e+sa!==57&&(e+sa!==84||47!==ha()););return"/*"+ma(t,oa-1)+"*"+Ki(47===e?e:fa())}function Ea(e){for(;!va(ha());)fa();return ma(e,oa)}var ka="-ms-",Na="-moz-",ja="-webkit-",Ta="comm",Ia="rule",Ca="decl",Ra="@keyframes";function Oa(e,t){for(var n="",r=ta(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Aa(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Ca:return e.return=e.return||e.value;case Ta:return"";case Ra:return e.return=e.value+"{"+Oa(e.children,r)+"}";case Ia:e.value=e.props.join(",")}return ea(n=Oa(e.children,r))?e.return=e.value+"{"+n+"}":""}function Pa(e){return ya(La("",null,null,null,[""],e=ga(e),0,[0],e))}function La(e,t,n,r,i,a,o,s,c){for(var l=0,u=0,d=o,f=0,h=0,p=0,m=1,v=1,g=1,y=0,b="",_=i,x=a,w=r,S=b;v;)switch(p=y,y=fa()){case 40:if(108!=p&&58==Xi(S,d-1)){-1!=Qi(S+=Ji(ba(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:S+=ba(y);break;case 9:case 10:case 13:case 32:S+=_a(p);break;case 92:S+=xa(pa()-1,7);continue;case 47:switch(ha()){case 42:case 47:na(Ma(Sa(fa(),pa()),t,n),c);break;default:S+="/"}break;case 123*m:s[l++]=ea(S)*g;case 125*m:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:-1==g&&(S=Ji(S,/\f/g,"")),h>0&&ea(S)-d&&na(h>32?Ua(S+";",r,n,d-1):Ua(Ji(S," ","")+";",r,n,d-2),c);break;case 59:S+=";";default:if(na(w=Da(S,t,n,l,u,i,s,b,_=[],x=[],d),a),123===y)if(0===u)La(S,t,w,w,_,a,d,s,x);else switch(99===f&&110===Xi(S,3)?100:f){case 100:case 108:case 109:case 115:La(e,w,w,r&&na(Da(e,w,w,0,0,i,s,b,i,_=[],d),x),i,x,d,s,r?_:x);break;default:La(S,w,w,w,[""],x,0,s,x)}}l=u=h=0,m=g=1,b=S="",d=o;break;case 58:d=1+ea(S),h=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==da())continue;switch(S+=Ki(y),y*m){case 38:g=u>0?1:(S+="\f",-1);break;case 44:s[l++]=(ea(S)-1)*g,g=1;break;case 64:45===ha()&&(S+=ba(fa())),f=ha(),u=d=ea(b=S+=Ea(pa())),y++;break;case 45:45===p&&2==ea(S)&&(m=0)}}return a}function Da(e,t,n,r,i,a,o,s,c,l,u){for(var d=i-1,f=0===i?a:[""],h=ta(f),p=0,m=0,v=0;p<r;++p)for(var g=0,y=$i(e,d+1,d=Gi(m=o[p])),b=e;g<h;++g)(b=Zi(m>0?f[g]+" "+y:Ji(y,/&\f/g,f[g])))&&(c[v++]=b);return la(e,t,n,0===i?Ia:s,c,l,u)}function Ma(e,t,n){return la(e,t,n,Ta,Ki(sa),$i(e,2,-2),0)}function Ua(e,t,n,r){return la(e,t,n,Ca,$i(e,0,r),$i(e,r+1,-1),r)}var Fa=function(e,t,n){for(var r=0,i=0;r=i,i=ha(),38===r&&12===i&&(t[n]=1),!va(i);)fa();return ma(e,oa)},Va=function(e,t){return ya(function(e,t){var n=-1,r=44;do{switch(va(r)){case 0:38===r&&12===ha()&&(t[n]=1),e[n]+=Fa(oa-1,t,n);break;case 2:e[n]+=ba(r);break;case 4:if(44===r){e[++n]=58===ha()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ki(r)}}while(r=fa());return e}(ga(e),t))},Ba=new WeakMap,za=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Ba.get(n))&&!r){Ba.set(e,!0);for(var i=[],a=Va(t,i),o=n.props,s=0,c=0;s<a.length;s++)for(var l=0;l<o.length;l++,c++)e.props[c]=i[s]?a[s].replace(/&\f/g,o[l]):o[l]+" "+a[s]}}},Wa=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Ha(e,t){switch(function(e,t){return 45^Xi(e,0)?(((t<<2^Xi(e,0))<<2^Xi(e,1))<<2^Xi(e,2))<<2^Xi(e,3):0}(e,t)){case 5103:return ja+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ja+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ja+e+Na+e+ka+e+e;case 6828:case 4268:return ja+e+ka+e+e;case 6165:return ja+e+ka+"flex-"+e+e;case 5187:return ja+e+Ji(e,/(\w+).+(:[^]+)/,ja+"box-$1$2"+ka+"flex-$1$2")+e;case 5443:return ja+e+ka+"flex-item-"+Ji(e,/flex-|-self/,"")+e;case 4675:return ja+e+ka+"flex-line-pack"+Ji(e,/align-content|flex-|-self/,"")+e;case 5548:return ja+e+ka+Ji(e,"shrink","negative")+e;case 5292:return ja+e+ka+Ji(e,"basis","preferred-size")+e;case 6060:return ja+"box-"+Ji(e,"-grow","")+ja+e+ka+Ji(e,"grow","positive")+e;case 4554:return ja+Ji(e,/([^-])(transform)/g,"$1"+ja+"$2")+e;case 6187:return Ji(Ji(Ji(e,/(zoom-|grab)/,ja+"$1"),/(image-set)/,ja+"$1"),e,"")+e;case 5495:case 3959:return Ji(e,/(image-set\([^]*)/,ja+"$1$`$1");case 4968:return Ji(Ji(e,/(.+:)(flex-)?(.*)/,ja+"box-pack:$3"+ka+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ja+e+e;case 4095:case 3583:case 4068:case 2532:return Ji(e,/(.+)-inline(.+)/,ja+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ea(e)-1-t>6)switch(Xi(e,t+1)){case 109:if(45!==Xi(e,t+4))break;case 102:return Ji(e,/(.+:)(.+)-([^]+)/,"$1"+ja+"$2-$3$1"+Na+(108==Xi(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Qi(e,"stretch")?Ha(Ji(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Xi(e,t+1))break;case 6444:switch(Xi(e,ea(e)-3-(~Qi(e,"!important")&&10))){case 107:return Ji(e,":",":"+ja)+e;case 101:return Ji(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ja+(45===Xi(e,14)?"inline-":"")+"box$3$1"+ja+"$2$3$1"+ka+"$2box$3")+e}break;case 5936:switch(Xi(e,t+11)){case 114:return ja+e+ka+Ji(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ja+e+ka+Ji(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ja+e+ka+Ji(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ja+e+ka+e+e}return e}var qa=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ca:e.return=Ha(e.value,e.length);break;case Ra:return Oa([ua(e,{value:Ji(e.value,"@","@"+ja)})],r);case Ia:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Oa([ua(e,{props:[Ji(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Oa([ua(e,{props:[Ji(t,/:(plac\w+)/,":"+ja+"input-$1")]}),ua(e,{props:[Ji(t,/:(plac\w+)/,":-moz-$1")]}),ua(e,{props:[Ji(t,/:(plac\w+)/,ka+"input-$1")]})],r)}return""}))}}],Ga=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||qa;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var c,l,u=[Aa,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],d=function(e){var t=ta(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([za,Wa].concat(r,u));a=function(e,t,n,r){c=n,function(e){Oa(Pa(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new qi({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return f.sheet.hydrate(s),f};var Ka={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ya=/[A-Z]|^ms/g,Za=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ja=function(e){return 45===e.charCodeAt(1)},Qa=function(e){return null!=e&&"boolean"!==typeof e},Xa=zi((function(e){return Ja(e)?e:e.replace(Ya,"-$&").toLowerCase()})),$a=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Za,(function(e,t,n){return to={name:t,styles:n,next:to},t}))}return 1===Ka[e]||Ja(e)||"number"!==typeof t||0===t?t:t+"px"};function eo(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return to={name:n.name,styles:n.styles,next:to},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)to={name:r.name,styles:r.styles,next:to},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=eo(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Qa(o)&&(r+=Xa(a)+":"+$a(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=eo(e,t,o);switch(a){case"animation":case"animationName":r+=Xa(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var c=0;c<o.length;c++)Qa(o[c])&&(r+=Xa(a)+":"+$a(a,o[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=to,a=n(e);return to=i,eo(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var to,no=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var ro=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";to=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=eo(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=eo(n,t,e[o]),r&&(i+=a[o]);no.lastIndex=0;for(var s,c="";null!==(s=no.exec(i));)c+="-"+s[1];var l=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+c;return{name:l,styles:i,next:to}},io=!!i.useInsertionEffect&&i.useInsertionEffect,ao=io||function(e){return e()},oo=io||r.useLayoutEffect,so=r.createContext("undefined"!==typeof HTMLElement?Ga({key:"css"}):null);so.Provider;var co=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(so);return e(t,i,n)}))};var lo=r.createContext({});var uo=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},fo=function(e,t,n){uo(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},ho=Hi,po=function(e){return"theme"!==e},mo=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ho:po},vo=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},go=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return uo(t,n,r),ao((function(){return fo(t,n,r)})),null},yo=function e(t,n){var i,a,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==n&&(i=n.label,a=n.target);var c=vo(t,n,o),l=c||mo(s),u=!l("as");return function(){var d=arguments,f=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&f.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)f.push.apply(f,d);else{0,f.push(d[0][0]);for(var h=d.length,p=1;p<h;p++)f.push(d[p],d[0][p])}var m=co((function(e,t,n){var i=u&&e.as||s,o="",d=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=r.useContext(lo)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,d,e.className):null!=e.className&&(o=e.className+" ");var m=ro(f.concat(d),t.registered,h);o+=t.key+"-"+m.name,void 0!==a&&(o+=" "+a);var v=u&&void 0===c?mo(i):l,g={};for(var y in e)u&&"as"===y||v(y)&&(g[y]=e[y]);return g.className=o,g.ref=n,r.createElement(r.Fragment,null,r.createElement(go,{cache:t,serialized:m,isStringTag:"string"===typeof i}),r.createElement(i,g))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=f,m.__emotion_forwardProp=c,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,r){return e(t,Ri({},n,r,{shouldForwardProp:vo(m,r,!0)})).apply(void 0,f)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){yo[e]=yo(e)}));function bo(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function _o(e){if(!bo(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=_o(e[n])})),t}function xo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?Ri({},e):e;return bo(e)&&bo(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(bo(t[i])&&i in e&&bo(e[i])?r[i]=xo(e[i],t[i],n):n.clone?r[i]=bo(t[i])?_o(t[i]):t[i]:r[i]=t[i])})),r}var wo=["values","unit","step"],So=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return Ri({},e,Nr({},t.key,t.val))}),{})};var Eo={borderRadius:4},ko={xs:0,sm:600,md:900,lg:1200,xl:1536},No={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(ko[e],"px)")}};function jo(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||No;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||No;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||ko).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function To(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function Io(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function Co(e){if("string"!==typeof e)throw new Error(Pi(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Ro(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function Oo(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:Ro(e,n)||i,t&&(r=t(r,i,e)),r}var Ao=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=Ro(e.theme,i)||{};return jo(e,n,(function(e){var n=Oo(o,a,e);return e===n&&"string"===typeof e&&(n=Oo(o,a,"".concat(t).concat("default"===e?"":Co(e)),e)),!1===r?n:Nr({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var Po=function(e,t){return t?xo(e,t,{clone:!1}):e};var Lo={m:"margin",p:"padding"},Do={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Mo={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Uo=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!Mo[e])return[e];e=Mo[e]}var t=k(e.split(""),2),n=t[0],r=t[1],i=Lo[n],a=Do[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),Fo=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Vo=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Bo=[].concat(Fo,Vo);function zo(e,t,n,r){var i,a=null!=(i=Ro(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function Wo(e){return zo(e,"spacing",8)}function Ho(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function qo(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=Ho(t,n),e}),{})}}(Uo(n),r);return jo(e,e[n],i)}function Go(e,t){var n=Wo(e.theme);return Object.keys(e).map((function(r){return qo(e,t,r,n)})).reduce(Po,{})}function Ko(e){return Go(e,Fo)}function Yo(e){return Go(e,Vo)}function Zo(e){return Go(e,Bo)}Ko.propTypes={},Ko.filterProps=Fo,Yo.propTypes={},Yo.filterProps=Vo,Zo.propTypes={},Zo.filterProps=Bo;var Jo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?Po(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Qo(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Xo=Ao({prop:"border",themeKey:"borders",transform:Qo}),$o=Ao({prop:"borderTop",themeKey:"borders",transform:Qo}),es=Ao({prop:"borderRight",themeKey:"borders",transform:Qo}),ts=Ao({prop:"borderBottom",themeKey:"borders",transform:Qo}),ns=Ao({prop:"borderLeft",themeKey:"borders",transform:Qo}),rs=Ao({prop:"borderColor",themeKey:"palette"}),is=Ao({prop:"borderTopColor",themeKey:"palette"}),as=Ao({prop:"borderRightColor",themeKey:"palette"}),os=Ao({prop:"borderBottomColor",themeKey:"palette"}),ss=Ao({prop:"borderLeftColor",themeKey:"palette"}),cs=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=zo(e.theme,"shape.borderRadius",4);return jo(e,e.borderRadius,(function(e){return{borderRadius:Ho(t,e)}}))}return null};cs.propTypes={},cs.filterProps=["borderRadius"];Jo(Xo,$o,es,ts,ns,rs,is,as,os,ss,cs);var ls=function(e){if(void 0!==e.gap&&null!==e.gap){var t=zo(e.theme,"spacing",8);return jo(e,e.gap,(function(e){return{gap:Ho(t,e)}}))}return null};ls.propTypes={},ls.filterProps=["gap"];var us=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=zo(e.theme,"spacing",8);return jo(e,e.columnGap,(function(e){return{columnGap:Ho(t,e)}}))}return null};us.propTypes={},us.filterProps=["columnGap"];var ds=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=zo(e.theme,"spacing",8);return jo(e,e.rowGap,(function(e){return{rowGap:Ho(t,e)}}))}return null};ds.propTypes={},ds.filterProps=["rowGap"];Jo(ls,us,ds,Ao({prop:"gridColumn"}),Ao({prop:"gridRow"}),Ao({prop:"gridAutoFlow"}),Ao({prop:"gridAutoColumns"}),Ao({prop:"gridAutoRows"}),Ao({prop:"gridTemplateColumns"}),Ao({prop:"gridTemplateRows"}),Ao({prop:"gridTemplateAreas"}),Ao({prop:"gridArea"}));function fs(e,t){return"grey"===t?t:e}Jo(Ao({prop:"color",themeKey:"palette",transform:fs}),Ao({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:fs}),Ao({prop:"backgroundColor",themeKey:"palette",transform:fs}));function hs(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var ps=Ao({prop:"width",transform:hs}),ms=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return jo(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||ko[t]||hs(t)}}))}return null};ms.filterProps=["maxWidth"];var vs=Ao({prop:"minWidth",transform:hs}),gs=Ao({prop:"height",transform:hs}),ys=Ao({prop:"maxHeight",transform:hs}),bs=Ao({prop:"minHeight",transform:hs}),_s=(Ao({prop:"size",cssProperty:"width",transform:hs}),Ao({prop:"size",cssProperty:"height",transform:hs}),Jo(ps,ms,vs,gs,ys,bs,Ao({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Qo},borderTop:{themeKey:"borders",transform:Qo},borderRight:{themeKey:"borders",transform:Qo},borderBottom:{themeKey:"borders",transform:Qo},borderLeft:{themeKey:"borders",transform:Qo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:cs},color:{themeKey:"palette",transform:fs},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:fs},backgroundColor:{themeKey:"palette",transform:fs},p:{style:Yo},pt:{style:Yo},pr:{style:Yo},pb:{style:Yo},pl:{style:Yo},px:{style:Yo},py:{style:Yo},padding:{style:Yo},paddingTop:{style:Yo},paddingRight:{style:Yo},paddingBottom:{style:Yo},paddingLeft:{style:Yo},paddingX:{style:Yo},paddingY:{style:Yo},paddingInline:{style:Yo},paddingInlineStart:{style:Yo},paddingInlineEnd:{style:Yo},paddingBlock:{style:Yo},paddingBlockStart:{style:Yo},paddingBlockEnd:{style:Yo},m:{style:Ko},mt:{style:Ko},mr:{style:Ko},mb:{style:Ko},ml:{style:Ko},mx:{style:Ko},my:{style:Ko},margin:{style:Ko},marginTop:{style:Ko},marginRight:{style:Ko},marginBottom:{style:Ko},marginLeft:{style:Ko},marginX:{style:Ko},marginY:{style:Ko},marginInline:{style:Ko},marginInlineStart:{style:Ko},marginInlineEnd:{style:Ko},marginBlock:{style:Ko},marginBlockStart:{style:Ko},marginBlockEnd:{style:Ko},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ls},rowGap:{style:ds},columnGap:{style:us},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:hs},maxWidth:{style:ms},minWidth:{transform:hs},height:{transform:hs},maxHeight:{transform:hs},minHeight:{transform:hs},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var xs=function(){function e(e,t,n,r){var i,a=(Nr(i={},e,t),Nr(i,"theme",n),i),o=r[e];if(!o)return Nr({},e,t);var s=o.cssProperty,c=void 0===s?e:s,l=o.themeKey,u=o.transform,d=o.style;if(null==t)return null;if("typography"===l&&"inherit"===t)return Nr({},e,t);var f=Ro(n,l)||{};if(d)return d(a);return jo(a,t,(function(t){var n=Oo(f,u,t);return t===n&&"string"===typeof t&&(n=Oo(f,u,"".concat(e).concat("default"===t?"":Co(t)),t)),!1===c?n:Nr({},c,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,s=void 0===o?{}:o;if(!a)return null;var c=null!=(r=s.unstable_sxConfig)?r:_s;function l(n){var r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;var i=To(s.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,l=(i=r[n],a=s,"function"===typeof i?i(a):i);if(null!==l&&void 0!==l)if("object"===typeof l)if(c[n])o=Po(o,e(n,l,s,c));else{var u=jo({theme:s},l,(function(e){return Nr({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(u,l)?o=Po(o,u):o[n]=t({sx:l,theme:s})}else o=Po(o,e(n,l,s,c))})),Io(a,o)}return Array.isArray(a)?a.map(l):l(a)}}();xs.filterProps=["sx"];var ws=xs,Ss=["breakpoints","palette","spacing","shape"];var Es=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,s=void 0===o?{}:o,c=Kr(e,Ss),l=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=Kr(e,wo),c=So(n),l=Object.keys(c);function u(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function f(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return Ri({keys:l,values:c,up:u,down:d,between:f,only:function(e){return l.indexOf(e)+1<l.length?f(e,l[l.indexOf(e)+1]):u(e)},not:function(e){var t=l.indexOf(e);return 0===t?u(l[1]):t===l.length-1?d(l[t]):f(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}(n),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Wo({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),d=xo({breakpoints:l,direction:"ltr",components:{},palette:Ri({mode:"light"},i),spacing:u,shape:Ri({},Eo,s)},c),f=arguments.length,h=new Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];return(d=h.reduce((function(e,t){return xo(e,t)}),d)).unstable_sxConfig=Ri({},_s,null==c?void 0:c.unstable_sxConfig),d.unstable_sx=function(e){return ws({sx:e,theme:this})},d},ks=["variant"];function Ns(e){return 0===e.length}function js(e){var t=e.variant,n=Kr(e,ks),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Ns(r)?e[t]:Co(e[t]):"".concat(Ns(r)?t:Co(t)).concat(Co(e[t].toString()))})),r}var Ts=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Is(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Cs=Es();function Rs(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}function Os(e,t){var n;return Ri({toolbar:(n={minHeight:56},Nr(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),Nr(n,e.up("sm"),{minHeight:64}),n)},t)}var As={black:"#000",white:"#fff"},Ps={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ls={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ds={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ms={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Us={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Fs={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Vs={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Bs=["mode","contrastThreshold","tonalOffset"],zs={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:As.white,default:As.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ws={text:{primary:As.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:As.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Hs(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Bi(e.main,i):"dark"===t&&(e.dark=Vi(e.main,a)))}function qs(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,s=Kr(e,Bs),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Us[200],light:Us[50],dark:Us[400]}:{main:Us[700],light:Us[400],dark:Us[800]}}(n),l=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ls[200],light:Ls[50],dark:Ls[400]}:{main:Ls[500],light:Ls[300],dark:Ls[700]}}(n),u=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ds[500],light:Ds[300],dark:Ds[700]}:{main:Ds[700],light:Ds[400],dark:Ds[800]}}(n),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Fs[400],light:Fs[300],dark:Fs[700]}:{main:Fs[700],light:Fs[500],dark:Fs[900]}}(n),f=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Vs[400],light:Vs[300],dark:Vs[700]}:{main:Vs[800],light:Vs[500],dark:Vs[900]}}(n),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ms[400],light:Ms[300],dark:Ms[700]}:{main:"#ed6c02",light:Ms[500],dark:Ms[900]}}(n);function p(e){var t=function(e,t){var n=Ui(e),r=Ui(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Ws.text.primary)>=i?Ws.text.primary:zs.text.primary;return t}var m=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,s=void 0===a?300:a,c=e.darkShade,l=void 0===c?700:c;if(!(t=Ri({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Pi(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Pi(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Hs(t,"light",s,o),Hs(t,"dark",l,o),t.contrastText||(t.contrastText=p(t.main)),t},v={dark:Ws,light:zs};return xo(Ri({common:Ri({},As),mode:n,primary:m({color:c,name:"primary"}),secondary:m({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:u,name:"error"}),warning:m({color:h,name:"warning"}),info:m({color:d,name:"info"}),success:m({color:f,name:"success"}),grey:Ps,contrastThreshold:i,getContrastText:p,augmentColor:m,tonalOffset:o},v[n]),s)}var Gs=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Ks={textTransform:"uppercase"},Ys='"Roboto", "Helvetica", "Arial", sans-serif';function Zs(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Ys:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,c=void 0===s?300:s,l=n.fontWeightRegular,u=void 0===l?400:l,d=n.fontWeightMedium,f=void 0===d?500:d,h=n.fontWeightBold,p=void 0===h?700:h,m=n.htmlFontSize,v=void 0===m?16:m,g=n.allVariants,y=n.pxToRem,b=Kr(n,Gs);var _=o/14,x=y||function(e){return"".concat(e/v*_,"rem")},w=function(e,t,n,r,a){return Ri({fontFamily:i,fontWeight:e,fontSize:x(t),lineHeight:n},i===Ys?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,g);var o},S={h1:w(c,96,1.167,-1.5),h2:w(c,60,1.2,-.5),h3:w(u,48,1.167,0),h4:w(u,34,1.235,.25),h5:w(u,24,1.334,0),h6:w(f,20,1.6,.15),subtitle1:w(u,16,1.75,.15),subtitle2:w(f,14,1.57,.1),body1:w(u,16,1.5,.15),body2:w(u,14,1.43,.15),button:w(f,14,1.75,.4,Ks),caption:w(u,12,1.66,.4),overline:w(u,12,2.66,1,Ks),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return xo(Ri({htmlFontSize:v,pxToRem:x,fontFamily:i,fontSize:o,fontWeightLight:c,fontWeightRegular:u,fontWeightMedium:f,fontWeightBold:p},S),b,{clone:!1})}function Js(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Qs=["none",Js(0,2,1,-1,0,1,1,0,0,1,3,0),Js(0,3,1,-2,0,2,2,0,0,1,5,0),Js(0,3,3,-2,0,3,4,0,0,1,8,0),Js(0,2,4,-1,0,4,5,0,0,1,10,0),Js(0,3,5,-1,0,5,8,0,0,1,14,0),Js(0,3,5,-1,0,6,10,0,0,1,18,0),Js(0,4,5,-2,0,7,10,1,0,2,16,1),Js(0,5,5,-3,0,8,10,1,0,3,14,2),Js(0,5,6,-3,0,9,12,1,0,3,16,2),Js(0,6,6,-3,0,10,14,1,0,4,18,3),Js(0,6,7,-4,0,11,15,1,0,4,20,3),Js(0,7,8,-4,0,12,17,2,0,5,22,4),Js(0,7,8,-4,0,13,19,2,0,5,24,4),Js(0,7,9,-4,0,14,21,2,0,5,26,4),Js(0,8,9,-5,0,15,22,2,0,6,28,5),Js(0,8,10,-5,0,16,24,2,0,6,30,5),Js(0,8,11,-5,0,17,26,2,0,6,32,5),Js(0,9,11,-5,0,18,28,2,0,7,34,6),Js(0,9,12,-6,0,19,29,2,0,7,36,6),Js(0,10,13,-6,0,20,31,3,0,8,38,7),Js(0,10,13,-6,0,21,33,3,0,8,40,7),Js(0,10,14,-6,0,22,35,3,0,8,42,7),Js(0,11,14,-7,0,23,36,3,0,9,44,8),Js(0,11,15,-7,0,24,38,3,0,9,46,8)],Xs=["duration","easing","delay"],$s={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ec={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function tc(e){return"".concat(Math.round(e),"ms")}function nc(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function rc(e){var t=Ri({},$s,e.easing),n=Ri({},ec,e.duration);return Ri({getAutoHeightDuration:nc,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,s=void 0===o?t.easeInOut:o,c=r.delay,l=void 0===c?0:c;Kr(r,Xs);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:tc(a)," ").concat(s," ").concat("string"===typeof l?l:tc(l))})).join(",")}},e,{easing:t,duration:n})}var ic={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},ac=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function oc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,s=e.typography,c=void 0===s?{}:s,l=Kr(e,ac);if(e.vars)throw new Error(Pi(18));var u=qs(i),d=Es(e),f=xo(d,{mixins:Os(d.breakpoints,n),palette:u,shadows:Qs.slice(),typography:Zs(u,c),transitions:rc(o),zIndex:Ri({},ic)});f=xo(f,l);for(var h=arguments.length,p=new Array(h>1?h-1:0),m=1;m<h;m++)p[m-1]=arguments[m];return(f=p.reduce((function(e,t){return xo(e,t)}),f)).unstable_sxConfig=Ri({},_s,null==l?void 0:l.unstable_sxConfig),f.unstable_sx=function(e){return ws({sx:e,theme:this})},f}var sc=oc(),cc="$$material",lc=function(e){return Is(e)&&"classes"!==e},uc=Is,dc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?Cs:n,i=e.rootShouldForwardProp,a=void 0===i?Is:i,o=e.slotShouldForwardProp,s=void 0===o?Is:o,c=function(e){return ws(Ri({},e,{theme:Rs(Ri({},e,{defaultTheme:r,themeId:t}))}))};return c.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i=n.name,o=n.slot,u=n.skipVariantsResolver,d=n.skipSx,f=n.overridesResolver,h=Kr(n,Ts),p=void 0!==u?u:o&&"Root"!==o||!1,m=d||!1;var v=Is;"Root"===o?v=a:o?v=s:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(v=void 0);var g=function(e,t){return yo(e,t)}(e,Ri({shouldForwardProp:v,label:undefined},h)),y=function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];var u=o?o.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(n){return e(Ri({},n,{theme:Rs(Ri({},n,{defaultTheme:r,themeId:t}))}))}:e})):[],d=n;i&&f&&u.push((function(e){var n=Rs(Ri({},e,{defaultTheme:r,themeId:t})),a=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(i,n);if(a){var o={};return Object.entries(a).forEach((function(t){var r=k(t,2),i=r[0],a=r[1];o[i]="function"===typeof a?a(Ri({},e,{theme:n})):a})),f(e,o)}return null})),i&&!p&&u.push((function(e){var n=Rs(Ri({},e,{defaultTheme:r,themeId:t}));return function(e,t,n,r){var i,a,o=e.ownerState,s=void 0===o?{}:o,c=[],l=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return l&&l.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&c.push(t[js(n.props)])})),c}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=js(e.props);r[t]=e.style})),r}(i,n),n,i)})),m||u.push(c);var h=u.length-o.length;if(Array.isArray(n)&&h>0){var v=new Array(h).fill("");(d=[].concat(l(n),l(v))).raw=[].concat(l(n.raw),l(v))}else"function"===typeof n&&n.__emotion_real!==n&&(d=function(e){return n(Ri({},e,{theme:Rs(Ri({},e,{defaultTheme:r,themeId:t}))}))});var y=g.apply(void 0,[d].concat(l(u)));return e.muiName&&(y.muiName=e.muiName),y};return g.withConfig&&(y.withConfig=g.withConfig),y}}({themeId:cc,defaultTheme:sc,rootShouldForwardProp:lc}),fc=dc;var hc=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=r.useContext(lo);return n&&(e=n,0!==Object.keys(e).length)?n:t},pc=Es();var mc=function(){return hc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc)};function vc(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,a=mc(r);i&&(a=a[i]||a);var o=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Oi(t.components[n].defaultProps,r):r}({theme:a,name:n,props:t});return o}function gc(e){return vc({props:e.props,name:e.name,defaultTheme:sc,themeId:cc})}function yc(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function bc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){yc(t,e)}))}}),t)}var _c=bc,xc="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function wc(e){var t=r.useRef(e);return xc((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}var Sc,Ec=wc,kc=!0,Nc=!1,jc={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Tc(e){e.metaKey||e.altKey||e.ctrlKey||(kc=!0)}function Ic(){kc=!1}function Cc(){"hidden"===this.visibilityState&&Nc&&(kc=!0)}function Rc(e){var t=e.target;try{return t.matches(":focus-visible")}catch(H_){}return kc||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!jc[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Oc=function(){var e=r.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Tc,!0),t.addEventListener("mousedown",Ic,!0),t.addEventListener("pointerdown",Ic,!0),t.addEventListener("touchstart",Ic,!0),t.addEventListener("visibilitychange",Cc,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Rc(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Nc=!0,window.clearTimeout(Sc),Sc=window.setTimeout((function(){Nc=!1}),100),t.current=!1,!0)},ref:e}};function Ac(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Pc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}var Lc=r.createContext(null);function Dc(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function Mc(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Uc(e,t,n){var i=Dc(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var l=i[c][r];s[i[c][r]]=n(l)}s[c]=n(c)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(t,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,r.isValidElement)(s)){var c=o in t,l=o in i,u=t[o],d=(0,r.isValidElement)(u)&&!u.props.in;!l||c&&!d?l||!c||d?l&&c&&(0,r.isValidElement)(u)&&(a[o]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:u.props.in,exit:Mc(s,"exit",e),enter:Mc(s,"enter",e)})):a[o]=(0,r.cloneElement)(s,{in:!1}):a[o]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:Mc(s,"exit",e),enter:Mc(s,"enter",e)})}})),a}var Fc=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Vc=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(b(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Pc(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,i=o,Dc(n.children,(function(e){return(0,r.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:Mc(e,"appear",n),enter:Mc(e,"enter",n),exit:Mc(e,"exit",n)})}))):Uc(e,a,o),firstRender:!1}},n.handleExited=function(e,t){var n=Dc(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Ri({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=Kr(e,["component","childFactory"]),a=this.state.contextValue,o=Fc(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r.createElement(Lc.Provider,{value:a},o):r.createElement(Lc.Provider,{value:a},r.createElement(t,i,o))},t}(r.Component);Vc.propTypes={},Vc.defaultProps={component:"div",childFactory:function(e){return e}};var Bc=Vc,zc=(__webpack_require__(2110),co((function(e,t){var n=e.styles,i=ro([n],void 0,r.useContext(lo)),a=r.useRef();return oo((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),a.current=[n,r],function(){n.flush()}}),[t]),oo((function(){var e=a.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&fo(t,i.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",i,n,!1)}}),[t,i.name]),null})));function Wc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ro(t)}var Hc=function(){var e=Wc.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var qc=function(e){var t=e.className,n=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,s=e.rippleY,c=e.rippleSize,l=e.in,u=e.onExited,d=e.timeout,f=k(r.useState(!1),2),h=f[0],p=f[1],m=ni(t,n.ripple,n.rippleVisible,a&&n.ripplePulsate),v={width:c,height:c,top:-c/2+s,left:-c/2+o},g=ni(n.child,h&&n.childLeaving,a&&n.childPulsate);return l||h||p(!0),r.useEffect((function(){if(!l&&null!=u){var e=setTimeout(u,d);return function(){clearTimeout(e)}}}),[u,l,d]),(0,Er.jsx)("span",{className:m,style:v,children:(0,Er.jsx)("span",{className:g})})},Gc=function(e){return e},Kc=function(){var e=Gc;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Gc}}}(),Yc={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Zc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=Yc[t];return r?"".concat(n,"-").concat(r):"".concat(Kc.generate(e),"-").concat(t)}function Jc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=Zc(e,t,n)})),r}var Qc,Xc,$c,el,tl,nl,rl,il,al=Jc("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ol=["center","classes","className"],sl=Hc(tl||(tl=Qc||(Qc=Ac(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),cl=Hc(nl||(nl=Xc||(Xc=Ac(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),ll=Hc(rl||(rl=$c||($c=Ac(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),ul=fc("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),dl=fc(qc,{name:"MuiTouchRipple",slot:"Ripple"})(il||(il=el||(el=Ac(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),al.rippleVisible,sl,550,(function(e){return e.theme.transitions.easing.easeInOut}),al.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),al.child,al.childLeaving,cl,550,(function(e){return e.theme.transitions.easing.easeInOut}),al.childPulsate,ll,(function(e){return e.theme.transitions.easing.easeInOut})),fl=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiTouchRipple"}),i=n.center,a=void 0!==i&&i,o=n.classes,s=void 0===o?{}:o,c=n.className,u=Kr(n,ol),d=k(r.useState([]),2),f=d[0],h=d[1],p=r.useRef(0),m=r.useRef(null);r.useEffect((function(){m.current&&(m.current(),m.current=null)}),[f]);var v=r.useRef(!1),g=r.useRef(0),y=r.useRef(null),b=r.useRef(null);r.useEffect((function(){return function(){g.current&&clearTimeout(g.current)}}),[]);var _=r.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;h((function(e){return[].concat(l(e),[(0,Er.jsx)(dl,{classes:{ripple:ni(s.ripple,al.ripple),rippleVisible:ni(s.rippleVisible,al.rippleVisible),ripplePulsate:ni(s.ripplePulsate,al.ripplePulsate),child:ni(s.child,al.child),childLeaving:ni(s.childLeaving,al.childLeaving),childPulsate:ni(s.childPulsate,al.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},p.current)])})),p.current+=1,m.current=a}),[s]),x=r.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,c=t.fakeElement,l=void 0!==c&&c;if("mousedown"===(null==e?void 0:e.type)&&v.current)v.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(v.current=!0);var u,d,f,h=l?null:b.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(p.width/2),d=Math.round(p.height/2);else{var m=e.touches&&e.touches.length>0?e.touches[0]:e,x=m.clientX,w=m.clientY;u=Math.round(x-p.left),d=Math.round(w-p.top)}if(s)(f=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(f+=1);else{var S=2*Math.max(Math.abs((h?h.clientWidth:0)-u),u)+2,E=2*Math.max(Math.abs((h?h.clientHeight:0)-d),d)+2;f=Math.sqrt(Math.pow(S,2)+Math.pow(E,2))}null!=e&&e.touches?null===y.current&&(y.current=function(){_({pulsate:i,rippleX:u,rippleY:d,rippleSize:f,cb:n})},g.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):_({pulsate:i,rippleX:u,rippleY:d,rippleSize:f,cb:n})}}),[a,_]),w=r.useCallback((function(){x({},{pulsate:!0})}),[x]),S=r.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===(null==e?void 0:e.type)&&y.current)return y.current(),y.current=null,void(g.current=setTimeout((function(){S(e,t)})));y.current=null,h((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return r.useImperativeHandle(t,(function(){return{pulsate:w,start:x,stop:S}}),[w,x,S]),(0,Er.jsx)(ul,Ri({className:ni(al.root,s.root,c),ref:b},u,{children:(0,Er.jsx)(Bc,{component:null,exit:!0,children:f})}))})),hl=fl;function pl(e){return Zc("MuiButtonBase",e)}var ml,vl=Jc("MuiButtonBase",["root","disabled","focusVisible"]),gl=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],yl=fc("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Nr(ml={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(vl.disabled),{pointerEvents:"none",cursor:"default"}),Nr(ml,"@media print",{colorAdjust:"exact"}),ml)),bl=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiButtonBase"}),i=n.action,a=n.centerRipple,o=void 0!==a&&a,s=n.children,c=n.className,l=n.component,u=void 0===l?"button":l,d=n.disabled,f=void 0!==d&&d,h=n.disableRipple,p=void 0!==h&&h,m=n.disableTouchRipple,v=void 0!==m&&m,g=n.focusRipple,y=void 0!==g&&g,b=n.LinkComponent,_=void 0===b?"a":b,x=n.onBlur,w=n.onClick,S=n.onContextMenu,E=n.onDragLeave,N=n.onFocus,j=n.onFocusVisible,T=n.onKeyDown,I=n.onKeyUp,C=n.onMouseDown,R=n.onMouseLeave,O=n.onMouseUp,A=n.onTouchEnd,P=n.onTouchMove,L=n.onTouchStart,D=n.tabIndex,M=void 0===D?0:D,U=n.TouchRippleProps,F=n.touchRippleRef,V=n.type,B=Kr(n,gl),z=r.useRef(null),W=r.useRef(null),H=_c(W,F),q=Oc(),G=q.isFocusVisibleRef,K=q.onFocus,Y=q.onBlur,Z=q.ref,J=k(r.useState(!1),2),Q=J[0],X=J[1];f&&Q&&X(!1),r.useImperativeHandle(i,(function(){return{focusVisible:function(){X(!0),z.current.focus()}}}),[]);var $=k(r.useState(!1),2),ee=$[0],te=$[1];r.useEffect((function(){te(!0)}),[]);var ne=ee&&!p&&!f;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;return Ec((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}r.useEffect((function(){Q&&y&&!p&&ee&&W.current.pulsate()}),[p,y,Q,ee]);var ie=re("start",C),ae=re("stop",S),oe=re("stop",E),se=re("stop",O),ce=re("stop",(function(e){Q&&e.preventDefault(),R&&R(e)})),le=re("start",L),ue=re("stop",A),de=re("stop",P),fe=re("stop",(function(e){Y(e),!1===G.current&&X(!1),x&&x(e)}),!1),he=Ec((function(e){z.current||(z.current=e.currentTarget),K(e),!0===G.current&&(X(!0),j&&j(e)),N&&N(e)})),pe=function(){var e=z.current;return u&&"button"!==u&&!("A"===e.tagName&&e.href)},me=r.useRef(!1),ve=Ec((function(e){y&&!me.current&&Q&&W.current&&" "===e.key&&(me.current=!0,W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),T&&T(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!f&&(e.preventDefault(),w&&w(e))})),ge=Ec((function(e){y&&" "===e.key&&W.current&&Q&&!e.defaultPrevented&&(me.current=!1,W.current.stop(e,(function(){W.current.pulsate(e)}))),I&&I(e),w&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&w(e)})),ye=u;"button"===ye&&(B.href||B.to)&&(ye=_);var be={};"button"===ye?(be.type=void 0===V?"button":V,be.disabled=f):(B.href||B.to||(be.role="button"),f&&(be["aria-disabled"]=f));var _e=_c(t,Z,z);var xe=Ri({},n,{centerRipple:o,component:u,disabled:f,disableRipple:p,disableTouchRipple:v,focusRipple:y,tabIndex:M,focusVisible:Q}),we=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=Ai({root:["root",t&&"disabled",n&&"focusVisible"]},pl,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(xe);return(0,Er.jsxs)(yl,Ri({as:ye,className:ni(we.root,c),ownerState:xe,onBlur:fe,onClick:w,onContextMenu:ae,onFocus:he,onKeyDown:ve,onKeyUp:ge,onMouseDown:ie,onMouseLeave:ce,onMouseUp:se,onDragLeave:oe,onTouchEnd:ue,onTouchMove:de,onTouchStart:le,ref:_e,tabIndex:f?-1:M,type:V},be,B,{children:[s,ne?(0,Er.jsx)(hl,Ri({ref:H,center:o},U)):null]}))})),_l=bl,xl=Co;function wl(e){return Zc("MuiButton",e)}var Sl=Jc("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var El=r.createContext({}),kl=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Nl=function(e){return Ri({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},jl=fc(_l,{shouldForwardProp:function(e){return lc(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(xl(n.color))],t["size".concat(xl(n.size))],t["".concat(n.variant,"Size").concat(xl(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState,o="light"===i.palette.mode?i.palette.grey[300]:i.palette.grey[800],s="light"===i.palette.mode?i.palette.grey.A100:i.palette.grey[700];return Ri({},i.typography.button,(Nr(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":Ri({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Fi(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Fi(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Fi(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:i.vars?i.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":Ri({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(Sl.focusVisible),Ri({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),Nr(t,"&.".concat(Sl.disabled),Ri({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(Fi(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:i.vars?i.vars.palette.Button.inheritContainedBg:o,boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(Nr(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(Sl.focusVisible),{boxShadow:"none"}),Nr(t,"&:active",{boxShadow:"none"}),Nr(t,"&.".concat(Sl.disabled),{boxShadow:"none"}),t)})),Tl=fc("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(xl(n.size))]]}})((function(e){var t=e.ownerState;return Ri({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Nl(t))})),Il=fc("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(xl(n.size))]]}})((function(e){var t=e.ownerState;return Ri({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Nl(t))})),Cl=r.forwardRef((function(e,t){var n=r.useContext(El),i=gc({props:Oi(n,e),name:"MuiButton"}),a=i.children,o=i.color,s=void 0===o?"primary":o,c=i.component,l=void 0===c?"button":c,u=i.className,d=i.disabled,f=void 0!==d&&d,h=i.disableElevation,p=void 0!==h&&h,m=i.disableFocusRipple,v=void 0!==m&&m,g=i.endIcon,y=i.focusVisibleClassName,b=i.fullWidth,_=void 0!==b&&b,x=i.size,w=void 0===x?"medium":x,S=i.startIcon,E=i.type,k=i.variant,N=void 0===k?"text":k,j=Kr(i,kl),T=Ri({},i,{color:s,component:l,disabled:f,disableElevation:p,disableFocusRipple:v,fullWidth:_,size:w,type:E,variant:N}),I=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return Ri({},o,Ai({root:["root",a,"".concat(a).concat(xl(t)),"size".concat(xl(i)),"".concat(a,"Size").concat(xl(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(xl(i))],endIcon:["endIcon","iconSize".concat(xl(i))]},wl,o))}(T),C=S&&(0,Er.jsx)(Tl,{className:I.startIcon,ownerState:T,children:S}),R=g&&(0,Er.jsx)(Il,{className:I.endIcon,ownerState:T,children:g});return(0,Er.jsxs)(jl,Ri({ownerState:T,className:ni(n.className,I.root,u),component:l,disabled:f,focusRipple:!v,focusVisibleClassName:ni(I.focusVisible,y),ref:t,type:E},j,{classes:I,children:[C,a,R]}))})),Rl=Cl,Ol=0;var Al=i["useId".toString()];function Pl(e){if(void 0!==Al){var t=Al();return null!=e?e:t}return function(e){var t=k(r.useState(e),2),n=t[0],i=t[1],a=e||n;return r.useEffect((function(){null==n&&i("mui-".concat(Ol+=1))}),[n]),a}(e)}var Ll=__webpack_require__(4164);function Dl(e){return e&&e.ownerDocument||document}function Ml(e){return Dl(e).defaultView||window}function Ul(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r}var Fl=["onChange","maxRows","minRows","style","value"];function Vl(e){return parseInt(e,10)||0}var Bl={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function zl(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}var Wl=r.forwardRef((function(e,t){var n=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,s=e.style,c=e.value,l=Kr(e,Fl),u=r.useRef(null!=c).current,d=r.useRef(null),f=bc(t,d),h=r.useRef(null),p=r.useRef(0),m=k(r.useState({outerHeightStyle:0}),2),v=m[0],g=m[1],y=r.useCallback((function(){var t=d.current,n=Ml(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};var r=h.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n.boxSizing,s=Vl(n.paddingBottom)+Vl(n.paddingTop),c=Vl(n.borderBottomWidth)+Vl(n.borderTopWidth),l=r.scrollHeight;r.value="x";var u=r.scrollHeight,f=l;return o&&(f=Math.max(Number(o)*u,f)),i&&(f=Math.min(Number(i)*u,f)),{outerHeightStyle:(f=Math.max(f,u))+("border-box"===a?s+c:0),overflow:Math.abs(f-l)<=1}}),[i,o,e.placeholder]),b=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return p.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(p.current+=1,{overflow:r,outerHeightStyle:n}):e},_=r.useCallback((function(){var e=y();zl(e)||g((function(t){return b(t,e)}))}),[y]);r.useEffect((function(){var e,t=Ul((function(){p.current=0,d.current&&function(){var e=y();zl(e)||Ll.flushSync((function(){g((function(t){return b(t,e)}))}))}()})),n=d.current,r=Ml(n);return r.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(n),function(){t.clear(),r.removeEventListener("resize",t),e&&e.disconnect()}})),xc((function(){_()})),r.useEffect((function(){p.current=0}),[c]);return(0,Er.jsxs)(r.Fragment,{children:[(0,Er.jsx)("textarea",Ri({value:c,onChange:function(e){p.current=0,u||_(),n&&n(e)},ref:f,rows:o,style:Ri({height:v.outerHeightStyle,overflow:v.overflow?"hidden":void 0},s)},l)),(0,Er.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:Ri({},Bl,s,{paddingTop:0,paddingBottom:0})})]})})),Hl=Wl;function ql(e){return"string"===typeof e}function Gl(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var Kl=r.createContext(void 0);function Yl(){return r.useContext(Kl)}var Zl=xc;function Jl(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,Er.jsx)(zc,{styles:i})}var Ql=function(e){var t=e.styles,n=e.themeId,r=e.defaultTheme,i=mc(void 0===r?{}:r),a="function"===typeof t?t(n&&i[n]||i):t;return(0,Er.jsx)(Jl,{styles:a})};var Xl=function(e){return(0,Er.jsx)(Ql,Ri({},e,{defaultTheme:sc,themeId:cc}))};function $l(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function eu(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&($l(e.value)&&""!==e.value||t&&$l(e.defaultValue)&&""!==e.defaultValue)}function tu(e){return Zc("MuiInputBase",e)}var nu=Jc("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ru=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],iu=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(xl(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},au=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ou=fc("div",{name:"MuiInputBase",slot:"Root",overridesResolver:iu})((function(e){var t=e.theme,n=e.ownerState;return Ri({},t.typography.body1,Nr({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(nu.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&Ri({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),su=fc("input",{name:"MuiInputBase",slot:"Input",overridesResolver:au})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a=Ri({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),o={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return Ri((Nr(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(nu.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),Nr(t,"&.".concat(nu.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),Nr(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),cu=(0,Er.jsx)(Xl,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),lu=r.forwardRef((function(e,t){var n,i=gc({props:e,name:"MuiInputBase"}),a=i["aria-describedby"],o=i.autoComplete,s=i.autoFocus,c=i.className,l=i.components,u=void 0===l?{}:l,d=i.componentsProps,f=void 0===d?{}:d,h=i.defaultValue,p=i.disabled,m=i.disableInjectingGlobalStyles,v=i.endAdornment,g=i.fullWidth,y=void 0!==g&&g,b=i.id,_=i.inputComponent,x=void 0===_?"input":_,w=i.inputProps,S=void 0===w?{}:w,E=i.inputRef,N=i.maxRows,j=i.minRows,T=i.multiline,I=void 0!==T&&T,C=i.name,R=i.onBlur,O=i.onChange,A=i.onClick,P=i.onFocus,L=i.onKeyDown,D=i.onKeyUp,M=i.placeholder,U=i.readOnly,F=i.renderSuffix,V=i.rows,B=i.slotProps,z=void 0===B?{}:B,W=i.slots,H=void 0===W?{}:W,q=i.startAdornment,G=i.type,K=void 0===G?"text":G,Y=i.value,Z=Kr(i,ru),J=null!=S.value?S.value:Y,Q=r.useRef(null!=J).current,X=r.useRef(),$=r.useCallback((function(e){0}),[]),ee=_c(X,E,S.ref,$),te=k(r.useState(!1),2),ne=te[0],re=te[1],ie=Yl();var ae=Gl({props:i,muiFormControl:ie,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ae.focused=ie?ie.focused:ne,r.useEffect((function(){!ie&&p&&ne&&(re(!1),R&&R())}),[ie,p,ne,R]);var oe=ie&&ie.onFilled,se=ie&&ie.onEmpty,ce=r.useCallback((function(e){eu(e)?oe&&oe():se&&se()}),[oe,se]);Zl((function(){Q&&ce({value:J})}),[J,ce,Q]);r.useEffect((function(){ce(X.current)}),[]);var le=x,ue=S;I&&"input"===le&&(ue=Ri(V?{type:void 0,minRows:V,maxRows:V}:{type:void 0,maxRows:N,minRows:j},ue),le=Hl);r.useEffect((function(){ie&&ie.setAdornedStart(Boolean(q))}),[ie,q]);var de=Ri({},i,{color:ae.color||"primary",disabled:ae.disabled,endAdornment:v,error:ae.error,focused:ae.focused,formControl:ie,fullWidth:y,hiddenLabel:ae.hiddenLabel,multiline:I,size:ae.size,startAdornment:q,type:K}),fe=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,s=e.formControl,c=e.fullWidth,l=e.hiddenLabel,u=e.multiline,d=e.readOnly,f=e.size,h=e.startAdornment,p=e.type;return Ai({root:["root","color".concat(xl(n)),r&&"disabled",i&&"error",c&&"fullWidth",o&&"focused",s&&"formControl","small"===f&&"sizeSmall",u&&"multiline",h&&"adornedStart",a&&"adornedEnd",l&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",u&&"inputMultiline","small"===f&&"inputSizeSmall",l&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd",d&&"readOnly"]},tu,t)}(de),he=H.root||u.Root||ou,pe=z.root||f.root||{},me=H.input||u.Input||su;return ue=Ri({},ue,null!=(n=z.input)?n:f.input),(0,Er.jsxs)(r.Fragment,{children:[!m&&cu,(0,Er.jsxs)(he,Ri({},pe,!ql(he)&&{ownerState:Ri({},de,pe.ownerState)},{ref:t,onClick:function(e){X.current&&e.currentTarget===e.target&&X.current.focus(),A&&!ae.disabled&&A(e)}},Z,{className:ni(fe.root,pe.className,c,U&&"MuiInputBase-readOnly"),children:[q,(0,Er.jsx)(Kl.Provider,{value:null,children:(0,Er.jsx)(me,Ri({ownerState:de,"aria-invalid":ae.error,"aria-describedby":a,autoComplete:o,autoFocus:s,defaultValue:h,disabled:ae.disabled,id:b,onAnimationStart:function(e){ce("mui-auto-fill-cancel"===e.animationName?X.current:{value:"x"})},name:C,placeholder:M,readOnly:U,required:ae.required,rows:V,value:J,onKeyDown:L,onKeyUp:D,type:K},ue,!ql(me)&&{as:le,ownerState:Ri({},de,ue.ownerState)},{ref:ee,className:ni(fe.input,ue.className,U&&"MuiInputBase-readOnly"),onBlur:function(e){R&&R(e),S.onBlur&&S.onBlur(e),ie&&ie.onBlur?ie.onBlur(e):re(!1)},onChange:function(e){if(!Q){var t=e.target||X.current;if(null==t)throw new Error(Pi(1));ce({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];S.onChange&&S.onChange.apply(S,[e].concat(r)),O&&O.apply(void 0,[e].concat(r))},onFocus:function(e){ae.disabled?e.stopPropagation():(P&&P(e),S.onFocus&&S.onFocus(e),ie&&ie.onFocus?ie.onFocus(e):re(!0))}}))}),v,F?F(Ri({},ae,{startAdornment:q})):null]}))]})})),uu=lu;function du(e){return Zc("MuiInput",e)}var fu=Ri({},nu,Jc("MuiInput",["root","underline","input"])),hu=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],pu=fc(ou,{shouldForwardProp:function(e){return lc(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(l(iu(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),Ri({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(Nr(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(fu.focused,":after"),{transform:"scaleX(1) translateX(0)"}),Nr(t,"&.".concat(fu.error),{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}}),Nr(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),Nr(t,"&:hover:not(.".concat(fu.disabled,", .").concat(fu.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),Nr(t,"&.".concat(fu.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),mu=fc(su,{name:"MuiInput",slot:"Input",overridesResolver:au})({}),vu=r.forwardRef((function(e,t){var n,r,i,a,o=gc({props:e,name:"MuiInput"}),s=o.disableUnderline,c=o.components,l=void 0===c?{}:c,u=o.componentsProps,d=o.fullWidth,f=void 0!==d&&d,h=o.inputComponent,p=void 0===h?"input":h,m=o.multiline,v=void 0!==m&&m,g=o.slotProps,y=o.slots,b=void 0===y?{}:y,_=o.type,x=void 0===_?"text":_,w=Kr(o,hu),S=function(e){var t=e.classes;return Ri({},t,Ai({root:["root",!e.disableUnderline&&"underline"],input:["input"]},du,t))}(o),E={root:{ownerState:{disableUnderline:s}}},k=(null!=g?g:u)?xo(null!=g?g:u,E):E,N=null!=(n=null!=(r=b.root)?r:l.Root)?n:pu,j=null!=(i=null!=(a=b.input)?a:l.Input)?i:mu;return(0,Er.jsx)(uu,Ri({slots:{root:N,input:j},slotProps:k,fullWidth:f,inputComponent:p,multiline:v,ref:t,type:x},w,{classes:S}))}));vu.muiName="Input";var gu=vu;function yu(e){return Zc("MuiFilledInput",e)}var bu=Ri({},nu,Jc("MuiFilledInput",["root","underline","input"])),_u=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],xu=fc(ou,{shouldForwardProp:function(e){return lc(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(l(iu(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,i=e.theme,a=e.ownerState,o="light"===i.palette.mode,s=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",c=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",u=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return Ri((Nr(t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c}}},"&.".concat(bu.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c}),Nr(t,"&.".concat(bu.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:u}),t),!a.disableUnderline&&(Nr(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(i.vars||i).palette[a.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(bu.focused,":after"),{transform:"scaleX(1) translateX(0)"}),Nr(n,"&.".concat(bu.error),{"&:before, &:after":{borderBottomColor:(i.vars||i).palette.error.main}}),Nr(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),Nr(n,"&:hover:not(.".concat(bu.disabled,", .").concat(bu.error,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),Nr(n,"&.".concat(bu.disabled,":before"),{borderBottomStyle:"dotted"}),n),a.startAdornment&&{paddingLeft:12},a.endAdornment&&{paddingRight:12},a.multiline&&Ri({padding:"25px 12px 8px"},"small"===a.size&&{paddingTop:21,paddingBottom:4},a.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),wu=fc(su,{name:"MuiFilledInput",slot:"Input",overridesResolver:au})((function(e){var t=e.theme,n=e.ownerState;return Ri({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&Nr({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),Su=r.forwardRef((function(e,t){var n,r,i,a,o=gc({props:e,name:"MuiFilledInput"}),s=o.components,c=void 0===s?{}:s,l=o.componentsProps,u=o.fullWidth,d=void 0!==u&&u,f=o.inputComponent,h=void 0===f?"input":f,p=o.multiline,m=void 0!==p&&p,v=o.slotProps,g=o.slots,y=void 0===g?{}:g,b=o.type,_=void 0===b?"text":b,x=Kr(o,_u),w=Ri({},o,{fullWidth:d,inputComponent:h,multiline:m,type:_}),S=function(e){var t=e.classes;return Ri({},t,Ai({root:["root",!e.disableUnderline&&"underline"],input:["input"]},yu,t))}(o),E={root:{ownerState:w},input:{ownerState:w}},k=(null!=v?v:l)?xo(null!=v?v:l,E):E,N=null!=(n=null!=(r=y.root)?r:c.Root)?n:xu,j=null!=(i=null!=(a=y.input)?a:c.Input)?i:wu;return(0,Er.jsx)(uu,Ri({slots:{root:N,input:j},componentsProps:k,fullWidth:d,inputComponent:h,multiline:m,ref:t,type:_},x,{classes:S}))}));Su.muiName="Input";var Eu,ku=Su,Nu=["children","classes","className","label","notched"],ju=fc("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Tu=fc("legend")((function(e){var t=e.ownerState,n=e.theme;return Ri({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&Ri({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Iu(e){return Zc("MuiOutlinedInput",e)}var Cu=Ri({},nu,Jc("MuiOutlinedInput",["root","notchedOutline","input"])),Ru=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Ou=fc(ou,{shouldForwardProp:function(e){return lc(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:iu})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Ri((Nr(t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},"&:hover .".concat(Cu.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),Nr(t,"@media (hover: none)",Nr({},"&:hover .".concat(Cu.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),Nr(t,"&.".concat(Cu.focused," .").concat(Cu.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),Nr(t,"&.".concat(Cu.error," .").concat(Cu.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),Nr(t,"&.".concat(Cu.disabled," .").concat(Cu.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&Ri({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),Au=fc((function(e){var t=e.className,n=e.label,r=e.notched,i=Kr(e,Nu),a=null!=n&&""!==n,o=Ri({},e,{notched:r,withLabel:a});return(0,Er.jsx)(ju,Ri({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,Er.jsx)(Tu,{ownerState:o,children:a?(0,Er.jsx)("span",{children:n}):Eu||(Eu=(0,Er.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),Pu=fc(su,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:au})((function(e){var t=e.theme,n=e.ownerState;return Ri({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&Nr({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Lu=r.forwardRef((function(e,t){var n,i,a,o,s,c=gc({props:e,name:"MuiOutlinedInput"}),l=c.components,u=void 0===l?{}:l,d=c.fullWidth,f=void 0!==d&&d,h=c.inputComponent,p=void 0===h?"input":h,m=c.label,v=c.multiline,g=void 0!==v&&v,y=c.notched,b=c.slots,_=void 0===b?{}:b,x=c.type,w=void 0===x?"text":x,S=Kr(c,Ru),E=function(e){var t=e.classes;return Ri({},t,Ai({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Iu,t))}(c),k=Yl(),N=Gl({props:c,muiFormControl:k,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),j=Ri({},c,{color:N.color||"primary",disabled:N.disabled,error:N.error,focused:N.focused,formControl:k,fullWidth:f,hiddenLabel:N.hiddenLabel,multiline:g,size:N.size,type:w}),T=null!=(n=null!=(i=_.root)?i:u.Root)?n:Ou,I=null!=(a=null!=(o=_.input)?o:u.Input)?a:Pu;return(0,Er.jsx)(uu,Ri({slots:{root:T,input:I},renderSuffix:function(e){return(0,Er.jsx)(Au,{ownerState:j,className:E.notchedOutline,label:null!=m&&""!==m&&N.required?s||(s=(0,Er.jsxs)(r.Fragment,{children:[m,"\u2009","*"]})):m,notched:"undefined"!==typeof y?y:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:f,inputComponent:p,multiline:g,ref:t,type:w},S,{classes:Ri({},E,{notchedOutline:null})}))}));Lu.muiName="Input";var Du=Lu;function Mu(e){return Zc("MuiFormLabel",e)}var Uu=Jc("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Fu=["children","className","color","component","disabled","error","filled","focused","required"],Vu=fc("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Ri({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return Ri({color:(n.vars||n).palette.text.secondary},n.typography.body1,(Nr(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(Uu.focused),{color:(n.vars||n).palette[r.color].main}),Nr(t,"&.".concat(Uu.disabled),{color:(n.vars||n).palette.text.disabled}),Nr(t,"&.".concat(Uu.error),{color:(n.vars||n).palette.error.main}),t))})),Bu=fc("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return Nr({},"&.".concat(Uu.error),{color:(t.vars||t).palette.error.main})})),zu=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,s=Kr(n,Fu),c=Gl({props:n,muiFormControl:Yl(),states:["color","required","focused","disabled","error","filled"]}),l=Ri({},n,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),u=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,s=e.required;return Ai({root:["root","color".concat(xl(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]},Mu,t)}(l);return(0,Er.jsxs)(Vu,Ri({as:o,ownerState:l,className:ni(u.root,i),ref:t},s,{children:[r,c.required&&(0,Er.jsxs)(Bu,{ownerState:l,"aria-hidden":!0,className:u.asterisk,children:["\u2009","*"]})]}))})),Wu=zu;function Hu(e){return Zc("MuiInputLabel",e)}Jc("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var qu=["disableAnimation","margin","shrink","variant","className"],Gu=fc(Wu,{shouldForwardProp:function(e){return lc(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Nr({},"& .".concat(Uu.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return Ri({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&Ri({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&Ri({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&Ri({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Ku=r.forwardRef((function(e,t){var n=gc({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=n.className,s=Kr(n,qu),c=Yl(),l=a;"undefined"===typeof l&&c&&(l=c.filled||c.focused||c.adornedStart);var u=Gl({props:n,muiFormControl:c,states:["size","variant","required"]}),d=Ri({},n,{disableAnimation:i,formControl:c,shrink:l,size:u.size,variant:u.variant,required:u.required}),f=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return Ri({},t,Ai({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},Hu,t))}(d);return(0,Er.jsx)(Gu,Ri({"data-shrink":l,ownerState:d,ref:t,className:ni(f.root,o)},s,{classes:f}))}));var Yu=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function Zu(e){return Zc("MuiFormControl",e)}Jc("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var Ju=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Qu=fc("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Ri({},t.root,t["margin".concat(xl(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return Ri({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Xu=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiFormControl"}),i=n.children,a=n.className,o=n.color,s=void 0===o?"primary":o,c=n.component,l=void 0===c?"div":c,u=n.disabled,d=void 0!==u&&u,f=n.error,h=void 0!==f&&f,p=n.focused,m=n.fullWidth,v=void 0!==m&&m,g=n.hiddenLabel,y=void 0!==g&&g,b=n.margin,_=void 0===b?"none":b,x=n.required,w=void 0!==x&&x,S=n.size,E=void 0===S?"medium":S,N=n.variant,j=void 0===N?"outlined":N,T=Kr(n,Ju),I=Ri({},n,{color:s,component:l,disabled:d,error:h,fullWidth:v,hiddenLabel:y,margin:_,required:w,size:E,variant:j}),C=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return Ai({root:["root","none"!==n&&"margin".concat(xl(n)),r&&"fullWidth"]},Zu,t)}(I),R=k(r.useState((function(){var e=!1;return i&&r.Children.forEach(i,(function(t){if(Yu(t,["Input","Select"])){var n=Yu(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),2),O=R[0],A=R[1],P=k(r.useState((function(){var e=!1;return i&&r.Children.forEach(i,(function(t){Yu(t,["Input","Select"])&&(eu(t.props,!0)||eu(t.props.inputProps,!0))&&(e=!0)})),e})),2),L=P[0],D=P[1],M=k(r.useState(!1),2),U=M[0],F=M[1];d&&U&&F(!1);var V,B=void 0===p||d?U:p,z=r.useMemo((function(){return{adornedStart:O,setAdornedStart:A,color:s,disabled:d,error:h,filled:L,focused:B,fullWidth:v,hiddenLabel:y,size:E,onBlur:function(){F(!1)},onEmpty:function(){D(!1)},onFilled:function(){D(!0)},onFocus:function(){F(!0)},registerEffect:V,required:w,variant:j}}),[O,s,d,h,L,B,v,y,V,w,E,j]);return(0,Er.jsx)(Kl.Provider,{value:z,children:(0,Er.jsx)(Qu,Ri({as:l,ownerState:I,className:ni(C.root,a),ref:t},T,{children:i}))})})),$u=Xu;function ed(e){return Zc("MuiFormHelperText",e)}var td,nd=Jc("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),rd=["children","className","component","disabled","error","filled","focused","margin","required","variant"],id=fc("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(xl(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return Ri({color:(n.vars||n).palette.text.secondary},n.typography.caption,(Nr(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},"&.".concat(nd.disabled),{color:(n.vars||n).palette.text.disabled}),Nr(t,"&.".concat(nd.error),{color:(n.vars||n).palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),ad=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"p":a,s=Kr(n,rd),c=Gl({props:n,muiFormControl:Yl(),states:["variant","size","disabled","error","filled","focused","required"]}),l=Ri({},n,{component:o,contained:"filled"===c.variant||"outlined"===c.variant,variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),u=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,s=e.focused,c=e.required;return Ai({root:["root",i&&"disabled",a&&"error",r&&"size".concat(xl(r)),n&&"contained",s&&"focused",o&&"filled",c&&"required"]},ed,t)}(l);return(0,Er.jsx)(id,Ri({as:o,ownerState:l,className:ni(u.root,i),ref:t},s,{children:" "===r?td||(td=(0,Er.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),od=ad,sd=(__webpack_require__(8457),Dl);var cd=r.createContext({});function ld(e){return Zc("MuiList",e)}Jc("MuiList",["root","padding","dense","subheader"]);var ud=["children","className","component","dense","disablePadding","subheader"],dd=fc("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return Ri({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),fd=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiList"}),i=n.children,a=n.className,o=n.component,s=void 0===o?"ul":o,c=n.dense,l=void 0!==c&&c,u=n.disablePadding,d=void 0!==u&&u,f=n.subheader,h=Kr(n,ud),p=r.useMemo((function(){return{dense:l}}),[l]),m=Ri({},n,{component:s,dense:l,disablePadding:d}),v=function(e){var t=e.classes;return Ai({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},ld,t)}(m);return(0,Er.jsx)(cd.Provider,{value:p,children:(0,Er.jsxs)(dd,Ri({as:s,className:ni(v.root,a),ref:t,ownerState:m},h,{children:[f,i]}))})}));function hd(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var pd=hd,md=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function vd(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function gd(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function yd(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function bd(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return!1;o=!0}var c=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&yd(s,a)&&!c)return s.focus(),!0;s=i(e,s,n)}return!1}var _d=r.forwardRef((function(e,t){var n=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,s=void 0!==o&&o,c=e.children,l=e.className,u=e.disabledItemsFocusable,d=void 0!==u&&u,f=e.disableListWrap,h=void 0!==f&&f,p=e.onKeyDown,m=e.variant,v=void 0===m?"selectedMenu":m,g=Kr(e,md),y=r.useRef(null),b=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Zl((function(){a&&y.current.focus()}),[a]),r.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!y.current.style.width;if(e.clientHeight<y.current.clientHeight&&n){var r="".concat(pd(sd(e)),"px");y.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,y.current.style.width="calc(100% + ".concat(r,")")}return y.current}}}),[]);var _=_c(y,t),x=-1;r.Children.forEach(c,(function(e,t){r.isValidElement(e)?(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===x)&&(x=t),x===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(x+=1)>=c.length&&(x=-1)):x===t&&(x+=1)>=c.length&&(x=-1)}));var w=r.Children.map(c,(function(e,t){if(t===x){var n={};return s&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===v&&(n.tabIndex=0),r.cloneElement(e,n)}return e}));return(0,Er.jsx)(fd,Ri({role:"menu",ref:_,className:l,onKeyDown:function(e){var t=y.current,n=e.key,r=sd(t).activeElement;if("ArrowDown"===n)e.preventDefault(),bd(t,r,h,d,vd);else if("ArrowUp"===n)e.preventDefault(),bd(t,r,h,d,gd);else if("Home"===n)e.preventDefault(),bd(t,null,h,d,vd);else if("End"===n)e.preventDefault(),bd(t,null,h,d,gd);else if(1===n.length){var i=b.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&yd(r,i);i.previousKeyMatched&&(s||bd(t,r,!1,d,vd,i))?e.preventDefault():i.previousKeyMatched=!1}p&&p(e)},tabIndex:a?0:-1},g,{children:w}))})),xd=_d;function wd(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function Sd(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,a=e.className;if(!t){var o=ni(null==i?void 0:i.className,null==r?void 0:r.className,a,null==n?void 0:n.className),s=Ri({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),c=Ri({},n,i,r);return o.length>0&&(c.className=o),Object.keys(s).length>0&&(c.style=s),{props:c,internalRef:void 0}}var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}(Ri({},i,r)),u=wd(r),d=wd(i),f=t(l),h=ni(null==f?void 0:f.className,null==n?void 0:n.className,a,null==i?void 0:i.className,null==r?void 0:r.className),p=Ri({},null==f?void 0:f.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),m=Ri({},f,n,d,u);return h.length>0&&(m.className=h),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:f.ref}}function Ed(e,t,n){return"function"===typeof e?e(t,n):e}var kd=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Nd(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,a=e.skipResolvingSlotProps,o=void 0!==a&&a,s=Kr(e,kd),c=o?{}:Ed(r,i),l=Sd(Ri({},s,{externalSlotProps:c})),u=function(e,t,n){return void 0===e||ql(e)?t:Ri({},t,{ownerState:Ri({},t.ownerState,n)})}(n,Ri({},l.props,{ref:bc(l.internalRef,null==c?void 0:c.ref,null==(t=e.additionalProps)?void 0:t.ref)}),i);return u}var jd=Ul,Td=Ml,Id=!1,Cd="unmounted",Rd="exited",Od="entering",Ad="entered",Pd="exiting",Ld=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Rd,r.appearStatus=Od):i=Ad:i=t.unmountOnExit||t.mountOnEnter?Cd:Rd,r.state={status:i},r.nextCallback=null,r}Pc(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Cd?{status:Rd}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Od&&n!==Ad&&(t=Od):n!==Od&&n!==Ad||(t=Pd)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Od){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Ll.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Rd&&this.setState({status:Cd})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Ll.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||Id?this.safeSetState({status:Ad},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Od},(function(){t.props.onEntering(a,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:Ad},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Ll.findDOMNode(this);t&&!Id?(this.props.onExit(r),this.safeSetState({status:Pd},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Rd},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Rd},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Ll.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Cd)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Kr(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(Lc.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},t}(r.Component);function Dd(){}Ld.contextType=Lc,Ld.propTypes={},Ld.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Dd,onEntering:Dd,onEntered:Dd,onExit:Dd,onExiting:Dd,onExited:Dd},Ld.UNMOUNTED=Cd,Ld.EXITED=Rd,Ld.ENTERING=Od,Ld.ENTERED=Ad,Ld.EXITING=Pd;var Md=Ld;function Ud(){var e=mc(sc);return e[cc]||e}var Fd=function(e){return e.scrollTop};function Vd(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,s=void 0===o?{}:o;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:s.transitionDelay}}var Bd=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function zd(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Wd={entering:{opacity:1,transform:zd(1)},entered:{opacity:1,transform:"none"}},Hd="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),qd=r.forwardRef((function(e,t){var n=e.addEndListener,i=e.appear,a=void 0===i||i,o=e.children,s=e.easing,c=e.in,l=e.onEnter,u=e.onEntered,d=e.onEntering,f=e.onExit,h=e.onExited,p=e.onExiting,m=e.style,v=e.timeout,g=void 0===v?"auto":v,y=e.TransitionComponent,b=void 0===y?Md:y,_=Kr(e,Bd),x=r.useRef(),w=r.useRef(),S=Ud(),E=r.useRef(null),k=_c(E,o.ref,t),N=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},j=N(d),T=N((function(e,t){Fd(e);var n,r=Vd({style:m,timeout:g,easing:s},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===g?(n=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=n):n=i,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:a}),S.transitions.create("transform",{duration:Hd?n:.666*n,delay:a,easing:o})].join(","),l&&l(e,t)})),I=N(u),C=N(p),R=N((function(e){var t,n=Vd({style:m,timeout:g,easing:s},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===g?(t=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=t):t=r,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:i}),S.transitions.create("transform",{duration:Hd?t:.666*t,delay:Hd?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=zd(.75),f&&f(e)})),O=N(h);return r.useEffect((function(){return function(){clearTimeout(x.current)}}),[]),(0,Er.jsx)(b,Ri({appear:a,in:c,nodeRef:E,onEnter:T,onEntered:I,onEntering:j,onExit:R,onExited:O,onExiting:C,addEndListener:function(e){"auto"===g&&(x.current=setTimeout(e,w.current||0)),n&&n(E.current,e)},timeout:"auto"===g?null:g},_,{children:function(e,t){return r.cloneElement(o,Ri({style:Ri({opacity:0,transform:zd(.75),visibility:"exited"!==e||c?void 0:"hidden"},Wd[e],m,o.props.style),ref:k},t))}}))}));qd.muiSupportAuto=!0;var Gd=qd;function Kd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var Yd=r.forwardRef((function(e,t){var n=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,s=k(r.useState(null),2),c=s[0],l=s[1],u=bc(r.isValidElement(n)?n.ref:null,t);if(xc((function(){o||l(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),xc((function(){if(c&&!o)return yc(t,c),function(){yc(t,null)}}),[t,c,o]),o){if(r.isValidElement(n)){var d={ref:u};return r.cloneElement(n,d)}return(0,Er.jsx)(r.Fragment,{children:n})}return(0,Er.jsx)(r.Fragment,{children:c?Ll.createPortal(n,c):c})}));function Zd(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Jd(e){return parseInt(Ml(e).getComputedStyle(e).paddingRight,10)||0}function Qd(e,t,n,r,i){var a=[t,n].concat(l(r));[].forEach.call(e.children,(function(e){var t=-1===a.indexOf(e),n=!function(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Zd(e,i)}))}function Xd(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function $d(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=Dl(e);return t.body===e?Ml(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=hd(Dl(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Jd(r)+i,"px");var a=Dl(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(Jd(e)+i,"px")}))}var o;if(r.parentNode instanceof DocumentFragment)o=Dl(r).body;else{var s=r.parentElement,c=Ml(r);o="HTML"===(null==s?void 0:s.nodeName)&&"scroll"===c.getComputedStyle(s).overflowY?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var ef=function(){function e(){u(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return p(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Zd(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Qd(t,e.mount,e.modalRef,r,!0);var i=Xd(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=Xd(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=$d(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=Xd(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&Zd(e.modalRef,t),Qd(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&Zd(a.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),tf=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function nf(e){var t=[],n=[];return Array.from(e.querySelectorAll(tf)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function rf(){return!0}var af=function(e){var t=e.children,n=e.disableAutoFocus,i=void 0!==n&&n,a=e.disableEnforceFocus,o=void 0!==a&&a,s=e.disableRestoreFocus,c=void 0!==s&&s,l=e.getTabbable,u=void 0===l?nf:l,d=e.isEnabled,f=void 0===d?rf:d,h=e.open,p=r.useRef(!1),m=r.useRef(null),v=r.useRef(null),g=r.useRef(null),y=r.useRef(null),b=r.useRef(!1),_=r.useRef(null),x=bc(t.ref,_),w=r.useRef(null);r.useEffect((function(){h&&_.current&&(b.current=!i)}),[i,h]),r.useEffect((function(){if(h&&_.current){var e=Dl(_.current);return _.current.contains(e.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),b.current&&_.current.focus()),function(){c||(g.current&&g.current.focus&&(p.current=!0,g.current.focus()),g.current=null)}}}),[h]),r.useEffect((function(){if(h&&_.current){var e=Dl(_.current),t=function(t){var n=_.current;if(null!==n)if(e.hasFocus()&&!o&&f()&&!p.current){if(!n.contains(e.activeElement)){if(t&&y.current!==t.target||e.activeElement!==y.current)y.current=null;else if(null!==y.current)return;if(!b.current)return;var r=[];if(e.activeElement!==m.current&&e.activeElement!==v.current||(r=u(_.current)),r.length>0){var i,a,s=Boolean((null==(i=w.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=w.current)?void 0:a.key)),c=r[0],l=r[r.length-1];"string"!==typeof c&&"string"!==typeof l&&(s?l.focus():c.focus())}else n.focus()}}else p.current=!1},n=function(t){w.current=t,!o&&f()&&"Tab"===t.key&&e.activeElement===_.current&&t.shiftKey&&(p.current=!0,v.current&&v.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){e.activeElement&&"BODY"===e.activeElement.tagName&&t(null)}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,c,f,h,u]);var S=function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0};return(0,Er.jsxs)(r.Fragment,{children:[(0,Er.jsx)("div",{tabIndex:h?0:-1,onFocus:S,ref:m,"data-testid":"sentinelStart"}),r.cloneElement(t,{ref:x,onFocus:function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0,y.current=e.target;var n=t.props.onFocus;n&&n(e)}}),(0,Er.jsx)("div",{tabIndex:h?0:-1,onFocus:S,ref:v,"data-testid":"sentinelEnd"})]})};function of(e){return Zc("MuiModal",e)}Jc("MuiModal",["root","hidden","backdrop"]);var sf={disableDefaultClasses:!1},cf=r.createContext(sf);var lf=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],uf=function(e){var t=e.open,n=e.exited;return Ai({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},function(e){var t=r.useContext(cf).disableDefaultClasses;return function(n){return t?"":e(n)}}(of))};var df=new ef,ff=r.forwardRef((function(e,t){var n,i,a=e.children,o=e.closeAfterTransition,s=void 0!==o&&o,c=e.container,l=e.disableAutoFocus,u=void 0!==l&&l,d=e.disableEnforceFocus,f=void 0!==d&&d,h=e.disableEscapeKeyDown,p=void 0!==h&&h,m=e.disablePortal,v=void 0!==m&&m,g=e.disableRestoreFocus,y=void 0!==g&&g,b=e.disableScrollLock,_=void 0!==b&&b,x=e.hideBackdrop,w=void 0!==x&&x,S=e.keepMounted,E=void 0!==S&&S,N=e.manager,j=void 0===N?df:N,T=e.onBackdropClick,I=e.onClose,C=e.onKeyDown,R=e.open,O=e.onTransitionEnter,A=e.onTransitionExited,P=e.slotProps,L=void 0===P?{}:P,D=e.slots,M=void 0===D?{}:D,U=Kr(e,lf),F=j,V=k(r.useState(!R),2),B=V[0],z=V[1],W=r.useRef({}),H=r.useRef(null),q=r.useRef(null),G=bc(q,t),K=function(e){return!!e&&e.props.hasOwnProperty("in")}(a),Y=null==(n=e["aria-hidden"])||n,Z=function(){return W.current.modalRef=q.current,W.current.mountNode=H.current,W.current},J=function(){F.mount(Z(),{disableScrollLock:_}),q.current&&(q.current.scrollTop=0)},Q=wc((function(){var e=function(e){return"function"===typeof e?e():e}(c)||Dl(H.current).body;F.add(Z(),e),q.current&&J()})),X=r.useCallback((function(){return F.isTopModal(Z())}),[F]),$=wc((function(e){H.current=e,e&&q.current&&(R&&X()?J():Zd(q.current,Y))})),ee=r.useCallback((function(){F.remove(Z(),Y)}),[F,Y]);r.useEffect((function(){return function(){ee()}}),[ee]),r.useEffect((function(){R?Q():K&&s||ee()}),[R,ee,K,s,Q]);var te=Ri({},e,{closeAfterTransition:s,disableAutoFocus:u,disableEnforceFocus:f,disableEscapeKeyDown:p,disablePortal:v,disableRestoreFocus:y,disableScrollLock:_,exited:B,hideBackdrop:w,keepMounted:E}),ne=uf(te),re={};void 0===a.props.tabIndex&&(re.tabIndex="-1"),K&&(re.onEnter=Kd((function(){z(!1),O&&O()}),a.props.onEnter),re.onExited=Kd((function(){z(!0),A&&A(),s&&ee()}),a.props.onExited));var ie=null!=(i=M.root)?i:"div",ae=Nd({elementType:ie,externalSlotProps:L.root,externalForwardedProps:U,additionalProps:{ref:G,role:"presentation",onKeyDown:function(e){C&&C(e),"Escape"===e.key&&X()&&(p||(e.stopPropagation(),I&&I(e,"escapeKeyDown")))}},className:ne.root,ownerState:te}),oe=M.backdrop,se=Nd({elementType:oe,externalSlotProps:L.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(T&&T(e),I&&I(e,"backdropClick"))},open:R},className:ne.backdrop,ownerState:te});return E||R||K&&!B?(0,Er.jsx)(Yd,{ref:$,container:c,disablePortal:v,children:(0,Er.jsxs)(ie,Ri({},ae,{children:[!w&&oe?(0,Er.jsx)(oe,Ri({},se)):null,(0,Er.jsx)(af,{disableEnforceFocus:f,disableAutoFocus:u,disableRestoreFocus:y,isEnabled:X,open:R,children:r.cloneElement(a,re)})]}))}):null})),hf=ff,pf=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],mf={entering:{opacity:1},entered:{opacity:1}},vf=r.forwardRef((function(e,t){var n=Ud(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,s=void 0===o||o,c=e.children,l=e.easing,u=e.in,d=e.onEnter,f=e.onEntered,h=e.onEntering,p=e.onExit,m=e.onExited,v=e.onExiting,g=e.style,y=e.timeout,b=void 0===y?i:y,_=e.TransitionComponent,x=void 0===_?Md:_,w=Kr(e,pf),S=r.useRef(null),E=_c(S,c.ref,t),k=function(e){return function(t){if(e){var n=S.current;void 0===t?e(n):e(n,t)}}},N=k(h),j=k((function(e,t){Fd(e);var r=Vd({style:g,timeout:b,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),d&&d(e,t)})),T=k(f),I=k(v),C=k((function(e){var t=Vd({style:g,timeout:b,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),R=k(m);return(0,Er.jsx)(x,Ri({appear:s,in:u,nodeRef:S,onEnter:j,onEntered:T,onEntering:N,onExit:C,onExited:R,onExiting:I,addEndListener:function(e){a&&a(S.current,e)},timeout:b},w,{children:function(e,t){return r.cloneElement(c,Ri({style:Ri({opacity:0,visibility:"exited"!==e||u?void 0:"hidden"},mf[e],g,c.props.style),ref:E},t))}}))})),gf=vf;function yf(e){return Zc("MuiBackdrop",e)}Jc("MuiBackdrop",["root","invisible"]);var bf=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],_f=fc("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return Ri({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),xf=r.forwardRef((function(e,t){var n,r,i,a=gc({props:e,name:"MuiBackdrop"}),o=a.children,s=a.className,c=a.component,l=void 0===c?"div":c,u=a.components,d=void 0===u?{}:u,f=a.componentsProps,h=void 0===f?{}:f,p=a.invisible,m=void 0!==p&&p,v=a.open,g=a.slotProps,y=void 0===g?{}:g,b=a.slots,_=void 0===b?{}:b,x=a.TransitionComponent,w=void 0===x?gf:x,S=a.transitionDuration,E=Kr(a,bf),k=Ri({},a,{component:l,invisible:m}),N=function(e){var t=e.classes;return Ai({root:["root",e.invisible&&"invisible"]},yf,t)}(k),j=null!=(n=y.root)?n:h.root;return(0,Er.jsx)(w,Ri({in:v,timeout:S},E,{children:(0,Er.jsx)(_f,Ri({"aria-hidden":!0},j,{as:null!=(r=null!=(i=_.root)?i:d.Root)?r:l,className:ni(N.root,s,null==j?void 0:j.className),ownerState:Ri({},k,null==j?void 0:j.ownerState),classes:N,ref:t,children:o}))}))})),wf=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],Sf=fc("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return Ri({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Ef=fc(xf,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),kf=r.forwardRef((function(e,t){var n,i,a,o,s,c,l=gc({name:"MuiModal",props:e}),u=l.BackdropComponent,d=void 0===u?Ef:u,f=l.BackdropProps,h=l.classes,p=l.className,m=l.closeAfterTransition,v=void 0!==m&&m,g=l.children,y=l.container,b=l.component,_=l.components,x=void 0===_?{}:_,w=l.componentsProps,S=void 0===w?{}:w,E=l.disableAutoFocus,N=void 0!==E&&E,j=l.disableEnforceFocus,T=void 0!==j&&j,I=l.disableEscapeKeyDown,C=void 0!==I&&I,R=l.disablePortal,O=void 0!==R&&R,A=l.disableRestoreFocus,P=void 0!==A&&A,L=l.disableScrollLock,D=void 0!==L&&L,M=l.hideBackdrop,U=void 0!==M&&M,F=l.keepMounted,V=void 0!==F&&F,B=l.onBackdropClick,z=l.onClose,W=l.open,H=l.slotProps,q=l.slots,G=l.theme,K=Kr(l,wf),Y=k(r.useState(!0),2),Z=Y[0],J=Y[1],Q={container:y,closeAfterTransition:v,disableAutoFocus:N,disableEnforceFocus:T,disableEscapeKeyDown:C,disablePortal:O,disableRestoreFocus:P,disableScrollLock:D,hideBackdrop:U,keepMounted:V,onBackdropClick:B,onClose:z,open:W},X=Ri({},l,Q,{exited:Z}),$=null!=(n=null!=(i=null==q?void 0:q.root)?i:x.Root)?n:Sf,ee=null!=(a=null!=(o=null==q?void 0:q.backdrop)?o:x.Backdrop)?a:d,te=null!=(s=null==H?void 0:H.root)?s:S.root,ne=null!=(c=null==H?void 0:H.backdrop)?c:S.backdrop;return(0,Er.jsx)(hf,Ri({slots:{root:$,backdrop:ee},slotProps:{root:function(){return Ri({},Ed(te,X),!ql($)&&{as:b,theme:G},{className:ni(p,null==te?void 0:te.className,null==h?void 0:h.root,!X.open&&X.exited&&(null==h?void 0:h.hidden))})},backdrop:function(){return Ri({},f,Ed(ne,X),{className:ni(null==ne?void 0:ne.className,null==f?void 0:f.className,null==h?void 0:h.backdrop)})}},onTransitionEnter:function(){return J(!1)},onTransitionExited:function(){return J(!0)},ref:t},K,Q,{children:g}))})),Nf=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)};function jf(e){return Zc("MuiPaper",e)}Jc("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var Tf=["className","component","elevation","square","variant"],If=fc("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return Ri({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&Ri({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(Fi("#fff",Nf(r.elevation)),", ").concat(Fi("#fff",Nf(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),Cf=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,s=void 0===o?1:o,c=n.square,l=void 0!==c&&c,u=n.variant,d=void 0===u?"elevation":u,f=Kr(n,Tf),h=Ri({},n,{component:a,elevation:s,square:l,variant:d}),p=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return Ai({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},jf,i)}(h);return(0,Er.jsx)(If,Ri({as:a,ownerState:h,className:ni(p.root,r),ref:t},f))})),Rf=Cf;function Of(e){return Zc("MuiPopover",e)}Jc("MuiPopover",["root","paper"]);var Af=["onEntering"],Pf=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],Lf=["slotProps"];function Df(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Mf(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Uf(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Ff(e){return"function"===typeof e?e():e}var Vf=fc(kf,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Bf=fc(Rf,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),zf=r.forwardRef((function(e,t){var n,i,a,o=gc({props:e,name:"MuiPopover"}),s=o.action,c=o.anchorEl,l=o.anchorOrigin,u=void 0===l?{vertical:"top",horizontal:"left"}:l,d=o.anchorPosition,f=o.anchorReference,h=void 0===f?"anchorEl":f,p=o.children,m=o.className,v=o.container,g=o.elevation,y=void 0===g?8:g,b=o.marginThreshold,_=void 0===b?16:b,x=o.open,w=o.PaperProps,S=void 0===w?{}:w,E=o.slots,N=o.slotProps,j=o.transformOrigin,T=void 0===j?{vertical:"top",horizontal:"left"}:j,I=o.TransitionComponent,C=void 0===I?Gd:I,R=o.transitionDuration,O=void 0===R?"auto":R,A=o.TransitionProps,P=(void 0===A?{}:A).onEntering,L=Kr(o.TransitionProps,Af),D=Kr(o,Pf),M=null!=(n=null==N?void 0:N.paper)?n:S,U=r.useRef(),F=_c(U,M.ref),V=Ri({},o,{anchorOrigin:u,anchorReference:h,elevation:y,marginThreshold:_,externalPaperSlotProps:M,transformOrigin:T,TransitionComponent:C,transitionDuration:O,TransitionProps:L}),B=function(e){return Ai({root:["root"],paper:["paper"]},Of,e.classes)}(V),z=r.useCallback((function(){if("anchorPosition"===h)return d;var e=Ff(c),t=(e&&1===e.nodeType?e:sd(U.current).body).getBoundingClientRect();return{top:t.top+Df(t,u.vertical),left:t.left+Mf(t,u.horizontal)}}),[c,u.horizontal,u.vertical,d,h]),W=r.useCallback((function(e){return{vertical:Df(e,T.vertical),horizontal:Mf(e,T.horizontal)}}),[T.horizontal,T.vertical]),H=r.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=W(t);if("none"===h)return{top:null,left:null,transformOrigin:Uf(n)};var r=z(),i=r.top-n.vertical,a=r.left-n.horizontal,o=i+t.height,s=a+t.width,l=Td(Ff(c)),u=l.innerHeight-_,d=l.innerWidth-_;if(i<_){var f=i-_;i-=f,n.vertical+=f}else if(o>u){var p=o-u;i-=p,n.vertical+=p}if(a<_){var m=a-_;a-=m,n.horizontal+=m}else if(s>d){var v=s-d;a-=v,n.horizontal+=v}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:Uf(n)}}),[c,h,z,W,_]),q=k(r.useState(x),2),G=q[0],K=q[1],Y=r.useCallback((function(){var e=U.current;if(e){var t=H(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,K(!0)}}),[H]);r.useEffect((function(){x&&Y()})),r.useImperativeHandle(s,(function(){return x?{updatePosition:function(){Y()}}:null}),[x,Y]),r.useEffect((function(){if(x){var e=jd((function(){Y()})),t=Td(c);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[c,x,Y]);var Z=O;"auto"!==O||C.muiSupportAuto||(Z=void 0);var J=v||(c?sd(Ff(c)).body:void 0),Q=null!=(i=null==E?void 0:E.root)?i:Vf,X=null!=(a=null==E?void 0:E.paper)?a:Bf,$=Nd({elementType:X,externalSlotProps:Ri({},M,{style:G?M.style:Ri({},M.style,{opacity:0})}),additionalProps:{elevation:y,ref:F},ownerState:V,className:ni(B.paper,null==M?void 0:M.className)}),ee=Nd({elementType:Q,externalSlotProps:(null==N?void 0:N.root)||{},externalForwardedProps:D,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:J,open:x},ownerState:V,className:ni(B.root,m)}),te=ee.slotProps,ne=Kr(ee,Lf);return(0,Er.jsx)(Q,Ri({},ne,!ql(Q)&&{slotProps:te},{children:(0,Er.jsx)(C,Ri({appear:!0,in:x,onEntering:function(e,t){P&&P(e,t),Y()},onExited:function(){K(!1)},timeout:Z},L,{children:(0,Er.jsx)(X,Ri({},$,{children:p}))}))}))}));function Wf(e){return Zc("MuiMenu",e)}Jc("MuiMenu",["root","paper","list"]);var Hf=["onEntering"],qf=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],Gf={vertical:"top",horizontal:"right"},Kf={vertical:"top",horizontal:"left"},Yf=fc(zf,{shouldForwardProp:function(e){return lc(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Zf=fc(Bf,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Jf=fc(xd,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),Qf=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiMenu"}),i=n.autoFocus,a=void 0===i||i,o=n.children,s=n.disableAutoFocusItem,c=void 0!==s&&s,l=n.MenuListProps,u=void 0===l?{}:l,d=n.onClose,f=n.open,h=n.PaperProps,p=void 0===h?{}:h,m=n.PopoverClasses,v=n.transitionDuration,g=void 0===v?"auto":v,y=n.TransitionProps,b=(void 0===y?{}:y).onEntering,_=n.variant,x=void 0===_?"selectedMenu":_,w=Kr(n.TransitionProps,Hf),S=Kr(n,qf),E=Ud(),k="rtl"===E.direction,N=Ri({},n,{autoFocus:a,disableAutoFocusItem:c,MenuListProps:u,onEntering:b,PaperProps:p,transitionDuration:g,TransitionProps:w,variant:x}),j=function(e){return Ai({root:["root"],paper:["paper"],list:["list"]},Wf,e.classes)}(N),T=a&&!c&&f,I=r.useRef(null),C=-1;return r.Children.map(o,(function(e,t){r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===x&&e.props.selected||-1===C)&&(C=t))})),(0,Er.jsx)(Yf,Ri({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:k?"right":"left"},transformOrigin:k?Gf:Kf,slots:{paper:Zf},slotProps:{paper:Ri({},p,{classes:Ri({},p.classes,{root:j.paper})})},className:j.root,open:f,ref:t,transitionDuration:g,TransitionProps:Ri({onEntering:function(e,t){I.current&&I.current.adjustStyleForScrollbar(e,E),b&&b(e,t)}},w),ownerState:N},S,{classes:m,children:(0,Er.jsx)(Jf,Ri({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:I,autoFocus:a&&(-1===C||c),autoFocusItem:T,variant:x},u,{className:ni(j.list,u.className),children:o}))}))})),Xf=Qf;function $f(e){return Zc("MuiNativeSelect",e)}var eh=Jc("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),th=["className","disabled","error","IconComponent","inputRef","variant"],nh=function(e){var t,n=e.ownerState,r=e.theme;return Ri((Nr(t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":Ri({},r.vars?{backgroundColor:"rgba(".concat(r.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"}},"&.".concat(eh.disabled),{cursor:"default"}),Nr(t,"&[multiple]",{height:"auto"}),Nr(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:(r.vars||r).palette.background.paper}),Nr(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}})},rh=fc("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:lc,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],n.error&&t.error,Nr({},"&.".concat(eh.multiple),t.multiple)]}})(nh),ih=function(e){var t=e.ownerState,n=e.theme;return Ri(Nr({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active},"&.".concat(eh.disabled),{color:(n.vars||n).palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},ah=fc("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(xl(n.variant))],n.open&&t.iconOpen]}})(ih),oh=r.forwardRef((function(e,t){var n=e.className,i=e.disabled,a=e.error,o=e.IconComponent,s=e.inputRef,c=e.variant,l=void 0===c?"standard":c,u=Kr(e,th),d=Ri({},e,{disabled:i,variant:l,error:a}),f=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return Ai({select:["select",n,r&&"disabled",i&&"multiple",e.error&&"error"],icon:["icon","icon".concat(xl(n)),a&&"iconOpen",r&&"disabled"]},$f,t)}(d);return(0,Er.jsxs)(r.Fragment,{children:[(0,Er.jsx)(rh,Ri({ownerState:d,className:ni(f.select,n),disabled:i,ref:s||t},u)),e.multiple?null:(0,Er.jsx)(ah,{as:o,ownerState:d,className:f.icon})]})})),sh=oh;var ch=function(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=k(r.useState(n),2),o=a[0],s=a[1];return[i?t:o,r.useCallback((function(e){i||s(e)}),[])]};function lh(e){return Zc("MuiSelect",e)}var uh,dh=Jc("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),fh=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],hh=fc("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[Nr({},"&.".concat(dh.select),t.select),Nr({},"&.".concat(dh.select),t[n.variant]),Nr({},"&.".concat(dh.error),t.error),Nr({},"&.".concat(dh.multiple),t.multiple)]}})(nh,Nr({},"&.".concat(dh.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),ph=fc("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(xl(n.variant))],n.open&&t.iconOpen]}})(ih),mh=fc("input",{shouldForwardProp:function(e){return uc(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function vh(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function gh(e){return null==e||"string"===typeof e&&!e.trim()}var yh=r.forwardRef((function(e,t){var n=e["aria-describedby"],i=e["aria-label"],a=e.autoFocus,o=e.autoWidth,s=e.children,c=e.className,l=e.defaultOpen,u=e.defaultValue,d=e.disabled,f=e.displayEmpty,h=e.error,p=void 0!==h&&h,m=e.IconComponent,v=e.inputRef,g=e.labelId,y=e.MenuProps,b=void 0===y?{}:y,_=e.multiple,x=e.name,w=e.onBlur,S=e.onChange,E=e.onClose,N=e.onFocus,j=e.onOpen,T=e.open,I=e.readOnly,C=e.renderValue,R=e.SelectDisplayProps,O=void 0===R?{}:R,A=e.tabIndex,P=e.value,L=e.variant,D=void 0===L?"standard":L,M=Kr(e,fh),U=k(ch({controlled:P,default:u,name:"Select"}),2),F=U[0],V=U[1],B=k(ch({controlled:T,default:l,name:"Select"}),2),z=B[0],W=B[1],H=r.useRef(null),q=r.useRef(null),G=k(r.useState(null),2),K=G[0],Y=G[1],Z=r.useRef(null!=T).current,J=k(r.useState(),2),Q=J[0],X=J[1],$=_c(t,v),ee=r.useCallback((function(e){q.current=e,e&&Y(e)}),[]),te=null==K?void 0:K.parentNode;r.useImperativeHandle($,(function(){return{focus:function(){q.current.focus()},node:H.current,value:F}}),[F]),r.useEffect((function(){l&&z&&K&&!Z&&(X(o?null:te.clientWidth),q.current.focus())}),[K,o]),r.useEffect((function(){a&&q.current.focus()}),[a]),r.useEffect((function(){if(g){var e=sd(q.current).getElementById(g);if(e){var t=function(){getSelection().isCollapsed&&q.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[g]);var ne,re,ie=function(e,t){e?j&&j(t):E&&E(t),Z||(X(o?null:te.clientWidth),W(e))},ae=r.Children.toArray(s),oe=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(_){n=Array.isArray(F)?F.slice():[];var r=F.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),F!==n&&(V(n),S)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:x}}),S(a,e)}_||ie(!1,t)}}},se=null!==K&&z;delete M["aria-invalid"];var ce=[],le=!1;(eu({value:F})||f)&&(C?ne=C(F):le=!0);var ue=ae.map((function(e){if(!r.isValidElement(e))return null;var t;if(_){if(!Array.isArray(F))throw new Error(Pi(2));t=F.some((function(t){return vh(t,e.props.value)})),t&&le&&ce.push(e.props.children)}else(t=vh(F,e.props.value))&&le&&(re=e.props.children);return t&&!0,r.cloneElement(e,{"aria-selected":t?"true":"false",onClick:oe(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));le&&(ne=_?0===ce.length?null:ce.reduce((function(e,t,n){return e.push(t),n<ce.length-1&&e.push(", "),e}),[]):re);var de,fe=Q;!o&&Z&&K&&(fe=te.clientWidth),de="undefined"!==typeof A?A:d?null:0;var he=O.id||(x?"mui-component-select-".concat(x):void 0),pe=Ri({},e,{variant:D,value:F,open:se,error:p}),me=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return Ai({select:["select",n,r&&"disabled",i&&"multiple",e.error&&"error"],icon:["icon","icon".concat(xl(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},lh,t)}(pe);return(0,Er.jsxs)(r.Fragment,{children:[(0,Er.jsx)(hh,Ri({ref:ee,tabIndex:de,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":se?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[g,he].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){if(!I){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ie(!0,e))}},onMouseDown:d||I?null:function(e){0===e.button&&(e.preventDefault(),q.current.focus(),ie(!0,e))},onBlur:function(e){!se&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:F,name:x}}),w(e))},onFocus:N},O,{ownerState:pe,className:ni(O.className,me.select,c),id:he,children:gh(ne)?uh||(uh=(0,Er.jsx)("span",{className:"notranslate",children:"\u200b"})):ne})),(0,Er.jsx)(mh,Ri({"aria-invalid":p,value:Array.isArray(F)?F.join(","):F,name:x,ref:H,"aria-hidden":!0,onChange:function(e){var t=ae.find((function(t){return t.props.value===e.target.value}));void 0!==t&&(V(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:d,className:me.nativeInput,autoFocus:a,ownerState:pe},M)),(0,Er.jsx)(ph,{as:m,className:me.icon,ownerState:pe}),(0,Er.jsx)(Xf,Ri({id:"menu-".concat(x||""),anchorEl:te,open:se,onClose:function(e){ie(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},b,{MenuListProps:Ri({"aria-labelledby":g,role:"listbox",disableListWrap:!0},b.MenuListProps),PaperProps:Ri({},b.PaperProps,{style:Ri({minWidth:fe},null!=b.PaperProps?b.PaperProps.style:null)}),children:ue}))]})})),bh=yh;function _h(e){return Zc("MuiSvgIcon",e)}Jc("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var xh=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],wh=fc("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(xl(n.color))],t["fontSize".concat(xl(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,s,c,l,u,d,f,h,p,m,v,g,y=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:b.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=y.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(s=y.typography)||null==(c=s.pxToRem)?void 0:c.call(s,24))||"1.5rem",large:(null==(l=y.typography)||null==(u=l.pxToRem)?void 0:u.call(l,35))||"2.1875rem"}[b.fontSize],color:null!=(d=null==(f=(y.vars||y).palette)||null==(h=f[b.color])?void 0:h.main)?d:{action:null==(p=(y.vars||y).palette)||null==(m=p.action)?void 0:m.active,disabled:null==(v=(y.vars||y).palette)||null==(g=v.action)?void 0:g.disabled,inherit:void 0}[b.color]}})),Sh=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiSvgIcon"}),i=n.children,a=n.className,o=n.color,s=void 0===o?"inherit":o,c=n.component,l=void 0===c?"svg":c,u=n.fontSize,d=void 0===u?"medium":u,f=n.htmlColor,h=n.inheritViewBox,p=void 0!==h&&h,m=n.titleAccess,v=n.viewBox,g=void 0===v?"0 0 24 24":v,y=Kr(n,xh),b=r.isValidElement(i)&&"svg"===i.type,_=Ri({},n,{color:s,component:l,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:g,hasSvgAsChild:b}),x={};p||(x.viewBox=g);var w=function(e){var t=e.color,n=e.fontSize,r=e.classes;return Ai({root:["root","inherit"!==t&&"color".concat(xl(t)),"fontSize".concat(xl(n))]},_h,r)}(_);return(0,Er.jsxs)(wh,Ri({as:l,className:ni(w.root,a),focusable:"false",color:f,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},x,y,b&&i.props,{ownerState:_,children:[b?i.props.children:i,m?(0,Er.jsx)("title",{children:m}):null]}))}));Sh.muiName="SvgIcon";var Eh=Sh;var kh=function(e,t){function n(n,r){return(0,Er.jsx)(Eh,Ri({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=Eh.muiName,r.memo(r.forwardRef(n))}((0,Er.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Nh=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],jh={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return lc(e)&&"variant"!==e},slot:"Root"},Th=fc(gu,jh)(""),Ih=fc(Du,jh)(""),Ch=fc(ku,jh)(""),Rh=r.forwardRef((function(e,t){var n=gc({name:"MuiSelect",props:e}),i=n.autoWidth,a=void 0!==i&&i,o=n.children,s=n.classes,c=void 0===s?{}:s,l=n.className,u=n.defaultOpen,d=void 0!==u&&u,f=n.displayEmpty,h=void 0!==f&&f,p=n.IconComponent,m=void 0===p?kh:p,v=n.id,g=n.input,y=n.inputProps,b=n.label,_=n.labelId,x=n.MenuProps,w=n.multiple,S=void 0!==w&&w,E=n.native,k=void 0!==E&&E,N=n.onClose,j=n.onOpen,T=n.open,I=n.renderValue,C=n.SelectDisplayProps,R=n.variant,O=void 0===R?"outlined":R,A=Kr(n,Nh),P=k?sh:bh,L=Gl({props:n,muiFormControl:Yl(),states:["variant","error"]}),D=L.variant||O,M=Ri({},n,{variant:D,classes:c}),U=function(e){return e.classes}(M),F=g||{standard:(0,Er.jsx)(Th,{ownerState:M}),outlined:(0,Er.jsx)(Ih,{label:b,ownerState:M}),filled:(0,Er.jsx)(Ch,{ownerState:M})}[D],V=_c(t,F.ref);return(0,Er.jsx)(r.Fragment,{children:r.cloneElement(F,Ri({inputComponent:P,inputProps:Ri({children:o,error:L.error,IconComponent:m,variant:D,type:void 0,multiple:S},k?{id:v}:{autoWidth:a,defaultOpen:d,displayEmpty:h,labelId:_,MenuProps:x,onClose:N,onOpen:j,open:T,renderValue:I,SelectDisplayProps:Ri({id:v},C)},y,{classes:y?xo(U,y.classes):U},g?g.props.inputProps:{})},S&&k&&"outlined"===D?{notched:!0}:{},{ref:V,className:ni(F.props.className,l)},!g&&{variant:D},A))})}));Rh.muiName="Select";var Oh=Rh;function Ah(e){return Zc("MuiTextField",e)}Jc("MuiTextField",["root"]);var Ph=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Lh={standard:gu,filled:ku,outlined:Du},Dh=fc($u,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Mh=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,a=void 0!==i&&i,o=n.children,s=n.className,c=n.color,l=void 0===c?"primary":c,u=n.defaultValue,d=n.disabled,f=void 0!==d&&d,h=n.error,p=void 0!==h&&h,m=n.FormHelperTextProps,v=n.fullWidth,g=void 0!==v&&v,y=n.helperText,b=n.id,_=n.InputLabelProps,x=n.inputProps,w=n.InputProps,S=n.inputRef,E=n.label,k=n.maxRows,N=n.minRows,j=n.multiline,T=void 0!==j&&j,I=n.name,C=n.onBlur,R=n.onChange,O=n.onClick,A=n.onFocus,P=n.placeholder,L=n.required,D=void 0!==L&&L,M=n.rows,U=n.select,F=void 0!==U&&U,V=n.SelectProps,B=n.type,z=n.value,W=n.variant,H=void 0===W?"outlined":W,q=Kr(n,Ph),G=Ri({},n,{autoFocus:a,color:l,disabled:f,error:p,fullWidth:g,multiline:T,required:D,select:F,variant:H}),K=function(e){return Ai({root:["root"]},Ah,e.classes)}(G);var Y={};"outlined"===H&&(_&&"undefined"!==typeof _.shrink&&(Y.notched=_.shrink),Y.label=E),F&&(V&&V.native||(Y.id=void 0),Y["aria-describedby"]=void 0);var Z=Pl(b),J=y&&Z?"".concat(Z,"-helper-text"):void 0,Q=E&&Z?"".concat(Z,"-label"):void 0,X=Lh[H],$=(0,Er.jsx)(X,Ri({"aria-describedby":J,autoComplete:r,autoFocus:a,defaultValue:u,fullWidth:g,multiline:T,name:I,rows:M,maxRows:k,minRows:N,type:B,value:z,id:Z,inputRef:S,onBlur:C,onChange:R,onFocus:A,onClick:O,placeholder:P,inputProps:x},Y,w));return(0,Er.jsxs)(Dh,Ri({className:ni(K.root,s),disabled:f,error:p,fullWidth:g,ref:t,required:D,color:l,variant:H,ownerState:G},q,{children:[null!=E&&""!==E&&(0,Er.jsx)(Ku,Ri({htmlFor:Z,id:Q},_,{children:E})),F?(0,Er.jsx)(Oh,Ri({"aria-describedby":J,id:Z,labelId:Q,value:z,input:$},V,{children:o})):$,y&&(0,Er.jsx)(od,Ri({id:J},m,{children:y}))]}))})),Uh=Mh;function Fh(e){return Zc("MuiDialog",e)}var Vh=Jc("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var Bh=r.createContext({}),zh=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Wh=fc(xf,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),Hh=fc(kf,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),qh=fc("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var n=e.ownerState;return[t.container,t["scroll".concat(xl(n.scroll))]]}})((function(e){var t=e.ownerState;return Ri({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),Gh=fc(Rf,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["scrollPaper".concat(xl(n.scroll))],t["paperWidth".concat(xl(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,n=e.ownerState;return Ri({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&Nr({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)")},"&.".concat(Vh.paperScrollBody),Nr({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),n.maxWidth&&"xs"!==n.maxWidth&&Nr({maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(Vh.paperScrollBody),Nr({},t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&Nr({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(Vh.paperScrollBody),{margin:0,maxWidth:"100%"}))})),Kh=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiDialog"}),i=Ud(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},o=n["aria-describedby"],s=n["aria-labelledby"],c=n.BackdropComponent,l=n.BackdropProps,u=n.children,d=n.className,f=n.disableEscapeKeyDown,h=void 0!==f&&f,p=n.fullScreen,m=void 0!==p&&p,v=n.fullWidth,g=void 0!==v&&v,y=n.maxWidth,b=void 0===y?"sm":y,_=n.onBackdropClick,x=n.onClose,w=n.open,S=n.PaperComponent,E=void 0===S?Rf:S,k=n.PaperProps,N=void 0===k?{}:k,j=n.scroll,T=void 0===j?"paper":j,I=n.TransitionComponent,C=void 0===I?gf:I,R=n.transitionDuration,O=void 0===R?a:R,A=n.TransitionProps,P=Kr(n,zh),L=Ri({},n,{disableEscapeKeyDown:h,fullScreen:m,fullWidth:g,maxWidth:b,scroll:T}),D=function(e){var t=e.classes,n=e.scroll,r=e.maxWidth,i=e.fullWidth,a=e.fullScreen;return Ai({root:["root"],container:["container","scroll".concat(xl(n))],paper:["paper","paperScroll".concat(xl(n)),"paperWidth".concat(xl(String(r))),i&&"paperFullWidth",a&&"paperFullScreen"]},Fh,t)}(L),M=r.useRef(),U=Pl(s),F=r.useMemo((function(){return{titleId:U}}),[U]);return(0,Er.jsx)(Hh,Ri({className:ni(D.root,d),closeAfterTransition:!0,components:{Backdrop:Wh},componentsProps:{backdrop:Ri({transitionDuration:O,as:c},l)},disableEscapeKeyDown:h,onClose:x,open:w,ref:t,onClick:function(e){M.current&&(M.current=null,_&&_(e),x&&x(e,"backdropClick"))},ownerState:L},P,{children:(0,Er.jsx)(C,Ri({appear:!0,in:w,timeout:O,role:"presentation"},A,{children:(0,Er.jsx)(qh,{className:ni(D.container),onMouseDown:function(e){M.current=e.target===e.currentTarget},ownerState:L,children:(0,Er.jsx)(Gh,Ri({as:E,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":U},N,{className:ni(D.paper,N.className),ownerState:L,children:(0,Er.jsx)(Bh.Provider,{value:F,children:u})}))})}))}))})),Yh=Kh;function Zh(e){return Zc("MuiDialogActions",e)}Jc("MuiDialogActions",["root","spacing"]);var Jh=["className","disableSpacing"],Qh=fc("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){return Ri({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.ownerState.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),Xh=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiDialogActions"}),r=n.className,i=n.disableSpacing,a=void 0!==i&&i,o=Kr(n,Jh),s=Ri({},n,{disableSpacing:a}),c=function(e){var t=e.classes;return Ai({root:["root",!e.disableSpacing&&"spacing"]},Zh,t)}(s);return(0,Er.jsx)(Qh,Ri({className:ni(c.root,r),ownerState:s,ref:t},o))}));function $h(e){return Zc("MuiDialogContent",e)}Jc("MuiDialogContent",["root","dividers"]);var ep=Jc("MuiDialogTitle",["root"]),tp=["className","dividers"],np=fc("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dividers&&t.dividers]}})((function(e){var t=e.theme;return Ri({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.ownerState.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:Nr({},".".concat(ep.root," + &"),{paddingTop:0}))})),rp=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiDialogContent"}),r=n.className,i=n.dividers,a=void 0!==i&&i,o=Kr(n,tp),s=Ri({},n,{dividers:a}),c=function(e){var t=e.classes;return Ai({root:["root",e.dividers&&"dividers"]},$h,t)}(s);return(0,Er.jsx)(np,Ri({className:ni(c.root,r),ownerState:s,ref:t},o))})),ip=["sx"];function ap(e){var t,n=e.sx,r=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:_s;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r}(Kr(e,ip)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(l(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return bo(e)?Ri({},i,e):i}:Ri({},i,n),Ri({},a,{sx:t})}function op(e){return Zc("MuiTypography",e)}Jc("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var sp=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],cp=fc("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(xl(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return Ri({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),lp={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},up={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},dp=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiTypography"}),r=function(e){return up[e]||e}(n.color),i=ap(Ri({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,s=i.className,c=i.component,l=i.gutterBottom,u=void 0!==l&&l,d=i.noWrap,f=void 0!==d&&d,h=i.paragraph,p=void 0!==h&&h,m=i.variant,v=void 0===m?"body1":m,g=i.variantMapping,y=void 0===g?lp:g,b=Kr(i,sp),_=Ri({},i,{align:o,color:r,className:s,component:c,gutterBottom:u,noWrap:f,paragraph:p,variant:v,variantMapping:y}),x=c||(p?"p":y[v]||lp[v])||"span",w=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return Ai({root:["root",a,"inherit"!==e.align&&"align".concat(xl(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},op,o)}(_);return(0,Er.jsx)(cp,Ri({as:x,ref:t,ownerState:_,className:ni(w.root,s)},b))})),fp=dp;function hp(e){return Zc("MuiDialogContentText",e)}Jc("MuiDialogContentText",["root"]);var pp=["children","className"],mp=fc(fp,{shouldForwardProp:function(e){return lc(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),vp=r.forwardRef((function(e,t){var n=gc({props:e,name:"MuiDialogContentText"}),r=n.className,i=Kr(n,pp),a=function(e){var t=e.classes;return Ri({},t,Ai({root:["root"]},hp,t))}(i);return(0,Er.jsx)(mp,Ri({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:i,className:ni(a.root,r)},n,{classes:a}))})),gp=__webpack_require__(6710);function yp(e){return Ke({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function bp(e){return Ke({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 122.8c-72.7 0-131.8 59.1-131.9 131.8 0 24.9 7 49.2 20.2 70.1l3.1 5-13.3 48.6 49.9-13.1 4.8 2.9c20.2 12 43.4 18.4 67.1 18.4h.1c72.6 0 133.3-59.1 133.3-131.8 0-35.2-15.2-68.3-40.1-93.2-25-25-58-38.7-93.2-38.7zm77.5 188.4c-3.3 9.3-19.1 17.7-26.7 18.8-12.6 1.9-22.4.9-47.5-9.9-39.7-17.2-65.7-57.2-67.7-59.8-2-2.6-16.2-21.5-16.2-41s10.2-29.1 13.9-33.1c3.6-4 7.9-5 10.6-5 2.6 0 5.3 0 7.6.1 2.4.1 5.7-.9 8.9 6.8 3.3 7.9 11.2 27.4 12.2 29.4s1.7 4.3.3 6.9c-7.6 15.2-15.7 14.6-11.6 21.6 15.3 26.3 30.6 35.4 53.9 47.1 4 2 6.3 1.7 8.6-1 2.3-2.6 9.9-11.6 12.5-15.5 2.6-4 5.3-3.3 8.9-2 3.6 1.3 23.1 10.9 27.1 12.9s6.6 3 7.6 4.6c.9 1.9.9 9.9-2.4 19.1zM400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM223.9 413.2c-26.6 0-52.7-6.7-75.8-19.3L64 416l22.5-82.2c-13.9-24-21.2-51.3-21.2-79.3C65.4 167.1 136.5 96 223.9 96c42.4 0 82.2 16.5 112.2 46.5 29.9 30 47.9 69.8 47.9 112.2 0 87.4-72.7 158.5-160.1 158.5z"}}]})(e)}function _p(e){return Ke({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"}}]})(e)}function xp(e){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3C9.10457 3 10 3.89543 10 5V8H16C17.1046 8 18 8.89543 18 10C18 11.1046 17.1046 12 16 12H10V14C10 15.6569 11.3431 17 13 17H16C17.1046 17 18 17.8954 18 19C18 20.1046 17.1046 21 16 21H13C9.13401 21 6 17.866 6 14V5C6 3.89543 6.89543 3 8 3Z",fill:"currentColor"}}]})(e)}function wp(e){return Ke({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M18 13.496h-4.501v4.484h-3v-4.484H6v-2.99h4.5V6.021h3.001v4.485H18v2.99zM21 .041H3C1.348.043.008 1.379 0 3.031v17.94c.008 1.65 1.348 2.986 3 2.988h18c1.651-.002 2.991-1.338 3-2.988V3.031c-.009-1.652-1.348-2.987-3-2.99z"}}]})(e)}var Sp=function(){var e=k(r.useState(!1),2),t=e[0],n=e[1],i=k((0,r.useState)([]),2),a=i[0],o=i[1],s=k((0,r.useState)([]),2),c=s[0],l=s[1],u=k((0,r.useState)([]),2),d=(u[0],u[1]),f=k((0,r.useState)([]),2),h=f[0],p=f[1],m=k((0,r.useState)(""),2),v=m[0],g=m[1],y=k((0,r.useState)(""),2),b=y[0],_=(y[1],k((0,r.useState)(0),2)),x=_[0],w=_[1],S=k((0,r.useState)(0),2),E=(S[0],S[1],k((0,r.useState)(""),2)),N=E[0],j=E[1],T=k((0,r.useState)([]),2),I=T[0],C=T[1],R=k((0,r.useState)([]),2),O=(R[0],R[1]),A=k((0,r.useState)(""),2),P=(A[0],A[1],Sr.Z.getItem("_id")),L=k((0,r.useState)(""),2),D=L[0],M=L[1],U=k((0,r.useState)(""),2),F=U[0],V=U[1],B=k((0,r.useState)(null),2),z=B[0],W=B[1],H=k((0,r.useState)(""),2),q=H[0],G=H[1],K=k((0,r.useState)(""),2),Y=K[0],Z=K[1],J=k((0,r.useState)([]),2),Q=J[0],X=J[1],$=k((0,r.useState)([]),2),ee=$[0],te=$[1],ne=k((0,r.useState)([]),2),re=ne[0],ie=ne[1],ae=k((0,r.useState)(!0),2),oe=(ae[0],ae[1]),se=_e(),ce=k((0,r.useState)([]),2),le=(ce[0],ce[1]),ue=k((0,r.useState)(0),2),de=(ue[0],ue[1]);(0,r.useRef)(null),(0,r.useEffect)((function(){fe()}),[]);var fe=function(){var e=Be(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gr.post("".concat(wr[0].apiUrl,"api/get_latest_video"),{},{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}});case 3:(t=e.sent).data&&t.data.data&&t.data.data.length>0&&(n=t.data.data.map((function(e){var t;return"".concat(wr[0].apiUrl,"uploads/").concat(null===e||void 0===e||null===(t=e.video[0])||void 0===t?void 0:t.filename)})),le(n),de(0)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){var e=setTimeout((function(){oe(!1)}),1e4);return function(){return clearTimeout(e)}}),[]);var he=function(){n(!1)},pe=function e(){var t=Sr.Z.getItem("videoiid"),n=Sr.Z.getItem("comentidd"),r=JSON.stringify({comment_id:n,video_id:t});gr.post("".concat(wr[0].apiUrl,"api/get_reply_comment"),r,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(t){ie([t.data]),e()})).catch((function(e){}))},me=function(e){var t=new Date(e),n=new Date,r=Math.abs(n-t),i=Math.floor(r/31536e6);if(i>0)return 1===i?"1 year ago":"".concat(i," years ago");var a=Math.floor(r/2592e6);if(a>0)return 1===a?"1 month ago":"".concat(a," months ago");var o=Math.floor(r/864e5);if(o>0)return 1===o?"1 day ago":"".concat(o," days ago");var s=Math.floor(r/36e5);if(s>0)return 1===s?"1 hour ago":"".concat(s," hours ago");var c=Math.floor(r/6e4);return c>0?1===c?"1 minute ago":"".concat(c," minutes ago"):"Just now"};(0,r.useEffect)((function(){ve()}),[]);var ve=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n=Sr.Z.getItem("videoiid"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=JSON.stringify({user_id:t,video_id:n}),e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_like_single_video_list"),i,r).then((function(e){te([e.data.data]),ve()})).catch((function(e){}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){ge()}),[]);var ge=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n=Sr.Z.getItem("channelid"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=JSON.stringify({user_id:t,channel_id:n}),e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_subscribe_single_channel"),i,r).then((function(e){X([e.data.data]),ge()})).catch((function(e){}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("comentidd"),n=Sr.Z.getItem("_id"),r={headers:{"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=JSON.stringify({comment_id:t,user_id:n}),e.prev=4,e.next=7,gr.post("".concat(wr[0].apiUrl,"api/like_comment_user"),i,r);case 7:e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Be(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sr.Z.getItem("_id"),r={headers:{"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=JSON.stringify({comment_id:t,user_id:n}),e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/like_reply_user"),i,r);case 6:e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Be(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),N){e.next=4;break}return M("Please enter a name."),e.abrupt("return");case 4:if(z){e.next=7;break}return M("Please Select a Thumbnail."),e.abrupt("return");case 7:if(P){e.next=10;break}return M("Please login first."),e.abrupt("return");case 10:return(n=new FormData).append("user_id",P),n.append("name",N),n.append("image",z),n.append("time_zone",Intl.DateTimeFormat().resolvedOptions().timeZone),e.prev=15,e.next=18,gr.post("".concat(wr[0].apiUrl,"api/create_playlist"),n,{headers:{"Content-Type":"multipart/form-data","X-Api-Key":"your-api-key"}});case 18:e.sent,V("Music playlist created successfully."),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(15);case 24:case"end":return e.stop()}}),e,null,[[15,22]])})));return function(t){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){we()}),[]);var we=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_playlist"),r,n);case 6:i=e.sent,we(),i.data.data&&i.data.data.length>0&&C(i.data.data),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){Se()}),[]);var Se=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_channel"),r,n);case 6:(i=e.sent).data.data&&i.data.data.length>0&&O(i.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("videoiid"),n=Sr.Z.getItem("_id"),r=Sr.Z.getItem("channelid"),i={headers:{"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},a=0===x?1:0,o=JSON.stringify({video_id:t,user_id:n,channel_id:r,like_status:a}),e.prev=6,e.next=9,gr.post("".concat(wr[0].apiUrl,"api/like_video"),o,i);case 9:e.sent,w(a),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){ke()}),[]);var ke=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("videoiid"),n=Sr.Z.getItem("_id"),r=Sr.Z.getItem("channelid"),i={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},a=JSON.stringify({video_id:t,user_id:n,channel_id:r}),e.next=7,gr.post("".concat(wr[0].apiUrl,"api/create_history"),a,i).then((function(e){})).catch((function(e){}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Sr.Z.getItem("_id"),n=Sr.Z.getItem("channelid"),r={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}},!(Array.isArray(a)&&a.length>0)){e.next=8;break}return e.next=6,Promise.all(a.map(function(){var e=Be(Fe().mark((function e(i){var a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="1"===i.status?"0":"1",o=JSON.stringify({user_id:t,channel_id:n,status:a}),e.prev=2,e.next=5,gr.post("".concat(wr[0].apiUrl,"api/subscribe_to_channel"),o,r);case 5:if(200!==e.sent.status){e.next=8;break}return e.abrupt("return",Tr(Tr({},i),{},{status:a}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error ".concat("1"===a?"subscribing to":"unsubscribing from"," channel:"),e.t0);case 13:return e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()));case 6:i=e.sent,o(i);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("videoiid"),n=Sr.Z.getItem("_id"),r=Sr.Z.getItem("channelid"),i={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},a=JSON.stringify({video_id:t,user_id:n,channel_id:r}),e.next=7,gr.post("".concat(wr[0].apiUrl,"api/download_video"),a,i).then((function(e){alert("Video Download Successfully.")})).catch((function(e){}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Sr.Z.getItem("videoiid"),n=Sr.Z.getItem("_id"),r=Sr.Z.getItem("channelid"),v){e.next=6;break}return M(""),e.abrupt("return");case 6:return i={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},a=JSON.stringify({video_id:t,user_id:n,channel_id:r,msg:v,time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone}),e.next=10,gr.post("".concat(wr[0].apiUrl,"api/send_comment"),a,i).then((function(e){g(""),d(e.data.data)})).catch((function(e){}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){Ie()}),[]);var Ie=function(){var e=Be(Fe().mark((function e(){var t,n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("videoiid"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r=JSON.stringify({video_id:t}),e.next=5,gr.post("".concat(wr[0].apiUrl,"api/get_comment"),r,n).then((function(e){p(e.data.data),Ie()})).catch((function(e){}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){Ce()}),[]);var Ce=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("videoiid"),n=Sr.Z.getItem("_id"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=JSON.stringify({video_id:t,user_id:n}),e.next=6,gr.post("".concat(wr[0].apiUrl,"api/video_views"),i,r).then((function(e){})).catch((function(e){}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=k((0,r.useState)(null),2),Oe=(Re[0],Re[1],k((0,r.useState)(null),2)),Ae=(Oe[0],Oe[1]),Pe=function(e){Ae(e)};(0,r.useEffect)((function(){Le()}),[]);var Le=function(){var e=Be(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sr.Z.getItem("sizeofivideo"),Sr.Z.getItem("categorytpee"),Sr.Z.getItem("videoiid"),t={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},n=JSON.stringify({}),e.next=7,gr.post("".concat(wr[0].apiUrl,"api/get_latest_video"),n,t).then((function(e){l(e.data.data),Le()})).catch((function(e){}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Sr.Z.getItem("vaideoiid"),(0,r.useEffect)((function(){De()}),[]);var De=function(){var e=Be(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sr.Z.getItem("videoiid"),JSON.parse(Sr.Z.getItem("vaideoiid")),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=JSON.stringify({video_id:n||t}),e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_single_video"),i,r).then((function(e){o([e.data.data]),De()})).catch((function(e){}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){se("/login")},Ue=k((0,r.useState)(!0),2),Ve=Ue[0],ze=Ue[1];return setTimeout((function(){ze(!1)}),3e3),Sr.Z.getItem("sizeofivideo"),(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"wrapper",children:(0,Er.jsx)("div",{id:"content-wrapper",children:(0,Er.jsx)("div",{className:"mobilewidth ",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsxs)("div",{className:"col-md-7",children:[a.map((function(e){var t,n,r,i,a,o,s;return(0,Er.jsxs)("div",{className:"single-video-left",style:{paddingLeft:"0px"},children:[(0,Er.jsx)("div",{className:"single-video",children:"Live"===(null===e||void 0===e?void 0:e.category_type)||["bollywood","Bollywood","TollyWood","tollywood","HollyWood","hollyWood"].includes(null===e||void 0===e?void 0:e.category_type)?(0,Er.jsx)(Er.Fragment,{children:(0,Er.jsx)(gp.Z,Nr({url:"Live"===(null===e||void 0===e?void 0:e.category_type)?null===e||void 0===e?void 0:e.video_url:"".concat(wr[0].apiUrl,"uploads/").concat(null===e||void 0===e||null===(t=e.video[0])||void 0===t?void 0:t.filename),width:"100%",style:{maxWidth:"640px",maxHeight:"360px",objectFit:"contain"},controls:!0,playing:!0,config:{file:{attributes:{controlsList:"nodownload"}}},onDuration:Pe},"config",{file:{attributes:{controlsList:"nodownload"}}}))}):(0,Er.jsx)(Er.Fragment,{children:(0,Er.jsx)(gp.Z,{url:"".concat(wr[0].apiUrl,"uploads/").concat(null===e||void 0===e||null===(n=e.video[0])||void 0===n?void 0:n.filename),width:"100%",style:{maxWidth:"640px",maxHeight:"360px",objectFit:"contain"},controls:!0,playing:!0,onDuration:Pe,config:{file:{attributes:{controlsList:"nodownload"}}}})})}),(0,Er.jsx)("div",{}),(0,Er.jsxs)("div",{className:"single-video-title box mb-3",children:[(0,Er.jsx)("h2",{style:{color:"black"},children:(0,Er.jsx)(jt,{to:"#",children:null===e||void 0===e?void 0:e.video_name.slice(0,30)})}),(0,Er.jsxs)("p",{className:"mb-0",children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," ",null===e||void 0===e?void 0:e.video_views," ","views"]})]}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",children:[Q.map((function(t){var n,r;return(0,Er.jsx)("div",{className:"float-right",children:(0,Er.jsx)("button",{onClick:function(){return Ne(e)},className:"btn btn-danger subbtn",type:"button",children:t&&1==t.subscribe_status?(0,Er.jsxs)("div",{children:["Subscribed"," ",null===e||void 0===e||null===(n=e.channel_data[0])||void 0===n?void 0:n.subscribe_count,(0,Er.jsx)("strong",{children:b&&(0,Er.jsx)("p",{children:b})})]}):(0,Er.jsxs)(Er.Fragment,{children:["Subscribe"," ",null===e||void 0===e||null===(r=e.channel_data[0])||void 0===r?void 0:r.subscribe_count,b&&(0,Er.jsx)("strong",{children:(0,Er.jsx)("p",{children:b})})]})})})})),(0,Er.jsxs)("div",{className:"mainprofile",children:[(0,Er.jsx)("img",{className:"img-fluid mainprofileimg ",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(r=e.video[1])||void 0===r?void 0:r.filename),alt:""}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"#",className:"mainprofilecannelname",children:(0,Er.jsx)("strong",{style:{color:"#888"},children:null===e||void 0===e?void 0:e.channel_name.slice(0,15)})})," "]})]}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),null==P?(0,Er.jsxs)("div",{className:"row justify-content-center",children:[(0,Er.jsxs)("div",{className:"col-lg-5 col-md-6 col-sm-12",children:[(0,Er.jsx)("span",{onClick:Me,style:{color:"black"},children:(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)(Mr,{style:{height:"33px",width:"27px"}})})}),"\xa0\xa0\xa0",(0,Er.jsx)("textarea",{style:{marginBottom:"-9px",borderRadius:"15px",width:"100px",marginRight:"2px",border:"1px solid",paddingBottom:"4px",paddingLeft:"20px",height:"28px"},type:"text",required:!0,placeholder:"Comment",value:v,onChange:function(e){return g(e.target.value)}}),(0,Er.jsx)("button",{style:{background:"#acacac",borderRadius:"15px"},className:"btn btn-success",onClick:Me,children:"Send"})]}),(0,Er.jsxs)("div",{className:"col-lg-7 col-md-6 col-sm-12 mt-1 row",children:[(0,Er.jsx)("div",{className:"","data-toggle":"modal","data-target":"#my1Modal",children:(0,Er.jsx)("button",{onClick:Me,className:"btn btn-success shadow",style:{borderRadius:"15px",background:"#acacac"},children:"Share"})}),(0,Er.jsx)("div",{className:"modal",id:"my1Modal",children:(0,Er.jsx)("div",{className:"modal-dialog",children:(0,Er.jsxs)("div",{className:"modal-content",children:[(0,Er.jsxs)("div",{className:"modal-header",children:[(0,Er.jsx)("h4",{className:"modal-title",children:"Shared"}),(0,Er.jsxs)("button",{type:"button",className:"close","data-dismiss":"modal",children:[" ","\xd7"]})]}),(0,Er.jsxs)("div",{className:"card-footer",children:[(0,Er.jsx)(pt,{url:"".concat(wr[0].apiUrl,"uploads/")+e.video[0].filename,children:(0,Er.jsx)(Rr,{})}),"\xa0\xa0\xa0\xa0",(0,Er.jsx)(vt,{url:"".concat(wr[0].apiUrl,"uploads/")+e.video[0].filename,children:(0,Er.jsx)(xp,{})}),"\xa0\xa0\xa0\xa0",(0,Er.jsx)(yt,{url:"".concat(wr[0].apiUrl,"uploads/")+e.video[0].filename,children:(0,Er.jsx)(yp,{})}),"\xa0\xa0\xa0\xa0",(0,Er.jsx)(_t,{url:"".concat(wr[0].apiUrl,"uploads/")+e.video[0].filename,children:(0,Er.jsx)(bp,{})}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),(0,Er.jsx)("div",{})]})]})})}),(0,Er.jsxs)("div",{children:["\xa0\xa0",(0,Er.jsx)("button",{onClick:Me,className:"btn btn-info shadow",style:{borderRadius:"15px",background:"#acacac"},"data-toggle":"modal","data-target":"#myModal",children:"Save"})]}),"\xa0\xa0",(0,Er.jsx)("div",{className:"",children:(0,Er.jsx)("button",{className:"btn btn-primary shadow",style:{borderRadius:"15px",background:"#acacac"},onClick:Me,children:"Download"})})]})]}):(0,Er.jsxs)("div",{className:"row justify-content-center",children:[(0,Er.jsxs)("div",{className:"col-lg-5 col-md-6 col-sm-12",children:[ee.map((function(t){return(0,Er.jsxs)("span",{onClick:Ee,style:{color:"black"},children:[t&&1==t.like_status?(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)(Vr,{style:{height:"33px",width:"27px",color:"#007bff"}})}):(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)(Mr,{style:{height:"33px",width:"27px"}})})," ",null===e||void 0===e?void 0:e.video_likes]})})),"\xa0\xa0\xa0",(0,Er.jsx)("textarea",{className:"shadow",style:{marginBottom:"-9px",borderRadius:"15px",width:"100px",border:"1px solid",marginRight:"2px",paddingBottom:"4px",paddingLeft:"20px",height:"28px"},textarea:!0,required:!0,placeholder:"Comment",value:v,onChange:function(e){return g(e.target.value)}}),(0,Er.jsx)("button",{className:"btn btn-success shadow",style:{borderRadius:"15px",background:"#acacac"},onClick:Te,children:"Send"})]}),(0,Er.jsxs)("div",{className:"col-lg-7 col-md-6 col-sm-12 mt-1 row",children:[(0,Er.jsx)("div",{className:"","data-toggle":"modal","data-target":"#my1Modal",children:(0,Er.jsx)("button",{className:"btn btn-success shadow",style:{borderRadius:"15px",background:"#acacac"},children:"Share"})}),(0,Er.jsx)("div",{className:"modal",id:"my1Modal",children:(0,Er.jsx)("div",{className:"modal-dialog",children:(0,Er.jsxs)("div",{className:"modal-content",style:{bottom:"-320px"},children:[(0,Er.jsxs)("div",{className:"modal-header",children:[(0,Er.jsx)("h4",{className:"modal-title",children:"Shared"}),(0,Er.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})]}),(0,Er.jsxs)("div",{className:"card-footer",children:[(0,Er.jsx)(pt,{url:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(i=e.video[0])||void 0===i?void 0:i.filename),children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/facebook.png",alt:"fblogo"})}),"\xa0\xa0\xa0\xa0",(0,Er.jsx)(vt,{url:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(a=e.video[0])||void 0===a?void 0:a.filename),children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/t.jpeg",alt:"twiiterklogo"})}),"\xa0\xa0\xa0\xa0",(0,Er.jsx)(yt,{url:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(o=e.video[0])||void 0===o?void 0:o.filename),children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/l.jpeg",alt:"flinklogo"})}),"\xa0\xa0\xa0\xa0",(0,Er.jsx)(_t,{url:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(s=e.video[0])||void 0===s?void 0:s.filename),children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/w.png",alt:"twiiterklogo"})}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),(0,Er.jsx)("div",{})]})]})})}),(0,Er.jsxs)("div",{children:["\xa0\xa0",(0,Er.jsx)("button",{className:"btn btn-info shadow",style:{borderRadius:"15px",background:"#acacac"},"data-toggle":"modal","data-target":"#myModal",children:"Save"})]}),"\xa0\xa0",(0,Er.jsx)("div",{className:"",children:(0,Er.jsx)("button",{className:"btn btn-primary shadow",style:{borderRadius:"15px",background:"#acacac",float:"right"},onClick:je,children:"Download"})})]})]})]})]},null===e||void 0===e?void 0:e._id)})),(0,Er.jsx)("h6",{className:"ml-3",children:"Comments Section"}),h&&h.length>0?h.slice().map((function(e){var t,r,i,a,o;return(0,Er.jsxs)("div",{children:[(0,Er.jsxs)("p",{className:"p-2 ",style:{marginLeft:"15px"},onClick:function(){Sr.Z.setItem("comentidd",null===e||void 0===e?void 0:e._id)},children:[e&&null!==e&&void 0!==e&&null!==(t=e.user_data[0])&&void 0!==t&&t.profile_image&&null!==e&&void 0!==e&&null!==(r=e.user_data[0])&&void 0!==r&&null!==(i=r.profile_image)&&void 0!==i&&i.filename?(0,Er.jsx)("img",{className:"img-fluid",style:{width:"38px",height:"33px",borderRadius:"50px"},alt:"Avatar",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(a=e.user_data[0])||void 0===a||null===(o=a.profile_image)||void 0===o?void 0:o.filename)}):(0,Er.jsx)("img",{className:"img-fluid",style:{width:"38px",height:"33px",borderRadius:"50px"},alt:"Avatar",src:"img/logo.png"}),"\xa0\xa0\xa0",null===e||void 0===e?void 0:e.msg.slice(0,50),(0,Er.jsxs)("p",{className:"bg-black",style:{textAlign:"left",marginTop:"10px"},children:[(0,Er.jsx)(jt,{onClick:function(){return function(e){var t=Sr.Z.getItem("_id"),n=JSON.stringify({user_id:t,comment_id:e});gr.post("".concat(wr[0].apiUrl,"api/delete_comment_user"),n,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){h()})).catch((function(e){}))}(null===e||void 0===e?void 0:e._id)},children:P===(null===e||void 0===e?void 0:e.user_id)?(0,Er.jsx)(Dr,{}):""})," ","\xa0\xa0\xa0",(0,Er.jsxs)("span",{onClick:function(){n(!0),pe(),Sr.Z.setItem("comentidd",null===e||void 0===e?void 0:e._id)},children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)(Cr,{})}),"\xa0\xa0\xa0"]}),(0,Er.jsxs)("span",{onClick:ye,style:{color:"black"},children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)(_p,{})}),"\xa0\xa0\xa0"]})," ",e.comment_likes]})]},null===e||void 0===e?void 0:e._id),(0,Er.jsx)("hr",{})]})})):(0,Er.jsx)("div",{className:"col-md-12",children:1==Ve?(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{class:"spinner-border text-primary"})}):(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{})})})]}),(0,Er.jsx)("div",{className:"col-md-5",children:(0,Er.jsx)("div",{className:"single-video-right",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{className:"col-md-12",children:[(0,Er.jsx)("h5",{children:"Up Next"}),c&&c.length>0?c.map((function(e){var t;return(0,Er.jsxs)("div",{className:"video-card video-card-list",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"7px",width:"40%",height:"75px"},children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",null===e||void 0===e?void 0:e._id)},className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",style:{height:"100%",width:"100%"},onClick:function(){Sr.Z.setItem("videoiid",null===e||void 0===e?void 0:e._id)},src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.video[1])||void 0===t?void 0:t.filename),alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"#",children:null===e||void 0===e?void 0:e.description.slice(0,30)})}),(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"#",style:{color:"#888",fontWeight:"none",fontSize:"12px"},children:null===e||void 0===e?void 0:e.channel_name.slice(0,20)})}),(0,Er.jsxs)("div",{className:"video-view",children:[null===e||void 0===e?void 0:e.video_views," views \xa0",(0,Er.jsx)("i",{className:"fas fa-calendar-alt"})," ",me(null===e||void 0===e?void 0:e.current_date)]})]})]},null===e||void 0===e?void 0:e._id)})):(0,Er.jsx)("div",{className:"col-md-12",children:1==Ve?(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{class:"spinner-border text-primary"})}):(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{})})})]})})})})]})})})})}),(0,Er.jsx)("div",{className:"modal",id:"myModal",children:(0,Er.jsx)("div",{className:"modal-dialog",children:(0,Er.jsxs)("div",{className:"modal-content",children:[(0,Er.jsxs)("div",{className:"modal-header",children:[(0,Er.jsx)("h4",{className:"modal-title",children:"Create New Video Playlist"}),(0,Er.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})]}),(0,Er.jsxs)("div",{className:"card-footer",children:[D&&(0,Er.jsx)("div",{className:"error-message",children:D}),F&&(0,Er.jsx)("div",{className:"success-message",children:F}),(0,Er.jsxs)("form",{onSubmit:xe,children:[(0,Er.jsxs)("div",{children:[(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{})]}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"channelname",children:"Playlist Name:"}),(0,Er.jsx)("input",{required:!0,type:"text",value:N,onChange:function(e){return j(e.target.value)},className:"form-control profile1",id:"channelname"})]}),(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"image",children:"Image:"}),(0,Er.jsx)("input",{required:!0,type:"file",onChange:function(e){return W(e.target.files[0])},className:"form-control",id:"image"})]}),(0,Er.jsx)("br",{}),(0,Er.jsx)("button",{className:"btn btn-info",type:"submit",children:"Submit"})]}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("font",{style:{color:"blue"},children:[q&&(0,Er.jsx)("p",{children:q})," "]}),I.map((function(e){return(0,Er.jsxs)("p",{onClick:function(){return function(e,t){var n=Sr.Z.getItem("_id"),r=Sr.Z.getItem("channel_id"),i=Sr.Z.getItem("videoiid"),a=JSON.stringify({playlist_id:e,user_id:n,video_id:i,playlist_name:t,channel_id:r,time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone});gr.post("".concat(wr[0].apiUrl,"api/upload_my_playlist_video"),a,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){e.data,G("Successfully added")})).catch((function(e){}))}(null===e||void 0===e?void 0:e._id,(null===e||void 0===e?void 0:e.name)&&(null===e||void 0===e?void 0:e.name))},children:[" ",(0,Er.jsx)("span",{className:"btn btn-info",style:{color:"white"},children:(0,Er.jsx)(wp,{})}),"\xa0\xa0\xa0\xa0\xa0\xa0",(null===e||void 0===e?void 0:e.name)&&(null===e||void 0===e?void 0:e.name)]})})),(0,Er.jsx)("div",{})]})]})})}),(0,Er.jsxs)(Yh,{open:t,onClose:he,children:[(0,Er.jsxs)(rp,{children:[(0,Er.jsx)(vp,{}),(0,Er.jsx)(Uh,{onChange:function(e){return Z(e.target.value)},value:Y,autoFocus:!0,margin:"dense",id:"name",label:"Reply Comment",type:"email",fullWidth:!0,variant:"standard"}),re.map((function(e,t){return e.data&&e.data.length>0?(0,Er.jsx)(r.Fragment,{children:e.data.map((function(e,t){var n,r;return(0,Er.jsxs)("p",{children:[e&&e.data[0].profile_image&&e.data[0].profile_image.filename?(0,Er.jsx)("img",{className:"img-fluid",style:{width:"38px",height:"33px",borderRadius:"50px"},alt:"Avatar",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(n=e.data[0])||void 0===n||null===(r=n.profile_image)||void 0===r?void 0:r.filename)}):(0,Er.jsx)("img",{className:"img-fluid",style:{width:"38px",height:"33px",borderRadius:"50px"},alt:"Avatar",src:"img/logo.png"}),"\xa0\xa0",e.msg,"\xa0\xa0\xa0",P===(null===e||void 0===e?void 0:e.user_id)?(0,Er.jsx)(Dr,{onClick:function(){return function(e){var t=Sr.Z.getItem("_id"),n=JSON.stringify({user_id:t,comment_id:e});gr.post("".concat(wr[0].apiUrl,"api/delete_reply"),n,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){pe()})).catch((function(e){console.error(e)}))}(null===e||void 0===e?void 0:e._id)}}):"","\xa0\xa0\xa0",(0,Er.jsxs)("span",{onClick:function(){return be(null===e||void 0===e?void 0:e._id)},style:{color:"black"},children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)(_p,{})}),"\xa0\xa0\xa0",e.reply_likes]})," "]},t)}))},t):null}))]}),(0,Er.jsxs)(Xh,{children:[(0,Er.jsx)(Rl,{onClick:he,children:"Cancel"}),(0,Er.jsx)(Rl,{onClick:function(){!function(){var e=Sr.Z.getItem("_id"),t=Sr.Z.getItem("channel_id"),n=Sr.Z.getItem("videoiid"),r=Sr.Z.getItem("comentidd"),i=JSON.stringify({user_id:e,comment_id:r,channel_id:t,video_id:n,msg:Y,time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone});gr.post("".concat(wr[0].apiUrl,"api/send_reply_comment"),i,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){})).catch((function(e){})),Z("")}()},children:"Send"})]})]})]})};var Ep=function(){var e=k((0,r.useState)(""),2),t=e[0],n=e[1],i=_e(),a=Sr.Z.getItem("_id"),o=Sr.Z.getItem("channel_name"),s=Sr.Z.getItem("channel_id"),c=k((0,r.useState)({user_id:a,channel_id:s,channel_name:o,video_name:"",desc:"",category_type:"",video_url:""}),2),l=c[0],u=c[1],d=k((0,r.useState)({user_video:""}),2),f=d[0],h=d[1],p=k((0,r.useState)({video_thumbnail:""}),2),m=p[0],v=p[1],g=k((0,r.useState)(""),2),y=g[0],b=g[1],_=function(e){u(Tr(Tr({},l),{},Nr({},e.target.name,e.target.value)))};return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"container-fluid upload-details",children:(0,Er.jsxs)("form",{method:"post",onSubmit:function(e){if(e.preventDefault(),l.video_name.trim())if(l.channel_id)if(l.video_url)if(m.video_thumbnail)if(f.user_video){var t=new FormData;t.append("user_id",l.user_id),t.append("channel_id",l.channel_id),t.append("channel_name",l.channel_name),t.append("video_name",l.video_name),t.append("category_type",""),t.append("desc",l.desc),t.append("user_video",f.user_video),t.append("video_thumbnail",m.video_thumbnail),t.append("video_url",l.video_url),t.append("time_zone",Intl.DateTimeFormat().resolvedOptions().timeZone),gr.post("".concat(wr[0].apiUrl,"api/upload_video"),t).then((function(e){i("/"),n("Video uploaded successfully!")}))}else b("Please select a video file.");else b("Please select a thumbnail image.");else b("Please Enter a Video Url.");else b("Please create channel First go to setting .");else b("Please enter a video name.")},children:[(0,Er.jsx)("hr",{}),(0,Er.jsx)("font",{style:{color:"blue"},children:y&&(0,Er.jsx)("p",{children:y})}),(0,Er.jsx)("font",{style:{color:"blue"},children:t&&(0,Er.jsx)("p",{children:t})}),(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{className:"col-lg-12",children:[(0,Er.jsxs)("div",{className:"osahan-form",children:[(0,Er.jsx)("div",{className:"row",children:(0,Er.jsx)("div",{className:"col-lg-12",children:(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"",children:"Description"}),(0,Er.jsx)("textarea",{required:!0,placeholder:"Description",rows:3,name:"desc",onChange:_,className:"form-control"})]})})}),(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-lg-6",children:(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"e3",children:"Video Name"}),(0,Er.jsx)("input",{required:!0,type:"text",placeholder:"Name",name:"video_name",onChange:_,className:"form-control"})]})}),(0,Er.jsx)("div",{className:"col-lg-6",children:(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"e5",children:"Video URL"}),(0,Er.jsx)("input",{required:!0,type:"text",placeholder:"URL",name:"video_url",onChange:_,className:"form-control"})]})})]}),(0,Er.jsx)("div",{className:"row ",children:(0,Er.jsx)("div",{className:"col-lg-12",children:(0,Er.jsx)("div",{className:"main-title"})})}),(0,Er.jsxs)("div",{className:"row category-checkbox",children:[(0,Er.jsx)("div",{className:"col-lg-6 col-xs-6 col-sm-12",children:(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"e1",children:"Select Video"}),(0,Er.jsx)("input",{type:"file",placeholder:"Choose File Here...",name:"user_video",onChange:function(e){h(Tr(Tr({},f),{},Nr({},e.target.name,e.target.files[0])))},className:"form-control"})]})}),(0,Er.jsx)("div",{className:"col-lg-6",children:(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"e1",children:"Thumbnail"}),(0,Er.jsx)("input",{type:"file",placeholder:"Choose File Here...",name:"video_thumbnail",onChange:function(e){v(Tr(Tr({},m),{},Nr({},e.target.name,e.target.files[0])))},className:"form-control"})]})})]})]}),(0,Er.jsx)("div",{className:"osahan-area text-center mt-3",children:(0,Er.jsx)("button",{className:"btn btn-primary",type:"submit",style:{background:"#000080",borderRadius:4},children:"Upload"})})]})})]})})})}),(0,Er.jsx)(Hr,{})]})},kp=__webpack_require__(4682);function Np(){return(Np=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tp=window,Ip=((0,r.memo)((function(e){var t=e.state,n=void 0===t?"":t,i=e.client_id,a=e.className,o=e.redirect_uri,s=e.scope,c=void 0===s?"profile":s,l=e.isOnlyGetToken,u=void 0!==l&&l,d=e.scope_data,f=void 0===d?{profile:{essential:!0}}:d,h=e.response_type,p=void 0===h?"token":h,m=e.children,v=e.onReject,g=e.onResolve,y=e.onLoginStart,b=(0,r.useRef)(null),_=(0,r.useState)(!1),x=_[0],w=_[1];(0,r.useEffect)((function(){!x&&T()}),[x]),(0,r.useEffect)((function(){return function(){b.current&&b.current.remove()}}),[]);var S=(0,r.useCallback)((function(){return!!document.getElementById("amazon-login")}),[]),E=(0,r.useCallback)((function(e,t,n,r,i){void 0===t&&(t="script");var a=e.createElement(t);a.id=n,a.src=r,a.async=!0,a.defer=!0;var o=document.getElementsByTagName("script")[0];b.current=a,o&&o.parentNode&&o.parentNode.insertBefore(a,o),a.onload=i}),[]),k=(0,r.useCallback)((function(e){try{return fetch("https://api.amazon.com/user/profile",{headers:{Authorization:"Bearer "+e.access_token}}).then((function(e){return e.json()})).then((function(t){g({provider:"amazon",data:Np({},t,e)})})).catch((function(e){v(e)})).finally((function(){})),Promise.resolve()}catch(e){return Promise.reject(e)}}),[v,g]),N=(0,r.useCallback)((function(e){u?g({provider:"amazon",data:Np({},e)}):k(e)}),[k,g,u]),j=(0,r.useCallback)((function(e){v(e)}),[v]),T=(0,r.useCallback)((function(){S()?w(!0):E(document,"script","amazon-login","https://assets.loginwithamazon.com/sdk/na/login1.js",(function(){Tp.amazon.Login.setClientId(i),w(!0)}))}),[S,i,E]),I=(0,r.useCallback)((function(){x&&(Tp.amazon?(y&&y(),Tp.amazon.Login.authorize({scope:c,scope_data:f,response_type:p,redirect_uri:o,state:n},(function(e){e.error?j(e.error):N(e)}))):(T(),v("Google SDK isn't loaded!")))}),[T,c,n,v,f,x,j,y,o,p,N]);return r.createElement("div",{className:a,onClick:I},m)})),window),Cp=(0,r.memo)((function(e){var t=e.appId,n=e.scope,i=void 0===n?"email,public_profile":n,a=e.state,o=void 0===a||a,s=e.xfbml,c=void 0===s||s,l=e.cookie,u=void 0===l||l,d=e.version,f=void 0===d?"v2.7":d,h=e.language,p=void 0===h?"en_EN":h,m=e.auth_type,v=void 0===m?"":m,g=e.className,y=e.onLoginStart,b=e.onReject,_=e.onResolve,x=e.redirect_uri,w=e.fieldsProfile,S=void 0===w?"id,first_name,last_name,middle_name,name,name_format,picture,short_name,email,gender":w,E=e.response_type,k=void 0===E?"code":E,N=e.return_scopes,j=void 0===N||N,T=e.isOnlyGetToken,I=void 0!==T&&T,C=e.children,R=(0,r.useRef)(null),O=(0,r.useState)(!1),A=O[0],P=O[1],L=(0,r.useState)(!1),D=L[0],M=L[1];(0,r.useEffect)((function(){!A&&W()}),[A]),(0,r.useEffect)((function(){return function(){R.current&&R.current.remove()}}),[]);var U=(0,r.useCallback)((function(e,t){var n=e.createElement("script");n.id="facebook-jssdk",n.src="https://connect.facebook.net/en_EN/sdk.js";var r=e.getElementsByTagName("script")[0];r&&r.parentNode&&r.parentNode.insertBefore(n,r),t()}),[]),F=(0,r.useCallback)((function(){return!!document.getElementById("facebook-jssdk")}),[]),V=(0,r.useCallback)((function(e,t){var n=window;n.fbAsyncInit=function(){n.FB&&n.FB.init(Np({},e)),P(!0);var r=t.getElementById("fb-root");r||((r=t.createElement("div")).id="fb-root",t.body.appendChild(r)),R.current=r}}),[]),B=(0,r.useCallback)((function(e){Ip.FB.api("/me",{locale:p,fields:S},(function(t){_({provider:"facebook",data:Np({},e,t)})}))}),[S,p,_]),z=(0,r.useCallback)((function(e){e.authResponse?I?_({provider:"facebook",data:Np({},e.authResponse)}):B(e.authResponse):b(e),M(!1)}),[B,I,b,_]),W=(0,r.useCallback)((function(){F()?P(!0):U(document,(function(){V({appId:t,xfbml:c,version:f,state:o,cookie:u,redirect_uri:x,response_type:k},document)}))}),[o,t,c,u,f,V,x,k,U,F]),H=(0,r.useCallback)((function(){A&&!D&&(Ip.FB?(M(!0),y&&y(),Ip.FB.login(z,{scope:i,return_scopes:j,auth_type:v})):(W(),b("Fb isn't loaded!"),M(!1)))}),[W,i,b,v,A,y,D,j,z]);return r.createElement("div",{className:g,onClick:H},C)})),Rp="875c0462-6309-4ddf-9889-5227b1acc82c",Op=window,Ap=(0,r.memo)((function(e){var t=e.client_id,n=e.scope,i=void 0===n?"https://www.googleapis.com/auth/userinfo.profile":n,a=e.prompt,o=void 0===a?"select_account":a,s=e.typeResponse,c=void 0===s?"accessToken":s,l=e.ux_mode,u=e.className,d=void 0===u?"":u,f=e.login_hint,h=void 0===f?"":f,p=e.access_type,m=void 0===p?"online":p,v=e.onLoginStart,g=e.onReject,y=e.onResolve,b=e.redirect_uri,_=void 0===b?"/":b,x=e.auto_select,w=void 0!==x&&x,S=e.isOnlyGetToken,E=void 0!==S&&S,k=e.cookie_policy,N=void 0===k?"single_host_origin":k,j=e.hosted_domain,T=void 0===j?"":j,I=e.discoveryDocs,C=void 0===I?"":I,R=e.children,O=e.fetch_basic_profile,A=void 0===O||O,P=(0,r.useRef)(null),L=(0,r.useState)(!1),D=L[0],M=L[1],U=(0,r.useState)(null),F=U[0],V=U[1];(0,r.useEffect)((function(){!D&&q()}),[D]),(0,r.useEffect)((function(){return function(){P.current&&P.current.remove()}}),[]);var B=(0,r.useCallback)((function(){return!!document.getElementById("google-login")}),[]),z=(0,r.useCallback)((function(e,t,n,r,i){void 0===t&&(t="script");var a=e.createElement(t);a.id=n,a.src=r,a.async=!0,a.defer=!0;var o=document.getElementsByTagName("script")[0];P.current=a,o&&o.parentNode&&o.parentNode.insertBefore(a,o),a.onload=i}),[]),W=(0,r.useCallback)((function(e){if("accessToken"===c){var t=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":Rp,Authorization:"Bearer "+e.access_token});fetch("https://cors.bridged.cc/https://www.googleapis.com/oauth2/v3/userinfo?alt=json",{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){var n=Np({},e,t);y({provider:"google",data:n})})).catch((function(e){g(e)}))}else fetch("https://www.googleapis.com/oauth2/v3/tokeninfo?id_token="+e.credential,{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log("\ud83d\ude80 ~ file: index.tsx ~ line 153 ~ response",t);var n=Np({},e,t);y({provider:"google",data:n})})).catch((function(e){g(e)}))}),[c,g,y]),H=(0,r.useCallback)((function(e){E?y({provider:"google",data:e}):W(e)}),[E,W,y]),q=(0,r.useCallback)((function(){B()?M(!0):z(document,"script","google-login","https://accounts.google.com/gsi/client",(function(){var e={client_id:t,ux_mode:l},n=null;"idToken"===c?Op.google.accounts.id.initialize(Np({},e,{auto_select:w,callback:H})):n=Op.google.accounts.oauth2.initTokenClient(Np({},e,{scope:i,prompt:o,login_hint:h,access_type:m,hosted_domain:T,redirect_uri:_,cookie_policy:N,discoveryDocs:C,immediate:!0,fetch_basic_profile:A,callback:H})),n&&V(n),M(!0)}))}),[i,o,l,t,h,w,m,_,c,C,N,T,H,A,z,B]),G=(0,r.useCallback)((function(){D&&(Op.google?(v&&v(),F?F.requestAccessToken():Op.google.accounts.id.prompt()):(q(),g("Google SDK isn't loaded!")))}),[F,D,q,v,g]);return r.createElement("div",{className:d,onClick:G},R)})),Pp=((0,r.memo)((function(e){var t=e.state,n=void 0===t?"":t,i=e.scope,a=void 0===i?"repo,gist":i,o=e.client_id,s=e.client_secret,c=e.className,l=void 0===c?"":c,u=e.redirect_uri,d=e.allow_signup,f=void 0!==d&&d,h=e.isOnlyGetToken,p=void 0!==h&&h,m=e.isOnlyGetCode,v=void 0!==m&&m,g=e.children,y=e.onReject,b=e.onResolve,_=e.onLoginStart;(0,r.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),n=e.searchParams.get("state");null!=n&&n.includes("_github")&&t&&(localStorage.setItem("github",t),window.close())}),[]);var x=(0,r.useCallback)((function(e){fetch("https://cors.bridged.cc/https://api.github.com//user",{method:"GET",headers:{Authorization:"token "+e.access_token,"x-cors-grida-api-key":Rp}}).then((function(e){return e.json()})).then((function(t){b({provider:"github",data:Np({},t,e)})})).catch((function(e){y(e)}))}),[y,b]),w=(0,r.useCallback)((function(e){if(v)b({provider:"github",data:{code:e}});else{var t={code:e,state:n,redirect_uri:u,client_id:o,client_secret:s},r=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":Rp});fetch("https://cors.bridged.cc/https://github.com/login/oauth/access_token",{method:"POST",headers:r,body:new URLSearchParams(t)}).then((function(e){return e.text()})).then((function(e){for(var t,n={},r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return jp(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jp(e,void 0):void 0}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(new URLSearchParams(e));!(t=r()).done;){var i=t.value;n[i[0]]=i[1]}n.access_token?p?b({provider:"github",data:n}):x(n):y("no data")})).catch((function(e){y(e)}))}}),[n,y,x,b,o,u,s,v,p]),S=(0,r.useCallback)((function(e){var t=e.type,n=e.code,r=e.provider;try{return Promise.resolve("code"===t&&"github"===r&&n&&w(n))}catch(e){return Promise.reject(e)}}),[w]),E=(0,r.useCallback)((function(){window.removeEventListener("storage",E,!1);var e=localStorage.getItem("github");e&&(S({provider:"github",type:"code",code:e}),localStorage.removeItem("instagram"))}),[S]),k=(0,r.useCallback)((function(){_&&_(),window.addEventListener("storage",E,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://github.com/login/oauth/authorize?client_id="+o+"&scope="+a+"&state="+n+"_github&redirect_uri="+u+"&allow_signup="+f,"Github","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)}),[a,n,o,u,f,_,E]);return r.createElement("div",{className:l,onClick:k},g)})),(0,r.memo)((function(e){var t=e.state,n=void 0===t?"":t,i=e.client_id,a=e.client_secret,o=e.className,s=e.redirect_uri,c=e.fields,l=void 0===c?"id,username,account_type,media_count":c,u=e.scope,d=void 0===u?"user_profile,user_media":u,f=e.response_type,h=void 0===f?"code":f,p=e.isOnlyGetCode,m=void 0!==p&&p,v=e.isOnlyGetToken,g=void 0!==v&&v,y=e.children,b=e.onReject,_=e.onResolve,x=e.onLoginStart;(0,r.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),n=e.searchParams.get("state");null!=n&&n.includes("_instagram")&&t&&(localStorage.setItem("instagram",t),window.close())}),[]);var w=(0,r.useCallback)((function(e){fetch("https://cors.bridged.cc/https://graph.instagram.com//me?fields="+l+"&access_token="+e.access_token,{method:"GET",headers:{"x-cors-grida-api-key":Rp}}).then((function(e){return e.json()})).then((function(t){_({provider:"instagram",data:Np({},t,e)})})).catch((function(e){b(e)}))}),[l,b,_]),S=(0,r.useCallback)((function(e){if(m)_({provider:"instagram",data:{code:e}});else{var t={grant_type:"authorization_code",code:e,redirect_uri:s,client_id:i,client_secret:a},n=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":Rp});fetch("https://cors.bridged.cc/https://api.instagram.com/oauth/access_token",{method:"POST",headers:n,body:new URLSearchParams(t)}).then((function(e){return e.json()})).then((function(e){e.access_token?g?_({provider:"instagram",data:e}):w(e):b("no data")})).catch((function(e){b(e)})).finally((function(){}))}}),[b,_,w,i,s,a,m,g]),E=(0,r.useCallback)((function(e){var t=e.type,n=e.code,r=e.provider;try{return Promise.resolve("code"===t&&"instagram"===r&&n&&S(n))}catch(e){return Promise.reject(e)}}),[S]),k=(0,r.useCallback)((function(){window.removeEventListener("storage",k,!1);var e=localStorage.getItem("instagram");e&&(E({provider:"instagram",type:"code",code:e}),localStorage.removeItem("instagram"))}),[E]),N=(0,r.useCallback)((function(){x&&x(),window.addEventListener("storage",k,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://api.instagram.com/oauth/authorize?response_type="+h+"&client_id="+i+"&scope="+d+"&state="+n+"_instagram&redirect_uri="+s,"Instagram","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)}),[d,n,i,s,x,h,k]);return r.createElement("div",{className:o,onClick:N},y)})),(0,r.memo)((function(e){var t=e.tenant,n=void 0===t?"common":t,i=e.state,a=void 0===i?"":i,o=e.client_id,s=e.className,c=e.redirect_uri,l=e.scope,u=void 0===l?"profile openid email":l,d=e.response_type,f=void 0===d?"code":d,h=e.response_mode,p=void 0===h?"query":h,m=e.children,v=e.code_challenge,g=void 0===v?"19cfc47c216dacba8ca23eeee817603e2ba34fe0976378662ba31688ed302fa9":v,y=e.code_challenge_method,b=void 0===y?"plain":y,_=e.prompt,x=void 0===_?"select_account":_,w=e.isOnlyGetCode,S=void 0!==w&&w,E=e.isOnlyGetToken,k=void 0!==E&&E,N=e.onLoginStart,j=e.onReject,T=e.onResolve;(0,r.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),n=e.searchParams.get("state");null!=n&&n.includes("_microsoft")&&t&&(localStorage.setItem("microsoft",t),window.close())}),[]);var I=(0,r.useCallback)((function(e){fetch("https://graph.microsoft.com/v1.0/me",{method:"GET",headers:{Authorization:"Bearer "+e.access_token}}).then((function(e){return e.json()})).then((function(t){T({provider:"microsoft",data:Np({},t,e)})})).catch((function(e){j(e)}))}),[j,T]),C=(0,r.useCallback)((function(e){if(S)T({provider:"microsoft",data:{code:e}});else{var t={code:e,scope:u,client_id:o,redirect_uri:c,code_verifier:g,grant_type:"authorization_code"},r=new Headers({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"});fetch("https://login.microsoftonline.com/"+n+"/oauth2/v2.0/token",{method:"POST",headers:r,body:new URLSearchParams(t)}).then((function(e){return e.json()})).then((function(e){e.access_token?k?T({provider:"microsoft",data:e}):I(e):j("no data")})).catch((function(e){j(e)}))}}),[u,n,j,I,o,T,c,g,S,k]),R=(0,r.useCallback)((function(e){var t=e.type,n=e.code,r=e.provider;try{return Promise.resolve("code"===t&&"microsoft"===r&&n&&C(n))}catch(e){return Promise.reject(e)}}),[C]),O=(0,r.useCallback)((function(){window.removeEventListener("storage",O,!1);var e=localStorage.getItem("microsoft");e&&(R({provider:"microsoft",type:"code",code:e}),localStorage.removeItem("microsoft"))}),[R]),A=(0,r.useCallback)((function(){N&&N(),window.addEventListener("storage",O,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://login.microsoftonline.com/"+n+"/oauth2/v2.0/authorize?client_id="+o+"\n        &response_type="+f+"\n        &redirect_uri="+c+"\n        &response_mode="+p+"\n        &scope="+u+"\n        &state="+a+"_microsoft\n        &prompt="+x+"\n        &code_challenge="+g+"\n        &code_challenge_method="+b,"Microsoft","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)}),[u,a,x,n,o,N,c,p,f,g,O,b]);return r.createElement("div",{className:s,onClick:A},m)})),(0,r.memo)((function(e){var t=e.state,n=void 0===t?"":t,i=e.scope,a=void 0===i?"r_liteprofile":i,o=e.client_id,s=e.client_secret,c=e.className,l=void 0===c?"":c,u=e.redirect_uri,d=e.response_type,f=void 0===d?"code":d,h=e.isOnlyGetCode,p=void 0!==h&&h,m=e.isOnlyGetToken,v=void 0!==m&&m,g=e.children,y=e.onLoginStart,b=e.onReject,_=e.onResolve;(0,r.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),n=e.searchParams.get("state");null!=n&&n.includes("_linkedin")&&t&&(localStorage.setItem("linkedin",t),window.close())}),[]);var x=(0,r.useCallback)((function(e){fetch("https://api.allorigins.win/get?url="+encodeURIComponent("https://api.linkedin.com/v2/me?oauth2_access_token="+e.access_token+"&projection=(id,profilePicture(displayImage~digitalmediaAsset:playableStreams),localizedLastName, firstName,lastName,localizedFirstName)"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){var n=Np({},e);if(t.contents){var r=JSON.parse(t.contents);"object"==typeof e&&Object.entries(r).map((function(e){n[e[0]]=e[1]}))}_({provider:"linkedin",data:n})})).catch((function(e){b(e)}))}),[b,_]),w=(0,r.useCallback)((function(e){if(p)_({provider:"linkedin",data:{code:e}});else{var t={code:e,grant_type:"authorization_code",redirect_uri:u,client_id:o,client_secret:s},n=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":Rp});fetch("https://cors.bridged.cc/https://www.linkedin.com/oauth/v2/accessToken",{method:"POST",headers:n,body:new URLSearchParams(t)}).then((function(e){return e.json()})).then((function(e){v?_({provider:"linkedin",data:e}):x(e)})).catch((function(e){b(e)}))}}),[b,_,o,x,u,s,p,v]),S=(0,r.useCallback)((function(e){var t=e.type,n=e.code,r=e.provider;try{return Promise.resolve("code"===t&&"linkedin"===r&&n&&w(n))}catch(e){return Promise.reject(e)}}),[w]),E=(0,r.useCallback)((function(){window.removeEventListener("storage",E,!1);var e=localStorage.getItem("linkedin");e&&(S({provider:"linkedin",type:"code",code:e}),localStorage.removeItem("linkedin"))}),[S]),k=(0,r.useCallback)((function(){y&&y(),window.addEventListener("storage",E,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://www.linkedin.com/oauth/v2/authorization?response_type="+f+"&client_id="+o+"&scope="+a+"&state="+n+"_linkedin&redirect_uri="+u,"Linkedin","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)}),[y,E,f,o,a,n,u]);return r.createElement("div",{className:l,onClick:k},g)})),(0,r.memo)((function(e){var t=e.state,n=void 0===t?"":t,i=e.scope,a=void 0===i?"":i,o=e.client_id,s=e.client_secret,c=e.className,l=void 0===c?"":c,u=e.redirect_uri,d=e.isOnlyGetCode,f=void 0!==d&&d,h=e.isOnlyGetToken,p=void 0!==h&&h,m=e.children,v=e.onLoginStart,g=e.onReject,y=e.onResolve;(0,r.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),n=e.searchParams.get("state");null!=n&&n.includes("_pinterest")&&t&&(localStorage.setItem("pinterest",t),window.close())}),[]);var b=(0,r.useCallback)((function(e){fetch("https://cors.bridged.cc/https://api.pinterest.com/v5/user_account",{method:"GET",headers:{Authorization:"Bearer "+e.access_token,"x-cors-grida-api-key":Rp}}).then((function(e){return e.json()})).then((function(t){y({provider:"pinterest",data:Np({},e,t)})})).catch((function(e){return g(e)}))}),[g,y]),_=(0,r.useCallback)((function(e){try{var t=function(){if(!f){var t={code:e,redirect_uri:u,grant_type:"authorization_code"},n=[];for(var r in t){var i=encodeURIComponent(r),a=encodeURIComponent(t[r]);n.push(i+"="+a)}return n=n.join("&"),Promise.resolve(fetch("https://cors.bridged.cc/https://api.pinterest.com/v5/oauth/token",{method:"POST",headers:{Authorization:"Basic "+btoa(o+":"+s),"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":Rp},body:n}).then((function(e){return e.json()})).catch((function(e){return g(e)}))).then((function(e){e.access_token&&(p?y({provider:"pinterest",data:e}):b(e))}))}y({provider:"pinterest",data:{code:e}})}();return Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}),[g,o,b,y,u,s,f,p]),x=(0,r.useCallback)((function(e){var t=e.type,n=e.code,r=e.provider;try{return Promise.resolve("code"===t&&"pinterest"===r&&n&&_(n))}catch(e){return Promise.reject(e)}}),[_]),w=(0,r.useCallback)((function(){window.removeEventListener("storage",w,!1);var e=localStorage.getItem("pinterest");e&&(x({provider:"pinterest",type:"code",code:e}),localStorage.removeItem("pinterest"))}),[x]),S=(0,r.useCallback)((function(){v&&v(),window.addEventListener("storage",w,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://www.pinterest.com/oauth/?client_id="+o+"&scope="+a+"&state="+n+"_pinterest&redirect_uri="+u+"&response_type=code&scope=boards:read,pins:read,user_accounts:read","Pinterest","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)}),[a,n,o,u,v,w]);return r.createElement("div",{className:l,onClick:S},m)})),(0,r.memo)((function(e){var t=e.client_id,n=e.className,i=void 0===n?"":n,a=e.redirect_uri,o=e.children,s=e.fields,c=void 0===s?"created_at,description,entities,id,location,name,pinned_tweet_id,profile_image_url,protected,public_metrics,url,username,verified,withheld":s,l=e.state,u=void 0===l?"state":l,d=e.scope,f=void 0===d?"users.read%20tweet.read":d,h=e.isOnlyGetCode,p=void 0!==h&&h,m=e.isOnlyGetToken,v=void 0!==m&&m,g=e.onLoginStart,y=e.onReject,b=e.onResolve;(0,r.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code");e.searchParams.get("state")&&t&&(localStorage.setItem("twitter",""+t),window.close())}),[]);var _=(0,r.useCallback)((function(e){fetch("https://cors.bridged.cc/https://api.twitter.com/2/users/me?user.fields="+c,{method:"GET",headers:{Authorization:"Bearer "+e.access_token,"x-cors-grida-api-key":Rp}}).then((function(e){return e.json()})).then((function(t){b({provider:"twitter",data:Np({},e,t.data)})})).catch((function(e){return y(e)}))}),[c,y,b]),x=(0,r.useCallback)((function(e){try{var n=function(){if(!p){var n=new URLSearchParams({code:e,redirect_uri:a,client_id:t,grant_type:"authorization_code",code_verifier:"challenge"});return Promise.resolve(fetch("https://cors.bridged.cc/https://api.twitter.com/2/oauth2/token",{method:"POST",body:n,headers:{"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":Rp}}).then((function(e){return e.json()})).catch((function(e){return y(e)}))).then((function(e){e.access_token&&(v?b({provider:"twitter",data:e}):_(e))}))}b({provider:"twitter",data:{code:e}})}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}),[y,_,b,t,a,p,v]),w=(0,r.useCallback)((function(e){var t=e.type,n=e.code,r=e.provider;try{return Promise.resolve("code"===t&&"twitter"===r&&n&&x(n))}catch(e){return Promise.reject(e)}}),[x]),S=(0,r.useCallback)((function(){window.removeEventListener("storage",S,!1);var e=localStorage.getItem("twitter");e&&(w({provider:"twitter",type:"code",code:e}),localStorage.removeItem("twitter"))}),[w]),E=(0,r.useCallback)((function(){try{g&&g(),window.addEventListener("storage",S,!1);var e=window.screen.width/2-225,n=window.screen.height/2-365;return window.open("https://twitter.com/i/oauth2/authorize?response_type=code&client_id="+t+"&redirect_uri="+a+"&scope="+f+"&state="+u+"&code_challenge=challenge&code_challenge_method=plain","twitter","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+n+", left="+e),Promise.resolve()}catch(e){return Promise.reject(e)}}),[f,u,t,g,a,S]);return r.createElement("div",{className:i,onClick:E},o)})));"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var Lp=window,Dp=((0,r.memo)((function(e){var t=e.client_id,n=e.scope,i=void 0===n?"name email":n,a=e.className,o=void 0===a?"":a,s=e.onLoginStart,c=e.onReject,l=e.onResolve,u=e.redirect_uri,d=void 0===u?"/":u,f=e.children,h=(0,r.useRef)(null),p=(0,r.useState)(!1),m=p[0],v=p[1];(0,r.useEffect)((function(){!m&&_()}),[m]),(0,r.useEffect)((function(){return function(){h.current&&h.current.remove()}}),[]);var g=(0,r.useCallback)((function(){return!!document.getElementById("apple-login")}),[]),y=(0,r.useCallback)((function(e,t,n,r,i){void 0===t&&(t="script");var a=e.createElement(t);a.id=n,a.src=r,a.async=!0,a.defer=!0;var o=document.getElementsByTagName("script")[0];h.current=a,o&&o.parentNode&&o.parentNode.insertBefore(a,o),a.onload=i}),[]),b=(0,r.useCallback)((function(e){l({provider:"apple",data:e})}),[l]),_=(0,r.useCallback)((function(){g()?v(!0):y(document,"script","apple-login","https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",(function(){Lp.AppleID.auth.init({clientId:t,scope:i,redirectURI:d,state:"origin:web",usePopup:!0}),v(!0)}))}),[i,t,d,y,g]),x=(0,r.useCallback)((function(){try{if(!m)return Promise.resolve();var e=function(){if(Lp.AppleID){s&&s();var e=function(e,t){try{var n=Promise.resolve(Lp.AppleID.auth.signIn()).then((function(e){b(e)}))}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(0,(function(e){c({err:e})}));if(e&&e.then)return e.then((function(){}))}else _(),c("Apple SDK isn't loaded!")}();return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}),[b,m,_,s,c]);return r.createElement("div",{className:o,onClick:x},f)})),(0,r.memo)((function(e){var t=e.state,n=void 0===t?"":t,i=e.scope,a=void 0===i?"user.info.basic":i,o=e.client_key,s=e.className,c=void 0===s?"":s,l=e.redirect_uri,u=e.children,d=e.onResolve,f=e.onLoginStart;(0,r.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),n=e.searchParams.get("state");null!=n&&n.includes("_tiktok")&&t&&(localStorage.setItem("tiktok",t),window.close())}),[]);var h=(0,r.useCallback)((function(e){var t=e.type,n=e.code,r=e.provider;try{return Promise.resolve("code"===t&&"tiktok"===r&&n&&d({provider:"tiktok",data:{code:n}}))}catch(e){return Promise.reject(e)}}),[d]),p=(0,r.useCallback)((function(){window.removeEventListener("storage",p,!1);var e=localStorage.getItem("tiktok");e&&(h({provider:"tiktok",type:"code",code:e}),localStorage.removeItem("instagram"))}),[h]),m=(0,r.useCallback)((function(){f&&f(),window.addEventListener("storage",p,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://www.tiktok.com/auth/authorize?client_key="+o+"&scope="+a+"&state="+n+"_tiktok&redirect_uri="+l+"&response_type=code","Github","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)}),[a,n,o,l,f,p]);return r.createElement("div",{className:c,onClick:m},u)})),!1),Mp=!1,Up="${JSCORE_VERSION}",Fp=function(e,t){if(!e)throw Vp(t)},Vp=function(e){return new Error("Firebase Database ("+Up+") INTERNAL ASSERT FAILED: "+e)},Bp=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},zp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=a>>2,d=(3&a)<<4|s>>4,f=(15&s)<<2|l>>6,h=63&l;c||(h=64,o||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bp(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],c=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&c)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,c=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==c)throw new Wp;var l=a<<2|o>>4;if(r.push(l),64!==s){var u=o<<4&240|s>>2;if(r.push(u),64!==c){var d=s<<6&192|c;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Wp=function(e){v(n,e);var t=_(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return p(n)}(w(Error)),Hp=function(e){var t=Bp(e);return zp.encodeByteArray(t,!0)},qp=function(e){return Hp(e).replace(/\./g,"")},Gp=function(t){try{return zp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Kp(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Kp(e[n],t[n]));return e}var Yp=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Zp=function(){try{return Yp()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}var n=t&&Gp(t[1]);return n&&JSON.parse(n)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Jp=function(){var e;return null===(e=Zp())||void 0===e?void 0:e.config},Qp=function(){function e(){var t=this;u(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return p(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Xp(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[qp(JSON.stringify({alg:"none",type:"JWT"})),qp(JSON.stringify(a)),""].join(".")}function $p(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function em(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($p())}function tm(){return!0===Dp||!0===Mp}function nm(){return!function(){var t,n=null===(t=Zp())||void 0===t?void 0:t.forceEnvironment;if("node"===n)return!0;if("browser"===n)return!1;try{return"[object process]"===Object.prototype.toString.call(__webpack_require__.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rm(){try{return"object"===typeof indexedDB}catch(e){return!1}}function im(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(H_){t(H_)}}))}var am=function(e){v(n,e);var t=_(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(b(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(b(a),om.prototype.create),a}return p(n)}(w(Error)),om=function(){function e(t,n,r){u(this,e),this.service=t,this.serviceName=n,this.errors=r}return p(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(sm,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new am(n,a,t)}}]),e}();var sm=/\{\$([^}]+)}/g;function cm(e){return JSON.parse(e)}function lm(e){return JSON.stringify(e)}var um=function(t){var n={},r={},i={},a="";try{var o=t.split(".");n=cm(Gp(o[0])||""),r=cm(Gp(o[1])||""),a=o[2],i=r.d||{},delete r.d}catch(e){}return{header:n,claims:r,data:i,signature:a}};function dm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function fm(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function hm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function pm(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function mm(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],c=t[o];if(vm(s)&&vm(c)){if(!mm(s,c))return!1}else if(s!==c)return!1}for(var l=0,u=r;l<u.length;l++){var d=u[l];if(!n.includes(d))return!1}return!0}function vm(e){return null!==e&&"object"===typeof e}var gm=function(){function e(){u(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return p(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,c,l=this.chain_[0],u=this.chain_[1],d=this.chain_[2],f=this.chain_[3],h=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^u&(d^f),c=1518500249):(s=u^d^f,c=1859775393):p<60?(s=u&d|f&(u|d),c=2400959708):(s=u^d^f,c=3395469782);var m=(l<<5|l>>>27)+s+h+c+n[p]&4294967295;h=f,f=d,d=4294967295&(u<<30|u>>>2),u=l,l=m}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function ym(e,t){var n=new bm(e,t);return n.subscribe.bind(n)}var bm=function(){function t(e,n){var r=this;u(this,t),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){e(r)})).catch((function(e){r.error(e)}))}return p(t,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(t,n,r){var i,a=this;if(void 0===t&&void 0===n&&void 0===r)throw new Error("Missing Observer.");void 0===(i=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=N(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(t,["next","error","complete"])?t:{next:t,error:n,complete:r}).next&&(i.next=_m),void 0===i.error&&(i.error=_m),void 0===i.complete&&(i.complete=_m);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{a.finalError?i.error(a.finalError):i.complete()}catch(e){}})),this.observers.push(i),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(t,n){var r=this;this.task.then((function(){if(void 0!==r.observers&&void 0!==r.observers[t])try{n(r.observers[t])}catch(e){"undefined"!==typeof console&&console.error&&console.error(e)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),t}();function _m(){}var xm=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function wm(e,t){return"".concat(e," failed: ").concat(t," argument ")}function Sm(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(wm(e,t)+"must be a valid function.")}function Em(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(wm(e,t)+"must be a valid context object.")}var km=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Nm(e){return e&&e._delegate?e._delegate:e}var jm=function(){function e(t,n,r){u(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return p(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Tm="[DEFAULT]",Im=function(){function t(e,n){u(this,t),this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return p(t,[{key:"get",value:function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Qp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(e){}}return this.instancesDeferred.get(n).promise}},{key:"getImmediate",value:function(t){var n,r=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(n=null===t||void 0===t?void 0:t.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(i)return null;throw e}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Tm})}catch(e){}var n,r=N(this.instancesDeferred.entries());try{for(r.s();!(n=r.n()).done;){var i=k(n.value,2),a=i[0],o=i[1],s=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:s});o.resolve(c)}catch(e){}}}catch(l){r.e(l)}finally{r.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tm;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Be(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(l(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),l(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tm;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tm;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=N(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=k(i.value,2),c=s[0],l=s[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(a)}}catch(u){o.e(u)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Lz){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Cm(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(Lz){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tm;return this.component?this.component.multipleInstances?e:Tm:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();function Cm(e){return e===Tm?void 0:e}var Rm,Om,Am=function(){function e(t){u(this,e),this.name=t,this.providers=new Map}return p(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Im(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Pm=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Om||(Om={}));var Lm={debug:Om.DEBUG,verbose:Om.VERBOSE,info:Om.INFO,warn:Om.WARN,error:Om.ERROR,silent:Om.SILENT},Dm=Om.INFO,Mm=(Nr(Rm={},Om.DEBUG,"log"),Nr(Rm,Om.VERBOSE,"log"),Nr(Rm,Om.INFO,"info"),Nr(Rm,Om.WARN,"warn"),Nr(Rm,Om.ERROR,"error"),Rm),Um=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Mm[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Fm=function(){function e(t){u(this,e),this.name=t,this._logLevel=Dm,this._logHandler=Um,this._userLogHandler=null,Pm.push(this)}return p(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Om))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Lm[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Om.DEBUG].concat(t)),this._logHandler.apply(this,[this,Om.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Om.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Om.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Om.INFO].concat(t)),this._logHandler.apply(this,[this,Om.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Om.WARN].concat(t)),this._logHandler.apply(this,[this,Om.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Om.ERROR].concat(t)),this._logHandler.apply(this,[this,Om.ERROR].concat(t))}}]),e}();var Vm,Bm,zm=function(e,t){return t.some((function(t){return e instanceof t}))};var Wm=new WeakMap,Hm=new WeakMap,qm=new WeakMap,Gm=new WeakMap,Km=new WeakMap;var Ym={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Hm.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qm.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qm(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Zm(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Bm||(Bm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Xm(this),n),Qm(Wm.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qm(e.apply(Xm(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Xm(this),t].concat(r));return qm.set(a,t.sort?t.sort():[t]),Qm(a)}}function Jm(e){return"function"===typeof e?Zm(e):(e instanceof IDBTransaction&&function(e){if(!Hm.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Hm.set(e,t)}}(e),zm(e,Vm||(Vm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ym):e)}function Qm(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Qm(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Wm.set(t,e)})).catch((function(){})),Km.set(t,e),t}(e);if(Gm.has(e))return Gm.get(e);var t=Jm(e);return t!==e&&(Gm.set(e,t),Km.set(t,e)),t}var Xm=function(e){return Km.get(e)};var $m,ev,tv=["get","getKey","getAll","getAllKeys","count"],nv=["put","add","delete","clear"],rv=new Map;function iv(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(rv.get(t))return rv.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=nv.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||tv.includes(n))){var a=function(){var e=Be(Fe().mark((function e(t){var a,o,s,c,l,u,d=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,c=d.length,l=new Array(c>1?c-1:0),u=1;u<c;u++)l[u-1]=d[u];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return rv.set(t,a),a}}}Ym=function(e){return Tr(Tr({},e),{},{get:function(t,n,r){return iv(t,n)||e.get(t,n,r)},has:function(t,n){return!!iv(t,n)||e.has(t,n)}})}(Ym);var av=function(){function e(t){u(this,e),this.container=t}return p(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ov="@firebase/app",sv="0.9.13",cv=new Fm("@firebase/app"),lv="[DEFAULT]",uv=(Nr($m={},ov,"fire-core"),Nr($m,"@firebase/app-compat","fire-core-compat"),Nr($m,"@firebase/analytics","fire-analytics"),Nr($m,"@firebase/analytics-compat","fire-analytics-compat"),Nr($m,"@firebase/app-check","fire-app-check"),Nr($m,"@firebase/app-check-compat","fire-app-check-compat"),Nr($m,"@firebase/auth","fire-auth"),Nr($m,"@firebase/auth-compat","fire-auth-compat"),Nr($m,"@firebase/database","fire-rtdb"),Nr($m,"@firebase/database-compat","fire-rtdb-compat"),Nr($m,"@firebase/functions","fire-fn"),Nr($m,"@firebase/functions-compat","fire-fn-compat"),Nr($m,"@firebase/installations","fire-iid"),Nr($m,"@firebase/installations-compat","fire-iid-compat"),Nr($m,"@firebase/messaging","fire-fcm"),Nr($m,"@firebase/messaging-compat","fire-fcm-compat"),Nr($m,"@firebase/performance","fire-perf"),Nr($m,"@firebase/performance-compat","fire-perf-compat"),Nr($m,"@firebase/remote-config","fire-rc"),Nr($m,"@firebase/remote-config-compat","fire-rc-compat"),Nr($m,"@firebase/storage","fire-gcs"),Nr($m,"@firebase/storage-compat","fire-gcs-compat"),Nr($m,"@firebase/firestore","fire-fst"),Nr($m,"@firebase/firestore-compat","fire-fst-compat"),Nr($m,"fire-js","fire-js"),Nr($m,"firebase","fire-js-all"),$m),dv=new Map,fv=new Map;function hv(t,n){try{t.container.addComponent(n)}catch(e){cv.debug("Component ".concat(n.name," failed to register with FirebaseApp ").concat(t.name),e)}}function pv(e,t){e.container.addOrOverwriteComponent(t)}function mv(e){var t=e.name;if(fv.has(t))return cv.debug("There were multiple attempts to register component ".concat(t,".")),!1;fv.set(t,e);var n,r=N(dv.values());try{for(r.s();!(n=r.n()).done;){hv(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function vv(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lv;vv(e,t).clearInstance(n)}function yv(){fv.clear()}var bv=(Nr(ev={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Nr(ev,"bad-app-name","Illegal App name: '{$appName}"),Nr(ev,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Nr(ev,"app-deleted","Firebase App named '{$appName}' already deleted"),Nr(ev,"no-options","Need to provide options, when not being deployed to hosting via source."),Nr(ev,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Nr(ev,"invalid-log-argument","First argument to `onLog` must be null or a function."),Nr(ev,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Nr(ev,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Nr(ev,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Nr(ev,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ev),_v=new om("app","Firebase",bv),xv=function(){function e(t,n,r){var i=this;u(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jm("app",(function(){return i}),"PUBLIC"))}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw _v.create("app-deleted",{appName:this._name})}}]),e}(),wv="9.23.0";function Sv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:lv,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw _v.create("bad-app-name",{appName:String(i)});if(n||(n=Jp()),!n)throw _v.create("no-options");var a=dv.get(i);if(a){if(mm(n,a.options)&&mm(r,a.config))return a;throw _v.create("duplicate-app",{appName:i})}var o,s=new Am(i),c=N(fv.values());try{for(c.s();!(o=c.n()).done;){var l=o.value;s.addComponent(l)}}catch(d){c.e(d)}finally{c.f()}var u=new xv(n,r,s);return dv.set(i,u),u}function Ev(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lv,t=dv.get(e);if(!t&&e===lv&&Jp())return Sv();if(!t)throw _v.create("no-app",{appName:e});return t}function kv(){return Array.from(dv.values())}function Nv(e){return jv.apply(this,arguments)}function jv(){return jv=Be(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!dv.has(n)){e.next=6;break}return dv.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Tv(e,t,n){var r,i=null!==(r=uv[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void cv.warn(s.join(" "))}mv(new jm("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Iv(e,t){if(null!==e&&"function"!==typeof e)throw _v.create("invalid-log-argument");!function(e,t){var n,r=N(Pm);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Lm[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Om[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Cv(e){var t;t=e,Pm.forEach((function(e){e.setLogLevel(t)}))}var Rv="firebase-heartbeat-database",Ov=1,Av="firebase-heartbeat-store",Pv=null;function Lv(){return Pv||(Pv=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),c=Qm(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Qm(s.result),e.oldVersion,e.newVersion,Qm(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),c.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),c}(Rv,Ov,{upgrade:function(e,t){if(0===t)e.createObjectStore(Av)}}).catch((function(e){throw _v.create("idb-open",{originalErrorMessage:e.message})}))),Pv}function Dv(e){return Mv.apply(this,arguments)}function Mv(){return Mv=Be(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lv();case 3:return n=e.sent,e.next=6,n.transaction(Av).objectStore(Av).get(Vv(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof am?cv.warn(e.t0.message):(i=_v.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),cv.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Mv.apply(this,arguments)}function Uv(e,t){return Fv.apply(this,arguments)}function Fv(){return Fv=Be(Fe().mark((function e(t,n){var r,i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lv();case 3:return r=e.sent,i=r.transaction(Av,"readwrite"),a=i.objectStore(Av),e.next=8,a.put(n,Vv(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof am?cv.warn(e.t0.message):(o=_v.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),cv.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Fv.apply(this,arguments)}function Vv(e){return"".concat(e.name,"!").concat(e.options.appId)}var Bv=function(){function e(t){var n=this;u(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new qv(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return p(e,[{key:"triggerHeartbeat",value:function(){var e=Be(Fe().mark((function e(){var t,n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=zv(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=zv(),n=Wv(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=qp(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function zv(){return(new Date).toISOString().substring(0,10)}function Wv(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=N(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Gv(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Gv(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Hv,qv=function(){function e(t){u(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return p(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rm()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",im().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Be(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Dv(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Be(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Uv(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Be(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Uv(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(l(r.heartbeats),l(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Gv(e){return qp(JSON.stringify({version:2,heartbeats:e})).length}Hv="",mv(new jm("platform-logger",(function(e){return new av(e)}),"PRIVATE")),mv(new jm("heartbeat",(function(e){return new Bv(e)}),"PRIVATE")),Tv(ov,sv,Hv),Tv(ov,sv,"esm2017"),Tv("fire-js","");var Kv,Yv,Zv=function(e,t){return t.some((function(t){return e instanceof t}))};var Jv=new WeakMap,Qv=new WeakMap,Xv=new WeakMap,$v=new WeakMap,eg=new WeakMap;var tg={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qv.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xv.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ig(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ng(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ag(this),n),ig(Jv.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ig(e.apply(ag(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ag(this),t].concat(r));return Xv.set(a,t.sort?t.sort():[t]),ig(a)}}function rg(e){return"function"===typeof e?ng(e):(e instanceof IDBTransaction&&function(e){if(!Qv.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Qv.set(e,t)}}(e),Zv(e,Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,tg):e)}function ig(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ig(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Jv.set(t,e)})).catch((function(){})),eg.set(t,e),t}(e);if($v.has(e))return $v.get(e);var t=rg(e);return t!==e&&($v.set(e,t),eg.set(t,e)),t}var ag=function(e){return eg.get(e)};var og,sg=["get","getKey","getAll","getAllKeys","count"],cg=["put","add","delete","clear"],lg=new Map;function ug(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(lg.get(t))return lg.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=cg.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||sg.includes(n))){var a=function(){var e=Be(Fe().mark((function e(t){var a,o,s,c,l,u,d=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,c=d.length,l=new Array(c>1?c-1:0),u=1;u<c;u++)l[u-1]=d[u];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return lg.set(t,a),a}}}!function(e){tg=e(tg)}((function(e){return Tr(Tr({},e),{},{get:function(t,n,r){return ug(t,n)||e.get(t,n,r)},has:function(t,n){return!!ug(t,n)||e.has(t,n)}})}));var dg="@firebase/installations",fg="0.6.4",hg=1e4,pg="w:".concat(fg),mg="FIS_v2",vg="https://firebaseinstallations.googleapis.com/v1",gg=36e5,yg=(Nr(og={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Nr(og,"not-registered","Firebase Installation is not registered."),Nr(og,"installation-not-found","Firebase Installation not found."),Nr(og,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Nr(og,"app-offline","Could not process request. Application offline."),Nr(og,"delete-pending-registration","Can't delete installation while there is a pending registration request."),og),bg=new om("installations","Installations",yg);function _g(e){return e instanceof am&&e.code.includes("request-failed")}function xg(e){var t=e.projectId;return"".concat(vg,"/projects/").concat(t,"/installations")}function wg(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Sg(e,t){return Eg.apply(this,arguments)}function Eg(){return(Eg=Be(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",bg.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kg(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ng(e,t){var n=t.refreshToken,r=kg(e);return r.append("Authorization",function(e){return"".concat(mg," ").concat(e)}(n)),r}function jg(e){return Tg.apply(this,arguments)}function Tg(){return Tg=Be(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Tg.apply(this,arguments)}function Ig(e,t){return Cg.apply(this,arguments)}function Cg(){return(Cg=Be(Fe().mark((function e(t,n){var r,i,a,o,s,c,l,u,d,f,h,p;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=xg(r),s=kg(r),!(c=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,c.getHeartbeatsHeader();case 8:(l=e.sent)&&s.append("x-firebase-client",l);case 10:return u={fid:a,authVersion:mg,appId:r.appId,sdkVersion:pg},d={method:"POST",headers:s,body:JSON.stringify(u)},e.next=14,jg((function(){return fetch(o,d)}));case 14:if(!(f=e.sent).ok){e.next=23;break}return e.next=18,f.json();case 18:return h=e.sent,p={fid:h.fid||a,registrationStatus:2,refreshToken:h.refreshToken,authToken:wg(h.authToken)},e.abrupt("return",p);case 23:return e.next=25,Sg("Create Installation",f);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rg(e){return new Promise((function(t){setTimeout(t,e)}))}var Og=/^[cdef][\w-]{21}$/,Ag="";function Pg(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,l(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Og.test(t)?t:Ag}catch(Lz){return Ag}}function Lg(e){return"".concat(e.appName,"!").concat(e.appId)}var Dg=new Map;function Mg(e,t){var n=Lg(e);Ug(n,t),function(e,t){var n=Vg();n&&n.postMessage({key:e,fid:t});Bg()}(n,t)}function Ug(e,t){var n=Dg.get(e);if(n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Fg=null;function Vg(){return!Fg&&"BroadcastChannel"in self&&((Fg=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Ug(e.data.key,e.data.fid)}),Fg}function Bg(){0===Dg.size&&Fg&&(Fg.close(),Fg=null)}var zg="firebase-installations-database",Wg=1,Hg="firebase-installations-store",qg=null;function Gg(){return qg||(qg=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),c=ig(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(ig(s.result),e.oldVersion,e.newVersion,ig(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),c.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),c}(zg,Wg,{upgrade:function(e,t){if(0===t)e.createObjectStore(Hg)}})),qg}function Kg(e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=Be(Fe().mark((function e(t,n){var r,i,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),e.next=3,Gg();case 3:return i=e.sent,a=i.transaction(Hg,"readwrite"),o=a.objectStore(Hg),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||Mg(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),Yg.apply(this,arguments)}function Zg(e){return Jg.apply(this,arguments)}function Jg(){return Jg=Be(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lg(t),e.next=3,Gg();case 3:return r=e.sent,i=r.transaction(Hg,"readwrite"),e.next=7,i.objectStore(Hg).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),Jg.apply(this,arguments)}function Qg(e,t){return Xg.apply(this,arguments)}function Xg(){return Xg=Be(Fe().mark((function e(t,n){var r,i,a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),e.next=3,Gg();case 3:return i=e.sent,a=i.transaction(Hg,"readwrite"),o=a.objectStore(Hg),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(c=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(c,r);case 17:return e.next=19,a.done;case 19:return!c||s&&s.fid===c.fid||Mg(t,c.fid),e.abrupt("return",c);case 21:case"end":return e.stop()}}),e)}))),Xg.apply(this,arguments)}function $g(e){return ey.apply(this,arguments)}function ey(){return(ey=Be(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qg(t.appConfig,(function(e){var r=ty(e),i=ny(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==Ag){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ty(e){return sy(e||{fid:Pg(),registrationStatus:0})}function ny(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(bg.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return ry.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:iy(e)}:{installationEntry:t}}function ry(){return(ry=Be(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ig(t,n);case 3:return r=e.sent,e.abrupt("return",Kg(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!_g(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Zg(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Kg(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function iy(e){return ay.apply(this,arguments)}function ay(){return(ay=Be(Fe().mark((function e(t){var n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oy(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Rg(100);case 6:return e.next=8,oy(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,$g(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oy(e){return Qg(e,(function(e){if(!e)throw bg.create("installation-not-found");return sy(e)}))}function sy(e){return 1===(t=e).registrationStatus&&t.registrationTime+hg<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function cy(e,t){return ly.apply(this,arguments)}function ly(){return(ly=Be(Fe().mark((function e(t,n){var r,i,a,o,s,c,l,u,d,f,h;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=uy(r,n),o=Ng(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(c=e.sent)&&o.append("x-firebase-client",c);case 9:return l={installation:{sdkVersion:pg,appId:r.appId}},u={method:"POST",headers:o,body:JSON.stringify(l)},e.next=13,jg((function(){return fetch(a,u)}));case 13:if(!(d=e.sent).ok){e.next=22;break}return e.next=17,d.json();case 17:return f=e.sent,h=wg(f),e.abrupt("return",h);case 22:return e.next=24,Sg("Generate Auth Token",d);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uy(e,t){var n=t.fid;return"".concat(xg(e),"/").concat(n,"/authTokens:generate")}function dy(e){return fy.apply(this,arguments)}function fy(){return fy=Be(Fe().mark((function e(t){var n,r,i,a,o=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,Qg(t.appConfig,(function(e){if(!yy(e))throw bg.create("not-registered");var i=e.authToken;if(!n&&by(i))return e;if(1===i.requestStatus)return r=hy(t,n),e;if(!navigator.onLine)throw bg.create("app-offline");var a=_y(e);return r=vy(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e,t){return py.apply(this,arguments)}function py(){return(py=Be(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,my(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Rg(100);case 6:return e.next=8,my(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",dy(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function my(e){return Qg(e,(function(e){if(!yy(e))throw bg.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+hg<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function vy(e,t){return gy.apply(this,arguments)}function gy(){return(gy=Be(Fe().mark((function e(t,n){var r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cy(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Kg(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!_g(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Zg(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Kg(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function yy(e){return void 0!==e&&2===e.registrationStatus}function by(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+gg}(e)}function _y(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function xy(){return(xy=Be(Fe().mark((function e(t){var n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,$g(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):dy(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wy(){return wy=Be(Fe().mark((function e(t){var n,r,i,a=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Sy(r);case 4:return e.next=6,dy(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),wy.apply(this,arguments)}function Sy(e){return Ey.apply(this,arguments)}function Ey(){return(Ey=Be(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$g(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ky(e){return bg.create("missing-app-config-values",{valueName:e})}var Ny="installations",jy=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ky("App Configuration");if(!e.name)throw ky("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw ky(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:vv(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Ty=function(e){var t=vv(e.getProvider("app").getImmediate(),Ny).getImmediate(),n={getId:function(){return function(e){return xy.apply(this,arguments)}(t)},getToken:function(e){return function(e){return wy.apply(this,arguments)}(t,e)}};return n};mv(new jm(Ny,jy,"PUBLIC")),mv(new jm("installations-internal",Ty,"PRIVATE")),Tv(dg,fg),Tv(dg,fg,"esm2017");var Iy,Cy,Ry=function(e,t){return t.some((function(t){return e instanceof t}))};var Oy=new WeakMap,Ay=new WeakMap,Py=new WeakMap,Ly=new WeakMap,Dy=new WeakMap;var My={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ay.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Py.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vy(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Uy(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Cy||(Cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(By(this),n),Vy(Oy.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vy(e.apply(By(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[By(this),t].concat(r));return Py.set(a,t.sort?t.sort():[t]),Vy(a)}}function Fy(e){return"function"===typeof e?Uy(e):(e instanceof IDBTransaction&&function(e){if(!Ay.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ay.set(e,t)}}(e),Ry(e,Iy||(Iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,My):e)}function Vy(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Vy(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Oy.set(t,e)})).catch((function(){})),Dy.set(t,e),t}(e);if(Ly.has(e))return Ly.get(e);var t=Fy(e);return t!==e&&(Ly.set(e,t),Dy.set(t,e)),t}var By=function(e){return Dy.get(e)};function zy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),c=Vy(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Vy(s.result),e.oldVersion,e.newVersion,Vy(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),c.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),c}function Wy(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).blocked,n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(function(){return t()})),Vy(n).then((function(){}))}var Hy,qy=["get","getKey","getAll","getAllKeys","count"],Gy=["put","add","delete","clear"],Ky=new Map;function Yy(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ky.get(t))return Ky.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Gy.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||qy.includes(n))){var a=function(){var e=Be(Fe().mark((function e(t){var a,o,s,c,l,u,d=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,c=d.length,l=new Array(c>1?c-1:0),u=1;u<c;u++)l[u-1]=d[u];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ky.set(t,a),a}}}!function(e){My=e(My)}((function(e){return Tr(Tr({},e),{},{get:function(t,n,r){return Yy(t,n)||e.get(t,n,r)},has:function(t,n){return!!Yy(t,n)||e.has(t,n)}})}));var Zy,Jy,Qy="/firebase-messaging-sw.js",Xy="/firebase-cloud-messaging-push-scope",$y="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eb="https://fcmregistrations.googleapis.com/v1",tb="google.c.a.c_id",nb="google.c.a.c_l",rb="google.c.a.ts",ib="google.c.a.e";function ab(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,l(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ob(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Zy||(Zy={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Jy||(Jy={}));var sb="fcm_token_details_db",cb=5,lb="fcm_token_object_Store";function ub(e){return db.apply(this,arguments)}function db(){return db=Be(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(sb)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,zy(sb,cb,{upgrade:function(){var e=Be(Fe().mark((function e(n,r,a,o){var s,c,l,u,d,f;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(lb)){e.next=4;break}return e.abrupt("return");case 4:return c=o.objectStore(lb),e.next=7,c.index("fcmSenderId").get(t);case 7:return l=e.sent,e.next=10,c.clear();case 10:if(l){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((u=l).auth&&u.p256dh&&u.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"===typeof u.vapidKey?u.vapidKey:ab(u.vapidKey)}},e.next=20;break;case 19:3===r?i={token:(d=l).fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ab(d.auth),p256dh:ab(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ab(d.vapidKey)}}:4===r&&(i={token:(f=l).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:ab(f.auth),p256dh:ab(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:ab(f.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,Wy(sb);case 14:return e.next=16,Wy("fcm_vapid_details_db");case 16:return e.next=18,Wy("undefined");case 18:return e.abrupt("return",fb(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function fb(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var hb="firebase-messaging-database",pb=1,mb="firebase-messaging-store",vb=null;function gb(){return vb||(vb=zy(hb,pb,{upgrade:function(e,t){if(0===t)e.createObjectStore(mb)}})),vb}function yb(e){return bb.apply(this,arguments)}function bb(){return bb=Be(Fe().mark((function e(t){var n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Eb(t),e.next=3,gb();case 3:return r=e.sent,e.next=6,r.transaction(mb).objectStore(mb).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,ub(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,_b(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)}))),bb.apply(this,arguments)}function _b(e,t){return xb.apply(this,arguments)}function xb(){return xb=Be(Fe().mark((function e(t,n){var r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eb(t),e.next=3,gb();case 3:return i=e.sent,a=i.transaction(mb,"readwrite"),e.next=7,a.objectStore(mb).put(n,r);case 7:return e.next=9,a.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),xb.apply(this,arguments)}function wb(e){return Sb.apply(this,arguments)}function Sb(){return Sb=Be(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Eb(t),e.next=3,gb();case 3:return r=e.sent,i=r.transaction(mb,"readwrite"),e.next=7,i.objectStore(mb).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function Eb(e){return e.appConfig.appId}var kb=(Nr(Hy={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Nr(Hy,"only-available-in-window","This method is available in a Window context."),Nr(Hy,"only-available-in-sw","This method is available in a service worker context."),Nr(Hy,"permission-default","The notification permission was not granted and dismissed instead."),Nr(Hy,"permission-blocked","The notification permission was not granted and blocked instead."),Nr(Hy,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),Nr(Hy,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),Nr(Hy,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),Nr(Hy,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),Nr(Hy,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),Nr(Hy,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),Nr(Hy,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),Nr(Hy,"token-update-no-token","FCM returned no token when updating the user to push."),Nr(Hy,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),Nr(Hy,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),Nr(Hy,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),Nr(Hy,"invalid-vapid-key","The public VAPID key must be a string."),Nr(Hy,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),Hy),Nb=new om("messaging","Messaging",kb);function jb(e,t){return Tb.apply(this,arguments)}function Tb(){return(Tb=Be(Fe().mark((function e(t,n){var r,i,a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pb(t);case 2:return r=e.sent,i=Db(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(Ab(t.appConfig),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Nb.create("token-subscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw c=o.error.message,Nb.create("token-subscribe-failed",{errorInfo:c});case 20:if(o.token){e.next=22;break}throw Nb.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function Ib(e,t){return Cb.apply(this,arguments)}function Cb(){return(Cb=Be(Fe().mark((function e(t,n){var r,i,a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pb(t);case 2:return r=e.sent,i=Db(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(Ab(t.appConfig),"/").concat(n.token),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Nb.create("token-update-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw c=o.error.message,Nb.create("token-update-failed",{errorInfo:c});case 20:if(o.token){e.next=22;break}throw Nb.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function Rb(e,t){return Ob.apply(this,arguments)}function Ob(){return Ob=Be(Fe().mark((function e(t,n){var r,i,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pb(t);case 2:return r=e.sent,i={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(Ab(t.appConfig),"/").concat(n),i);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw s=o.error.message,Nb.create("token-unsubscribe-failed",{errorInfo:s});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),Nb.create("token-unsubscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 19:case"end":return e.stop()}}),e,null,[[4,16]])}))),Ob.apply(this,arguments)}function Ab(e){var t=e.projectId;return"".concat(eb,"/projects/").concat(t,"/registrations")}function Pb(e){return Lb.apply(this,arguments)}function Lb(){return(Lb=Be(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Db(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==$y&&(a.web.applicationPubKey=i),a}var Mb=6048e5;function Ub(e){return Fb.apply(this,arguments)}function Fb(){return Fb=Be(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gb(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:ab(n.getKey("auth")),p256dh:ab(n.getKey("p256dh"))},e.next=6,yb(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",Hb(t.firebaseDependencies,r));case 11:if(Yb(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,Rb(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",Hb(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+Mb)){e.next=27;break}return e.abrupt("return",zb(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])}))),Fb.apply(this,arguments)}function Vb(e){return Bb.apply(this,arguments)}function Bb(){return Bb=Be(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yb(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,Rb(t.firebaseDependencies,n.token);case 6:return e.next=8,wb(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}function zb(e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=Be(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ib(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,_b(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Vb(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])}))),Wb.apply(this,arguments)}function Hb(e,t){return qb.apply(this,arguments)}function qb(){return qb=Be(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jb(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,_b(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)}))),qb.apply(this,arguments)}function Gb(e,t){return Kb.apply(this,arguments)}function Kb(){return(Kb=Be(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ob(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yb(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function Zb(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var a=t.notification.icon;a&&(e.notification.icon=a)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;s&&(e.fcmOptions.link=s);var c=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}(t,e),t}function Jb(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Qb(e){return Nb.create("missing-app-config-values",{valueName:e})}Jb("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Jb("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Xb=function(){function e(t,n,r){u(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw Qb("App Configuration Object");if(!e.name)throw Qb("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw Qb(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return p(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function $b(e){return e_.apply(this,arguments)}function e_(){return e_=Be(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(Qy,{scope:Xy});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch((function(){})),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Nb.create("failed-service-worker-registration",{browserErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),e_.apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=Be(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||t.swRegistration){e.next=3;break}return e.next=3,$b(t);case 3:if(n||!t.swRegistration){e.next=5;break}return e.abrupt("return");case 5:if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw Nb.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t){return i_.apply(this,arguments)}function i_(){return i_=Be(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=$y);case 1:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e,t){return o_.apply(this,arguments)}function o_(){return o_=Be(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Nb.create("only-available-in-window");case 2:if("default"!==Notification.permission){e.next=5;break}return e.next=5,Notification.requestPermission();case 5:if("granted"===Notification.permission){e.next=7;break}throw Nb.create("permission-blocked");case 7:return e.next=9,r_(t,null===n||void 0===n?void 0:n.vapidKey);case 9:return e.next=11,t_(t,null===n||void 0===n?void 0:n.serviceWorkerRegistration);case 11:return e.abrupt("return",Ub(t));case 12:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function s_(e,t,n){return c_.apply(this,arguments)}function c_(){return c_=Be(Fe().mark((function e(t,n,r){var i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l_(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(i,{message_id:r[tb],message_name:r[nb],message_time:r[rb],message_device_time:Math.floor(Date.now()/1e3)});case 5:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}function l_(e){switch(e){case Jy.NOTIFICATION_CLICKED:return"notification_open";case Jy.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function u_(){return u_=Be(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===Jy.PUSH_RECEIVED&&("function"===typeof t.onMessageHandler?t.onMessageHandler(Zb(r)):t.onMessageHandler.next(Zb(r))),i=r.data,"object"!==typeof(a=i)||!a||!(tb in a)||"1"!==i[ib]){e.next=8;break}return e.next=8,s_(t,r.messageType,i);case 8:case"end":return e.stop()}var a}),e)}))),u_.apply(this,arguments)}var d_="@firebase/messaging",f_="0.12.4",h_=function(e){var t=new Xb(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(function(e){return function(e,t){return u_.apply(this,arguments)}(t,e)})),t},p_=function(e){var t=e.getProvider("messaging").getImmediate(),n={getToken:function(e){return a_(t,e)}};return n};function m_(){return(m_=Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,im();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",!1);case 8:return e.abrupt("return","undefined"!==typeof window&&rm()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function v_(e,t){return g_.apply(this,arguments)}function g_(){return g_=Be(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Nm(t),e.abrupt("return",a_(t,n));case 2:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}mv(new jm("messaging",h_,"PUBLIC")),mv(new jm("messaging-internal",p_,"PRIVATE")),Tv(d_,f_),Tv(d_,f_,"esm2017");var y_;Tv("firebase","9.23.0","app");var b_=function(){function e(t,n){var r=this;u(this,e),this._delegate=t,this.firebase=n,hv(t,new jm("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Nv(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lv;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lv;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){hv(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){pv(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),__=(Nr(y_={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Nr(y_,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),y_),x_=new om("app-compat","Firebase",__);var w_=function e(){var n=function(e){var n={},r={__esModule:!0,initializeApp:function(t){var i=Sv(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(dm(n,i.name))return n[i.name];var a=new e(i,r);return n[i.name]=a,a},app:i,registerVersion:Tv,setLogLevel:Cv,onLog:Iv,apps:null,SDK_VERSION:wv,INTERNAL:{registerComponent:function(t){var n=t.name,a=n.replace("-compat","");if(mv(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw x_.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==t.serviceProps&&Kp(o,t.serviceProps),r[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:t}};function i(e){if(!dm(n,e=e||lv))throw x_.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=e,r}(b_);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Kp(n,e)},createSubscribe:ym,ErrorFactory:om,deepExtend:Kp}),n}(),S_=new Fm("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){S_.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var E_=self.firebase.SDK_VERSION;E_&&E_.indexOf("LITE")>=0&&S_.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var k_=w_;!function(e){Tv("@firebase/app-compat","0.2.13",e)}();var N_="@firebase/database",j_="0.14.4",T_="";function I_(e){T_=e}var C_=function(){function e(t){u(this,e),this.domStorage_=t,this.prefix_="firebase:"}return p(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),lm(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:cm(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),R_=function(){function e(){u(this,e),this.cache_={},this.isInMemoryStorage=!0}return p(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return dm(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),O_=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new C_(n)}}catch(e){}return new R_},A_=O_("localStorage"),P_=O_("sessionStorage"),L_=new Fm("@firebase/database"),D_=function(){var e=1;return function(){return e++}}(),M_=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Fp(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new gm;n.update(t);var r=n.digest();return zp.encodeByteArray(r)},U_=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?lm(r):r,t+=" "}return t},F_=null,V_=!0,B_=function(e,t){Fp(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(L_.logLevel=Om.VERBOSE,F_=L_.log.bind(L_),t&&P_.set("logging_enabled",!0)):"function"===typeof e?F_=e:(F_=null,P_.remove("logging_enabled"))},z_=function(){if(!0===V_&&(V_=!1,null===F_&&!0===P_.get("logging_enabled")&&B_(!0)),F_){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=U_.apply(null,t);F_(r)}},W_=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];z_.apply(void 0,[e].concat(n))}},H_=function(){var e="FIREBASE INTERNAL ERROR: "+U_.apply(void 0,arguments);L_.error(e)},q_=function(){var e="FIREBASE FATAL ERROR: ".concat(U_.apply(void 0,arguments));throw L_.error(e),new Error(e)},G_=function(){var e="FIREBASE WARNING: "+U_.apply(void 0,arguments);L_.warn(e)},K_=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Y_="[MIN_NAME]",Z_="[MAX_NAME]",J_=function(e,t){if(e===t)return 0;if(e===Y_||t===Z_)return-1;if(t===Y_||e===Z_)return 1;var n=ix(e),r=ix(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Q_=function(e,t){return e===t?0:e<t?-1:1},X_=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+lm(t))},$_=function e(t){if("object"!==typeof t||null===t)return lm(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=lm(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},ex=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function tx(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var nx=function(e){Fp(!K_(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var c=s.join(""),l="";for(a=0;a<64;a+=8){var u=parseInt(c.substr(a,8),2).toString(16);1===u.length&&(u="0"+u),l+=u}return l.toLowerCase()};var rx=new RegExp("^-?(0*)\\d{1,10}$"),ix=function(e){if(rx.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ax=function(t){try{t()}catch(e){setTimeout((function(){var n=e.stack||"";throw G_("Exception was thrown by user callback.",n),e}),Math.floor(0))}},ox=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},sx=function(){function e(t,n){var r=this;u(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return p(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){G_('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),cx=function(){function e(t,n,r){var i=this;u(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return p(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(z_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',G_(e)}}]),e}(),lx=function(){function e(t){u(this,e),this.accessToken=t}return p(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();lx.OWNER="owner";var ux="5",dx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fx="ac",hx="websocket",px="long_polling",mx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];u(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=A_.get("host:"+t)||this._host}return p(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&A_.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function vx(e,t,n){var r;if(Fp("string"===typeof t,"typeof type must == string"),Fp("object"===typeof n,"typeof params must == object"),t===hx)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==px)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return tx(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var gx=function(){function e(){u(this,e),this.counters_={}}return p(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;dm(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Kp(void 0,this.counters_)}}]),e}(),yx={},bx={};function _x(e){var t=e.toString();return yx[t]||(yx[t]=new gx),yx[t]}var xx=function(){function e(t){u(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return p(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&ax((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),wx="start",Sx=function(){function e(t,n,r,i,a,o,s){var c=this;u(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=W_(t),this.stats_=_x(n),this.urlFn=function(e){return c.appCheckToken&&(e[fx]=c.appCheckToken),vx(n,px,e)}}return p(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new xx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(tm()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ex((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===wx)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[wx]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=ux,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[fx]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&dx.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=lm(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Hp(t),r=ex(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!tm()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=lm(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!tm()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Ex=function(){function t(n,r,i,a){if(u(this,t),this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,tm())this.commandCB=n,this.onMessageCB=r;else{this.uniqueCallbackIdentifier=D_(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=r,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))o='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){z_("frame writing exception"),e.stack&&z_(e.stack),z_(e)}}}return p(t,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(t,n){var r=this;tm()?this.doNodeLongPoll(t,n):setTimeout((function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var e=i.readyState;e&&"loaded"!==e&&"complete"!==e||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){z_("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch(e){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||z_("No IE domain setting required")}catch(e){var n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}}]),t}(),kx=null;"undefined"!==typeof MozWebSocket?kx=MozWebSocket:"undefined"!==typeof WebSocket&&(kx=WebSocket);var Nx=function(){function t(e,n,r,i,a,o,s){u(this,t),this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=W_(this.connId),this.stats_=_x(n),this.connURL=t.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return p(t,[{key:"open",value:function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,A_.set("previous_websocket_failure",!0);try{var i;if(tm()){var a=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":"Firebase/".concat(ux,"/").concat(T_,"/").concat(process.platform,"/").concat(a),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(i.proxy={origin:s})}this.mySock=new kx(this.connURL,[],i)}catch(e){this.log_("Error instantiating WebSocket.");var c=e.message||e.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){A_.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=cm(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Fp(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=lm(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=ex(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=ux,!tm()&&"undefined"!==typeof location&&location.hostname&&dx.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[fx]=r),i&&(a.p=i),vx(e,hx,a)}},{key:"forceDisallow",value:function(){t.forceDisallow_=!0}},{key:"isAvailable",value:function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==kx&&!t.forceDisallow_}},{key:"previouslyFailed",value:function(){return A_.isInMemoryStorage||!0===A_.get("previous_websocket_failure")}}]),t}();Nx.responsesRequiredToBeHealthy=2,Nx.healthyTimeout=3e4;var jx=function(){function e(t){u(this,e),this.initTransports_(t)}return p(e,[{key:"initTransports_",value:function(t){var n=Nx&&Nx.isAvailable(),r=n&&!Nx.previouslyFailed();if(t.webSocketOnly&&(n||G_("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nx];else{var i,a=this.transports_=[],o=N(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(c){o.e(c)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Sx,Nx]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();jx.globalTransportInitialized_=!1;var Tx=function(){function e(t,n,r,i,a,o,s,c,l,d){u(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=W_("c:"+this.id+":"),this.transportManager_=new jx(n),this.log_("Connection created"),this.start_()}return p(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ox((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=X_("t",e),n=X_("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=X_("t",e),n=X_("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=X_("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?H_("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):H_("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ux!==n&&G_("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ox((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ox((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(A_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Ix=function(){function e(){u(this,e)}return p(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Cx=function(){function e(t){u(this,e),this.allowedEvents_=t,this.listeners_={},Fp(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return p(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=l(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Fp(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Rx=function(e){v(n,e);var t=_(n);function n(){var e;return u(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||em()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return p(n,[{key:"getInitialEvent",value:function(e){return Fp("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Cx),Ox=32,Ax=768,Px=function(){function e(t,n){if(u(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return p(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Lx(){return new Px("")}function Dx(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Mx(e){return e.pieces_.length-e.pieceNum_}function Ux(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Px(e.pieces_,t)}function Fx(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Vx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Bx(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Px(t,0)}function zx(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Px)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Px(n,0)}function Wx(e){return e.pieceNum_>=e.pieces_.length}function Hx(e,t){var n=Dx(e),r=Dx(t);if(null===n)return t;if(n===r)return Hx(Ux(e),Ux(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function qx(e,t){for(var n=Vx(e,0),r=Vx(t,0),i=0;i<n.length&&i<r.length;i++){var a=J_(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Gx(e,t){if(Mx(e)!==Mx(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Kx(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Mx(e)>Mx(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Yx=p((function e(t,n){u(this,e),this.errorPrefix_=n,this.parts_=Vx(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=km(this.parts_[r]);Zx(this)}));function Zx(e){if(e.byteLength_>Ax)throw new Error(e.errorPrefix_+"has a key path longer than "+Ax+" bytes ("+e.byteLength_+").");if(e.parts_.length>Ox)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ox+") or object contains a cycle "+Jx(e))}function Jx(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Qx=function(e){v(n,e);var t=_(n);function n(){var e,r,i;return u(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return p(n,[{key:"getInitialEvent",value:function(e){return Fp("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Cx),Xx=1e3,$x=function(e){v(n,e);var t=_(n);function n(e,r,i,a,o,s,c,l){var d;if(u(this,n),(d=t.call(this)).repoInfo_=e,d.applicationId_=r,d.onDataUpdate_=i,d.onConnectStatus_=a,d.onServerInfoUpdate_=o,d.authTokenProvider_=s,d.appCheckTokenProvider_=c,d.authOverride_=l,d.id=n.nextPersistentConnectionId_++,d.log_=W_("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=Xx,d.maxReconnectDelay_=3e5,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,l&&!tm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Qx.getInstance().on("visible",d.onVisible_,b(d)),-1===e.host.indexOf("fblocal")&&Rx.getInstance().on("online",d.onOnline_,b(d)),d}return p(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(lm(i)),Fp(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Qp,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Fp(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Fp(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,c=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==c&&t.removeListen_(i,a),e.onComplete&&e.onComplete(c,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=um(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=um(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Fp(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+lm(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):H_("Unrecognized action received from server: "+lm(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Fp(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xx,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xx,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Xx),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Be(Fe().mark((function e(){var t,r,i,a,o,s,c,l,u,d,f,h,p,m,v=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,c=null,l=function(){c?c.close():(s=!0,i())},u=function(e){Fp(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:u},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:f=e.sent,h=k(f,2),p=h[0],m=h[1],s?z_("getToken() completed but was canceled"):(z_("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=m&&m.token,c=new Tx(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){G_(e+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&G_(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){z_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){z_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hm(this.interruptReasons_)&&(this.reconnectDelay_=Xx,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return $_(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Px(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){z_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){z_("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=N(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=N(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(c){r.e(c)}finally{r.f()}}}catch(c){t.e(c)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";tm()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+T_.replace(/\./g,"-")]=1,em()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Rx.getInstance().currentlyOnline();return hm(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&dm(e,"w")){var n=fm(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();G_("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Ix);$x.nextPersistentConnectionId_=0,$x.nextConnectionId_=0;var ew,tw=function(){function e(t,n){u(this,e),this.name=t,this.node=n}return p(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),nw=function(){function e(){u(this,e)}return p(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new tw(Y_,e),r=new tw(Y_,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return tw.MIN}}]),e}(),rw=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n,[{key:"compare",value:function(e,t){return J_(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Vp("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return tw.MIN}},{key:"maxPost",value:function(){return new tw(Z_,ew)}},{key:"makePost",value:function(e,t){return Fp("string"===typeof e,"KeyIndex indexValue must always be a string."),new tw(e,ew)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return ew},set:function(e){ew=e}}]),n}(nw),iw=new rw,aw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;u(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return p(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),ow=function(){function e(t,n,r,i,a){u(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:lw.EMPTY_NODE,this.right=null!=a?a:lw.EMPTY_NODE}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return lw.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return lw.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();ow.RED=!0,ow.BLACK=!1;var sw,cw=function(){function e(){u(this,e)}return p(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ow(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),lw=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;u(this,e),this.comparator_=t,this.root_=n}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ow.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ow.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new aw(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new aw(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new aw(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new aw(this.root_,null,this.comparator_,!0,e)}}]),e}();function uw(e,t){return J_(e.name,t.name)}function dw(e,t){return J_(e,t)}lw.EMPTY_NODE=new cw;var fw,hw,pw,mw=function(e){return"number"===typeof e?"number:"+nx(e):"string:"+e},vw=function(e){if(e.isLeafNode()){var t=e.val();Fp("string"===typeof t||"number"===typeof t||"object"===typeof t&&dm(t,".sv"),"Priority must be a string or number.")}else Fp(e===sw||e.isEmpty(),"priority of unexpected type.");Fp(e===sw||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},gw=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;u(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Fp(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),vw(this.priorityNode_)}return p(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Wx(t)?this:".priority"===Dx(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Dx(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Fp(".priority"!==r||1===Mx(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ux(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+mw(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?nx(this.value_):this.value_,this.lazyHash_=M_(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Fp(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Fp(i>=0,"Unknown leaf type: "+n),Fp(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return fw},set:function(e){fw=e}}]),e}();gw.VALUE_TYPE_ORDER=["object","boolean","number","string"];var yw,bw,_w=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?J_(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return tw.MIN}},{key:"maxPost",value:function(){return new tw(Z_,new gw("[PRIORITY-POST]",pw))}},{key:"makePost",value:function(e,t){var n=hw(e);return new tw(t,new gw("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(nw),xw=new _w,ww=Math.log(2),Sw=function(){function e(t){u(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/ww,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return p(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Ew=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new ow(o,a.node,ow.BLACK,null,null);var c=parseInt(s/2,10)+r,l=t(r,c),u=t(c+1,i);return a=e[c],o=n?n(a):a,new ow(o,a.node,ow.BLACK,l,u)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),u=e[a],d=n?n(u):u;c(new ow(d,u.node,r,null,l))},c=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var u=t.nextBitIsOne(),d=Math.pow(2,t.count-(l+1));u?s(d,ow.BLACK):(s(d,ow.BLACK),s(d,ow.RED))}return a}(new Sw(e.length));return new lw(r||t,a)},kw={},Nw=function(){function e(t,n){u(this,e),this.indexes_=t,this.indexSet_=n}return p(e,[{key:"get",value:function(e){var t=fm(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof lw?t:null}},{key:"hasIndex",value:function(e){return dm(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Fp(t!==iw,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(tw.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Ew(i,t.getCompare()):kw;var c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;var u=Object.assign({},this.indexes_);return u[c]=r,new e(u,l)}},{key:"addToIndexes",value:function(t,n){var r=this,i=pm(this.indexes_,(function(e,i){var a=fm(r.indexSet_,i);if(Fp(a,"Missing index implementation for "+i),e===kw){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(tw.Wrap),c=s.getNext();c;)c.name!==t.name&&o.push(c),c=s.getNext();return o.push(t),Ew(o,a.getCompare())}return kw}var l=n.get(t.name),u=e;return l&&(u=u.remove(new tw(t.name,l))),u.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(pm(this.indexes_,(function(e){if(e===kw)return e;var r=n.get(t.name);return r?e.remove(new tw(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Fp(kw&&xw,"ChildrenNode.ts has not been loaded"),yw=yw||new e({".priority":kw},{".priority":xw})}}]),e}(),jw=function(){function e(t,n,r){u(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&vw(this.priorityNode_),this.children_.isEmpty()&&Fp(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return p(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||bw}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?bw:t}},{key:"getChild",value:function(e){var t=Dx(e);return null===t?this:this.getImmediateChild(t).getChild(Ux(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Fp(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new tw(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?bw:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Dx(e);if(null===n)return t;Fp(".priority"!==Dx(e)||1===Mx(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ux(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(xw,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+mw(this.getPriority().val())+":"),this.forEachChild(xw,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":M_(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new tw(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new tw(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new tw(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,tw.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,tw.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Tw?-1:0}},{key:"withIndex",value:function(t){if(t===iw||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===iw||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(xw),r=t.getIterator(xw),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===iw?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return bw||(bw=new e(new lw(dw),null,Nw.Default))}}]),e}();jw.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Tw=new(function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.call(this,new lw(dw),jw.EMPTY_NODE,Nw.Default)}return p(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return jw.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(jw));Object.defineProperties(tw,{MIN:{value:new tw(Y_,jw.EMPTY_NODE)},MAX:{value:new tw(Z_,Tw)}}),rw.__EMPTY_NODE=jw.EMPTY_NODE,gw.__childrenNodeConstructor=jw,sw=Tw,function(e){pw=e}(Tw);var Iw=!0;function Cw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return jw.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Fp(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new gw(e,Cw(t));if(e instanceof Array||!Iw){var n=jw.EMPTY_NODE;return tx(e,(function(t,r){if(dm(e,t)&&"."!==t.substring(0,1)){var i=Cw(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Cw(t))}var r=[],i=!1;if(tx(e,(function(e,t){if("."!==e.substring(0,1)){var n=Cw(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new tw(e,n)))}})),0===r.length)return jw.EMPTY_NODE;var a=Ew(r,uw,(function(e){return e.name}),dw);if(i){var o=Ew(r,xw.getCompare());return new jw(a,Cw(t),new Nw({".priority":o},{".priority":xw}))}return new jw(a,Cw(t),Nw.Default)}!function(e){hw=e}(Cw);var Rw=function(e){v(n,e);var t=_(n);function n(e){var r;return u(this,n),(r=t.call(this)).indexPath_=e,Fp(!Wx(e)&&".priority"!==Dx(e),"Can't create PathIndex with empty path or .priority key"),r}return p(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?J_(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Cw(e),r=jw.EMPTY_NODE.updateChild(this.indexPath_,n);return new tw(t,r)}},{key:"maxPost",value:function(){var e=jw.EMPTY_NODE.updateChild(this.indexPath_,Tw);return new tw(Z_,e)}},{key:"toString",value:function(){return Vx(this.indexPath_,0).join("/")}}]),n}(nw),Ow=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?J_(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return tw.MIN}},{key:"maxPost",value:function(){return tw.MAX}},{key:"makePost",value:function(e,t){var n=Cw(e);return new tw(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(nw),Aw=new Ow;function Pw(e){return{type:"value",snapshotNode:e}}function Lw(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Dw(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Mw(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Uw=function(){function e(t){u(this,e),this.index_=t}return p(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Fp(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Dw(t,o)):Fp(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Lw(t,n)):a.trackChildChange(Mw(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(xw,(function(e,r){t.hasChild(e)||n.trackChildChange(Dw(e,r))})),t.isLeafNode()||t.forEachChild(xw,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Mw(t,r,i))}else n.trackChildChange(Lw(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?jw.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Fw=function(){function e(t){u(this,e),this.indexedFilter_=new Uw(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return p(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new tw(t,n))||(n=jw.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=jw.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(jw.EMPTY_NODE);var i=this;return t.forEachChild(xw,(function(e,t){i.matches(new tw(e,t))||(r=r.updateImmediateChild(e,jw.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Vw=function(){function e(t){var n=this;u(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Fw(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return p(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new tw(t,n))||(n=jw.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=jw.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=jw.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(jw.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var c=0;s.hasNext();){var l=s.getNext();c<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?c++:r=r.updateImmediateChild(l.name,jw.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;Fp(s.numChildren()===this.limit_,"");var c=new tw(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(s.hasChild(t)){for(var d=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var h=null==f?1:a(f,c);if(u&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Mw(t,n,d)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Dw(t,d));var p=s.updateImmediateChild(t,jw.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Lw(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:u&&a(l,c)>=0?(null!=i&&(i.trackChildChange(Dw(l.name,l.node)),i.trackChildChange(Lw(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,jw.EMPTY_NODE)):e}}]),e}(),Bw=function(){function e(){u(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xw}return p(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Fp(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Fp(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Y_}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Fp(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Fp(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Z_}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Fp(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===xw}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function zw(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ww(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Hw(e,t){var n=e.copy();return n.index_=t,n}function qw(e){var t,n={};if(e.isDefault())return n;if(e.index_===xw?t="$priority":e.index_===Aw?t="$value":e.index_===iw?t="$key":(Fp(e.index_ instanceof Rw,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=lm(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=lm(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+lm(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=lm(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+lm(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Gw(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==xw&&(t.i=e.index_.toString()),t}var Kw=function(t){v(r,t);var n=_(r);function r(e,t,i,a){var o;return u(this,r),(o=n.call(this)).repoInfo_=e,o.onDataUpdate_=t,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=W_("p:rest:"),o.listens_={},o}return p(r,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,n,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=r.getListenId_(e,n),c={};this.listens_[s]=c;var l=qw(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var r=t;(404===e&&(r=null,e=null),null===e&&a.onDataUpdate_(o,r,!1,n),fm(a.listens_,s)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var n=r.getListenId_(e,t);delete this.listens_[n]}},{key:"get",value:function(e){var t=this,n=qw(e._queryParams),r=e._path.toString(),i=new Qp;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(a){var o=k(a,2),s=o[0],c=o[1];s&&s.accessToken&&(r.auth=s.accessToken),c&&c.token&&(r.ac=c.token);var l=(n.repoInfo_.secure?"https://":"http://")+n.repoInfo_.host+t+"?ns="+n.repoInfo_.namespace+function(e){for(var t=[],n=function(){var e=k(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}(r);n.log_("Sending REST request for "+l);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(i&&4===u.readyState){n.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=cm(u.responseText)}catch(e){G_("Failed to parse JSON response for "+l+": "+u.responseText)}i(null,t)}else 401!==u.status&&404!==u.status&&G_("Got unsuccessful REST response for "+l+" Status: "+u.status),i(u.status);i=null}},u.open("GET",l,!0),u.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Fp(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),r}(Ix),Yw=function(){function e(){u(this,e),this.rootNode_=jw.EMPTY_NODE}return p(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Zw(){return{value:null,children:new Map}}function Jw(e,t,n){if(Wx(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Dx(t);e.children.has(r)||e.children.set(r,Zw()),Jw(e.children.get(r),t=Ux(t),n)}}function Qw(e,t){if(Wx(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(xw,(function(t,n){Jw(e,new Px(t),n)})),Qw(e,t)}if(e.children.size>0){var r=Dx(t);if(t=Ux(t),e.children.has(r))Qw(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Xw(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Xw(r,new Px(t.toString()+"/"+e),n)}))}var $w,eS=function(){function e(t){u(this,e),this.collection_=t,this.last_=null}return p(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&tx(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),tS=function(){function e(t,n){u(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new eS(t);var r=1e4+2e4*Math.random();ox(this.reportStats_.bind(this),Math.floor(r))}return p(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;tx(t,(function(t,i){i>0&&dm(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),ox(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function nS(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}($w||($w={}));var rS,iS=function(){function e(t,n,r){u(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=$w.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return p(e,[{key:"operationForChild",value:function(t){if(Wx(this.path)){if(null!=this.affectedTree.value)return Fp(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Px(t));return new e(Lx(),n,this.revert)}return Fp(Dx(this.path)===t,"operationForChild called for unrelated child."),new e(Ux(this.path),this.affectedTree,this.revert)}}]),e}(),aS=function(){function e(t,n){u(this,e),this.source=t,this.path=n,this.type=$w.LISTEN_COMPLETE}return p(e,[{key:"operationForChild",value:function(t){return Wx(this.path)?new e(this.source,Lx()):new e(this.source,Ux(this.path))}}]),e}(),oS=function(){function e(t,n,r){u(this,e),this.source=t,this.path=n,this.snap=r,this.type=$w.OVERWRITE}return p(e,[{key:"operationForChild",value:function(t){return Wx(this.path)?new e(this.source,Lx(),this.snap.getImmediateChild(t)):new e(this.source,Ux(this.path),this.snap)}}]),e}(),sS=function(){function e(t,n,r){u(this,e),this.source=t,this.path=n,this.children=r,this.type=$w.MERGE}return p(e,[{key:"operationForChild",value:function(t){if(Wx(this.path)){var n=this.children.subtree(new Px(t));return n.isEmpty()?null:n.value?new oS(this.source,Lx(),n.value):new e(this.source,Lx(),n)}return Fp(Dx(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ux(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),cS=function(){function e(t,n,r){u(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return p(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Wx(e))return this.isFullyInitialized()&&!this.filtered_;var t=Dx(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),lS=p((function e(t){u(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function uS(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Vp("Should only compare child_ events.");var r=new tw(t.childName,t.snapshotNode),i=new tw(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function dS(e,t){return{eventCache:e,serverCache:t}}function fS(e,t,n,r){return dS(new cS(t,n,r),e.serverCache)}function hS(e,t,n,r){return dS(e.eventCache,new cS(t,n,r))}function pS(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function mS(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var vS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(rS||(rS=new lw(Q_)),rS);u(this,e),this.value=t,this.children=n}return p(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Lx(),value:this.value};if(Wx(e))return null;var n=Dx(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ux(e),t);return null!=i?{path:zx(new Px(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Wx(t))return this;var n=Dx(t),r=this.children.get(n);return null!==r?r.subtree(Ux(t)):new e(null)}},{key:"set",value:function(t,n){if(Wx(t))return new e(n,this.children);var r=Dx(t),i=(this.children.get(r)||new e(null)).set(Ux(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Wx(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Dx(t),r=this.children.get(n);if(r){var i,a=r.remove(Ux(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Wx(e))return this.value;var t=Dx(e),n=this.children.get(t);return n?n.get(Ux(e)):null}},{key:"setTree",value:function(t,n){if(Wx(t))return n;var r,i=Dx(t),a=(this.children.get(i)||new e(null)).setTree(Ux(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Lx(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(zx(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Lx(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Wx(e))return null;var i=Dx(e),a=this.children.get(i);return a?a.findOnPath_(Ux(e),zx(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Lx(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Wx(t))return this;this.value&&r(n,this.value);var i=Dx(t),a=this.children.get(i);return a?a.foreachOnPath_(Ux(t),zx(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Lx(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(zx(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return tx(t,(function(e,t){n=n.set(new Px(e),t)})),n}}]),e}(),gS=function(){function e(t){u(this,e),this.writeTree_=t}return p(e,null,[{key:"empty",value:function(){return new e(new vS(null))}}]),e}();function yS(e,t,n){if(Wx(t))return new gS(new vS(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Hx(i,t);return a=a.updateChild(o,n),new gS(e.writeTree_.set(i,a))}var s=new vS(n),c=e.writeTree_.setTree(t,s);return new gS(c)}function bS(e,t,n){var r=e;return tx(n,(function(e,n){r=yS(r,zx(t,e),n)})),r}function _S(e,t){if(Wx(t))return gS.empty();var n=e.writeTree_.setTree(t,new vS(null));return new gS(n)}function xS(e,t){return null!=wS(e,t)}function wS(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Hx(n.path,t)):null}function SS(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(xw,(function(e,n){t.push(new tw(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new tw(e,n.value))})),t}function ES(e,t){if(Wx(t))return e;var n=wS(e,t);return new gS(null!=n?new vS(n):e.writeTree_.subtree(t))}function kS(e){return e.writeTree_.isEmpty()}function NS(e,t){return jS(Lx(),e.writeTree_,t)}function jS(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Fp(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=jS(zx(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(zx(e,".priority"),r)),n}function TS(e,t){return BS(t,e)}function IS(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Fp(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&CS(s,r.path)?i=!1:Kx(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=OS(e.allWrites,RS,Lx()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=_S(e.visibleWrites,r.path):tx(r.children,(function(t){e.visibleWrites=_S(e.visibleWrites,zx(r.path,t))}));return!0}return!1}function CS(e,t){if(e.snap)return Kx(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Kx(zx(e.path,n),t))return!0;return!1}function RS(e){return e.visible}function OS(e,t,n){for(var r=gS.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Kx(n,o)?r=yS(r,s=Hx(n,o),a.snap):Kx(o,n)&&(s=Hx(o,n),r=yS(r,Lx(),a.snap.getChild(s)));else{if(!a.children)throw Vp("WriteRecord should have .snap or .children");if(Kx(n,o))r=bS(r,s=Hx(n,o),a.children);else if(Kx(o,n))if(Wx(s=Hx(o,n)))r=bS(r,Lx(),a.children);else{var c=fm(a.children,Dx(s));if(c){var l=c.getChild(Ux(s));r=yS(r,Lx(),l)}}}}}return r}function AS(e,t,n,r,i){if(r||i){var a=ES(e.visibleWrites,t);if(!i&&kS(a))return n;if(i||null!=n||xS(a,Lx())){return NS(OS(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Kx(e.path,t)||Kx(t,e.path))}),t),n||jw.EMPTY_NODE)}return null}var o=wS(e.visibleWrites,t);if(null!=o)return o;var s=ES(e.visibleWrites,t);return kS(s)?n:null!=n||xS(s,Lx())?NS(s,n||jw.EMPTY_NODE):null}function PS(e,t,n,r){return AS(e.writeTree,e.treePath,t,n,r)}function LS(e,t){return function(e,t,n){var r=jw.EMPTY_NODE,i=wS(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(xw,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=ES(e.visibleWrites,t);return n.forEachChild(xw,(function(e,t){var n=NS(ES(a,new Px(e)),t);r=r.updateImmediateChild(e,n)})),SS(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return SS(ES(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function DS(e,t,n,r){return function(e,t,n,r,i){Fp(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=zx(t,n);if(xS(e.visibleWrites,a))return null;var o=ES(e.visibleWrites,a);return kS(o)?i.getChild(n):NS(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function MS(e,t){return function(e,t){return wS(e.visibleWrites,t)}(e.writeTree,zx(e.treePath,t))}function US(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,c=ES(e.visibleWrites,t),l=wS(c,Lx());if(null!=l)s=l;else{if(null==n)return[];s=NS(c,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],d=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),h=f.getNext();h&&u.length<i;)0!==d(h,r)&&u.push(h),h=f.getNext();return u}(e.writeTree,e.treePath,t,n,r,i,a)}function FS(e,t,n){return function(e,t,n,r){var i=zx(t,n),a=wS(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?NS(ES(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function VS(e,t){return BS(zx(e.treePath,t),e.writeTree)}function BS(e,t){return{treePath:e,writeTree:t}}var zS=function(){function e(){u(this,e),this.changeMap=new Map}return p(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Fp("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Fp(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Mw(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Dw(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Lw(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Vp("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Mw(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),WS=new(function(){function e(){u(this,e)}return p(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),HS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return p(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new cS(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return FS(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:mS(this.viewCache_),i=US(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function qS(e,t,n,r,i){var a,o,s=new zS;if(n.type===$w.OVERWRITE){var c=n;c.source.fromUser?a=YS(e,t,c.path,c.snap,r,i,s):(Fp(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered()&&!Wx(c.path),a=KS(e,t,c.path,c.snap,r,i,o,s))}else if(n.type===$w.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,c){var l=zx(n,r);ZS(t,Dx(l))&&(s=YS(e,s,l,c,i,a,o))})),r.foreach((function(r,c){var l=zx(n,r);ZS(t,Dx(l))||(s=YS(e,s,l,c,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(Fp(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=QS(e,t,l.path,l.children,r,i,o,s))}else if(n.type===$w.ACK_USER_WRITE){var u=n;a=u.revert?function(e,t,n,r,i,a){var o;if(null!=MS(r,n))return t;var s,c=new HS(r,t,i),l=t.eventCache.getNode();if(Wx(n)||".priority"===Dx(n)){var u;if(t.serverCache.isFullyInitialized())u=PS(r,mS(t));else{var d=t.serverCache.getNode();Fp(d instanceof jw,"serverChildren would be complete if leaf node"),u=LS(r,d)}s=e.filter.updateFullNode(l,u,a)}else{var f=Dx(n),h=FS(r,f,t.serverCache);null==h&&t.serverCache.isCompleteForChild(f)&&(h=l.getImmediateChild(f)),(s=null!=h?e.filter.updateChild(l,f,h,Ux(n),c,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,jw.EMPTY_NODE,Ux(n),c,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=PS(r,mS(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=MS(r,Lx()),fS(t,s,o,e.filter.filtersNodes())}(e,t,u.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=MS(i,n))return t;var s=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(Wx(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return KS(e,t,n,c.getNode().getChild(n),i,a,s,o);if(Wx(n)){var l=new vS(null);return c.getNode().forEachChild(iw,(function(e,t){l=l.set(new Px(e),t)})),QS(e,t,n,l,i,a,s,o)}return t}var u=new vS(null);return r.foreach((function(e,t){var r=zx(n,e);c.isCompleteForPath(r)&&(u=u.set(e,c.getNode().getChild(r)))})),QS(e,t,n,u,i,a,s,o)}(e,t,u.path,u.affectedTree,r,i,s)}else{if(n.type!==$w.LISTEN_COMPLETE)throw Vp("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=hS(t,a.getNode(),a.isFullyInitialized()||Wx(n),a.isFiltered());return GS(e,o,n,r,WS,i)}(e,t,n.path,r,s)}var d=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=pS(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Pw(pS(t)))}}(t,a,d),{viewCache:a,changes:d}}function GS(e,t,n,r,i,a){var o,s,c=t.eventCache;if(null!=MS(r,n))return t;if(Wx(n))if(Fp(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=mS(t),u=LS(r,l instanceof jw?l:jw.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),u,a)}else{var d=PS(r,mS(t));o=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var f=Dx(n);if(".priority"===f){Fp(1===Mx(n),"Can't have a priority with additional path components");var h=c.getNode(),p=DS(r,n,h,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(h,p):c.getNode()}else{var m,v=Ux(n);if(c.isCompleteForChild(f)){s=t.serverCache.getNode();var g=DS(r,n,c.getNode(),s);m=null!=g?c.getNode().getImmediateChild(f).updateChild(v,g):c.getNode().getImmediateChild(f)}else m=FS(r,f,t.serverCache);o=null!=m?e.filter.updateChild(c.getNode(),f,m,v,i,a):c.getNode()}}return fS(t,o,c.isFullyInitialized()||Wx(n),e.filter.filtersNodes())}function KS(e,t,n,r,i,a,o,s){var c,l=t.serverCache,u=o?e.filter:e.filter.getIndexedFilter();if(Wx(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){var d=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),d,null)}else{var f=Dx(n);if(!l.isCompleteForPath(n)&&Mx(n)>1)return t;var h=Ux(n),p=l.getNode().getImmediateChild(f).updateChild(h,r);c=".priority"===f?u.updatePriority(l.getNode(),p):u.updateChild(l.getNode(),f,p,h,WS,null)}var m=hS(t,c,l.isFullyInitialized()||Wx(n),u.filtersNodes());return GS(e,m,n,i,new HS(i,m,a),s)}function YS(e,t,n,r,i,a,o){var s,c,l=t.eventCache,u=new HS(i,t,a);if(Wx(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=fS(t,c,!0,e.filter.filtersNodes());else{var d=Dx(n);if(".priority"===d)c=e.filter.updatePriority(t.eventCache.getNode(),r),s=fS(t,c,l.isFullyInitialized(),l.isFiltered());else{var f,h=Ux(n),p=l.getNode().getImmediateChild(d);if(Wx(h))f=r;else{var m=u.getCompleteChild(d);f=null!=m?".priority"===Fx(h)&&m.getChild(Bx(h)).isEmpty()?m:m.updateChild(h,r):jw.EMPTY_NODE}if(p.equals(f))s=t;else s=fS(t,e.filter.updateChild(l.getNode(),d,f,h,u,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function ZS(e,t){return e.eventCache.isCompleteForChild(t)}function JS(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function QS(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c,l=t;c=Wx(n)?r:new vS(null).setTree(n,r);var u=t.serverCache.getNode();return c.children.inorderTraversal((function(n,r){if(u.hasChild(n)){var c=JS(0,t.serverCache.getNode().getImmediateChild(n),r);l=KS(e,l,new Px(n),c,i,a,o,s)}})),c.children.inorderTraversal((function(n,r){var c=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!c){var d=JS(0,t.serverCache.getNode().getImmediateChild(n),r);l=KS(e,l,new Px(n),d,i,a,o,s)}})),l}var XS,$S=function(){function e(t,n){u(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Uw(i.getIndex()),o=(r=i).loadsAllData()?new Uw(r.getIndex()):r.hasLimit()?new Vw(r):new Fw(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,c=n.eventCache,l=a.updateFullNode(jw.EMPTY_NODE,s.getNode(),null),d=o.updateFullNode(jw.EMPTY_NODE,c.getNode(),null),f=new cS(l,s.isFullyInitialized(),a.filtersNodes()),h=new cS(d,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=dS(h,f),this.eventGenerator_=new lS(this.query_)}return p(e,[{key:"query",get:function(){return this.query_}}]),e}();function eE(e,t){var n=mS(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Wx(t)&&!n.getImmediateChild(Dx(t)).isEmpty())?n.getChild(t):null}function tE(e){return 0===e.eventRegistrations_.length}function nE(e,t,n){var r=[];if(n){Fp(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function rE(e,t,n,r){t.type===$w.MERGE&&null!==t.source.queryId&&(Fp(mS(e.viewCache_),"We should always have a full cache before handling merges"),Fp(pS(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=qS(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Fp(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Fp(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Fp(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,iE(e,s.changes,s.viewCache.eventCache.getNode(),null)}function iE(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),uS(e,i,"child_removed",t,r,n),uS(e,i,"child_added",t,r,n),uS(e,i,"child_moved",a,r,n),uS(e,i,"child_changed",t,r,n),uS(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var aE,oE=p((function e(){u(this,e),this.views=new Map}));function sE(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Fp(null!=a,"SyncTree gave us an op for an invalid query."),rE(a,t,n,r)}var o,s=[],c=N(e.views.values());try{for(c.s();!(o=c.n()).done;){var l=o.value;s=s.concat(rE(l,t,n,r))}}catch(u){c.e(u)}finally{c.f()}return s}function cE(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=PS(n,i?r:null),c=!1;s?c=!0:r instanceof jw?(s=LS(n,r),c=!1):(s=jw.EMPTY_NODE,c=!1);var l=dS(new cS(s,c,!1),new cS(r,i,!1));return new $S(t,l)}return o}function lE(e,t,n,r,i,a){var o=cE(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(xw,(function(e,t){r.push(Lw(e,t))})),n.isFullyInitialized()&&r.push(Pw(n.getNode())),iE(e,r,n.getNode(),t)}(o,n)}function uE(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=mE(e);if("default"===i){var c,l=N(e.views.entries());try{for(l.s();!(c=l.n()).done;){var u=k(c.value,2),d=u[0],f=u[1];o=o.concat(nE(f,n,r)),tE(f)&&(e.views.delete(d),f.query._queryParams.loadsAllData()||a.push(f.query))}}catch(p){l.e(p)}finally{l.f()}}else{var h=e.views.get(i);h&&(o=o.concat(nE(h,n,r)),tE(h)&&(e.views.delete(i),h.query._queryParams.loadsAllData()||a.push(h.query)))}return s&&!mE(e)&&a.push(new(Fp(XS,"Reference.ts has not been loaded"),XS)(t._repo,t._path)),{removed:a,events:o}}function dE(e){var t,n=[],r=N(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function fE(e,t){var n,r=null,i=N(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||eE(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function hE(e,t){if(t._queryParams.loadsAllData())return vE(e);var n=t._queryIdentifier;return e.views.get(n)}function pE(e,t){return null!=hE(e,t)}function mE(e){return null!=vE(e)}function vE(e){var t,n=N(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var gE=1,yE=p((function e(t){u(this,e),this.listenProvider_=t,this.syncPointTree_=new vS(null),this.pendingWriteTree_={visibleWrites:gS.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function bE(e,t,n,r,i){return function(e,t,n,r,i){Fp(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=yS(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?TE(e,new oS({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function _E(e,t,n,r){!function(e,t,n,r){Fp(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=bS(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=vS.fromObject(n);return TE(e,new sS({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function xE(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(IS(e.pendingWriteTree_,t)){var i=new vS(null);return null!=r.snap?i=i.set(Lx(),!0):tx(r.children,(function(e){i=i.set(new Px(e),!0)})),TE(e,new iS(r.path,i,n))}return[]}function wE(e,t,n){return TE(e,new oS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function SE(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||pE(o,t))){var c=uE(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=c.removed;if(s=c.events,!i){var u=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),d=e.syncPointTree_.findOnPath(a,(function(e,t){return mE(t)}));if(u&&!d){var f=e.syncPointTree_.subtree(a);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&mE(t))return[vE(t)];var r=[];return t&&(r=dE(t)),tx(n,(function(e,t){r=r.concat(t)})),r}))}(f),p=0;p<h.length;++p){var m=h[p],v=m.query,g=RE(e,m);e.listenProvider_.startListening(ME(v),OE(e,v),g.hashFn,g.onComplete)}}if(!d&&l.length>0&&!r)if(u){e.listenProvider_.stopListening(ME(t),null)}else l.forEach((function(t){var n=e.queryToTagMap.get(AE(t));e.listenProvider_.stopListening(ME(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=AE(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,l)}return s}function EE(e,t,n,r){var i=PE(e,r);if(null!=i){var a=LE(i),o=a.path,s=a.queryId,c=Hx(o,t);return DE(e,o,new oS(nS(s),c,n))}return[]}function kE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=Hx(e,i);a=a||fE(t,n),o=o||mE(t)}));var s,c=e.syncPointTree_.get(i);(c?(o=o||mE(c),a=a||fE(c,Lx())):(c=new oE,e.syncPointTree_=e.syncPointTree_.set(i,c)),null!=a)?s=!0:(s=!1,a=jw.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=fE(t,Lx());n&&(a=a.updateImmediateChild(e,n))})));var l=pE(c,t);if(!l&&!t._queryParams.loadsAllData()){var u=AE(t);Fp(!e.queryToTagMap.has(u),"View does not exist, but we have a tag");var d=gE++;e.queryToTagMap.set(u,d),e.tagToQueryMap.set(d,u)}var f=lE(c,t,n,TS(e.pendingWriteTree_,i),a,s);if(!l&&!o&&!r){var h=hE(c,t);f=f.concat(function(e,t,n){var r=t._path,i=OE(e,t),a=RE(e,n),o=e.listenProvider_.startListening(ME(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)Fp(!mE(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=s.fold((function(e,t,n){if(!Wx(e)&&t&&mE(t))return[vE(t).query];var r=[];return t&&(r=r.concat(dE(t).map((function(e){return e.query})))),tx(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var u=c[l];e.listenProvider_.stopListening(ME(u),OE(e,u))}return o}(e,t,h))}return f}function NE(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=fE(n,Hx(e,t));if(r)return r}));return AS(r,t,i,n,!0)}function jE(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Hx(e,n);r=r||fE(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||fE(i,Lx()):(i=new oE,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new cS(r,!0,!1):null;return function(e){return pS(e.viewCache_)}(cE(i,t,TS(e.pendingWriteTree_,t._path),a?o.getNode():jw.EMPTY_NODE,a))}function TE(e,t){return IE(t,e.syncPointTree_,null,TS(e.pendingWriteTree_,Lx()))}function IE(e,t,n,r){if(Wx(e.path))return CE(e,t,n,r);var i=t.get(Lx());null==n&&null!=i&&(n=fE(i,Lx()));var a=[],o=Dx(e.path),s=e.operationForChild(o),c=t.children.get(o);if(c&&s){var l=n?n.getImmediateChild(o):null,u=VS(r,o);a=a.concat(IE(s,c,l,u))}return i&&(a=a.concat(sE(i,e,r,n))),a}function CE(e,t,n,r){var i=t.get(Lx());null==n&&null!=i&&(n=fE(i,Lx()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=VS(r,t),c=e.operationForChild(t);c&&(a=a.concat(CE(c,i,o,s)))})),i&&(a=a.concat(sE(i,e,r,n))),a}function RE(e,t){var n=t.query,r=OE(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||jw.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=PE(e,n);if(r){var i=LE(r),a=i.path,o=i.queryId,s=Hx(a,t);return DE(e,a,new aS(nS(o),s))}return[]}(e,n._path,r):function(e,t){return TE(e,new aS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return SE(e,n,null,i)}}}function OE(e,t){var n=AE(t);return e.queryToTagMap.get(n)}function AE(e){return e._path.toString()+"$"+e._queryIdentifier}function PE(e,t){return e.tagToQueryMap.get(t)}function LE(e){var t=e.indexOf("$");return Fp(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Px(e.substr(0,t))}}function DE(e,t,n){var r=e.syncPointTree_.get(t);return Fp(r,"Missing sync point for query tag that we're tracking"),sE(r,n,TS(e.pendingWriteTree_,t),null)}function ME(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Fp(aE,"Reference.ts has not been loaded"),aE)(e._repo,e._path):e}var UE=function(){function e(t){u(this,e),this.node_=t}return p(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),FE=function(){function e(t,n){u(this,e),this.syncTree_=t,this.path_=n}return p(e,[{key:"getImmediateChild",value:function(t){var n=zx(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return NE(this.syncTree_,this.path_)}}]),e}(),VE=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},BE=function(e,t,n){return e&&"object"===typeof e?(Fp(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?zE(e[".sv"],t,n):"object"===typeof e[".sv"]?WE(e[".sv"],t):void Fp(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},zE=function(e,t,n){if("timestamp"===e)return n.timestamp;Fp(!1,"Unexpected server value: "+e)},WE=function(e,t,n){e.hasOwnProperty("increment")||Fp(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Fp(!1,"Unexpected increment value: "+r);var i=t.node();if(Fp(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},HE=function(e,t,n,r){return GE(t,new FE(n,e),r)},qE=function(e,t,n){return GE(e,new UE(t),n)};function GE(e,t,n){var r,i=e.getPriority().val(),a=BE(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=BE(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new gw(s,Cw(a)):e}var c=e;return r=c,a!==c.getPriority().val()&&(r=r.updatePriority(new gw(a))),c.forEachChild(xw,(function(e,i){var a=GE(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var KE=p((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};u(this,e),this.name=t,this.parent=n,this.node=r}));function YE(e,t){for(var n=t instanceof Px?t:new Px(t),r=e,i=Dx(n);null!==i;){var a=fm(r.node.children,i)||{children:{},childCount:0};r=new KE(i,r,a),i=Dx(n=Ux(n))}return r}function ZE(e){return e.node.value}function JE(e,t){e.node.value=t,tk(e)}function QE(e){return e.node.childCount>0}function XE(e,t){tx(e.node.children,(function(n,r){t(new KE(n,e,r))}))}function $E(e,t,n,r){n&&!r&&t(e),XE(e,(function(e){$E(e,t,!0,r)})),n&&r&&t(e)}function ek(e){return new Px(null===e.parent?e.name:ek(e.parent)+"/"+e.name)}function tk(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===ZE(e)&&!QE(e)}(n),i=dm(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,tk(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,tk(e))}(e.parent,e.name,e)}var nk=/[\[\].#$\/\u0000-\u001F\u007F]/,rk=/[\[\].#$\u0000-\u001F\u007F]/,ik=10485760,ak=function(e){return"string"===typeof e&&0!==e.length&&!nk.test(e)},ok=function(e){return"string"===typeof e&&0!==e.length&&!rk.test(e)},sk=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!K_(e)||e&&"object"===typeof e&&dm(e,".sv")},ck=function(e,t,n,r){r&&void 0===t||lk(wm(e,"value"),t,n)},lk=function e(t,n,r){var i=r instanceof Px?new Yx(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Jx(i));if("function"===typeof n)throw new Error(t+"contains a function "+Jx(i)+" with contents = "+n.toString());if(K_(n))throw new Error(t+"contains "+n.toString()+" "+Jx(i));if("string"===typeof n&&n.length>ik/3&&km(n)>ik)throw new Error(t+"contains a string greater than "+ik+" utf8 bytes "+Jx(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(tx(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!ak(n)))throw new Error(t+" contains an invalid key ("+n+") "+Jx(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,c;c=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(c),s.byteLength_+=km(c),Zx(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=km(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Jx(i)+" in addition to actual children.")}},uk=function(e,t,n,r){if(!r||void 0!==t){var i=wm(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];tx(t,(function(e,t){var r=new Px(e);if(lk(i,t,zx(n,r)),".priority"===Fx(r)&&!sk(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Vx(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!ak(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(qx);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Kx(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},dk=function(e,t,n){if(!n||void 0!==t){if(K_(t))throw new Error(wm(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!sk(t))throw new Error(wm(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fk=function(e,t,n,r){if((!r||void 0!==n)&&!ak(n))throw new Error(wm(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},hk=function(e,t,n,r){if((!r||void 0!==n)&&!ok(n))throw new Error(wm(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pk=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hk(e,t,n,r)},mk=function(e,t){if(".info"===Dx(t))throw new Error(e+" failed = Can't modify data under /.info/")},vk=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!ak(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ok(e)}(n))throw new Error(wm(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},gk=p((function e(){u(this,e),this.eventLists_=[],this.recursionDepth_=0}));function yk(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Gx(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function bk(e,t,n){yk(e,n),xk(e,(function(e){return Gx(e,t)}))}function _k(e,t,n){yk(e,n),xk(e,(function(e){return Kx(e,t)||Kx(t,e)}))}function xk(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(wk(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function wk(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();F_&&z_("event: "+n.toString()),ax(r)}}}var Sk="repo_interrupt",Ek=25,kk=function(){function e(t,n,r,i){u(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zw(),this.transactionQueueTree_=new KE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return p(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Nk(t,n,r){if(t.stats_=_x(t.repoInfo_),t.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Kw(t.repoInfo_,(function(e,n,r,i){Ik(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return Ck(t,!0)}),0);else{if("undefined"!==typeof r&&null!==r){if("object"!==typeof r)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{lm(r)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}t.persistentConnection_=new $x(t.repoInfo_,n,(function(e,n,r,i){Ik(t,e,n,r,i)}),(function(e){Ck(t,e)}),(function(e){!function(e,t){tx(t,(function(t,n){Rk(e,t,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,r),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=function(e,t){var n=e.toString();return bx[n]||(bx[n]=t()),bx[n]}(t.repoInfo_,(function(){return new tS(t.stats_,t.server_)})),t.infoData_=new Yw,t.infoSyncTree_=new yE({startListening:function(e,n,r,i){var a=[],o=t.infoData_.getNode(e._path);return o.isEmpty()||(a=wE(t.infoSyncTree_,e._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Rk(t,"connected",!1),t.serverSyncTree_=new yE({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var a=i(n,r);_k(t.eventQueue_,e._path,a)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function jk(e){var t=e.infoData_.getNode(new Px(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Tk(e){return VE({timestamp:jk(e)})}function Ik(e,t,n,r,i){e.dataUpdateCount++;var a=new Px(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=pm(n,(function(e){return Cw(e)}));o=function(e,t,n,r){var i=PE(e,r);if(i){var a=LE(i),o=a.path,s=a.queryId,c=Hx(o,t),l=vS.fromObject(n);return DE(e,o,new sS(nS(s),c,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var c=Cw(n);o=EE(e.serverSyncTree_,a,c,i)}else if(r){var l=pm(n,(function(e){return Cw(e)}));o=function(e,t,n){var r=vS.fromObject(n);return TE(e,new sS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var u=Cw(n);o=wE(e.serverSyncTree_,a,u)}var d=a;o.length>0&&(d=zk(e,a)),_k(e.eventQueue_,d,o)}function Ck(e,t){Rk(e,"connected",t),!1===t&&function(e){Uk(e,"onDisconnectEvents");var t=Tk(e),n=Zw();Xw(e.onDisconnect_,Lx(),(function(r,i){var a=HE(r,i,e.serverSyncTree_,t);Jw(n,r,a)}));var r=[];Xw(n,Lx(),(function(t,n){r=r.concat(wE(e.serverSyncTree_,t,n));var i=Kk(e,t);zk(e,i)})),e.onDisconnect_=Zw(),_k(e.eventQueue_,Lx(),r)}(e)}function Rk(e,t,n){var r=new Px("/.info/"+t),i=Cw(n);e.infoData_.updateSnapshot(r,i);var a=wE(e.infoSyncTree_,r,i);_k(e.eventQueue_,r,a)}function Ok(e){return e.nextWriteId_++}function Ak(e,t,n,r,i){Uk(e,"set",{path:t.toString(),value:n,priority:r});var a=Tk(e),o=Cw(n,r),s=NE(e.serverSyncTree_,t),c=qE(o,s,a),l=Ok(e),u=bE(e.serverSyncTree_,t,c,l,!0);yk(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||G_("set at "+t+" failed: "+n);var o=xE(e.serverSyncTree_,l,!a);_k(e.eventQueue_,t,o),Fk(e,i,n,r)}));var d=Kk(e,t);zk(e,d),_k(e.eventQueue_,d,[])}function Pk(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Qw(e.onDisconnect_,t),Fk(e,n,r,i)}))}function Lk(e,t,n,r){var i=Cw(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&Jw(e.onDisconnect_,t,i),Fk(e,r,n,a)}))}function Dk(e,t,n){var r;r=".info"===Dx(t._path)?SE(e.infoSyncTree_,t,n):SE(e.serverSyncTree_,t,n),bk(e.eventQueue_,t._path,r)}function Mk(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Sk)}function Uk(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];z_.apply(void 0,[t].concat(r))}function Fk(e,t,n,r){t&&ax((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Vk(e,t,n){return NE(e.serverSyncTree_,t,n)||jw.EMPTY_NODE}function Bk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Gk(e,t),ZE(t)){var n=Hk(e,t);Fp(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Vk(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var c=n[s];Fp(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Hx(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var u=a.val(!0),d=t;e.server_.put(d.toString(),u,(function(r){Uk(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(xE(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Gk(e,YE(e.transactionQueueTree_,t)),Bk(e,e.transactionQueueTree_),_k(e.eventQueue_,t,i);for(var c=0;c<a.length;c++)ax(a[c])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{G_("transaction at "+d.toString()+" failed: "+r);for(var u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=r}zk(e,t)}}),o)}(e,ek(t),n)}else QE(t)&&XE(t,(function(t){Bk(e,t)}))}function zk(e,t){var n=Wk(e,t),r=ek(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,c,l=t[a],u=Hx(n,l.path),d=!1;if(Fp(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,s=l.abortReason,i=i.concat(xE(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=Ek)d=!0,s="maxretry",i=i.concat(xE(e.serverSyncTree_,l.currentWriteId,!0));else{var f=Vk(e,l.path,o);l.currentInputSnapshot=f;var h=t[a].update(f.val());if(void 0!==h){lk("transaction failed: Data returned ",h,l.path);var p=Cw(h);"object"===typeof h&&null!=h&&dm(h,".priority")||(p=p.updatePriority(f.getPriority()));var m=l.currentWriteId,v=Tk(e),g=qE(p,f,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=g,l.currentWriteId=Ok(e),o.splice(o.indexOf(m),1),i=(i=i.concat(bE(e.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally))).concat(xE(e.serverSyncTree_,m,!0))}else d=!0,s="nodata",i=i.concat(xE(e.serverSyncTree_,l.currentWriteId,!0))}_k(e.eventQueue_,n,i),i=[],d&&(t[a].status=2,c=t[a].unwatcher,setTimeout(c,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},c=0;c<t.length;c++)s(c);Gk(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)ax(r[l]);Bk(e,e.transactionQueueTree_)}(e,Hk(e,n),r),r}function Wk(e,t){var n,r=e.transactionQueueTree_;for(n=Dx(t);null!==n&&void 0===ZE(r);)r=YE(r,n),n=Dx(t=Ux(t));return r}function Hk(e,t){var n=[];return qk(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function qk(e,t,n){var r=ZE(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);XE(t,(function(t){qk(e,t,n)}))}function Gk(e,t){var n=ZE(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,JE(t,n.length>0?n:void 0)}XE(t,(function(t){Gk(e,t)}))}function Kk(e,t){var n=ek(Wk(e,t)),r=YE(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Yk(e,t)})),Yk(e,r),$E(r,(function(t){Yk(e,t)})),n}function Yk(e,t){var n=ZE(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Fp(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Fp(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(xE(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?JE(t,void 0):n.length=a+1,_k(e.eventQueue_,ek(t),i);for(var s=0;s<r.length;s++)ax(r[s])}}var Zk=function(e,t){var n=Jk(e),r=n.namespace;"firebase.com"===n.domain&&q_(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||q_("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&G_("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new mx(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Px(n.pathString)}},Jk=function(t){var n="",r="",i="",a="",o="",s=!0,c="https",l=443;if("string"===typeof t){var u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));var d=t.indexOf("/");-1===d&&(d=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),n=t.substring(0,Math.min(d,f)),d<f&&(a=function(t){for(var n="",r=t.split("/"),i=0;i<r.length;i++)if(r[i].length>0){var a=r[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(e){}n+="/"+a}return n}(t.substring(d,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=N(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):G_("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(t.substring(Math.min(t.length,f)));(u=n.indexOf(":"))>=0?(s="https"===c||"wss"===c,l=parseInt(n.substring(u+1),10)):u=n.length;var p=n.slice(0,u);if("localhost"===p.toLowerCase())r="localhost";else if(p.split(".").length<=2)r=p;else{var m=n.indexOf(".");i=n.substring(0,m).toLowerCase(),r=n.substring(m+1),o=i}"ns"in h&&(o=h.ns)}return{host:n,port:l,domain:r,subdomain:i,secure:s,scheme:c,pathString:a,namespace:o}},Qk="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Xk=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=Qk.charAt(n%64),n=Math.floor(n/64);Fp(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Qk.charAt(t[r]);return Fp(20===o.length,"nextPushId: Length should be 20."),o}}(),$k=function(){function e(t,n,r,i){u(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return p(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+lm(this.snapshot.exportVal())}}]),e}(),eN=function(){function e(t,n,r){u(this,e),this.eventRegistration=t,this.error=n,this.path=r}return p(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),tN=function(){function e(t,n){u(this,e),this.snapshotCallback=t,this.cancelCallback=n}return p(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Fp(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),nN=function(){function e(t,n){u(this,e),this._repo=t,this._path=n}return p(e,[{key:"cancel",value:function(){var e=new Qp;return Pk(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){mk("OnDisconnect.remove",this._path);var e=new Qp;return Lk(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){mk("OnDisconnect.set",this._path),ck("OnDisconnect.set",e,this._path,!1);var t=new Qp;return Lk(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){mk("OnDisconnect.setWithPriority",this._path),ck("OnDisconnect.setWithPriority",e,this._path,!1),dk("OnDisconnect.setWithPriority",t,!1);var n=new Qp;return function(e,t,n,r,i){var a=Cw(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&Jw(e.onDisconnect_,t,a),Fk(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){mk("OnDisconnect.update",this._path),uk("OnDisconnect.update",e,this._path,!1);var t=new Qp;return function(e,t,n,r){if(hm(n))return z_("onDisconnect().update() called with empty data.  Don't do anything."),void Fk(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&tx(n,(function(n,r){var i=Cw(r);Jw(e.onDisconnect_,zx(t,n),i)})),Fk(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),rN=function(){function e(t,n,r,i){u(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return p(e,[{key:"key",get:function(){return Wx(this._path)?null:Fx(this._path)}},{key:"ref",get:function(){return new sN(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Gw(this._queryParams),t=$_(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Gw(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Nm(t))instanceof e))return!1;var n=this._repo===t._repo,r=Gx(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function iN(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function aN(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===iw){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Y_)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Z_)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===xw){if(null!=t&&!sk(t)||null!=n&&!sk(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Fp(e.getIndex()instanceof Rw||e.getIndex()===Aw,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function oN(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var sN=function(e){v(n,e);var t=_(n);function n(e,r){return u(this,n),t.call(this,e,r,new Bw,!1)}return p(n,[{key:"parent",get:function(){var e=Bx(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(rN),cN=function(){function e(t,n,r){u(this,e),this._node=t,this.ref=n,this._index=r}return p(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Px(t),r=dN(this.ref,t);return new e(this._node.getChild(n),r,xw)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,dN(n.ref,r),xw))}))}},{key:"hasChild",value:function(e){var t=new Px(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function lN(e,t){return(e=Nm(e))._checkNotDeleted("ref"),void 0!==t?dN(e._root,t):e._root}function uN(e,t){(e=Nm(e))._checkNotDeleted("refFromURL");var n=Zk(t,e._repo.repoInfo_.nodeAdmin);vk("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||q_("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),lN(e,n.path.toString())}function dN(e,t){return null===Dx((e=Nm(e))._path)?pk("child","path",t,!1):hk("child","path",t,!1),new sN(e._repo,zx(e._path,t))}function fN(e,t){e=Nm(e),mk("set",e._path),ck("set",t,e._path,!1);var n=new Qp;return Ak(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function hN(e,t){uk("update",t,e._path,!1);var n=new Qp;return function(e,t,n,r){Uk(e,"update",{path:t.toString(),value:n});var i=!0,a=Tk(e),o={};if(tx(n,(function(n,r){i=!1,o[n]=HE(zx(t,n),Cw(r),e.serverSyncTree_,a)})),i)z_("update() called with empty data.  Don't do anything."),Fk(0,r,"ok",void 0);else{var s=Ok(e),c=_E(e.serverSyncTree_,t,o,s);yk(e.eventQueue_,c),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||G_("update at "+t+" failed: "+n);var o=xE(e.serverSyncTree_,s,!a),c=o.length>0?zk(e,t):t;_k(e.eventQueue_,c,o),Fk(0,r,n,i)})),tx(n,(function(n){var r=Kk(e,zx(t,n));zk(e,r)})),_k(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function pN(e){e=Nm(e);var t=new tN((function(){})),n=new mN(t);return function(e,t,n){var r=jE(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=Cw(r).withIndex(t._queryParams.getIndex());if(kE(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=wE(e.serverSyncTree_,t._path,a);else{var o=OE(e.serverSyncTree_,t);i=EE(e.serverSyncTree_,t._path,a,o)}return _k(e.eventQueue_,t._path,i),SE(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return Uk(e,"get for query "+lm(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new cN(t,new sN(e._repo,e._path),e._queryParams.getIndex())}))}var mN=function(){function e(t){u(this,e),this.callbackContext=t}return p(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new $k("value",this,new cN(e.snapshotNode,new sN(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new eN(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),vN=function(){function e(t,n){u(this,e),this.eventType=t,this.callbackContext=n}return p(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new eN(this,e,t):null}},{key:"createEvent",value:function(e,t){Fp(null!=e.childName,"Child events should have a childName.");var n=dN(new sN(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new $k(e.type,this,new cN(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function gN(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){Dk(e._repo,e,l),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var c=new tN(n,a||void 0),l="value"===t?new mN(c):new vN(t,c);return function(e,t,n){var r;r=".info"===Dx(t._path)?kE(e.infoSyncTree_,t,n):kE(e.serverSyncTree_,t,n),bk(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return Dk(e._repo,e,l)}}function yN(e,t,n,r){return gN(e,"value",t,n,r)}function bN(e,t,n,r){return gN(e,"child_added",t,n,r)}function _N(e,t,n,r){return gN(e,"child_changed",t,n,r)}function xN(e,t,n,r){return gN(e,"child_moved",t,n,r)}function wN(e,t,n,r){return gN(e,"child_removed",t,n,r)}function SN(e,t,n){var r=null,i=n?new tN(n):null;"value"===t?r=new mN(i):t&&(r=new vN(t,i)),Dk(e._repo,e,r)}var EN=p((function e(){u(this,e)})),kN=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._value=e,i._key=r,i}return p(n,[{key:"_apply",value:function(e){ck("endAt",this._value,e._path,!0);var t=Ww(e._queryParams,this._value,this._key);if(oN(t),aN(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new rN(e._repo,e._path,t,e._orderByCalled)}}]),n}(EN);var NN=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._value=e,i._key=r,i}return p(n,[{key:"_apply",value:function(e){ck("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===iw||n?Ww(e,t,n):Ww(e,t,Y_)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(oN(t),aN(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new rN(e._repo,e._path,t,e._orderByCalled)}}]),n}(EN);var jN=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._value=e,i._key=r,i}return p(n,[{key:"_apply",value:function(e){ck("startAt",this._value,e._path,!0);var t=zw(e._queryParams,this._value,this._key);if(oN(t),aN(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new rN(e._repo,e._path,t,e._orderByCalled)}}]),n}(EN);var TN=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._value=e,i._key=r,i}return p(n,[{key:"_apply",value:function(e){ck("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===iw||n?zw(e,t,n):zw(e,t,Z_)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(oN(t),aN(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new rN(e._repo,e._path,t,e._orderByCalled)}}]),n}(EN);var IN=function(e){v(n,e);var t=_(n);function n(e){var r;return u(this,n),(r=t.call(this))._limit=e,r}return p(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new rN(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(EN);var CN=function(e){v(n,e);var t=_(n);function n(e){var r;return u(this,n),(r=t.call(this))._limit=e,r}return p(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new rN(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(EN);var RN=function(e){v(n,e);var t=_(n);function n(e){var r;return u(this,n),(r=t.call(this))._path=e,r}return p(n,[{key:"_apply",value:function(e){iN(e,"orderByChild");var t=new Px(this._path);if(Wx(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Rw(t),r=Hw(e._queryParams,n);return aN(r),new rN(e._repo,e._path,r,!0)}}]),n}(EN);var ON=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n,[{key:"_apply",value:function(e){iN(e,"orderByKey");var t=Hw(e._queryParams,iw);return aN(t),new rN(e._repo,e._path,t,!0)}}]),n}(EN);var AN=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n,[{key:"_apply",value:function(e){iN(e,"orderByPriority");var t=Hw(e._queryParams,xw);return aN(t),new rN(e._repo,e._path,t,!0)}}]),n}(EN);var PN=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n,[{key:"_apply",value:function(e){iN(e,"orderByValue");var t=Hw(e._queryParams,Aw);return aN(t),new rN(e._repo,e._path,t,!0)}}]),n}(EN);var LN=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._value=e,i._key=r,i}return p(n,[{key:"_apply",value:function(e){if(ck("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new kN(this._value,this._key)._apply(new jN(this._value,this._key)._apply(e))}}]),n}(EN);function DN(e){for(var t=Nm(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){Fp(!XS,"__referenceConstructor has already been defined"),XS=e}(sN),function(e){Fp(!aE,"__referenceConstructor has already been defined"),aE=e}(sN);var MN="FIREBASE_DATABASE_EMULATOR_HOST",UN={},FN=!1;function VN(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||q_("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),z_("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Zk(a,i),c=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[MN]),l?(o=!0,a="http://".concat(l,"?ns=").concat(c.namespace),c=(s=Zk(a,i)).repoInfo):o=!s.repoInfo.secure;var u=i&&o?new lx(lx.OWNER):new cx(e.name,e.options,t);vk("Invalid Firebase Database URL",s),Wx(s.path)||q_("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=UN[t.name];i||(i={},UN[t.name]=i);var a=i[e.toURLString()];a&&q_("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new kk(e,FN,n,r),i[e.toURLString()]=a,a}(c,e,u,new sx(e.name,n));return new BN(d,e)}var BN=function(){function e(t,n){u(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return p(e,[{key:"_repo",get:function(){return this._instanceStarted||(Nk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new sN(this._repo,Lx())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=UN[t];n&&n[e.key]===e||q_("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Mk(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&q_("Cannot call "+e+" on a deleted database.")}}]),e}();function zN(){jx.IS_TRANSPORT_INITIALIZED&&G_("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function WN(){zN(),Sx.forceDisallow()}function HN(){zN(),Nx.forceDisallow(),Sx.forceAllow()}function qN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Nm(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&q_("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&q_('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new lx(lx.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Xp(r.mockUserToken,e.app.options.projectId);a=new lx(o)}!function(e,t,n,r){e.repoInfo_=new mx("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function GN(e){var t;(e=Nm(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Sk)}function KN(e,t){B_(e,t)}var YN={".sv":"timestamp"};var ZN=function(){function e(t,n){u(this,e),this.committed=t,this.snapshot=n}return p(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function JN(e,t,n){var r;if(e=Nm(e),mk("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new Qp,o=yN(e,(function(){}));return function(e,t,n,r,i,a){Uk(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:D_(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Vk(e,t,void 0);o.currentInputSnapshot=s;var c=o.update(s.val());if(void 0===c)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{lk("transaction failed: Data returned ",c,o.path),o.status=0;var l,u=YE(e.transactionQueueTree_,t),d=ZE(u)||[];d.push(o),JE(u,d),"object"===typeof c&&null!==c&&dm(c,".priority")?(l=fm(c,".priority"),Fp(sk(l),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):l=(NE(e.serverSyncTree_,t)||jw.EMPTY_NODE).getPriority().val();var f=Tk(e),h=Cw(c,l),p=qE(h,s,f);o.currentOutputSnapshotRaw=h,o.currentOutputSnapshotResolved=p,o.currentWriteId=Ok(e);var m=bE(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);_k(e.eventQueue_,t,m),Bk(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new cN(r,new sN(e._repo,e._path),xw),a.resolve(new ZN(n,i)))}),o,i),a.promise}$x.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},$x.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){I_(wv),mv(new jm("database",(function(e,t){var n=t.instanceIdentifier;return VN(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Tv(N_,j_,e),Tv(N_,j_,"esm2017")}();var QN=new Fm("@firebase/database-compat"),XN=function(e){var t="FIREBASE WARNING: "+e;QN.warn(t)},$N=function(){function e(t){u(this,e),this._delegate=t}return p(e,[{key:"cancel",value:function(e){xm("OnDisconnect.cancel",0,1,arguments.length),Sm("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){xm("OnDisconnect.remove",0,1,arguments.length),Sm("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){xm("OnDisconnect.set",1,2,arguments.length),Sm("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){xm("OnDisconnect.setWithPriority",2,3,arguments.length),Sm("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(xm("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,XN("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Sm("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),ej=function(){function e(t,n){u(this,e),this.committed=t,this.snapshot=n}return p(e,[{key:"toJSON",value:function(){return xm("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),tj=function(){function e(t,n){u(this,e),this._database=t,this._delegate=n}return p(e,[{key:"val",value:function(){return xm("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return xm("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return xm("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return xm("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return xm("DataSnapshot.child",0,1,arguments.length),t=String(t),hk("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return xm("DataSnapshot.hasChild",1,1,arguments.length),hk("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return xm("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return xm("DataSnapshot.forEach",1,1,arguments.length),Sm("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return xm("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return xm("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return xm("DataSnapshot.ref",0,0,arguments.length),new rj(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),nj=function(){function e(t,n){u(this,e),this.database=t,this._delegate=n}return p(e,[{key:"on",value:function(t,n,r,i){var a,o=this;xm("Query.on",2,4,arguments.length),Sm("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(s.context,new tj(o.database,e),t)};c.userCallback=n,c.context=s.context;var l=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return yN(this._delegate,c,l),n;case"child_added":return bN(this._delegate,c,l),n;case"child_removed":return wN(this._delegate,c,l),n;case"child_changed":return _N(this._delegate,c,l),n;case"child_moved":return xN(this._delegate,c,l),n;default:throw new Error(wm("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(xm("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(wm(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),Sm("Query.off","callback",t,!0),Em("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,SN(this._delegate,e,r)}else SN(this._delegate,e)}},{key:"get",value:function(){var e=this;return pN(this._delegate).then((function(t){return new tj(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;xm("Query.once",1,4,arguments.length),Sm("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new Qp,c=function(e,t){var r=new tj(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};c.userCallback=n,c.context=o.context;var l=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":yN(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":bN(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":wN(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":_N(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":xN(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(wm("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return xm("Query.limitToFirst",1,1,arguments.length),new e(this.database,DN(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new IN(e)}(t)))}},{key:"limitToLast",value:function(t){return xm("Query.limitToLast",1,1,arguments.length),new e(this.database,DN(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new CN(e)}(t)))}},{key:"orderByChild",value:function(t){return xm("Query.orderByChild",1,1,arguments.length),new e(this.database,DN(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return hk("orderByChild","path",e,!1),new RN(e)}(t)))}},{key:"orderByKey",value:function(){return xm("Query.orderByKey",0,0,arguments.length),new e(this.database,DN(this._delegate,new ON))}},{key:"orderByPriority",value:function(){return xm("Query.orderByPriority",0,0,arguments.length),new e(this.database,DN(this._delegate,new AN))}},{key:"orderByValue",value:function(){return xm("Query.orderByValue",0,0,arguments.length),new e(this.database,DN(this._delegate,new PN))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return xm("Query.startAt",0,2,arguments.length),new e(this.database,DN(this._delegate,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return fk("startAt","key",t,!0),new jN(e,t)}(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return xm("Query.startAfter",0,2,arguments.length),new e(this.database,DN(this._delegate,function(e,t){return fk("startAfter","key",t,!0),new TN(e,t)}(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return xm("Query.endAt",0,2,arguments.length),new e(this.database,DN(this._delegate,function(e,t){return fk("endAt","key",t,!0),new kN(e,t)}(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return xm("Query.endBefore",0,2,arguments.length),new e(this.database,DN(this._delegate,function(e,t){return fk("endBefore","key",t,!0),new NN(e,t)}(t,n)))}},{key:"equalTo",value:function(t,n){return xm("Query.equalTo",1,2,arguments.length),new e(this.database,DN(this._delegate,function(e,t){return fk("equalTo","key",t,!0),new LN(e,t)}(t,n)))}},{key:"toString",value:function(){return xm("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return xm("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(xm("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new rj(this.database,new sN(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Sm(e,"cancel",r.cancel,!0),r.context=n,Em(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(wm(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),rj=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,new rN(r._repo,r._path,new Bw,!1))).database=e,i._delegate=r,i}return p(n,[{key:"getKey",value:function(){return xm("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return xm("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,dN(this._delegate,e))}},{key:"getParent",value:function(){xm("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return xm("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){xm("Reference.set",1,2,arguments.length),Sm("Reference.set","onComplete",t,!0);var n=fN(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(xm("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,XN("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}mk("Reference.update",this._delegate._path),Sm("Reference.update","onComplete",t,!0);var i=hN(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){xm("Reference.setWithPriority",2,3,arguments.length),Sm("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(mk("setWithPriority",e._path),ck("setWithPriority",t,e._path,!1),dk("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Qp;return Ak(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){xm("Reference.remove",0,1,arguments.length),Sm("Reference.remove","onComplete",e,!0);var t,n=(t=this._delegate,mk("remove",t._path),fN(t,null));return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n}},{key:"transaction",value:function(e,t,n){var r=this;xm("Reference.transaction",1,3,arguments.length),Sm("Reference.transaction","transactionUpdate",e,!1),Sm("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(wm(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=JN(this._delegate,e,{applyLocally:n}).then((function(e){return new ej(e.committed,new tj(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){xm("Reference.setPriority",1,2,arguments.length),Sm("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=Nm(e),mk("setPriority",e._path),dk("setPriority",t,!1);var n=new Qp;return Ak(e._repo,zx(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;xm("Reference.push",0,2,arguments.length),Sm("Reference.push","onComplete",t,!0);var i=function(e,t){e=Nm(e),mk("push",e._path),ck("push",t,e._path,!0);var n,r=jk(e._repo),i=Xk(r),a=dN(e,i),o=dN(e,i);return n=null!=t?fN(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return mk("Reference.onDisconnect",this._delegate._path),new $N(new nN(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(nj),ij=function(){function e(t,n){var r=this;u(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:WN,forceLongPolling:HN}}return p(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qN(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(xm("database.ref",0,1,arguments.length),e instanceof rj){var t=uN(this._delegate,e.toString());return new rj(this,t)}var n=lN(this._delegate,e);return new rj(this,n)}},{key:"refFromURL",value:function(e){xm("database.refFromURL",1,1,arguments.length);var t=uN(this._delegate,e);return new rj(this,t)}},{key:"goOffline",value:function(){return xm("database.goOffline",0,0,arguments.length),function(e){(e=Nm(e))._checkNotDeleted("goOffline"),Mk(e._repo)}(this._delegate)}},{key:"goOnline",value:function(){return xm("database.goOnline",0,0,arguments.length),GN(this._delegate)}}]),e}();ij.ServerValue={TIMESTAMP:YN,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var aj,oj=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;I_(r);var c=new Im("auth-internal",new Am("database-standalone"));return c.setComponent(new jm("auth-internal",(function(){return i}),"PRIVATE")),{instance:new ij(VN(t,c,void 0,n,s),t),namespace:a}}}),sj=ij.ServerValue;(aj=k_).INTERNAL.registerComponent(new jm("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new ij(i,r)}),"PUBLIC").setServiceProps({Reference:rj,Query:nj,Database:ij,DataSnapshot:tj,enableLogging:KN,INTERNAL:oj,ServerValue:sj}).setMultipleInstances(!0)),aj.registerVersion("@firebase/database-compat","0.3.4");var cj={apiKey:"AIzaSyD2SCZ6dMcANWVXuOESJqiJ_pUBofHBppg",authDomain:"yuonair-2aa1b.firebaseapp.com",databaseURL:"https://yuonair-2aa1b-default-rtdb.firebaseio.com",projectId:"yuonair-2aa1b",storageBucket:"yuonair-2aa1b.appspot.com",messagingSenderId:"1004517911619",appId:"1:1004517911619:web:7cf599db7e732b9589f8f6",measurementId:"G-JZK43EBG1Y"},lj=(Sv(cj),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ev();return function(){return m_.apply(this,arguments)}().then((function(e){if(!e)throw Nb.create("unsupported-browser")}),(function(e){throw Nb.create("indexed-db-unsupported")})),vv(Nm(e),"messaging").getImmediate()}(Sv(cj)));var uj=function(){var e,t,n=_e(),i=k((0,r.useState)(),2),a=i[0],o=i[1],s=k((0,r.useState)([]),2),c=(s[0],s[1]),l=k((0,r.useState)(null),2),u=l[0],d=l[1];(0,r.useEffect)((function(){u&&f()}),[u]);var f=function(){var e=Be(Fe().mark((function e(){var t,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Notification"in window){e.next=2;break}return e.abrupt("return");case 2:if("granted"!==Notification.permission){e.next=9;break}return e.next=5,v_(lj,{vapidKey:"BEIOKcWO3f_L9km9ZW3dQitqsmhD2IjPN1EKkmk7wjF4JVhTf3UoCzil2dAXVfWJvqSTGzKR9-9OujhnYVgwfHw"});case 5:t=e.sent,localStorage.setItem("yuonair_fcm",t),e.next=23;break;case 9:if("denied"!==Notification.permission){e.next=14;break}window.confirm("You have denied notification permission. Do you want to enable it manually in your browser settings?"),e.next=23;break;case 14:return e.prev=14,e.next=17,Notification.requestPermission();case 17:e.sent,e.next=23;break;case 21:e.prev=21,e.t0=e.catch(14);case 23:localStorage.getItem("yuonair_fcm"),r={facebook_id:u.id,name:u.name,email:u.email,image_url:u.picture.data.url,fcm:""},gr.post("".concat(wr[0].apiUrl,"api/facebook_login"),r).then((function(e){c([e.data.data]),"error"!==e.data.token?(Sr.Z.setItem("facebook_id",e.data.data.facebook_id),Sr.Z.setItem("name",e.data.data.firstName),Sr.Z.setItem("name",e.data.data.lastName),Sr.Z.setItem("email",e.data.data.email),Sr.Z.setItem("_id",e.data.data.google_id),Sr.Z.setItem("imageurl",e.data.data.appImage_url),e.data.data.role,n("/")):o("Invalid user or verify your account....")})).catch((function(e){}));case 26:case"end":return e.stop()}}),e,null,[[14,21]])})));return function(){return e.apply(this,arguments)}}();return(0,Er.jsxs)("div",{children:[u?"":(0,Er.jsx)(Cp,{appId:"1026637468525199",onResolve:function(e){console.log(e),d(e.data)},onReject:function(e){console.log(e)},children:(0,Er.jsx)(kp.FacebookLoginButton,{})}),u?(0,Er.jsxs)("div",{children:[(0,Er.jsx)("h1",{children:null===u||void 0===u?void 0:u.name}),(0,Er.jsx)("img",{src:null===u||void 0===u||null===(e=u.picture)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.url,alt:"Profile"})]}):"",(0,Er.jsx)("p",{children:a})]})};var dj=function(){var e=_e(),t=k((0,r.useState)(""),2),n=t[0],i=t[1],a=k((0,r.useState)(null),2),o=a[0],s=a[1];(0,r.useEffect)((function(){o&&c()}),[o]),localStorage.getItem("yuonair_fcm");var c=function(){var t=Be(Fe().mark((function t(){var n,r;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Notification"in window){t.next=2;break}return t.abrupt("return");case 2:if("granted"!==Notification.permission){t.next=9;break}return t.next=5,v_(lj,{vapidKey:"BEIOKcWO3f_L9km9ZW3dQitqsmhD2IjPN1EKkmk7wjF4JVhTf3UoCzil2dAXVfWJvqSTGzKR9-9OujhnYVgwfHw"});case 5:n=t.sent,localStorage.setItem("yuonair_fcm",n),t.next=23;break;case 9:if("denied"!==Notification.permission){t.next=14;break}window.confirm("You have denied notification permission. Do you want to enable it manually in your browser settings?"),t.next=23;break;case 14:return t.prev=14,t.next=17,Notification.requestPermission();case 17:t.sent,t.next=23;break;case 21:t.prev=21,t.t0=t.catch(14);case 23:localStorage.getItem("yuonair_fcm"),r={twitter_id:o.userID,name:o.name,email:o.email,image_url:o.profilePicture,fcm:""},gr.post("".concat(wr[0].apiUrl,"api/twitter_login"),r).then((function(t){if("error"!==t.data.token){var n=t.data.data[0];Sr.Z.setItem("twitter_id",n.twitter_id),Sr.Z.setItem("name",n.name),Sr.Z.setItem("email",n.email),Sr.Z.setItem("_id",n._id),Sr.Z.setItem("imageurl",n.image_url),n.role,e("/")}else i("Invalid user or verify your account....")})).catch((function(e){}));case 26:case"end":return t.stop()}}),t,null,[[14,21]])})));return function(){return t.apply(this,arguments)}}();return(0,Er.jsxs)("div",{children:[o?null:(0,Er.jsx)(Pp,{client_id:"X0pBMXdfUmVBa2ZsUHM0alBLbFk6MTpjaQ",onResolve:function(e){s(e.profile)},onReject:function(e){},children:(0,Er.jsx)(kp.TwitterLoginButton,{})}),o?(0,Er.jsxs)("div",{children:[(0,Er.jsx)("h1",{children:o.name}),(0,Er.jsx)("img",{src:o.profilePicture,alt:"Profile"})]}):null,(0,Er.jsx)("p",{children:n})]})},fj=["theme","type"],hj=["delay","staleId"],pj=function(e){return"number"==typeof e&&!isNaN(e)},mj=function(e){return"string"==typeof e},vj=function(e){return"function"==typeof e},gj=function(e){return mj(e)||vj(e)?e:null},yj=function(e){return(0,r.isValidElement)(e)||mj(e)||vj(e)||pj(e)};function bj(e){var t=e.enter,n=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,s=void 0===o||o,c=e.collapseDuration,u=void 0===c?300:c;return function(e){var i=e.children,o=e.position,c=e.preventExitTransition,d=e.done,f=e.nodeRef,h=e.isIn,p=a?"".concat(t,"--").concat(o):t,m=a?"".concat(n,"--").concat(o):n,v=(0,r.useRef)(0);return(0,r.useLayoutEffect)((function(){var e,t=f.current,n=p.split(" "),r=function e(r){var i;r.target===f.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===v.current&&"animationcancel"!==r.type&&(i=t.classList).remove.apply(i,l(n)))};(e=t.classList).add.apply(e,l(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,r.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,d,u):d()};h||(c?t():(v.current=1,e.className+=" ".concat(m),e.addEventListener("animationend",t)))}),[h]),r.createElement(r.Fragment,null,i)}}function _j(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}var xj={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,l([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},wj=function(e){var t=e.theme,n=e.type,i=Yr(e,fj);return r.createElement("svg",Tr({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},i))},Sj={info:function(e){return r.createElement(wj,Tr({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(wj,Tr({},e),r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(wj,Tr({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(wj,Tr({},e),r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function Ej(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function kj(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Nj(e){var t=k((0,r.useState)(!1),2),n=t[0],i=t[1],a=k((0,r.useState)(!1),2),o=a[0],s=a[1],c=(0,r.useRef)(null),l=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,u=(0,r.useRef)(e),d=e.autoClose,f=e.pauseOnHover,h=e.closeToast,p=e.onClick,m=e.closeOnClick;function v(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),l.didMove=!1,document.addEventListener("mousemove",_),document.addEventListener("mouseup",x),document.addEventListener("touchmove",_),document.addEventListener("touchend",x);var n=c.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=Ej(t.nativeEvent),l.y=kj(t.nativeEvent),"x"===e.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(t){if(l.boundingRect){var n=l.boundingRect,r=n.top,i=n.bottom,a=n.left,o=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&l.x>=a&&l.x<=o&&l.y>=r&&l.y<=i?b():y()}}function y(){i(!0)}function b(){i(!1)}function _(t){var r=c.current;l.canDrag&&r&&(l.didMove=!0,n&&b(),l.x=Ej(t),l.y=kj(t),l.delta="x"===e.draggableDirection?l.x-l.start:l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),r.style.transform="translate".concat(e.draggableDirection,"(").concat(l.delta,"px)"),r.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function x(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",x);var t=c.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,r.useEffect)((function(){u.current=e})),(0,r.useEffect)((function(){return c.current&&c.current.addEventListener("d",y,{once:!0}),vj(e.onOpen)&&e.onOpen((0,r.isValidElement)(e.children)&&e.children.props),function(){var e=u.current;vj(e.onClose)&&e.onClose((0,r.isValidElement)(e.children)&&e.children.props)}}),[]),(0,r.useEffect)((function(){return e.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",y),window.addEventListener("blur",b)),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var w={onMouseDown:v,onTouchStart:v,onMouseUp:g,onTouchEnd:g};return d&&f&&(w.onMouseEnter=b,w.onMouseLeave=y),m&&(w.onClick=function(e){p&&p(e),l.canCloseOnClick&&h()}),{playToast:y,pauseToast:b,isRunning:n,preventExitTransition:o,toastRef:c,eventHandlers:w}}function jj(e){var t=e.closeToast,n=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":a},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Tj(e){var t=e.delay,n=e.isRunning,i=e.closeToast,a=e.type,o=void 0===a?"default":a,s=e.hide,c=e.className,l=e.style,u=e.controlledProgress,d=e.progress,f=e.rtl,h=e.isIn,p=e.theme,m=s||u&&0===d,v=Tr(Tr({},l),{},{animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused",opacity:m?0:1});u&&(v.transform="scaleX(".concat(d,")"));var g=ni("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":f}),y=vj(c)?c({rtl:f,type:o,defaultClassName:g}):ni(g,c);return r.createElement("div",Nr({role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:y,style:v},u&&d>=1?"onTransitionEnd":"onAnimationEnd",u&&d<1?null:function(){h&&i()}))}var Ij=function(e){var t=Nj(e),n=t.isRunning,i=t.preventExitTransition,a=t.toastRef,o=t.eventHandlers,s=e.closeButton,c=e.children,l=e.autoClose,u=e.onClick,d=e.type,f=e.hideProgressBar,h=e.closeToast,p=e.transition,m=e.position,v=e.className,g=e.style,y=e.bodyClassName,b=e.bodyStyle,_=e.progressClassName,x=e.progressStyle,w=e.updateId,S=e.role,E=e.progress,k=e.rtl,N=e.toastId,j=e.deleteToast,T=e.isIn,I=e.isLoading,C=e.iconOut,R=e.closeOnClick,O=e.theme,A=ni("Toastify__toast","Toastify__toast-theme--".concat(O),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":R}),P=vj(v)?v({rtl:k,position:m,type:d,defaultClassName:A}):ni(A,v),L=!!E||!l,D={closeToast:h,type:d,theme:O},M=null;return!1===s||(M=vj(s)?s(D):(0,r.isValidElement)(s)?(0,r.cloneElement)(s,D):jj(D)),r.createElement(p,{isIn:T,done:j,position:m,preventExitTransition:i,nodeRef:a},r.createElement("div",Tr(Tr({id:N,onClick:u,className:P},o),{},{style:g,ref:a}),r.createElement("div",Tr(Tr({},T&&{role:S}),{},{className:vj(y)?y({type:d}):ni("Toastify__toast-body",y),style:b}),null!=C&&r.createElement("div",{className:ni("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},C),r.createElement("div",null,c)),M,r.createElement(Tj,Tr(Tr({},w&&!L?{key:"pb-".concat(w)}:{}),{},{rtl:k,theme:O,delay:l,isRunning:n,isIn:T,closeToast:h,hide:f,type:d,style:x,className:_,controlledProgress:L,progress:E||0}))))},Cj=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Rj=bj(Cj("bounce",!0)),Oj=(bj(Cj("slide",!0)),bj(Cj("zoom")),bj(Cj("flip")),(0,r.forwardRef)((function(e,t){var n=function(e){var t=(0,r.useReducer)((function(e){return e+1}),0),n=k(t,2)[1],i=k((0,r.useState)([]),2),a=i[0],o=i[1],s=(0,r.useRef)(null),c=(0,r.useRef)(new Map).current,u=function(e){return-1!==a.indexOf(e)},d=(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:u,getToast:function(e){return c.get(e)}}).current;function f(e){var t=e.containerId;!d.props.limit||t&&d.containerId!==t||(d.count-=d.queue.length,d.queue=[])}function h(e){o((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function p(){var e=d.queue.shift();v(e.toastContent,e.toastProps,e.staleId)}function m(e,t){var i=t.delay,a=t.staleId,o=Yr(t,hj);if(yj(e)&&!function(e){return!s.current||d.props.enableMultiContainer&&e.containerId!==d.props.containerId||c.has(e.toastId)&&null==e.updateId}(o)){var l=o.toastId,u=o.updateId,f=o.data,m=d.props,g=function(){return h(l)},y=null==u;y&&d.count++;var b,_,x=Tr(Tr(Tr({},m),{},{style:m.toastStyle,key:d.toastKey++},Object.fromEntries(Object.entries(o).filter((function(e){var t=k(e,2);return t[0],null!=t[1]})))),{},{toastId:l,updateId:u,data:f,closeToast:g,isIn:!1,className:gj(o.className||m.toastClassName),bodyClassName:gj(o.bodyClassName||m.bodyClassName),progressClassName:gj(o.progressClassName||m.progressClassName),autoClose:!o.isLoading&&(b=o.autoClose,_=m.autoClose,!1===b||pj(b)&&b>0?b:_),deleteToast:function(){var e=_j(c.get(l),"removed");c.delete(l),xj.emit(4,e);var t=d.queue.length;if(d.count=null==l?d.count-d.displayedToast:d.count-1,d.count<0&&(d.count=0),t>0){var r=null==l?d.props.limit:1;if(1===t||1===r)d.displayedToast++,p();else{var i=r>t?t:r;d.displayedToast=i;for(var a=0;a<i;a++)p()}}else n()}});x.iconOut=function(e){var t=e.theme,n=e.type,i=e.isLoading,a=e.icon,o=null,s={theme:t,type:n};return!1===a||(vj(a)?o=a(s):(0,r.isValidElement)(a)?o=(0,r.cloneElement)(a,s):mj(a)||pj(a)?o=a:i?o=Sj.spinner():function(e){return e in Sj}(n)&&(o=Sj[n](s))),o}(x),vj(o.onOpen)&&(x.onOpen=o.onOpen),vj(o.onClose)&&(x.onClose=o.onClose),x.closeButton=m.closeButton,!1===o.closeButton||yj(o.closeButton)?x.closeButton=o.closeButton:!0===o.closeButton&&(x.closeButton=!yj(m.closeButton)||m.closeButton);var w=e;(0,r.isValidElement)(e)&&!mj(e.type)?w=(0,r.cloneElement)(e,{closeToast:g,toastProps:x,data:f}):vj(e)&&(w=e({closeToast:g,toastProps:x,data:f})),m.limit&&m.limit>0&&d.count>m.limit&&y?d.queue.push({toastContent:w,toastProps:x,staleId:a}):pj(i)?setTimeout((function(){v(w,x,a)}),i):v(w,x,a)}}function v(e,t,n){var r=t.toastId;n&&c.delete(n);var i={content:e,props:t};c.set(r,i),o((function(e){return[].concat(l(e),[r]).filter((function(e){return e!==n}))})),xj.emit(4,_j(i,null==i.props.updateId?"added":"updated"))}return(0,r.useEffect)((function(){return d.containerId=e.containerId,xj.cancelEmit(3).on(0,m).on(1,(function(e){return s.current&&h(e)})).on(5,f).emit(2,d),function(){c.clear(),xj.emit(3,d)}}),[]),(0,r.useEffect)((function(){d.props=e,d.isToastActive=u,d.displayedToast=a.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(c.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:s,isToastActive:u}}(e),i=n.getToastToRender,a=n.containerRef,o=n.isToastActive,s=e.className,c=e.style,u=e.rtl,d=e.containerId;function f(e){var t=ni("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":u});return vj(s)?s({position:e,rtl:u,defaultClassName:t}):ni(t,gj(s))}return(0,r.useEffect)((function(){t&&(t.current=a.current)}),[]),r.createElement("div",{ref:a,className:"Toastify",id:d},i((function(e,t){var n=t.length?Tr({},c):Tr(Tr({},c),{},{pointerEvents:"none"});return r.createElement("div",{className:f(e),style:n,key:"container-".concat(e)},t.map((function(e,n){var i=e.content,a=e.props;return r.createElement(Ij,Tr(Tr({},a),{},{isIn:o(a.toastId),style:Tr(Tr({},a.style),{},{"--nth":n+1,"--len":t.length}),key:"toast-".concat(a.key)}),i)})))})))})));Oj.displayName="ToastContainer",Oj.defaultProps={position:"top-right",transition:Rj,autoClose:5e3,closeButton:jj,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var Aj,Pj=new Map,Lj=[],Dj=1;function Mj(){return""+Dj++}function Uj(e){return e&&(mj(e.toastId)||pj(e.toastId))?e.toastId:Mj()}function Fj(e,t){return Pj.size>0?xj.emit(0,e,t):Lj.push({content:e,options:t}),t.toastId}function Vj(e,t){return Tr(Tr({},t),{},{type:t&&t.type||e,toastId:Uj(t)})}function Bj(e){return function(t,n){return Fj(t,Vj(e,n))}}function zj(e,t){return Fj(e,Vj("default",t))}zj.loading=function(e,t){return Fj(e,Vj("default",Tr({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},zj.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=mj(i)?zj.loading(i,n):zj.loading(i.render,Tr(Tr({},n),i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=function(e,t,i){if(null!=t){var a=Tr(Tr(Tr({type:e},s),n),{},{data:i}),o=mj(t)?{render:t}:t;return r?zj.update(r,Tr(Tr({},a),o)):zj(o.render,Tr(Tr({},a),o)),i}zj.dismiss(r)},l=vj(e)?e():e;return l.then((function(e){return c("success",o,e)})).catch((function(e){return c("error",a,e)})),l},zj.success=Bj("success"),zj.info=Bj("info"),zj.error=Bj("error"),zj.warning=Bj("warning"),zj.warn=zj.warning,zj.dark=function(e,t){return Fj(e,Vj("default",Tr({theme:"dark"},t)))},zj.dismiss=function(e){Pj.size>0?xj.emit(1,e):Lj=Lj.filter((function(t){return null!=e&&t.options.toastId!==e}))},zj.clearWaitingQueue=function(e){return void 0===e&&(e={}),xj.emit(5,e)},zj.isActive=function(e){var t=!1;return Pj.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},zj.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=Pj.get(n||Aj);return r&&r.getToast(e)}(e,t);if(n){var r=n.props,i=n.content,a=Tr(Tr(Tr({delay:100},r),t),{},{toastId:t.toastId||e,updateId:Mj()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,Fj(o,a)}}),0)},zj.done=function(e){zj.update(e,{progress:1})},zj.onChange=function(e){return xj.on(4,e),function(){xj.off(4,e)}},zj.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},zj.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},xj.on(2,(function(e){Aj=e.containerId||e,Pj.set(Aj,e),Lj.forEach((function(e){xj.emit(0,e.content,e.options)})),Lj=[]})).on(3,(function(e){Pj.delete(e.containerId||e),0===Pj.size&&xj.off(0).off(1).off(5)}));var Wj=function(){var e=_e(),t=k((0,r.useState)(""),2),n=t[0],i=t[1],a=k((0,r.useState)([]),2),o=(a[0],a[1]),s=k((0,r.useState)(null),2),c=s[0],l=s[1];(0,r.useEffect)((function(){c&&u()}),[c]),localStorage.getItem("yuonair_fcm");var u=function(){var t=Be(Fe().mark((function t(){var n,r;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Notification"in window){t.next=2;break}return t.abrupt("return");case 2:if("granted"!==Notification.permission){t.next=9;break}return t.next=5,v_(lj,{vapidKey:"BEIOKcWO3f_L9km9ZW3dQitqsmhD2IjPN1EKkmk7wjF4JVhTf3UoCzil2dAXVfWJvqSTGzKR9-9OujhnYVgwfHw"});case 5:n=t.sent,localStorage.setItem("yuonair_fcm",n),t.next=23;break;case 9:if("denied"!==Notification.permission){t.next=14;break}window.confirm("You have denied notification permission. Do you want to enable it manually in your browser settings?"),t.next=23;break;case 14:return t.prev=14,t.next=17,Notification.requestPermission();case 17:t.sent,t.next=23;break;case 21:t.prev=21,t.t0=t.catch(14);case 23:localStorage.getItem("yuonair_fcm"),r={google_id:c.sub,name:c.name,email:c.email,image_url:c.picture,fcm:""},gr.post("".concat(wr[0].apiUrl,"api/google_login"),r).then((function(t){o([t.data.data]),"error"!==t.data.token?(Sr.Z.setItem("google_id",t.data.data[0].google_id),Sr.Z.setItem("name",t.data.data[0].name),Sr.Z.setItem("email",t.data.data[0].email),Sr.Z.setItem("_id",t.data.data[0]._id),Sr.Z.setItem("imageurl",t.data.data[0].image_url),t.data.data.role,e("/")):i("Invalid user or verify your account....")})).catch((function(e){}));case 26:case"end":return t.stop()}}),t,null,[[14,21]])})));return function(){return t.apply(this,arguments)}}();return(0,Er.jsxs)("div",{children:[c?null:(0,Er.jsx)(Ap,{client_id:"1004517911619-4bnuicmpd8p1g1c0kflgem4kuqofi8qo.apps.googleusercontent.com",redirect_uri:"/",scope:"openid profile email",discoveryDocs:"claims_supported",access_type:"offline",onResolve:function(e){console.log(e),l(e.data)},onReject:function(e){},children:(0,Er.jsx)(kp.GoogleLoginButton,{})}),c?(0,Er.jsxs)("div",{children:[(0,Er.jsx)("h1",{children:c.name}),(0,Er.jsx)("img",{src:c.picture,alt:"Profile"})]}):null,(0,Er.jsx)("p",{children:n})]})};var Hj=function(){var e=_e(),t=k((0,r.useState)(""),2),n=t[0],i=t[1],a=k((0,r.useState)(""),2),o=a[0],s=a[1],c=k((0,r.useState)(""),2),l=c[0],u=c[1],d=k((0,r.useState)(""),2),f=(d[0],d[1],k((0,r.useState)(!1),2)),h=(f[0],f[1],function(){var t=Be(Fe().mark((function t(n){var r,a;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),"Notification"in window){t.next=3;break}return t.abrupt("return");case 3:if("granted"!==Notification.permission){t.next=10;break}return t.next=6,v_(lj,{vapidKey:"BEIOKcWO3f_L9km9ZW3dQitqsmhD2IjPN1EKkmk7wjF4JVhTf3UoCzil2dAXVfWJvqSTGzKR9-9OujhnYVgwfHw"});case 6:r=t.sent,localStorage.setItem("yuonair_fcm",r),t.next=24;break;case 10:if("denied"!==Notification.permission){t.next=15;break}window.confirm("You have denied notification permission. Do you want to enable it manually in your browser settings?"),t.next=24;break;case 15:return t.prev=15,t.next=18,Notification.requestPermission();case 18:t.sent,t.next=24;break;case 22:t.prev=22,t.t0=t.catch(15);case 24:if(o){t.next=29;break}return i("*Email is required"),t.abrupt("return");case 29:if(l){t.next=32;break}return i("*Password is required"),t.abrupt("return");case 32:localStorage.getItem("yuonair_fcm"),a={email:o,password:l,fcm:""},console.log("asdasd",a),gr.post("".concat(wr[0].apiUrl,"api/login"),a).then((function(t){if(t.data.result){t.data.userDetails;Sr.Z.setItem("_id",t.data.data._id),Sr.Z.setItem("username",t.data.data.username),Sr.Z.setItem("email",t.data.data.email),Sr.Z.setItem("gender",t.data.data.gender),Sr.Z.setItem("role",t.data.data.role),zj.success(t.data.msg),setTimeout((function(){e("/")}),3e3)}else"User not found"===t.data.message?i("Invalid user. Please register first."):i("Invalid user or verify your account."),s(""),u("")})).catch((function(e){i("Incorrect email & password")}));case 36:case"end":return t.stop()}}),t,null,[[15,22]])})));return function(e){return t.apply(this,arguments)}}());return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(Oj,{}),(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{class:"login-main-body",children:(0,Er.jsx)("section",{className:"login-main-wrapper",children:(0,Er.jsx)("div",{className:"container-fluid pl-0 pr-0",children:(0,Er.jsx)("div",{className:"row no-gutters",children:(0,Er.jsx)("div",{className:"col-md-12 p-0 bg-white full-height",children:(0,Er.jsxs)("div",{className:"login-main-left",children:[(0,Er.jsxs)("div",{className:"text-center mb-5 login-main-left-header pt-4",children:[(0,Er.jsx)("img",{src:"img/logo.png",className:"img-fluid",alt:"LOGO"}),(0,Er.jsx)("h5",{className:"mt-3 mb-3",children:"Welcome to Yuonair"})]}),(0,Er.jsx)("font",{style:{color:"blue"},children:n}),(0,Er.jsxs)("form",{onSubmit:h,text:"center",children:[(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{children:"Email"}),(0,Er.jsx)("input",{type:"email",name:"email",placeholder:"Email Addres",value:o,onChange:function(e){return s(e.target.value)},className:"form-control"}),(0,Er.jsx)("br",{}),(0,Er.jsx)("span",{className:"form-validation",style:{color:"red"}})]}),(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{children:"Password"}),(0,Er.jsx)("input",{type:"password",id:"form-login-password-2",name:"password",placeholder:"Password",value:l,onChange:function(e){return u(e.target.value)},className:"form-control"}),(0,Er.jsx)("br",{}),(0,Er.jsx)("span",{className:"form-validation",id:"unicpass",style:{color:"red"}})]}),(0,Er.jsx)("div",{className:"mt-4",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsx)("div",{className:"col-12",children:(0,Er.jsx)("button",{type:"submit",className:"btn btn-outline btn-block btn-lg",style:{backgroundColor:"#000080",color:"white",borderRadius:20},children:"Login"})})})})]}),(0,Er.jsxs)("div",{className:"text-center mt-5",children:[(0,Er.jsx)("p",{className:"light-gray",children:(0,Er.jsx)(jt,{to:"/forgotpassword",children:"Forgot Password"})}),(0,Er.jsxs)("p",{className:"light-gray",children:["Don\u2019t have an account? ",(0,Er.jsx)(jt,{to:"/register",children:"Sign Up"})]})]}),(0,Er.jsx)(Wj,{}),(0,Er.jsx)(uj,{}),(0,Er.jsx)(dj,{})]})})})})})})]})};var qj=function(){var e=k((0,r.useState)(""),2),t=e[0],n=e[1],i=k((0,r.useState)(""),2),a=i[0],o=i[1],s=k((0,r.useState)(""),2),c=s[0],l=s[1],u=k((0,r.useState)(""),2),d=(u[0],u[1],k((0,r.useState)(""),2)),f=d[0],h=d[1],p=k((0,r.useState)(""),2),m=p[0],v=p[1],g=k((0,r.useState)(""),2),y=g[0],b=g[1],_=_e(),x=function(){var e=Be(Fe().mark((function e(t){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a){e.next=4;break}return n("Please enter your name."),e.abrupt("return");case 4:if(c){e.next=7;break}return n("Please enter your email address."),e.abrupt("return");case 7:if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)){e.next=11;break}return n("Please enter a valid email address."),e.abrupt("return");case 11:if(f){e.next=14;break}return n("Please enter a password."),e.abrupt("return");case 14:if(m){e.next=17;break}return n("Please enter a confirm password."),e.abrupt("return");case 17:if(f===m){e.next=20;break}return n("Password & Confirm  should be same."),e.abrupt("return");case 20:if(y){e.next=23;break}return n("Please select gender."),e.abrupt("return");case 23:return r={username:a,email:c,password:f,confirm_password:m,gender:y},e.prev=24,e.next=27,gr.post("".concat(wr[0].apiUrl,"api/signup"),r);case 27:"error"!==(i=e.sent).data.token?(n("User registered successfully."),zj.success(i.data.msg),setTimeout((function(){_("/login")}),3e3),o(""),l(""),h(""),v(""),b("")):n(i.data.message),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(24),e.t0.response&&e.t0.response.data&&"false"===e.t0.response.data.result&&"user allready registered, please go to login page.."===e.t0.response.data.message&&n("The email is already registered. Please go to the login page.");case 34:case"end":return e.stop()}}),e,null,[[24,31]])})));return function(t){return e.apply(this,arguments)}}();return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(Oj,{}),(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{class:"login-main-body",children:(0,Er.jsx)("section",{className:"login-main-wrapper",children:(0,Er.jsx)("div",{className:"container-fluid pl-0 pr-0",children:(0,Er.jsx)("div",{className:"row no-gutters",children:(0,Er.jsx)("div",{className:"col-md-12 p-0 bg-white full-height",children:(0,Er.jsxs)("div",{className:"login-main-left",children:[(0,Er.jsxs)("div",{className:"text-center mb-5 login-main-left-header pt-4",children:[(0,Er.jsx)("img",{src:"img/logo.png",className:"img-fluid",alt:"LOGO"}),(0,Er.jsx)("h5",{className:"mt-3 mb-3",children:"Welcome to Yuonair"})]}),t&&(0,Er.jsx)("font",{style:{color:"blue"},children:t}),(0,Er.jsxs)("form",{onSubmit:x,children:[(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{children:"UserName"}),(0,Er.jsx)("input",{type:"text",className:"form-control",value:a,onChange:function(e){return o(e.target.value)},placeholder:"Enter Username"}),(0,Er.jsx)("span",{className:"form-validation",style:{color:"red"}}),(0,Er.jsx)("span",{className:"form-validation",style:{color:"red"}})]}),(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{children:"Email"}),(0,Er.jsx)("input",{type:"email",className:"form-control",name:"email",value:c,onChange:function(e){return l(e.target.value)},placeholder:"Enter email"}),(0,Er.jsx)("br",{}),(0,Er.jsx)("span",{className:"form-validation",style:{color:"red"}}),(0,Er.jsx)("span",{className:"form-validation",style:{color:"red"}})]}),(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{children:"Password"}),(0,Er.jsx)("input",{type:"password",className:"form-control",maxLength:8,name:"password",value:f,onChange:function(e){return h(e.target.value)},placeholder:"Password"}),(0,Er.jsx)("br",{}),(0,Er.jsx)("span",{className:"form-validation",id:"unicpass",style:{color:"red"}})]}),(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{children:"Confirm Password"}),(0,Er.jsx)("input",{type:"password",className:"form-control",maxLength:"8",name:"password2",value:m,onChange:function(e){return v(e.target.value)},placeholder:"confirm Password"}),(0,Er.jsx)("br",{}),(0,Er.jsx)("span",{className:"form-validation",style:{color:"red"}})]}),(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{children:"Gender"}),(0,Er.jsxs)("select",{className:"form-control",name:"gender",value:y,onChange:function(e){return b(e.target.value)},children:[(0,Er.jsx)("option",{value:"",children:"Select gender"}),(0,Er.jsx)("option",{value:"male",children:"Male"}),(0,Er.jsx)("option",{value:"female",children:"Female"}),(0,Er.jsx)("option",{value:"other",children:"Other"})]}),(0,Er.jsx)("br",{}),(0,Er.jsx)("span",{className:"form-validation",style:{color:"red"}})]}),(0,Er.jsx)("div",{className:"mt-4",children:(0,Er.jsx)("button",{type:"submit",className:"btn btn-outline btn-block btn-lg",style:{backgroundColor:"#000080",color:"white",borderRadius:"20px"},children:"Sign Up"})})]}),(0,Er.jsx)("div",{className:"text-center mt-5",children:(0,Er.jsxs)("p",{className:"light-gray",children:["Already have an Account? ",(0,Er.jsx)(jt,{to:"/login",children:"Sign In"})]})}),(0,Er.jsx)(Wj,{}),(0,Er.jsx)(uj,{}),(0,Er.jsx)(dj,{})]})})})})})}),(0,Er.jsx)(Hr,{})]})},Gj=function(){return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h6",{children:"Categories"})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#1EBCA5"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/art.png",alt:""}),(0,Er.jsxs)("h5",{children:["Art ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified"})]})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#E76940"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/Architecture.png",alt:""}),(0,Er.jsxs)("h5",{children:["Architecture  ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified"})]})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#E74FB3"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/comedy.png",alt:""}),(0,Er.jsx)("h5",{children:"Comedy"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#7B49E2"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/Entertainment.png",alt:""}),(0,Er.jsxs)("h5",{children:["Entertainment ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified"})]})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#E76940"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/news.png",alt:""}),(0,Er.jsx)("h5",{children:"News"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#3D80E8"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/Business.png",alt:""}),(0,Er.jsx)("h5",{children:"Business"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#7B49E2"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/music.png",alt:""}),(0,Er.jsx)("h5",{children:"Music"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#1EBCA5"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/live.png",alt:""}),(0,Er.jsx)("h5",{children:"Live"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#E74FB3"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/gaming.png",alt:""}),(0,Er.jsx)("h5",{children:"Gaming"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#3D80E8"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/cricket.png",alt:""}),(0,Er.jsx)("h5",{children:"Cricket"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#1EBCA5"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/cars.png",alt:""}),(0,Er.jsxs)("h5",{children:["Cars ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified"})]})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#E76940"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/all.png",alt:""}),(0,Er.jsx)("h5",{children:"All"})]})})})]})})})})}),(0,Er.jsx)(Hr,{})]})},Kj=function(){return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"wrapper",children:(0,Er.jsx)("div",{id:"content-wrapper",children:(0,Er.jsx)("div",{className:"container-fluid",children:(0,Er.jsxs)("div",{className:"video-block section-padding",children:[(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h6",{children:"Categories"})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#1EBCA5"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/art.png",alt:""}),(0,Er.jsxs)("h5",{children:["Art ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified"})]})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#E76940"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/Architecture.png",alt:""}),(0,Er.jsxs)("h5",{children:["Architecture  ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified"})]})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#E74FB3"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/comedy.png",alt:""}),(0,Er.jsx)("h5",{children:"Comedy"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#7B49E2"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/Entertainment.png",alt:""}),(0,Er.jsxs)("h5",{children:["Entertainment ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified"})]})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#E76940"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/news.png",alt:""}),(0,Er.jsx)("h5",{children:"News"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#3D80E8"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/Business.png",alt:""}),(0,Er.jsx)("h5",{children:"Business"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#7B49E2"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/music.png",alt:""}),(0,Er.jsx)("h5",{children:"Music"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#1EBCA5"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/live.png",alt:""}),(0,Er.jsx)("h5",{children:"Live"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#E74FB3"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/gaming.png",alt:""}),(0,Er.jsx)("h5",{children:"Gaming"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#3D80E8"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/cricket.png",alt:""}),(0,Er.jsx)("h5",{children:"Cricket"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#1EBCA5"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/cars.png",alt:""}),(0,Er.jsxs)("h5",{children:["Cars ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified"})]})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#E76940"},children:(0,Er.jsxs)(jt,{to:"/chennal_category",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/all.png",alt:""}),(0,Er.jsx)("h5",{children:"All"})]})})})]}),(0,Er.jsx)("nav",{"aria-label":"Page navigation example",children:(0,Er.jsxs)("ul",{className:"pagination justify-content-center pagination-sm mb-0",children:[(0,Er.jsx)("li",{className:"page-item disabled",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",tabIndex:-1,children:"Previous"})}),(0,Er.jsx)("li",{className:"page-item active",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",children:"1"})}),(0,Er.jsx)("li",{className:"page-item",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",children:"2"})}),(0,Er.jsx)("li",{className:"page-item",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",children:"3"})}),(0,Er.jsx)("li",{className:"page-item",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",children:"Next"})})]})})]})})})}),(0,Er.jsx)(Hr,{})]})},Yj=function(){return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"wrapper",children:(0,Er.jsx)("div",{id:"content-wrapper",children:(0,Er.jsxs)("div",{className:"container-fluid pb-0",children:[(0,Er.jsx)("div",{className:"top-mobile-search",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("form",{className:"mobile-search",children:(0,Er.jsxs)("div",{className:"input-group",children:[(0,Er.jsx)("input",{type:"text",placeholder:"Search for...",className:"form-control"}),(0,Er.jsx)("div",{className:"input-group-append",children:(0,Er.jsx)("button",{type:"button",className:"btn btn-dark",children:(0,Er.jsx)("i",{className:"fas fa-search"})})})]})})})})}),(0,Er.jsx)("div",{className:"top-category section-padding mb-4",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12 ",children:(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h6",{children:"Channels Categories"})})}),(0,Er.jsx)("div",{className:"col-md-12",style:{backgroundColor:"rgba(0,0,0,0.1)"},children:(0,Er.jsx)("div",{className:"category ",children:(0,Er.jsxs)(Ct.Z,Tr(Tr({},{dots:!1,infinite:!0,speed:300,slidesToShow:6,slidesToScroll:1}),{},{children:[(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/music.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Music"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/live.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Live"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/gaming.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Gaming"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/cricket.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Cricket"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/cars.png",alt:""}),(0,Er.jsxs)("h6",{className:"category_h6",children:["Cars ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified"})]})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/all.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"All"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/art.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Art"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("div",{className:"text-center",children:(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/Architecture.png",alt:""})}),(0,Er.jsx)("h6",{className:"category_h6",children:"Architecture"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/comedy.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Comedy"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/Entertainment.png",alt:""}),(0,Er.jsxs)("h6",{className:"category_h6",children:["Entertainment  ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/news.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"News"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/business.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Business"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/music.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Music"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/live.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Live"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/gaming.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Gaming"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/cricket.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Cricket"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/cars.png",alt:""}),(0,Er.jsxs)("h6",{className:"category_h6",children:["Cars ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified"})]})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/all.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"All"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/art.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Art"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/Architecture.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Architecture"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/comedy.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Comedy"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/Entertainment.png",alt:""}),(0,Er.jsxs)("h6",{className:"category_h6",children:["Entertainment  ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/news.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"News"})]})}),(0,Er.jsx)("div",{className:"category_item",children:(0,Er.jsxs)(jt,{to:"#",children:[(0,Er.jsx)("img",{style:{width:"40px"},className:"img-fluid category_img",src:"img/business.png",alt:""}),(0,Er.jsx)("h6",{className:"category_h6",children:"Business"})]})})]}))})})]})}),(0,Er.jsx)("hr",{}),(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h6",{children:"Featured Videos"})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",style:{paddingLeft:"10px",paddingRight:"0px"},children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{border:"none",borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid ",src:"img/v1.png",alt:""})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px",paddingRight:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid ",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("a",{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",style:{paddingLeft:"10px",paddingRight:"0px"},children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{border:"none",borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid ",src:"img/v2.png",alt:""})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px",paddingRight:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid ",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("a",{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",style:{paddingLeft:"10px",paddingRight:"0px"},children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{border:"none",borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid ",src:"img/v3.png",alt:""})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px",paddingRight:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid ",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("a",{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",style:{paddingLeft:"10px",paddingRight:"0px"},children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{border:"none",borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid ",src:"img/v4.png",alt:""})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px",paddingRight:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid ",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("a",{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})})]})}),(0,Er.jsx)("hr",{className:"mt-0"})]})})}),(0,Er.jsx)(Hr,{})]})},Zj=function(){return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsxs)("div",{id:"wrapper",children:[(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"content-wrapper",children:(0,Er.jsx)("div",{className:"container-fluid",children:(0,Er.jsxs)("div",{className:"video-block section-padding",children:[(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsxs)("div",{className:"main-title",children:[(0,Er.jsxs)("div",{className:"btn-group float-right right-action",children:[(0,Er.jsxs)(jt,{to:"#",className:"right-action-link text-gray","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["Sort by ",(0,Er.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})]}),(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right",children:[(0,Er.jsxs)(jt,{className:"dropdown-item",to:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-star"})," \xa0 Top Rated"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-signal"})," \xa0 Viewed"]}),(0,Er.jsxs)(jt,{className:"dropdown-item",to:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-times-circle"})," \xa0 Close"]})]})]}),(0,Er.jsx)("h6",{children:"Subscriptions"})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s1.png",alt:""})}),(0,Er.jsxs)("div",{className:"channels-card-image-btn",children:[(0,Er.jsxs)("button",{type:"button",className:"btn btn-success btn-sm border-none",children:["Subscribe ",(0,Er.jsx)("strong",{children:"1.4M"})]})," ",(0,Er.jsx)("button",{type:"button",className:"btn btn-warning btn-sm border-none",children:(0,Er.jsx)("i",{className:"fas fa-times-circle"})})]})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsxs)(jt,{to:"#",children:["Channels Name ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s2.png",alt:""})}),(0,Er.jsxs)("div",{className:"channels-card-image-btn",children:[(0,Er.jsxs)("button",{type:"button",className:"btn btn-danger btn-sm border-none",children:["Subscribe ",(0,Er.jsx)("strong",{children:"1.4M"})]})," ",(0,Er.jsx)("button",{type:"button",className:"btn btn-warning btn-sm border-none",children:(0,Er.jsx)("i",{className:"fas fa-times-circle"})})]})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s3.png",alt:""})}),(0,Er.jsxs)("div",{className:"channels-card-image-btn",children:[(0,Er.jsxs)("button",{type:"button",className:"btn btn-secondary btn-sm border-none",children:["Subscribed ",(0,Er.jsx)("strong",{children:"1.4M"})]})," ",(0,Er.jsx)("button",{type:"button",className:"btn btn-warning btn-sm border-none",children:(0,Er.jsx)("i",{className:"fas fa-times-circle"})})]})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsxs)(jt,{to:"#",children:["Channels Name ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle"})})]})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})}),(0,Er.jsxs)("div",{className:"channels-card-image-btn",children:[(0,Er.jsxs)("button",{type:"button",className:"btn btn-danger btn-sm border-none",children:["Subscribe ",(0,Er.jsx)("strong",{children:"1.4M"})]})," ",(0,Er.jsx)("button",{type:"button",className:"btn btn-warning btn-sm border-none",children:(0,Er.jsx)("i",{className:"fas fa-times-circle"})})]})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s6.png",alt:""})}),(0,Er.jsxs)("div",{className:"channels-card-image-btn",children:[(0,Er.jsxs)("button",{type:"button",className:"btn btn-danger btn-sm border-none",children:["Subscribe ",(0,Er.jsx)("strong",{children:"1.4M"})]})," ",(0,Er.jsx)("button",{type:"button",className:"btn btn-warning btn-sm border-none",children:(0,Er.jsx)("i",{className:"fas fa-times-circle"})})]})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s8.png",alt:""})}),(0,Er.jsxs)("div",{className:"channels-card-image-btn",children:[(0,Er.jsxs)("button",{type:"button",className:"btn btn-danger btn-sm border-none",children:["Subscribe ",(0,Er.jsx)("strong",{children:"1.4M"})]})," ",(0,Er.jsx)("button",{type:"button",className:"btn btn-warning btn-sm border-none",children:(0,Er.jsx)("i",{className:"fas fa-times-circle"})})]})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s5.png",alt:""})}),(0,Er.jsxs)("div",{className:"channels-card-image-btn",children:[(0,Er.jsxs)("button",{type:"button",className:"btn btn-danger btn-sm border-none",children:["Subscribe ",(0,Er.jsx)("strong",{children:"1.4M"})]})," ",(0,Er.jsx)("button",{type:"button",className:"btn btn-warning btn-sm border-none",children:(0,Er.jsx)("i",{className:"fas fa-times-circle"})})]})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s6.png",alt:""})}),(0,Er.jsxs)("div",{className:"channels-card-image-btn",children:[(0,Er.jsxs)("button",{type:"button",className:"btn btn-danger btn-sm border-none",children:["Subscribe ",(0,Er.jsx)("strong",{children:"1.4M"})]})," ",(0,Er.jsx)("button",{type:"button",className:"btn btn-warning btn-sm border-none",children:(0,Er.jsx)("i",{className:"fas fa-times-circle"})})]})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s8.png",alt:""})}),(0,Er.jsxs)("div",{className:"channels-card-image-btn",children:[(0,Er.jsxs)("button",{type:"button",className:"btn btn-danger btn-sm border-none",children:["Subscribe ",(0,Er.jsx)("strong",{children:"1.4M"})]})," ",(0,Er.jsx)("button",{type:"button",className:"btn btn-warning btn-sm border-none",children:(0,Er.jsx)("i",{className:"fas fa-times-circle"})})]})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s7.png",alt:""})}),(0,Er.jsxs)("div",{className:"channels-card-image-btn",children:[(0,Er.jsxs)("button",{type:"button",className:"btn btn-secondary btn-sm border-none",children:["Subscribed ",(0,Er.jsx)("strong",{children:"1.4M"})]})," ",(0,Er.jsx)("button",{type:"button",className:"btn btn-warning btn-sm border-none",children:(0,Er.jsx)("i",{className:"fas fa-times-circle"})})]})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsxs)(jt,{to:"#",children:["Channels Name ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle"})})]})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s1.png",alt:""})}),(0,Er.jsxs)("div",{className:"channels-card-image-btn",children:[(0,Er.jsxs)("button",{type:"button",className:"btn btn-danger btn-sm border-none",children:["Subscribe ",(0,Er.jsx)("strong",{children:"1.4M"})]})," ",(0,Er.jsx)("button",{type:"button",className:"btn btn-warning btn-sm border-none",children:(0,Er.jsx)("i",{className:"fas fa-times-circle"})})]})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:(0,Er.jsxs)("div",{className:"channels-card",children:[(0,Er.jsxs)("div",{className:"channels-card-image",children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/s2.png",alt:""})}),(0,Er.jsxs)("div",{className:"channels-card-image-btn",children:[(0,Er.jsxs)("button",{type:"button",className:"btn btn-danger btn-sm border-none",children:["Subscribe ",(0,Er.jsx)("strong",{children:"1.4M"})]})," ",(0,Er.jsx)("button",{type:"button",className:"btn btn-warning btn-sm border-none",children:(0,Er.jsx)("i",{className:"fas fa-times-circle"})})]})]}),(0,Er.jsxs)("div",{className:"channels-card-body",children:[(0,Er.jsx)("div",{className:"channels-title",children:(0,Er.jsx)(jt,{to:"#",children:"Channels Name"})}),(0,Er.jsx)("div",{className:"channels-view",children:"382,323 subscribers"})]})]})})]}),(0,Er.jsx)("nav",{"aria-label":"Page navigation example",children:(0,Er.jsxs)("ul",{className:"pagination justify-content-center pagination-sm mb-0",children:[(0,Er.jsx)("li",{className:"page-item disabled",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",tabIndex:-1,children:"Previous"})}),(0,Er.jsx)("li",{className:"page-item active",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",children:"1"})}),(0,Er.jsx)("li",{className:"page-item",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",children:"2"})}),(0,Er.jsx)("li",{className:"page-item",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",children:"3"})}),(0,Er.jsx)("li",{className:"page-item",children:(0,Er.jsx)(jt,{className:"page-link",to:"#",children:"Next"})})]})})]})})})]}),(0,Er.jsx)(Hr,{})]})},Jj=function(){return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsxs)("div",{id:"wrapper",children:[(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"content-wrapper",children:(0,Er.jsx)("div",{className:"container-fluid pt-5 pb-5",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsx)("div",{className:"col-md-8 mx-auto text-center upload-video pt-5 pb-5",children:(0,Er.jsxs)("form",{action:"upload-video.html",method:"post",children:[(0,Er.jsxs)("h1",{children:[(0,Er.jsx)("input",{type:"file",id:"file_upload_id",style:{display:"none"}}),(0,Er.jsx)("i",{className:"fas fa-file-upload text-primary",onclick:"_upload()"})]}),(0,Er.jsx)("h4",{className:"mt-5",children:"Select Video files to upload"}),(0,Er.jsx)("p",{className:"land",children:"or drag and drop video files"}),(0,Er.jsx)("div",{className:"mt-4",children:(0,Er.jsx)(jt,{to:"/upload_video",children:(0,Er.jsx)("button",{className:"btn btn-primary",type:"submit",style:{background:"#000080",borderRadius:"4px"},children:"Upload "})})})]})})})})})]}),(0,Er.jsx)(Hr,{})]})},Qj=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1],i=k((0,r.useState)([]),2),a=i[0],o=i[1],s=k((0,r.useState)([]),2),c=s[0],l=s[1],u=k((0,r.useState)([]),2),d=u[0],f=u[1],h=function(e){var t=new Date(e),n=new Date,r=Math.abs(n-t),i=Math.floor(r/31536e6);if(i>0)return 1===i?"1 year ago":"".concat(i," years ago");var a=Math.floor(r/2592e6);if(a>0)return 1===a?"1 month ago":"".concat(a," months ago");var o=Math.floor(r/864e5);if(o>0)return 1===o?"1 day ago":"".concat(o," days ago");var s=Math.floor(r/36e5);if(s>0)return 1===s?"1 hour ago":"".concat(s," hours ago");var c=Math.floor(r/6e4);return c>0?1===c?"1 minute ago":"".concat(c," minutes ago"):"Just now"};(0,r.useEffect)((function(){p()}),[]);var p=function(){var e=Be(Fe().mark((function e(){var t,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("channelid"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=JSON.stringify({_id:t}),e.next=5,gr.post("".concat(wr[0].apiUrl,"api/get_single_channel"),i,r).then((function(e){n([e.data.data])})).catch((function(e){}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){m()}),[]);var m=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("useridd"),n=Sr.Z.getItem("channelid"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i={channel_id:n,user_id:t},e.prev=4,e.next=7,gr.post("".concat(wr[0].apiUrl,"api/get_my_channel_audio"),i,r);case 7:a=e.sent,Array.isArray(a.data.data)&&f(a.data.data),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){v()}),[]);var v=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("useridd"),n=Sr.Z.getItem("channelid"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i={channel_id:n,user_id:t},e.prev=4,e.next=7,gr.post("".concat(wr[0].apiUrl,"api/get_my_channel_video"),i,r);case 7:a=e.sent,Array.isArray(a.data.data)&&o(a.data.data),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){g()}),[]);var g=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("useridd"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_music_playlist"),r,n);case 6:(i=e.sent).data.data&&i.data.data.length>0&&l(i.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{className:"mobilewidth",children:t.map((function(e){var t,n;return(0,Er.jsxs)("div",{className:"",children:[(0,Er.jsxs)("div",{className:"single-channel-image",children:[(0,Er.jsx)("img",{style:{height:"250px"},className:"img-fluid",alt:"",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.image[0])||void 0===t?void 0:t.filename)}),(0,Er.jsx)("div",{className:"channel-profile",children:(0,Er.jsx)("img",{className:"channel-profile-img",alt:"",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(n=e.image[1])||void 0===n?void 0:n.filename)})})]}),(0,Er.jsx)("div",{className:"single-channel-nav",children:(0,Er.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light",style:{paddingLeft:"28px"},children:[(0,Er.jsx)("div",{className:"row"}),(0,Er.jsxs)("div",{className:"col-sm-3",children:[(0,Er.jsxs)(jt,{className:"channel-brand",to:"#",children:[e.channel_name," "]})," ",(0,Er.jsxs)("button",{className:"btn btn-outline-danger btn-sm",type:"button",children:["Subscriber",(0,Er.jsxs)("strong",{children:[" ",e.subscribe_count]})]})]})]})}),(0,Er.jsxs)(mi,{className:"ml-4 mt-3",style:{},children:[(0,Er.jsxs)(bi,{width:"100%",style:{padding:"0px"},children:[(0,Er.jsx)(Ei,{selectedClassName:"my-selected-tab",style:{paddingLeft:"",border:"none",width:"25%",textAlign:"center",fontWeight:"600",fontSize:"14px"},children:"Home"}),(0,Er.jsx)(Ei,{selectedClassName:"my-selected-tab",style:{paddingLeft:"",fontWeight:"600",fontSize:"14px",border:"none",width:"25%",textAlign:"center"},children:"Videos"}),(0,Er.jsx)(Ei,{selectedClassName:"my-selected-tab",style:{fontWeight:"600",fontSize:"14px",paddingLeft:"",border:"none",width:"25%",textAlign:"center"},children:"Playlist"}),(0,Er.jsx)(Ei,{selectedClassName:"my-selected-tab",style:{fontWeight:"600",fontSize:"14px",paddingLeft:"",border:"none",width:"25%",textAlign:"center"},children:"Music"})]}),(0,Er.jsx)(Ii,{children:(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"container-fluid",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h6",{children:"Home"})})}),a.map((function(e){var t,n;return e.video&&e.video[1]&&e.video[1].filename?(0,Er.jsx)("div",{className:"col-lg-4 col-sm-6 mb-4",style:{paddingLeft:10,paddingRight:10},children:(0,Er.jsxs)("div",{className:"video-card",style:{height:"240px",borderRadius:"10px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",height:"150px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},children:(0,Er.jsx)("img",{style:{height:"150px",borderRadius:"10px"},className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+(null===(n=e.video[1])||void 0===n?void 0:n.filename),alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"#",style:{color:"black",fontSize:"16px",fontWeight:"500"},children:e.video_name.slice(0,17)})}),(0,Er.jsxs)("div",{className:"video-page text-success",style:{color:"#acacac",fontSize:"12px"},children:[(0,Er.jsxs)("font",{style:{color:"#acacac"},children:[e.channel_name.slice(0,20)," "]}),(0,Er.jsx)(jt,{title:"","data-placement":"top","data-toggle":"tooltip",to:"#","data-original-title":"Verified"})]}),(0,Er.jsxs)("div",{className:"video-view",children:[(0,Er.jsx)("font",{style:{fontSize:"12px",fontWeight:"600"},children:e.video_views})," views \xa0",(0,Er.jsxs)("font",{style:{fontSize:"12px",fontWeight:"600"},children:[(0,Er.jsx)("i",{className:"fas fa-calendar-alt"})," ",h(e.current_date)]})]})]})]})},null===(t=e.video[1])||void 0===t?void 0:t.filename):null}))]})})})})}),(0,Er.jsx)(Ii,{children:(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"container-fluid",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h6",{children:"Upload Videos"})})}),a.map((function(e){return e.video&&e.video[1]&&e.video[1].filename?(0,Er.jsx)("div",{className:"col-lg-4 col-sm-6 mb-4",style:{paddingLeft:10,paddingRight:10},children:(0,Er.jsxs)("div",{className:"video-card",style:{height:"240px",borderRadius:"7px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",height:"150px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},children:(0,Er.jsx)("img",{style:{height:"150px"},className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+e.video[1].filename,alt:""})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"#",style:{color:"black",fontSize:"16px",fontWeight:"500"},children:e.video_name.slice(0,17)})}),(0,Er.jsxs)("div",{className:"video-page text-success",style:{color:"#888",fontSize:"12px"},children:[(0,Er.jsxs)("font",{style:{color:"#acacac"},children:[e.channel_name.slice(0,20)," "]}),(0,Er.jsx)(jt,{title:"","data-placement":"top","data-toggle":"tooltip",to:"#","data-original-title":"Verified"})]}),(0,Er.jsxs)("div",{className:"video-view",children:[(0,Er.jsx)("font",{style:{fontSize:"12px",fontWeight:"600"},children:e.video_views})," views \xa0",(0,Er.jsxs)("font",{style:{fontSize:"12px",fontWeight:"600"},children:[(0,Er.jsx)("i",{className:"fas fa-calendar-alt"})," ",h(e.current_date)]})]})]})]})},e.video[1].filename):null}))]})})})})}),(0,Er.jsx)(Ii,{children:(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"container-fluid",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h6",{children:"Music List"})})}),c.map((function(e){return(0,Er.jsx)("div",{className:"col-lg-4 col-sm-6 mb-4",style:{paddingLeft:10,paddingRight:10},children:(0,Er.jsxs)("div",{className:"video-card",style:{height:"207px",borderRadius:"7px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",height:"150px"},children:[(0,Er.jsx)(jt,{className:"play-icon",onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/musiclist",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/musiclist",children:(0,Er.jsx)("img",{style:{height:"150px"},className:"img-fluid",src:"img/logo.png"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/musiclist"})]}),(0,Er.jsx)("p",{style:{color:"black",fontSize:"16px",fontWeight:"500"},children:e.name&&e.name})]})})}))]})})})})}),(0,Er.jsx)(Ii,{children:(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"container-fluid",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h6",{children:"Upload Music"})})}),d.map((function(e){return(0,Er.jsx)("div",{className:"col-lg-4 col-sm-6 mb-4",style:{paddingLeft:10,paddingRight:10},children:(0,Er.jsxs)("div",{className:"video-card",style:{height:"200px",borderRadius:"7px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",height:"150px"},children:[(0,Er.jsx)(jt,{className:"play-icon",onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/audio",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/audio",children:e.music[1]&&e.music[1]&&e.music[1].filename?(0,Er.jsx)("img",{style:{height:"150px"},className:"img-fluid",alt:"Channel Image",src:"".concat(wr[0].apiUrl,"uploads/")+e.music[1].filename}):(0,Er.jsx)("img",{style:{height:"150px"},className:"img-fluid",src:"img/logo.png",alt:"sadasd"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/audio"})]}),(0,Er.jsx)("p",{style:{color:"black",fontSize:"16px",fontWeight:"500"},children:e.music_title&&e.music_title})]})})}))]})})})})})]})]})}))}),(0,Er.jsx)(Hr,{})]})},Xj=function(){var e=k((0,r.useState)(null),2),t=e[0],n=e[1],i=k((0,r.useState)(null),2),a=i[0],o=i[1],s=k((0,r.useState)(""),2),c=s[0],l=s[1],u=k((0,r.useState)(""),2),d=u[0],f=u[1],h=k((0,r.useState)([]),2),p=(h[0],h[1]),m=k((0,r.useState)(""),2),v=m[0],g=m[1],y=k((0,r.useState)(""),2),b=y[0],_=y[1],x=_e(),w=Sr.Z.getItem("_id"),S=k((0,r.useState)(),2),E=S[0],N=S[1],j=k((0,r.useState)(),2),T=j[0],I=j[1],C=function(){var e=Be(Fe().mark((function e(r){var i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t&&a){e.next=4;break}return g("Please select both profile and cover images."),e.abrupt("return");case 4:if(d.trim()){e.next=7;break}return g("Please enter a channel name."),e.abrupt("return");case 7:if(c.trim()){e.next=10;break}return g("Please enter a description."),e.abrupt("return");case 10:return(i=new FormData).append("profile_image",t),i.append("cover_image",a),i.append("user_id",w),i.append("channel_name",d),i.append("handle",c),e.prev=16,e.next=19,gr.post("".concat(wr[0].apiUrl,"api/create_channel"),i,{headers:{"Content-Type":"multipart/form-data","X-Api-Key":"your-api-key"}});case 19:e.sent,n(null),o(null),f(""),l(""),g(""),_("Channel create successfully!"),x("/myaccount"),e.next=31;break;case 29:e.prev=29,e.t0=e.catch(16);case 31:case"end":return e.stop()}}),e,null,[[16,29]])})));return function(t){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){R()}),[]);var R=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_channel"),r,n);case 6:(i=e.sent).data.data&&i.data.data.length>0&&p(i.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h6",{children:"Setting"})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#fafafa"},children:(0,Er.jsxs)("a",{"data-toggle":"modal","data-target":"#myModal",href:!0,children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/profile.png",alt:""}),(0,Er.jsxs)("h5",{"data-toggle":"modal","data-target":"#myModal",children:["Create Channel"," ",(0,Er.jsx)("span",{"data-toggle":"modal","data-target":"#myModal",title:!0,"data-placement":"top","data-original-title":"Verified"})]})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#fafafa"},children:(0,Er.jsxs)(jt,{to:"/updatechannel","data-toggle":"modal","data-target":"#myModalupdate",href:!0,children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/update.png",alt:""}),(0,Er.jsxs)("h5",{"data-toggle":"modal","data-target":"#myModalupdate",children:["Update Channel"," ",(0,Er.jsx)("span",{"data-toggle":"modal","data-target":"#myModal",title:!0,"data-placement":"top","data-original-title":"Verified"})]})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#fafafa"},children:(0,Er.jsxs)(jt,{to:"/watchlater",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/data.png",alt:""}),(0,Er.jsxs)("h5",{children:["Watchlater",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified"})]})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#fafafa"},children:(0,Er.jsxs)(jt,{to:"/myvideo",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/download.png",alt:""}),(0,Er.jsx)("h5",{children:"Download"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#fafafa"},children:(0,Er.jsxs)(jt,{to:"/blockuser",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/chat.png",alt:""}),(0,Er.jsx)("h5",{children:"Blocked Users"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#fafafa"},children:(0,Er.jsxs)(jt,{to:"/notification",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/notification.jpg",alt:""}),(0,Er.jsx)("h5",{children:"Notification"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#fafafa"},children:(0,Er.jsxs)(jt,{to:"/refer",children:[(0,Er.jsx)(Qe,{style:{color:"black",fontSize:"45px"}}),(0,Er.jsx)("h5",{children:"Refer And Earn"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#fafafa"},children:(0,Er.jsxs)(jt,{to:"/about",children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/see.png",alt:""}),(0,Er.jsx)("h5",{children:"About"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#fafafa"},children:(0,Er.jsxs)(jt,{to:"/changepassword",children:[(0,Er.jsx)("img",{style:{height:"59px",width:"50px"},className:"img-fluid",src:"img/changep.png",alt:""}),(0,Er.jsx)("h5",{children:"Change Password"})]})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#fafafa"},children:(0,Er.jsxs)(jt,{to:"/changeprofile",children:[(0,Er.jsx)("img",{style:{height:"59px",width:"50px"},className:"img-fluid",src:"img/changepro.jpeg",alt:""}),(0,Er.jsx)("h5",{children:" Profile Picture"})]})})})]})})})})}),(0,Er.jsx)("div",{className:"modal",id:"myModal",children:(0,Er.jsx)("div",{className:"modal-dialog",children:(0,Er.jsxs)("div",{className:"modal-content",children:[(0,Er.jsxs)("div",{className:"modal-header",children:[(0,Er.jsx)("h4",{className:"modal-title",children:"Create Your Channel"}),(0,Er.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})]}),(0,Er.jsxs)("div",{className:"card-footer",children:[(0,Er.jsx)("font",{style:{color:"blue"},children:(0,Er.jsx)("p",{children:b})}),(0,Er.jsx)("font",{style:{color:"blue"},children:v&&(0,Er.jsx)("p",{children:v})}),(0,Er.jsxs)("form",{onSubmit:C,children:[(0,Er.jsx)("div",{className:"modal-body",children:(0,Er.jsxs)("div",{className:"single-channel-image",children:[(0,Er.jsx)("div",{style:{height:"155px",width:"100%"},children:(0,Er.jsx)("img",{style:{height:"130px"},width:"100%",src:T,alt:"",className:"img-fluid"})}),(0,Er.jsx)("div",{className:"channel-profile mainprofileimage",style:{position:"absolute",top:"40px"},children:(0,Er.jsx)("img",{className:"channel-profile-img profileimg mainprofile",width:"100%",src:E})})]})}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{for:"profile",className:"btn btn-info",children:"Profle-Pic"}),(0,Er.jsx)("input",{onChange:function(e){n(e.target.files[0]),N(URL.createObjectURL(e.target.files[0]))},style:{opacity:"0"},type:"file",id:"profile"})," ",(0,Er.jsx)("br",{}),(0,Er.jsx)("label",{for:"cover",className:"btn btn-primary",children:"Cover-Pic"})," ",(0,Er.jsx)("br",{}),(0,Er.jsx)("input",{onChange:function(e){o(e.target.files[0]),I(URL.createObjectURL(e.target.files[0]))},style:{opacity:"0"},type:"file",id:"cover"}),(0,Er.jsx)("label",{htmlFor:"channelname",children:"Channel Name:"}),(0,Er.jsx)("input",{required:!0,type:"text",placeholder:Sr.Z.getItem("channel_name"),value:d,onChange:function(e){return f(e.target.value)},className:"form-control profile1",id:"channelname"})]}),(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,Er.jsx)("input",{required:!0,type:"text",value:c,onChange:function(e){return l(e.target.value)},className:"form-control profile2",id:"description"})]}),(0,Er.jsx)("br",{}),(0,Er.jsx)("button",{className:"btn btn-success",type:"submit",children:"Submit"})]}),(0,Er.jsx)("div",{})]})]})})})]})},$j=function(){return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"wrapper",children:(0,Er.jsx)("div",{id:"content-wrapper",children:(0,Er.jsx)("div",{className:"container-fluid",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{className:"col-md-8 mx-auto text-center  pt-4 pb-5",children:[(0,Er.jsx)("h1",{children:(0,Er.jsx)("img",{alt:404,src:"img/404.png",className:"img-fluid"})}),(0,Er.jsx)("h1",{children:"Sorry! Page not found."}),(0,Er.jsx)("p",{className:"land",children:"Unfortunately the page you are looking for has been moved or deleted."}),(0,Er.jsx)("div",{className:"mt-5",children:(0,Er.jsxs)(jt,{className:"btn btn-outline-primary",to:"/home",children:[(0,Er.jsx)("i",{className:"mdi mdi-home"})," GO TO HOME PAGE"]})})]})})})})}),(0,Er.jsx)(Hr,{})]})},eT=function(){var e=k((0,r.useState)(),2),t=e[0],n=e[1],i=k((0,r.useState)(),2),a=i[0],o=i[1];return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("section",{className:"login-main-wrapper",children:(0,Er.jsx)("div",{className:"container-fluid pl-0 pr-0",children:(0,Er.jsx)("div",{className:"row no-gutters",children:(0,Er.jsx)("div",{className:"col-md-12 p-5 bg-white full-height",children:(0,Er.jsxs)("div",{className:"login-main-left",children:[(0,Er.jsxs)("div",{className:"text-center mb-5 login-main-left-header pt-4",children:[(0,Er.jsx)("img",{src:"img/logo.png",className:"img-fluid",alt:"LOGO"}),(0,Er.jsx)("h5",{className:"mt-3 mb-3",children:"Reset Password"}),(0,Er.jsxs)("p",{children:["It is a long established fact that a reader ",(0,Er.jsx)("br",{})," will be distracted by the readable."]})]}),(0,Er.jsx)("font",{style:{color:"blue"},children:t}),(0,Er.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={email:a};gr.patch("".concat(wr[0].apiUrl,"api/forget_password"),t).then((function(e){"true"===e.data.result?n("Password sent successfully. Please check your email."):n(e.data.message),o("")})).catch((function(e){}))},children:[(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{children:"Enter Email "}),(0,Er.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Email",value:a,onChange:function(e){return o(e.target.value)}})]}),(0,Er.jsx)("div",{className:"mt-4",children:(0,Er.jsx)("button",{type:"submit",className:"btn btn-outline-primary btn-block btn-lg",children:"Submit"})})]}),(0,Er.jsx)("div",{className:"text-center mt-5",children:(0,Er.jsxs)("p",{className:"light-gray",children:["Don\u2019t have an account? ",(0,Er.jsx)(jt,{to:"/register",children:"Sign Up"})]})})]})})})})}),(0,Er.jsx)(Hr,{})]})},tT=function(){var e,t,n,i,a,o,s,c,l,u,d,f,h,p=k((0,r.useState)([]),2),m=p[0],v=p[1],g=k((0,r.useState)([]),2),y=g[0],b=g[1],_=k((0,r.useState)([]),2),x=_[0],w=_[1],S=k((0,r.useState)([]),2),E=S[0],N=S[1],j=k((0,r.useState)([]),2),T=(j[0],j[1]),I=k((0,r.useState)([]),2),C=I[0],R=I[1],O=k((0,r.useState)([]),2),A=(O[0],O[1],k((0,r.useState)([]),2)),P=A[0],L=A[1],D=k((0,r.useState)([]),2),M=D[0],U=D[1],F=k((0,r.useState)([]),2),V=F[0],B=F[1],z=function(e){var t=new Date(e),n=new Date,r=Math.abs(n-t),i=Math.floor(r/31536e6);if(i>0)return 1===i?"1 year ago":"".concat(i," years ago");var a=Math.floor(r/2592e6);if(a>0)return 1===a?"1 month ago":"".concat(a," months ago");var o=Math.floor(r/864e5);if(o>0)return 1===o?"1 day ago":"".concat(o," days ago");var s=Math.floor(r/36e5);if(s>0)return 1===s?"1 hour ago":"".concat(s," hours ago");var c=Math.floor(r/6e4);return c>0?1===c?"1 minute ago":"".concat(c," minutes ago"):"Just now"};(0,r.useEffect)((function(){W()}),[]);var W=function(){var e=Be(Fe().mark((function e(){var t,n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r=JSON.stringify({user_id:t}),e.next=5,gr.post("".concat(wr[0].apiUrl,"api/get_like_video_list"),r,n).then((function(e){w(e.data.data)})).catch((function(e){}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){H()}),[]);var H=function(){var e=Be(Fe().mark((function e(){var t,n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r=JSON.stringify({user_id:t}),e.next=5,gr.post("".concat(wr[0].apiUrl,"api/get_history"),r,n).then((function(e){T(e.data.data)})).catch((function(e){}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){q()}),[]);var q=function(){var e=Be(Fe().mark((function e(){var t,n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r=JSON.stringify({user_id:t}),e.next=5,gr.post("".concat(wr[0].apiUrl,"api/get_my_playlist"),r,n).then((function(e){R(e.data.data)})).catch((function(e){}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){G()}),[]);var G=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_download_video"),r,n);case 6:i=e.sent,N(i.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){K()}),[]);var K=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_channel"),r,n);case 6:(i=e.sent).data.data&&i.data.data.length>0&&(a=i.data.data[0].channel_name,o=i.data.data[0]._id,Sr.Z.setItem("channel_name",a),Sr.Z.setItem("channel_id",o),v(i.data.data)),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){Y()}),[]);var Y=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_subscribe_channel"),r,n);case 6:(i=e.sent).data.data&&i.data.data.length>0&&b(i.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){Z()}),[]);var Z=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n=Sr.Z.getItem("channel_id"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i={user_id:t,channel_id:n},e.prev=4,e.next=7,gr.post("".concat(wr[0].apiUrl,"api/get_my_channel_video"),i,r);case 7:(a=e.sent).data.data&&a.data.data.length>0&&U(a.data.data),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){J()}),[]);var J=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_audio"),r,n);case 6:(i=e.sent).data.data&&i.data.data.length>0&&B(i.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),Q=k((0,r.useState)(!0),2);Q[0],Q[1];(0,r.useEffect)((function(){X()}),[]);var X=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_music_playlist"),r,n);case 6:(i=e.sent).data.data&&i.data.data.length>0&&L(i.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{className:"",children:(0,Er.jsxs)("div",{className:"mobilewidth",children:[(0,Er.jsxs)("div",{className:"single-channel-image",children:[m.length>0&&null!==(e=m[0])&&void 0!==e&&e.image&&null!==(t=m[0])&&void 0!==t&&t.image[0]&&null!==(n=m[0])&&void 0!==n&&null!==(i=n.image[0])&&void 0!==i&&i.filename?(0,Er.jsx)("img",{style:{height:"250px"},className:"img-fluid",alt:"Channel Image",src:"".concat(wr[0].apiUrl,"uploads/")+(null===(a=m[0])||void 0===a||null===(o=a.image[0])||void 0===o?void 0:o.filename)}):(0,Er.jsx)("img",{style:{height:"250px"},className:"img-fluid",alt:"Channel Image",src:"img/logo.png"}),(0,Er.jsx)("div",{className:"channel-profile",children:m.length>0&&null!==(s=m[0])&&void 0!==s&&s.image&&null!==(c=m[0])&&void 0!==c&&c.image[1]&&null!==(l=m[0])&&void 0!==l&&null!==(u=l.image[1])&&void 0!==u&&u.filename?(0,Er.jsx)("img",{className:"channel-profile-img",alt:"Avatar",src:"".concat(wr[0].apiUrl,"uploads/")+(null===(d=m[0])||void 0===d||null===(f=d.image[1])||void 0===f?void 0:f.filename)}):(0,Er.jsx)("img",{className:"channel-profile-img",alt:"Avatar",src:"img/logo.png"})})]}),(0,Er.jsxs)(mi,{className:"mt-2",children:[m.length>0&&(0,Er.jsxs)(jt,{style:{marginLeft:"15px"},className:"channel-brand",to:"#",children:[null===(h=m[0])||void 0===h?void 0:h.channel_name," "]}),m&&m.length>0?(0,Er.jsxs)("button",{style:{float:"right"},className:"btn-danger",type:"button",children:["Subscriber ",(0,Er.jsx)("strong",{children:m[0].subscribe_count})]}):null,(0,Er.jsx)("hr",{}),(0,Er.jsxs)(bi,{className:"single-channel-nav p-3 ",style:{color:""},children:[(0,Er.jsx)(Ei,{selectedClassName:"my-selected-tab",style:{marginLeft:"15px",fontWeight:"600",fontSize:"13px"},children:"Videos"}),(0,Er.jsx)(Ei,{selectedClassName:"my-selected-tab",style:{marginLeft:"15px",fontWeight:"600",fontSize:"13px"},children:"Music"}),(0,Er.jsx)(Ei,{selectedClassName:"my-selected-tab",style:{marginLeft:"15px",fontWeight:"600",fontSize:"13px"},children:"Video Playlist"}),(0,Er.jsx)(Ei,{selectedClassName:"my-selected-tab",style:{marginLeft:"15px",fontWeight:"600",fontSize:"13px"},children:"Download"}),(0,Er.jsx)(Ei,{selectedClassName:"my-selected-tab",style:{marginLeft:"15px",fontWeight:"600",fontSize:"13px"},children:"Liked Video"}),(0,Er.jsx)(Ei,{selectedClassName:"my-selected-tab",style:{marginLeft:"15px",fontWeight:"600",fontSize:"13px"},children:"Subscribe"}),(0,Er.jsx)(Ei,{selectedClassName:"my-selected-tab",style:{marginLeft:"15px",fontWeight:"600",fontSize:"13px"},children:"Music Playlist"})]}),(0,Er.jsx)(Ii,{children:(0,Er.jsxs)("div",{className:"container-fluid",children:[(0,Er.jsx)("h5",{children:"My Upload Video "}),(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"tab-content",id:"ex1-content",children:[(0,Er.jsx)("div",{className:"tab-pane fade show active",id:"ex1-tabs-1",role:"tabpanel","aria-labelledby":"ex1-tab-1",children:(0,Er.jsx)("div",{className:"row",children:M&&M.length>0?M.map((function(e){var t,n;return(0,Er.jsxs)("div",{className:"col-sm-4 mb-4  ",style:{borderRadius:"10px",width:"100%",margin:"0px -04px 0px -02px"},children:[(0,Er.jsx)("button",{style:{borderRadius:"15px"},className:"fas fa-times-circle btn ",onClick:function(){return function(e){var t=Sr.Z.getItem("_id"),n=JSON.stringify({user_id:t,video_id:e});gr.post("".concat(wr[0].apiUrl,"api/delete_my_video"),n,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){Z()})).catch((function(e){}))}(e._id)}}),(0,Er.jsxs)("div",{className:"video-card",style:{width:"100%",borderRadius:"10px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",width:"100%",height:"160px"},children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},children:(0,Er.jsx)("img",{style:{height:"160px"},className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.video[1])||void 0===t?void 0:t.filename),alt:!0})})]}),(0,Er.jsx)("div",{className:"video-card-body content mobilewidthcontnet",style:{paddingBottom:"10px"},children:(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid Profile",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(n=e.video[1])||void 0===n?void 0:n.filename),alt:""})]}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},to:"#",children:(0,Er.jsx)("b",{className:"mobilewidthvideoname",style:{color:"black",fontSize:"16px",fontWeight:"500"},children:e.description.slice(0,20)})}),(0,Er.jsxs)("p",{className:"name",children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:(0,Er.jsx)("p",{"pr-10":!0,style:{color:"#888",fontSize:"12px"},className:"cname",onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:e.channel_name.slice(0,10)})})," ",(0,Er.jsxs)("p",{className:"maincname",children:[(0,Er.jsxs)("span",{style:{fontSize:"12px",fontWeight:"600"},className:"cviews",children:[e.video_views," views \xa0"]}),(0,Er.jsxs)("span",{className:"cdate",style:{fontSize:"12px",fontWeight:"600"},children:[(0,Er.jsx)(Je,{}),z(e.current_date)]})]})]})]})})]})]})})):(0,Er.jsx)("div",{className:"col-md-12",children:"No Data found."})})}),(0,Er.jsx)("div",{className:"tab-pane fade",id:"ex1-tabs-3",role:"tabpanel","aria-labelledby":"ex1-tab-3",children:(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",style:{paddingLeft:10,paddingRight:0},children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:15},children:[(0,Er.jsx)("a",{className:"play-icon",href:"video-page.html",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:!0})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsxs)("div",{className:"time",style:{bottom:0,right:0},children:[(0,Er.jsx)("h3",{style:{position:"relative",top:35,left:25},children:"10"}),(0,Er.jsx)("svg",{viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",focusable:"false",className:"style-scope yt-icon",style:{pointerEvents:"none",display:"block",width:100,height:120},children:(0,Er.jsxs)("g",{className:"style-scope yt-icon",children:["sddfdf",(0,Er.jsx)("path",{d:"M22,7H2v1h20V7z M13,12H2v-1h11V12z M13,16H2v-1h11V16z M15,19v-8l7,4L15,19z",className:"style-scope yt-icon"})]})})]})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)("a",{href:"video-page.html",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:0,paddingRight:0},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)("a",{href:"viewprofile.html",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:!0})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("a",{href:"viewprofile.html",children:(0,Er.jsx)("strong",{children:"History"})})," "]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})})})]})})]})}),(0,Er.jsx)(Ii,{children:(0,Er.jsxs)("div",{className:"container-fluid",children:[(0,Er.jsx)("h5",{children:"My Upload Music "}),(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"tab-content",id:"ex1-content",children:[(0,Er.jsx)("div",{className:"tab-pane fade show active",id:"ex1-tabs-1",role:"tabpanel","aria-labelledby":"ex1-tab-1",children:(0,Er.jsx)("div",{className:"row",children:V&&V.length>0?V.map((function(e){return(0,Er.jsxs)("div",{className:"col-sm-4 mb-4  ",style:{borderRadius:"7px",width:"100%",marginLeft:"-6px"},children:[(0,Er.jsx)("button",{style:{borderRadius:"15px"},className:"fas fa-times-circle btn ",onClick:function(){return function(e){var t=Sr.Z.getItem("_id"),n=JSON.stringify({user_id:t,_id:e});gr.post("".concat(wr[0].apiUrl,"api/delete_music"),n,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){J()})).catch((function(e){}))}(e._id)}}),(0,Er.jsxs)("div",{className:"video-card",style:{height:"200px",borderRadius:"7px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",height:"150px"},children:[(0,Er.jsx)(jt,{className:"play-icon",onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/audio",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/audio",children:e.music[1]&&e.music[1]&&e.music[1].filename?(0,Er.jsx)("img",{style:{height:"150px"},className:"img-fluid",alt:"Channel Image",src:"".concat(wr[0].apiUrl,"uploads/")+e.music[1].filename}):(0,Er.jsx)("img",{style:{height:"150px"},className:"img-fluid",src:"img/logo.png",alt:"sadasd"})})]}),(0,Er.jsx)("font",{style:{color:"black",fontSize:"16px",fontWeight:"500"},children:null===e||void 0===e?void 0:e.music_title.slice(0,30)}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{class:"fas fa-calendar-alt pr-1"})," ",z(null===e||void 0===e?void 0:e.current_date)]})]})]})})):(0,Er.jsx)("div",{className:"col-md-12",children:"No Data found."})})}),(0,Er.jsx)("div",{className:"tab-pane fade",id:"ex1-tabs-3",role:"tabpanel","aria-labelledby":"ex1-tab-3",children:(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",style:{paddingLeft:10,paddingRight:0},children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:15},children:[(0,Er.jsx)("a",{className:"play-icon",href:"video-page.html",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:!0})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsxs)("div",{className:"time",style:{bottom:0,right:0},children:[(0,Er.jsx)("h3",{style:{position:"relative",top:35,left:25},children:"10"}),(0,Er.jsx)("svg",{viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",focusable:"false",className:"style-scope yt-icon",style:{pointerEvents:"none",display:"block",width:100,height:120},children:(0,Er.jsxs)("g",{className:"style-scope yt-icon",children:["sddfdf",(0,Er.jsx)("path",{d:"M22,7H2v1h20V7z M13,12H2v-1h11V12z M13,16H2v-1h11V16z M15,19v-8l7,4L15,19z",className:"style-scope yt-icon"})]})})]})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)("a",{href:"video-page.html",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:0,paddingRight:0},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)("a",{href:"viewprofile.html",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:!0})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("a",{href:"viewprofile.html",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})})})]})})]})}),(0,Er.jsx)(Ii,{children:(0,Er.jsxs)("div",{className:"container-fluid",children:[(0,Er.jsx)("h5",{children:"My Video Playlist"}),(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"tab-content",id:"ex1-content",children:[(0,Er.jsx)("div",{className:"tab-pane fade show active",id:"ex1-tabs-1",role:"tabpanel","aria-labelledby":"ex1-tab-1",children:(0,Er.jsx)("div",{className:"row",children:C&&C.length>0?C.map((function(e){var t;return(0,Er.jsxs)("div",{className:"col-sm-4 mb-4  ",style:{borderRadius:"0px",width:"100%",marginLeft:"-6px"},children:[(0,Er.jsx)("button",{style:{borderRadius:"15px"},className:"fas fa-times-circle btn ",onClick:function(){return function(e){var t=JSON.stringify({_id:e});gr.post("".concat(wr[0].apiUrl,"api/delete_my_playlist_video"),t,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){q()})).catch((function(e){}))}(e._id)}}),(0,Er.jsxs)("div",{className:"video-card",style:{width:"100%",borderRadius:"7px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",width:"100%",height:"160px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/videoplaylist",onClick:function(){Sr.Z.setItem("getsinglevideo",e._id)},children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/videoplaylist",onClick:function(){Sr.Z.setItem("getsinglevideo",e._id)},children:(0,Er.jsx)("img",{className:"img-fluid",src:null!==e&&void 0!==e&&e.image&&null!==e&&void 0!==e&&e.image.filename?"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.image)||void 0===t?void 0:t.filename):"",alt:!0})})]}),(0,Er.jsx)("div",{className:"video-card-body",children:(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/videoplaylist",onClick:function(){Sr.Z.setItem("getsinglevideo",e._id)},children:e.name})})})]})]})})):(0,Er.jsx)("div",{className:"col-md-12",children:"No Data found."})})}),(0,Er.jsx)("div",{className:"tab-pane fade",id:"ex1-tabs-3",role:"tabpanel","aria-labelledby":"ex1-tab-3",children:(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",style:{paddingLeft:10,paddingRight:0},children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:15},children:[(0,Er.jsx)("a",{className:"play-icon",href:"video-page.html",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:!0})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsxs)("div",{className:"time",style:{bottom:0,right:0},children:[(0,Er.jsx)("h3",{style:{position:"relative",top:35,left:25},children:"10"}),(0,Er.jsx)("svg",{viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",focusable:"false",className:"style-scope yt-icon",style:{pointerEvents:"none",display:"block",width:100,height:120},children:(0,Er.jsxs)("g",{className:"style-scope yt-icon",children:["sddfdf",(0,Er.jsx)("path",{d:"M22,7H2v1h20V7z M13,12H2v-1h11V12z M13,16H2v-1h11V16z M15,19v-8l7,4L15,19z",className:"style-scope yt-icon"})]})})]})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)("a",{href:"video-page.html",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:0,paddingRight:0},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)("a",{href:"viewprofile.html",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:!0})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("a",{href:"viewprofile.html",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})})})]})})]})}),(0,Er.jsx)(Ii,{children:(0,Er.jsxs)("div",{className:"container-fluid",children:[(0,Er.jsx)("h5",{children:"My Download "}),(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"tab-content",id:"ex1-content",children:[(0,Er.jsx)("div",{className:"tab-pane fade show active",id:"ex1-tabs-1",role:"tabpanel","aria-labelledby":"ex1-tab-1",children:(0,Er.jsx)("div",{className:"row",children:E&&E.length>0?E.map((function(e){var t,n,r;return(0,Er.jsxs)("div",{className:"col-sm-4 mb-4  ",style:{borderRadius:"7px",width:"100%",marginLeft:"-6px"},children:[(0,Er.jsx)("button",{style:{borderRadius:"15px"},className:"fas fa-times-circle btn ",onClick:function(){return function(e){var t=Sr.Z.getItem("_id"),n=JSON.stringify({user_id:t,video_id:e});gr.post("".concat(wr[0].apiUrl,"api/delete_download_video"),n,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){G()})).catch((function(e){}))}(e.video_data._id)}}),(0,Er.jsxs)("div",{className:"video-card",style:{width:"100%",borderRadius:"7px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",width:"100%",height:"160px"},children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.video_data.category_type)},className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.video_data.category_type)},children:(0,Er.jsx)("img",{style:{height:"160px"},className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.video_data)||void 0===t||null===(n=t.video[1])||void 0===n?void 0:n.filename),alt:!0})})]}),(0,Er.jsx)("div",{className:"video-card-body",children:(0,Er.jsxs)("div",{className:"video-title",children:[(0,Er.jsx)(jt,{to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.video_data.category_type)},children:e.video_data.video_name.slice(0,25)}),(0,Er.jsx)("br",{}),(0,Er.jsx)(jt,{style:{color:"#888"},onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.video_data.category_type)},to:"/view_profile",children:null===e||void 0===e||null===(r=e.video_data)||void 0===r?void 0:r.channel_name}),(0,Er.jsx)("br",{})]})})]})]})})):(0,Er.jsx)("div",{className:"col-md-12",children:"No Data found."})})}),(0,Er.jsx)("div",{className:"tab-pane fade",id:"ex1-tabs-3",role:"tabpanel","aria-labelledby":"ex1-tab-3",children:(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",style:{paddingLeft:10,paddingRight:0},children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:15},children:[(0,Er.jsx)("a",{className:"play-icon",href:"video-page.html",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:!0})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsxs)("div",{className:"time",style:{bottom:0,right:0},children:[(0,Er.jsx)("h3",{style:{position:"relative",top:35,left:25},children:"10"}),(0,Er.jsx)("svg",{viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",focusable:"false",className:"style-scope yt-icon",style:{pointerEvents:"none",display:"block",width:100,height:120},children:(0,Er.jsxs)("g",{className:"style-scope yt-icon",children:["sddfdf",(0,Er.jsx)("path",{d:"M22,7H2v1h20V7z M13,12H2v-1h11V12z M13,16H2v-1h11V16z M15,19v-8l7,4L15,19z",className:"style-scope yt-icon"})]})})]})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)("a",{href:"video-page.html",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:0,paddingRight:0},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)("a",{href:"viewprofile.html",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:!0})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("a",{href:"viewprofile.html",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})})})]})})]})}),(0,Er.jsx)(Ii,{children:(0,Er.jsx)("div",{id:"content-wrapper",children:(0,Er.jsxs)("div",{className:"container-fluid pb-0",children:[(0,Er.jsx)("h5",{children:"My Liked Videos"}),(0,Er.jsx)("div",{className:"top-category section-padding mb-4",children:(0,Er.jsx)("div",{className:"row",children:x&&x.length>0?x.map((function(e){var t,n,r,i,a,o,s,c,l,u,d;return(0,Er.jsxs)("div",{className:"col-sm-4 mb-4",style:{borderRadius:"0px",width:"100%",marginLeft:""},children:[(0,Er.jsx)("button",{style:{borderRadius:"15px"},className:"fas fa-times-circle btn ",onClick:function(){return function(e){var t=Sr.Z.getItem("_id"),n=JSON.stringify({user_id:t,video_id:e});gr.post("".concat(wr[0].apiUrl,"api/delete_like_video"),n,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){W()})).catch((function(e){}))}(e.video_id)}}),(0,Er.jsxs)("div",{className:"video-card",style:{width:"100%",borderRadius:"7px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",width:"100%",height:"160px"},children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.video_data[0].category_type)},className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.video_data[0].category_type)},children:e&&null!==e&&void 0!==e&&null!==(t=e.channel_data[0])&&void 0!==t&&t.image&&null!==e&&void 0!==e&&null!==(n=e.channel_data[0])&&void 0!==n&&n.image[1]?(0,Er.jsx)("img",{className:"img-fluid",style:{height:"160px"},alt:"Avatar",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(r=e.channel_data[0])||void 0===r||null===(i=r.image[1])||void 0===i?void 0:i.filename)}):(0,Er.jsx)("img",{alt:"Avatar",src:"img/logo.png"})})]}),(0,Er.jsx)("div",{className:"video-card-body content mobilewidthcontnet",style:{paddingBottom:"10px"},children:(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.video_data[0].category_type)},to:"/view_profile",children:e&&null!==e&&void 0!==e&&null!==(a=e.channel_data[0])&&void 0!==a&&a.image&&null!==e&&void 0!==e&&null!==(o=e.channel_data[0])&&void 0!==o&&o.image[0]?(0,Er.jsx)("img",{className:"img-fluid Profile",alt:"Avatar",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(s=e.channel_data[0])||void 0===s||null===(c=s.image[0])||void 0===c?void 0:c.filename)}):(0,Er.jsx)("img",{className:"img-fluid Profile",alt:"Avatar",src:"img/logo.png"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},to:"#",children:(0,Er.jsxs)("b",{className:"mobilewidthvideoname",style:{color:"black",fontSize:"14px"},children:[null===e||void 0===e||null===(l=e.video_data[0])||void 0===l?void 0:l.video_name.slice(0,20)," "]})}),(0,Er.jsxs)("p",{className:"name",children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:(0,Er.jsx)("p",{"pr-10":!0,style:{color:"#888"},className:"cname",onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.video_data[0].category_type)},to:"/view_profile",children:null===e||void 0===e||null===(u=e.channel_data[0])||void 0===u?void 0:u.channel_name.slice(0,20)})})," ",(0,Er.jsxs)("p",{className:"maincname",children:[(0,Er.jsxs)("span",{className:"cviews",children:[null===(d=e.video_data[0])||void 0===d?void 0:d.video_views," views \xa0"]}),(0,Er.jsxs)("span",{className:"cdate",children:[(0,Er.jsx)("i",{class:"fas fa-calendar-alt pr-1"})," ",z(e.current_date)]})]})]})]})})]})]})})):(0,Er.jsx)("div",{className:"col-md-12",children:"No Data found."})})}),(0,Er.jsx)("hr",{})]})})}),(0,Er.jsx)(Ii,{children:(0,Er.jsxs)("div",{className:"container-fluid",children:[(0,Er.jsx)("h5",{children:"My Subscribe Channel "}),(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"tab-content",id:"ex1-content",children:[(0,Er.jsx)("div",{className:"tab-pane fade show active",id:"ex1-tabs-1",role:"tabpanel","aria-labelledby":"ex1-tab-1",children:(0,Er.jsx)("div",{className:"row",children:y.length>0?y.map((function(e,t){var n,r,i,a,o,s,c,l,u;return(0,Er.jsx)("div",{className:"col-sm-4 mb-4",style:{borderRadius:"0px",width:"100%",marginLeft:""},children:(0,Er.jsxs)("div",{className:"video-card",style:{width:"100%",borderRadius:"7px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",width:"100%",height:"160px"},children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e.video_data[1]._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),e.video_data&&Array.isArray(e.video_data)&&e.video_data.length>1&&e.video_data[0].video&&Array.isArray(e.video_data[0].video)&&e.video_data[0].video.length>1&&e.video_data[0].video[1].filename?(0,Er.jsx)(jt,{to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_data[1]._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},children:(0,Er.jsx)("img",{style:{height:"160px"},className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(n=e.video_data[0])||void 0===n||null===(r=n.video[1])||void 0===r?void 0:r.filename),alt:!0})}):(0,Er.jsx)("div",{children:(0,Er.jsx)("img",{style:{height:"300px"},className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(i=e.video_data[0])||void 0===i||null===(a=i.video[1])||void 0===a?void 0:a.filename),alt:!0})})]}),(0,Er.jsx)("div",{className:"video-card-body",children:(0,Er.jsxs)("div",{className:"single-video-author box mb-2",style:{paddingLeft:0,paddingRight:0},children:[(0,Er.jsxs)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(o=e.data[0])||void 0===o||null===(s=o.image[0])||void 0===s?void 0:s.filename),alt:!0})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:(0,Er.jsx)("strong",{children:e.data&&Array.isArray(e.data)&&e.data.length>0&&null!==(c=e.data[0])&&void 0!==c&&c.channel_name?null===(l=e.data[0])||void 0===l?void 0:l.channel_name:"Unknown Channel"})})," "]}),(0,Er.jsxs)("p",{children:["Subscriber"," ",null===e||void 0===e||null===(u=e.data[0])||void 0===u?void 0:u.subscribe_count]})]})})]})},t)})):(0,Er.jsx)("div",{className:"col-md-12",children:"No data found."})})}),(0,Er.jsx)("div",{className:"tab-pane fade",id:"ex1-tabs-3",role:"tabpanel","aria-labelledby":"ex1-tab-3",children:(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",style:{paddingLeft:10,paddingRight:0},children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:15},children:[(0,Er.jsx)("a",{className:"play-icon",href:"video-page.html",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:!0})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsxs)("div",{className:"time",style:{bottom:0,right:0},children:[(0,Er.jsx)("h3",{style:{position:"relative",top:35,left:25},children:"10"}),(0,Er.jsx)("svg",{viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",focusable:"false",className:"style-scope yt-icon",style:{pointerEvents:"none",display:"block",width:100,height:120},children:(0,Er.jsxs)("g",{className:"style-scope yt-icon",children:["sddfdf",(0,Er.jsx)("path",{d:"M22,7H2v1h20V7z M13,12H2v-1h11V12z M13,16H2v-1h11V16z M15,19v-8l7,4L15,19z",className:"style-scope yt-icon"})]})})]})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)("a",{href:"video-page.html",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:0,paddingRight:0},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)("a",{href:"viewprofile.html",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:!0})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("a",{href:"viewprofile.html",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})})})]})})]})}),(0,Er.jsx)(Ii,{children:(0,Er.jsxs)("div",{className:"container-fluid",children:[(0,Er.jsx)("h5",{children:"Music Playlist "}),(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"tab-content",id:"ex1-content",children:[(0,Er.jsx)("div",{className:"tab-pane fade show active",id:"ex1-tabs-1",role:"tabpanel","aria-labelledby":"ex1-tab-1",children:(0,Er.jsx)("div",{className:"row",children:P.map((function(e){return(0,Er.jsx)("div",{className:"col-lg-3  col-sm-12 col-md-3 mb-3",style:{paddingLeft:10,paddingRight:0},children:(0,Er.jsxs)("div",{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/musiclist",className:"",style:{background:"none",paddingRight:"22px"},children:[(0,Er.jsx)("button",{style:{borderRadius:"15px",float:"right"},className:"fas fa-times-circle btn ",onClick:function(){return function(e){Sr.Z.getItem("_id");var t=JSON.stringify({_id:e});gr.post("".concat(wr[0].apiUrl,"api/delete_my_playlist_audio"),t,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){})).catch((function(e){}))}(e._id)}}),(0,Er.jsxs)("div",{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/musiclist",className:"mt-2 video-card-image",style:{height:"180px",width:"100%",borderRadius:"10px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/musiclist",children:(0,Er.jsx)("img",{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/musiclist",style:{height:"140px",borderRadius:"10px"},className:"img-fluid",src:"img/logo.png",alt:"sadasd"})}),(0,Er.jsx)("font",{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/musiclist",style:{color:"black"},children:(0,Er.jsx)("b",{children:(null===e||void 0===e?void 0:e.name)&&(null===e||void 0===e?void 0:e.name.slice(0,35))})})]})]})},e._id)}))})}),(0,Er.jsx)("div",{className:"tab-pane fade",id:"ex1-tabs-3",role:"tabpanel","aria-labelledby":"ex1-tab-3",children:(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",style:{paddingLeft:10,paddingRight:0},children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:15},children:[(0,Er.jsx)("a",{className:"play-icon",href:"video-page.html",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:!0})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsxs)("div",{className:"time",style:{bottom:0,right:0},children:[(0,Er.jsx)("h3",{style:{position:"relative",top:35,left:25},children:"10"}),(0,Er.jsx)("svg",{viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",focusable:"false",className:"style-scope yt-icon",style:{pointerEvents:"none",display:"block",width:100,height:120},children:(0,Er.jsxs)("g",{className:"style-scope yt-icon",children:["sddfdf",(0,Er.jsx)("path",{d:"M22,7H2v1h20V7z M13,12H2v-1h11V12z M13,16H2v-1h11V16z M15,19v-8l7,4L15,19z",className:"style-scope yt-icon"})]})})]})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)("a",{href:"video-page.html",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:0,paddingRight:0},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)("a",{href:"viewprofile.html",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:!0})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("a",{href:"viewprofile.html",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})})})]})})]})})]})]})}),(0,Er.jsx)(Hr,{})]})},nT=function(){return(0,Er.jsx)(Er.Fragment,{children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-sm-2",children:(0,Er.jsx)(Pr,{})}),(0,Er.jsx)("div",{className:"col-sm-10 p-4",children:(0,Er.jsxs)("div",{id:"content-wrapper",children:[(0,Er.jsx)("div",{className:"container-fluid",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsxs)("div",{className:"main-title",children:[(0,Er.jsxs)("div",{className:"btn-group float-right right-action",children:[(0,Er.jsxs)("a",{href:"#",className:"right-action-link text-gray","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["Sort by ",(0,Er.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})]}),(0,Er.jsxs)("div",{className:"dropdown-menu dropdown-menu-right",children:[(0,Er.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-star"})," \xa0 Top Rated"]}),(0,Er.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-signal"})," \xa0 Viewed"]}),(0,Er.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,Er.jsx)("i",{className:"fas fa-fw fa-times-circle"})," \xa0 Close"]})]})]}),(0,Er.jsx)("h6",{children:"Blank Page"})]})}),(0,Er.jsxs)("div",{className:"col-md-12",children:[(0,Er.jsx)("button",{type:"button",className:"btn btn-primary border-none",children:"Primary"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-secondary border-none",children:"Secondary"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-success border-none",children:"Success"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-danger border-none",children:"Danger"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-warning border-none",children:"Warning"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-info border-none",children:"Info"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-light border-none",children:"Light"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-dark border-none",children:"Dark"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-link border-none",children:"Link"}),(0,Er.jsx)("hr",{}),(0,Er.jsx)("button",{type:"button",className:"btn btn-outline-primary",children:"Primary"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-outline-secondary",children:"Secondary"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-outline-success",children:"Success"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-outline-danger",children:"Danger"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-outline-warning",children:"Warning"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-outline-info",children:"Info"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-outline-light",children:"Light"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-outline-dark",children:"Dark"}),(0,Er.jsx)("hr",{}),(0,Er.jsx)("button",{type:"button",className:"btn btn-primary btn-lg border-none",children:"Large button"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg border-none",children:"Large button"}),(0,Er.jsx)("hr",{}),(0,Er.jsx)("button",{type:"button",className:"btn btn-primary btn-sm border-none",children:"Small button"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm border-none",children:"Small button"}),(0,Er.jsx)("hr",{}),(0,Er.jsx)("button",{type:"button",className:"btn btn-primary btn-lg btn-block border-none",children:"Block level button"}),(0,Er.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg btn-block border-none",children:"Block level button"}),(0,Er.jsx)("hr",{}),(0,Er.jsx)("div",{className:"alert alert-primary",role:"alert",children:"A simple primary alert\u2014check it out!"}),(0,Er.jsx)("div",{className:"alert alert-secondary",role:"alert",children:"A simple secondary alert\u2014check it out!"}),(0,Er.jsx)("div",{className:"alert alert-success",role:"alert",children:"A simple success alert\u2014check it out!"}),(0,Er.jsx)("div",{className:"alert alert-danger",role:"alert",children:"A simple danger alert\u2014check it out!"}),(0,Er.jsx)("div",{className:"alert alert-warning",role:"alert",children:"A simple warning alert\u2014check it out!"}),(0,Er.jsx)("div",{className:"alert alert-info",role:"alert",children:"A simple info alert\u2014check it out!"}),(0,Er.jsx)("div",{className:"alert alert-light",role:"alert",children:"A simple light alert\u2014check it out!"}),(0,Er.jsx)("div",{className:"alert alert-dark mb-0",role:"alert",children:"A simple dark alert\u2014check it out!"})]})]})})}),(0,Er.jsx)("footer",{className:"sticky-footer",children:(0,Er.jsx)("div",{className:"container",children:(0,Er.jsxs)("div",{className:"row no-gutters",children:[(0,Er.jsx)("div",{className:"col-lg-6 col-sm-6",children:(0,Er.jsxs)("p",{className:"mt-1 mb-0",children:["\xa9 Copyright 2020 ",(0,Er.jsx)("strong",{className:"text-dark",children:"Vidoe"}),". All Rights Reserved",(0,Er.jsx)("br",{}),(0,Er.jsxs)("small",{className:"mt-0 mb-0",children:["Made with ",(0,Er.jsx)("i",{className:"fas fa-heart text-danger"})," by ",(0,Er.jsx)("a",{className:"text-primary",target:"_blank",href:"https://askbootstrap.com/",children:"Ask Bootstrap"})]})]})}),(0,Er.jsx)("div",{className:"col-lg-6 col-sm-6 text-right",children:(0,Er.jsxs)("div",{className:"app",children:[(0,Er.jsx)("a",{href:"#",children:(0,Er.jsx)("img",{alt:!0,src:"img/google.png"})}),(0,Er.jsx)("a",{href:"#",children:(0,Er.jsx)("img",{alt:!0,src:"img/apple.png"})})]})})]})})})]})})]})})},rT=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1],i=function(e){var t=new Date(e),n=new Date,r=Math.abs(n-t),i=Math.floor(r/31536e6);if(i>0)return 1===i?"1 year ago":"".concat(i," years ago");var a=Math.floor(r/2592e6);if(a>0)return 1===a?"1 month ago":"".concat(a," months ago");var o=Math.floor(r/864e5);if(o>0)return 1===o?"1 day ago":"".concat(o," days ago");var s=Math.floor(r/36e5);if(s>0)return 1===s?"1 hour ago":"".concat(s," hours ago");var c=Math.floor(r/6e4);return c>0?1===c?"1 minute ago":"".concat(c," minutes ago"):"Just now"};(0,r.useEffect)((function(){a()}),[]);var a=function(){var e=Be(Fe().mark((function e(){var t,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_download_video"),i,r);case 6:a=e.sent,n(a.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),o=k((0,r.useState)(!0),2),s=o[0],c=o[1];return setTimeout((function(){c(!1)}),1e3),(0,Er.jsxs)("div",{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),1==s?(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{class:"spinner-border text-primary"})}):(0,Er.jsx)("div",{className:"video-block section-padding ",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title mobilewidth",children:(0,Er.jsx)("h5",{children:"My Download Videos"})})}),(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{id:"recipeCarousel",className:"carousel slide","data-bs-interval":"false",children:(0,Er.jsx)("div",{className:"carousel-inner mobilewidth",role:"listbox",children:(0,Er.jsx)("div",{className:"row justify-content-left",children:null===t||void 0===t?void 0:t.map((function(e){var t,n,r,o,s,c,l,u;return(0,Er.jsxs)("div",{className:"col-sm-4 mb-4  ",style:{borderRadius:"10px",width:"100%",margin:"0px -04px 0px -02px"},children:[(0,Er.jsx)("button",{style:{borderRadius:"15px"},className:"fas fa-times-circle btn ",onClick:function(){return function(e){var t=Sr.Z.getItem("_id"),n=JSON.stringify({user_id:t,video_id:e});gr.post("".concat(wr[0].apiUrl,"api/delete_download_video"),n,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){a()})).catch((function(e){}))}(e.video_id)}}),(0,Er.jsxs)("div",{className:"video-card  boxdoticons",style:{width:"100%",borderRadius:"10px"},children:[(0,Er.jsxs)("div",{className:"video-card-image ",style:{borderRadius:"10px",width:"100%",height:"160px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},children:(0,Er.jsx)("img",{style:{height:"160px"},onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.video_data)||void 0===t||null===(n=t.video[1])||void 0===n?void 0:n.filename),alt:""})})]}),(0,Er.jsx)("div",{className:"video-card-body content mobilewidthcontnet",style:{paddingBottom:"10px"},children:(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid Profile",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(r=e.video_data)||void 0===r||null===(o=r.video[1])||void 0===o?void 0:o.filename),alt:""})]}),(0,Er.jsx)(jt,{to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},children:(0,Er.jsx)("b",{className:"mobilewidthvideoname",style:{color:"black",fontSize:"16px",fontWeight:"500"},children:null===e||void 0===e||null===(s=e.video_data)||void 0===s?void 0:s.video_name.slice(0,18)})}),(0,Er.jsxs)("p",{className:"name",children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:(0,Er.jsx)("p",{"pr-10":!0,style:{color:"#888",fontSize:"12px"},className:"cname",onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:null===e||void 0===e||null===(c=e.video_data)||void 0===c||null===(l=c.channel_name)||void 0===l?void 0:l.slice(0,10)})})," ",(0,Er.jsxs)("p",{className:"maincname",children:[(0,Er.jsx)("span",{style:{fontSize:"12px",fontWeight:"600"},className:"cviews",children:"\xa0"}),(0,Er.jsxs)("span",{className:"cdated",style:{fontSize:"12px",fontWeight:"600"},children:[(0,Er.jsx)(Je,{}),i(null===e||void 0===e||null===(u=e.video_data)||void 0===u?void 0:u.current_date)]})]})]})]})})]})]})}))})})})})]})})]})},iT=function(){return(0,Er.jsxs)("div",{children:[(0,Er.jsx)(kr,{}),(0,Er.jsxs)("div",{id:"wrapper",children:[(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"content-wrapper",children:(0,Er.jsxs)("div",{className:"container-fluid pb-0",children:[(0,Er.jsx)("div",{className:"top-category section-padding mb-4",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{className:"col-md-12",children:[(0,Er.jsx)("div",{className:"main-title row",children:(0,Er.jsx)("h6",{className:"bg-warning p-2",style:{borderRadius:"10px"},children:"All Permium Videos For You"})}),(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-sm-4",children:(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:""})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})}),(0,Er.jsx)("div",{className:"col-sm-4",children:(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:""})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})}),(0,Er.jsx)("div",{className:"col-sm-4",children:(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:""})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})}),(0,Er.jsx)("div",{className:"col-sm-4",children:(0,Er.jsxs)("div",{className:"video-card",style:{margin:"5px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"15px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:""})}),(0,Er.jsx)("div",{className:"time",children:"3:50"})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"/video_page",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)(jt,{to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:""})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{to:"/view_profile",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})})]})]})})}),(0,Er.jsx)("hr",{})]})})]})]})},aT=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1];(0,r.useEffect)((function(){i()}),[]);var i=function(){var e=Be(Fe().mark((function e(){var t,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r=JSON.stringify({}),e.next=4,gr.get("".concat(wr[0].apiUrl,"api/about"),r,t).then((function(e){n(e.data.data)})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{className:"col-md-12",children:[(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h6",{children:" About"})}),t.map((function(e){return(0,Er.jsx)("h6",{style:{textAlign:"justify"},children:e.about})}))]})})})})})})]})};function oT(){return oT="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},oT.apply(this,arguments)}k_.registerVersion("firebase","9.23.0","app-compat");var sT,cT="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},lT={},uT=uT||{},dT=cT||self;function fT(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function hT(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var pT="closure_uid_"+(1e9*Math.random()>>>0),mT=0;function vT(e,t,n){return e.call.apply(e.bind,arguments)}function gT(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function yT(e,t,n){return(yT=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vT:gT).apply(null,arguments)}function bT(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _T(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function xT(){this.s=this.s,this.o=this.o}xT.prototype.s=!1,xT.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,pT)&&e[pT]||(e[pT]=++mT)}(this)},xT.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wT=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ST(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ET(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(fT(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function kT(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}kT.prototype.h=function(){this.defaultPrevented=!0};var NT=function(){if(!dT.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{dT.addEventListener("test",(function(){}),t),dT.removeEventListener("test",(function(){}),t)}catch(Np){}return e}();function jT(e){return/^[\s\xa0]*$/.test(e)}function TT(){var e=dT.navigator;return e&&(e=e.userAgent)?e:""}function IT(e){return-1!=TT().indexOf(e)}function CT(e){return CT[" "](e),e}CT[" "]=function(){};var RT,OT,AT=IT("Opera"),PT=IT("Trident")||IT("MSIE"),LT=IT("Edge"),DT=LT||PT,MT=IT("Gecko")&&!(-1!=TT().toLowerCase().indexOf("webkit")&&!IT("Edge"))&&!(IT("Trident")||IT("MSIE"))&&!IT("Edge"),UT=-1!=TT().toLowerCase().indexOf("webkit")&&!IT("Edge");function FT(){var e=dT.document;return e?e.documentMode:void 0}e:{var VT="",BT=function(){var e=TT();return MT?/rv:([^\);]+)(\)|;)/.exec(e):LT?/Edge\/([\d\.]+)/.exec(e):PT?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):UT?/WebKit\/(\S+)/.exec(e):AT?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(BT&&(VT=BT?BT[1]:""),PT){var zT=FT();if(null!=zT&&zT>parseFloat(VT)){RT=String(zT);break e}}RT=VT}if(dT.document&&PT){var WT=FT();OT=WT||(parseInt(RT,10)||void 0)}else OT=void 0;var HT=OT;function qT(e,t){if(kT.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(MT){e:{try{CT(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:GT[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qT.$.h.call(this)}}_T(qT,kT);var GT={2:"touch",3:"pen",4:"mouse"};qT.prototype.h=function(){qT.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var KT="closure_listenable_"+(1e6*Math.random()|0),YT=0;function ZT(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++YT,this.fa=this.ia=!1}function JT(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function QT(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function XT(e){var t={};for(var n in e)t[n]=e[n];return t}var $T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eI(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<$T.length;a++)n=$T[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function tI(e){this.src=e,this.g={},this.h=0}function nI(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=wT(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(JT(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function rI(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}tI.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=rI(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new ZT(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var iI="closure_lm_"+(1e6*Math.random()|0),aI={};function oI(e,t,n,r,i){if(r&&r.once)return cI(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)oI(e,t[a],n,r,i);return null}return n=mI(n),e&&e[KT]?e.O(t,n,hT(r)?!!r.capture:!!r,i):sI(e,t,n,!1,r,i)}function sI(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=hT(i)?!!i.capture:!!i,s=hI(e);if(s||(e[iI]=s=new tI(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=fI;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)NT||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(dI(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function cI(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)cI(e,t[a],n,r,i);return null}return n=mI(n),e&&e[KT]?e.P(t,n,hT(r)?!!r.capture:!!r,i):sI(e,t,n,!0,r,i)}function lI(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)lI(e,t[a],n,r,i);else r=hT(r)?!!r.capture:!!r,n=mI(n),e&&e[KT]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=rI(a=e.g[t],n,r,i))&&(JT(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=hI(e))&&(t=e.g[t.toString()],e=-1,t&&(e=rI(t,n,r,i)),(n=-1<e?t[e]:null)&&uI(n))}function uI(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[KT])nI(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(dI(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=hI(t))?(nI(n,e),0==n.h&&(n.src=null,t[iI]=null)):JT(e)}}}function dI(e){return e in aI?aI[e]:aI[e]="on"+e}function fI(e,t){if(e.fa)e=!0;else{t=new qT(t,this);var n=e.listener,r=e.la||e.src;e.ia&&uI(e),e=n.call(r,t)}return e}function hI(e){return(e=e[iI])instanceof tI?e:null}var pI="__closure_events_fn_"+(1e9*Math.random()>>>0);function mI(e){return"function"===typeof e?e:(e[pI]||(e[pI]=function(t){return e.handleEvent(t)}),e[pI])}function vI(){xT.call(this),this.i=new tI(this),this.S=this,this.J=null}function gI(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new kT(t,e);else if(t instanceof kT)t.target=t.target||e;else{var i=t;eI(t=new kT(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=yI(o,r,!0,t)&&i}if(i=yI(o=t.g=e,r,!0,t)&&i,i=yI(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=yI(o=t.g=n[a],r,!1,t)&&i}function yI(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,c=o.la||o.src;o.ia&&nI(e.i,o),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}_T(vI,xT),vI.prototype[KT]=!0,vI.prototype.removeEventListener=function(e,t,n,r){lI(this,e,t,n,r)},vI.prototype.N=function(){if(vI.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)JT(n[r]);delete t.g[e],t.h--}}this.J=null},vI.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},vI.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var bI=dT.JSON.stringify,_I=function(){function e(t,n){u(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return p(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function xI(){var e=II,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var wI=function(){function e(){u(this,e),this.h=this.g=null}return p(e,[{key:"add",value:function(e,t){var n=SI.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),SI=new _I((function(){return new EI}),(function(e){return e.reset()})),EI=function(){function e(){u(this,e),this.next=this.g=this.h=null}return p(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function kI(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function NI(e){dT.setTimeout((function(){throw e}),0)}var jI,TI=!1,II=new wI,CI=function(){var e=dT.Promise.resolve(void 0);jI=function(){e.then(RI)}},RI=function(){for(var e;e=xI();){try{e.h.call(e.g)}catch(Np){NI(Np)}var t=SI;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}TI=!1};function OI(e,t){vI.call(this),this.h=e||1,this.g=t||dT,this.j=yT(this.qb,this),this.l=Date.now()}function AI(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function PI(e,t,n){if("function"===typeof e)n&&(e=yT(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=yT(e.handleEvent,e)}return 2147483647<Number(t)?-1:dT.setTimeout(e,t||0)}function LI(e){e.g=PI((function(){e.g=null,e.i&&(e.i=!1,LI(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}_T(OI,vI),(sT=OI.prototype).ga=!1,sT.T=null,sT.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gI(this,"tick"),this.ga&&(AI(this),this.start()))}},sT.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},sT.N=function(){OI.$.N.call(this),AI(this),delete this.g};var DI=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return p(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:LI(this)}},{key:"N",value:function(){oT(g(n.prototype),"N",this).call(this),this.g&&(dT.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(xT);function MI(e){xT.call(this),this.h=e,this.g={}}_T(MI,xT);var UI=[];function FI(e,t,n,r){Array.isArray(n)||(n&&(UI[0]=n.toString()),n=UI);for(var i=0;i<n.length;i++){var a=oI(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function VI(e){QT(e.g,(function(e,t){this.g.hasOwnProperty(t)&&uI(e)}),e),e.g={}}function BI(){this.g=!0}function zI(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return bI(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}MI.prototype.N=function(){MI.$.N.call(this),VI(this)},MI.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},BI.prototype.Ea=function(){this.g=!1},BI.prototype.info=function(){};var WI={},HI=null;function qI(){return HI=HI||new vI}function GI(e){kT.call(this,WI.Ta,e)}function KI(e){var t=qI();gI(t,new GI(t))}function YI(e,t){kT.call(this,WI.STAT_EVENT,e),this.stat=t}function ZI(e){var t=qI();gI(t,new YI(t,e))}function JI(e,t){kT.call(this,WI.Ua,e),this.size=t}function QI(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return dT.setTimeout((function(){e()}),t)}WI.Ta="serverreachability",_T(GI,kT),WI.STAT_EVENT="statevent",_T(YI,kT),WI.Ua="timingevent",_T(JI,kT);var XI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$I={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function eC(){}function tC(e){return e.h||(e.h=e.i())}function nC(){}eC.prototype.h=null;var rC,iC={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function aC(){kT.call(this,"d")}function oC(){kT.call(this,"c")}function sC(){}function cC(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new MI(this),this.P=uC,e=DT?125:void 0,this.V=new OI(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new lC}function lC(){this.i=null,this.g="",this.h=!1}_T(aC,kT),_T(oC,kT),_T(sC,eC),sC.prototype.g=function(){return new XMLHttpRequest},sC.prototype.i=function(){return{}},rC=new sC;var uC=45e3,dC={},fC={};function hC(e,t,n){e.L=1,e.v=OC(jC(t)),e.s=n,e.S=!0,pC(e,null)}function pC(e,t){e.G=Date.now(),yC(e),e.A=jC(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),qC(n.i,"t",r),e.C=0,n=e.l.J,e.h=new lC,e.g=qR(e.l,n?t:null,!e.s),0<e.O&&(e.M=new DI(yT(e.Pa,e,e.g),e.O)),FI(e.U,e.g,"readystatechange",e.nb),t=e.I?XT(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),KI(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),c=0;c<s.length;c++){var l=s[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function mC(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function vC(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=gC(e,n))==fC){4==t&&(e.o=4,ZI(14),i=!1),zI(e.j,e.m,null,"[Incomplete Response]");break}if(r==dC){e.o=4,ZI(15),zI(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}zI(e.j,e.m,r,null),SC(e,r)}mC(e)&&r!=fC&&r!=dC&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ZI(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),MR(t),t.M=!0,ZI(11))):(zI(e.j,e.m,n,"[Invalid Chunked Response]"),wC(e),xC(e))}function gC(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?fC:(n=Number(t.substring(n,r)),isNaN(n)?dC:(r+=1)+n>t.length?fC:(t=t.slice(r,r+n),e.C=r+n,t))}function yC(e){e.Y=Date.now()+e.P,bC(e,e.P)}function bC(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=QI(yT(e.lb,e),t)}function _C(e){e.B&&(dT.clearTimeout(e.B),e.B=null)}function xC(e){0==e.l.H||e.J||VR(e.l,e)}function wC(e){_C(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,AI(e.V),VI(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function SC(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||XC(n.i,e)))if(!e.K&&XC(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;FR(n),IR(n)}DR(n),ZI(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=QI(yT(n.ib,n),6e3));if(1>=QC(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else zR(n,11)}else if((e.K||n.g==e)&&FR(n),!jT(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var c=a[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var u=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var d=r.i;d.g||-1==u.indexOf("spdy")&&-1==u.indexOf("quic")&&-1==u.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&($C(d,d.h),d.h=null))}if(r.F){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.Da=f,RC(r.I,r.F,f))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var h=e;if((r=n).wa=HR(r,r.J?r.pa:null,r.Y),h.K){eR(r.i,h);var p=h,m=r.L;m&&p.setTimeout(m),p.B&&(_C(p),yC(p)),r.g=h}else LR(r);0<n.j.length&&RR(n)}else"stop"!=a[0]&&"close"!=a[0]||zR(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?zR(n,7):TR(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}KI()}catch(a){}}function EC(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(fT(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(fT(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(fT(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(sT=cC.prototype).setTimeout=function(e){this.P=e},sT.nb=function(e){e=e.target;var t=this.M;t&&3==wR(e)?t.l():this.Pa(e)},sT.Pa=function(e){try{if(e==this.g)e:{var t=wR(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||DT||this.g&&(this.h.h||this.g.ja()||SR(this.g)))){this.J||4!=t||7==n||KI(),_C(this);var r=this.g.da();this.ca=r;t:if(mC(this)){var i=SR(this.g);e="";var a=i.length,o=4==wR(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){wC(this),xC(this);var s="";break t}this.h.i=new dT.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jT(c)){var u=c;break t}}u=null}if(!(r=u)){this.i=!1,this.o=3,ZI(12),wC(this),xC(this);break e}zI(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,SC(this,r)}this.S?(vC(this,t,s),DT&&this.i&&3==t&&(FI(this.U,this.V,"tick",this.mb),this.V.start())):(zI(this.j,this.m,s,null),SC(this,s)),4==t&&wC(this),this.i&&!this.J&&(4==t?VR(this.l,this):(this.i=!1,yC(this)))}else(function(e){var t={};e=(e.g&&2<=wR(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!jT(e[n])){var r=kI(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,ZI(12)):(this.o=0,ZI(13)),wC(this),xC(this)}}}catch(t){}},sT.mb=function(){if(this.g){var e=wR(this.g),t=this.g.ja();this.C<t.length&&(_C(this),vC(this,e,t),this.i&&4!=e&&yC(this))}},sT.cancel=function(){this.J=!0,wC(this)},sT.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(KI(),ZI(17)),wC(this),this.o=2,xC(this)):bC(this,this.Y-e)};var kC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NC(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof NC){this.h=e.h,TC(this,e.j),this.s=e.s,this.g=e.g,IC(this,e.m),this.l=e.l;var t=e.i,n=new BC;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),CC(this,n),this.o=e.o}else e&&(t=String(e).match(kC))?(this.h=!1,TC(this,t[1]||"",!0),this.s=AC(t[2]||""),this.g=AC(t[3]||"",!0),IC(this,t[4]),this.l=AC(t[5]||"",!0),CC(this,t[6]||"",!0),this.o=AC(t[7]||"")):(this.h=!1,this.i=new BC(null,this.h))}function jC(e){return new NC(e)}function TC(e,t,n){e.j=n?AC(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function IC(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function CC(e,t,n){t instanceof BC?(e.i=t,function(e,t){t&&!e.j&&(zC(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(WC(this,t),qC(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=PC(t,FC)),e.i=new BC(t,e.h))}function RC(e,t,n){e.i.set(t,n)}function OC(e){return RC(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function AC(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function PC(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,LC),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function LC(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}NC.prototype.toString=function(){var e=[],t=this.j;t&&e.push(PC(t,DC,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(PC(t,DC,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(PC(n,"/"==n.charAt(0)?UC:MC,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",PC(n,VC)),e.join("")};var DC=/[#\/\?@]/g,MC=/[#\?:]/g,UC=/[#\?]/g,FC=/[#\?@]/g,VC=/#/g;function BC(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zC(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function WC(e,t){zC(e),t=GC(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function HC(e,t){return zC(e),t=GC(e,t),e.g.has(t)}function qC(e,t,n){WC(e,t),0<n.length&&(e.i=null,e.g.set(GC(e,t),ST(n)),e.h+=n.length)}function GC(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(sT=BC.prototype).add=function(e,t){zC(this),this.i=null,e=GC(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},sT.forEach=function(e,t){zC(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},sT.ta=function(){zC(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},sT.Z=function(e){zC(this);var t=[];if("string"===typeof e)HC(this,e)&&(t=t.concat(this.g.get(GC(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},sT.set=function(e,t){return zC(this),this.i=null,HC(this,e=GC(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},sT.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},sT.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var KC=p((function e(t,n){u(this,e),this.g=t,this.map=n}));function YC(e){this.l=e||ZC,dT.PerformanceNavigationTiming?e=0<(e=dT.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(dT.g&&dT.g.Ka&&dT.g.Ka()&&dT.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ZC=10;function JC(e){return!!e.h||!!e.g&&e.g.size>=e.j}function QC(e){return e.h?1:e.g?e.g.size:0}function XC(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $C(e,t){e.g?e.g.add(t):e.h=t}function eR(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function tR(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=N(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return ST(e.i)}YC.prototype.cancel=function(){if(this.i=tR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=N(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var nR=function(){function e(){u(this,e)}return p(e,[{key:"stringify",value:function(e){return dT.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return dT.JSON.parse(e,void 0)}}]),e}();function rR(){this.g=new nR}function iR(t,n,r){var i=r||"";try{EC(t,(function(e,t){var r=e;hT(e)&&(r=bI(e)),n.push(i+t+"="+encodeURIComponent(r))}))}catch(e){throw n.push(i+"type="+encodeURIComponent("_badmap")),e}}function aR(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function oR(e){this.l=e.fc||null,this.j=e.ob||!1}function sR(e,t){vI.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=cR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_T(oR,eC),oR.prototype.g=function(){return new sR(this.l,this.j)},oR.prototype.i=function(e){return function(){return e}}({}),_T(sR,vI);var cR=0;function lR(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function uR(e){e.readyState=4,e.l=null,e.j=null,e.A=null,dR(e)}function dR(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(sT=sR.prototype).open=function(e,t){if(this.readyState!=cR)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,dR(this)},sT.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||dT).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},sT.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uR(this)),this.readyState=cR},sT.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,dR(this)),this.g&&(this.readyState=3,dR(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof dT.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lR(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},sT.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?uR(this):dR(this),3==this.readyState&&lR(this)}},sT.Za=function(e){this.g&&(this.response=this.responseText=e,uR(this))},sT.Ya=function(e){this.g&&(this.response=e,uR(this))},sT.ka=function(){this.g&&uR(this)},sT.setRequestHeader=function(e,t){this.v.append(e,t)},sT.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},sT.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sR.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fR=dT.JSON.parse;function hR(e){vI.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pR,this.L=this.M=!1}_T(hR,vI);var pR="",mR=/^https?$/i,vR=["POST","PUT"];function gR(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yR(e),_R(e)}function yR(e){e.F||(e.F=!0,gI(e,"complete"),gI(e,"error"))}function bR(e){if(e.h&&"undefined"!=typeof uT&&(!e.C[1]||4!=wR(e)||2!=e.da()))if(e.v&&4==wR(e))PI(e.La,0,e);else if(gI(e,"readystatechange"),4==wR(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(kC)[1]||null;!a&&dT.self&&dT.self.location&&(a=dT.self.location.protocol.slice(0,-1)),i=!mR.test(a?a.toLowerCase():"")}t=i}if(t)gI(e,"complete"),gI(e,"success");else{e.m=6;try{var o=2<wR(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",yR(e)}}finally{_R(e)}}}function _R(t,n){if(t.g){xR(t);var r=t.g,i=t.C[0]?function(){}:null;t.g=null,t.C=null,n||gI(t,"ready");try{r.onreadystatechange=i}catch(e){}}}function xR(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(dT.clearTimeout(e.A),e.A=null)}function wR(e){return e.g?e.g.readyState:0}function SR(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case pR:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ER(e){var t="";return QT(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function kR(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ER(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):RC(e,t,n))}function NR(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function jR(e){this.Ga=0,this.j=[],this.l=new BI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=NR("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=NR("baseRetryDelayMs",5e3,e),this.hb=NR("retryDelaySeedMs",1e4,e),this.eb=NR("forwardChannelMaxRetries",2,e),this.xa=NR("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new YC(e&&e.concurrentRequestLimit),this.Ja=new rR,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function TR(e){if(CR(e),3==e.H){var t=e.W++,n=jC(e.I);if(RC(n,"SID",e.K),RC(n,"RID",t),RC(n,"TYPE","terminate"),AR(e,n),(t=new cC(e,e.l,t)).L=2,t.v=OC(jC(n)),n=!1,dT.navigator&&dT.navigator.sendBeacon)try{n=dT.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&dT.Image&&((new Image).src=t.v,n=!0),n||(t.g=qR(t.l,null),t.g.ha(t.v)),t.G=Date.now(),yC(t)}WR(e)}function IR(e){e.g&&(MR(e),e.g.cancel(),e.g=null)}function CR(e){IR(e),e.u&&(dT.clearTimeout(e.u),e.u=null),FR(e),e.i.cancel(),e.m&&("number"===typeof e.m&&dT.clearTimeout(e.m),e.m=null)}function RR(e){if(!JC(e.i)&&!e.m){e.m=!0;var t=e.Na;jI||CI(),TI||(jI(),TI=!0),II.add(t,e),e.C=0}}function OR(e,t){var n;n=t?t.m:e.W++;var r=jC(e.I);RC(r,"SID",e.K),RC(r,"RID",n),RC(r,"AID",e.V),AR(e,r),e.o&&e.s&&kR(r,e.o,e.s),n=new cC(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=PR(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),$C(e.i,n),hC(n,r,t)}function AR(e,t){e.na&&QT(e.na,(function(e,n){RC(t,n,e)})),e.h&&EC({},(function(e,n){RC(t,n,e)}))}function PR(e,t,n){n=Math.min(e.j.length,n);var r=e.h?yT(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,c=0;c<n;c++){var l=i[c].g,u=i[c].map;if(0>(l-=a))a=Math.max(0,i[c].g-100),s=!1;else try{iR(u,o,"req"+l+"_")}catch(jj){r&&r(u)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function LR(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;jI||CI(),TI||(jI(),TI=!0),II.add(t,e),e.A=0}}function DR(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=QI(yT(e.Ma,e),BR(e,e.A)),e.A++,!0)}function MR(e){null!=e.B&&(dT.clearTimeout(e.B),e.B=null)}function UR(e){e.g=new cC(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=jC(e.wa);RC(t,"RID","rpc"),RC(t,"SID",e.K),RC(t,"AID",e.V),RC(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&RC(t,"TO",e.qa),RC(t,"TYPE","xmlhttp"),AR(e,t),e.o&&e.s&&kR(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=OC(jC(t)),n.s=null,n.S=!0,pC(n,e)}function FR(e){null!=e.v&&(dT.clearTimeout(e.v),e.v=null)}function VR(e,t){var n=null;if(e.g==t){FR(e),MR(e),e.g=null;var r=2}else{if(!XC(e.i,t))return;n=t.F,eR(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;gI(r=qI(),new JI(r,n)),RR(e)}else LR(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(QC(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=QI(yT(e.Na,e,t),BR(e,e.C)),e.C++,!0))}(e,t)||2==r&&DR(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:zR(e,5);break;case 4:zR(e,10);break;case 3:zR(e,6);break;default:zR(e,2)}}function BR(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function zR(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=yT(e.pb,e);n||(n=new NC("//www.google.com/images/cleardot.gif"),dT.location&&"http"==dT.location.protocol||TC(n,"https"),OC(n)),function(e,t){var n=new BI;if(dT.Image){var r=new Image;r.onload=bT(aR,n,r,"TestLoadImage: loaded",!0,t),r.onerror=bT(aR,n,r,"TestLoadImage: error",!1,t),r.onabort=bT(aR,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=bT(aR,n,r,"TestLoadImage: timeout",!1,t),dT.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ZI(2);e.H=0,e.h&&e.h.za(t),WR(e),CR(e)}function WR(e){if(e.H=0,e.ma=[],e.h){var t=tR(e.i);0==t.length&&0==e.j.length||(ET(e.ma,t),ET(e.ma,e.j),e.i.i.length=0,ST(e.j),e.j.length=0),e.h.ya()}}function HR(e,t,n){var r=n instanceof NC?jC(n):new NC(n);if(""!=r.g)t&&(r.g=t+"."+r.g),IC(r,r.m);else{var i=dT.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new NC(null);r&&TC(a,r),t&&(a.g=t),i&&IC(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&RC(r,n,t),RC(r,"VER",e.ra),AR(e,r),r}function qR(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new hR(new oR({ob:!0})):new hR(e.va)).Oa(e.J),t}function GR(){}function KR(){if(PT&&!(10<=Number(HT)))throw Error("Environmental error: no available transport.")}function YR(e,t){vI.call(this),this.g=new jR(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!jT(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!jT(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new QR(this)}function ZR(e){aC.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function JR(){oC.call(this),this.status=1}function QR(e){this.g=e}function XR(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $R(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function eO(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(sT=hR.prototype).Oa=function(e){this.M=e},sT.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rC.g(),this.C=this.u?tC(this.u):tC(rC),this.g.onreadystatechange=yT(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void gR(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=N(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(h){o.e(h)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=dT.FormData&&e instanceof dT.FormData,!(0<=wT(vR,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=N(n);try{for(l.s();!(c=l.n()).done;){var u=k(c.value,2),d=u[0],f=u[1];this.g.setRequestHeader(d,f)}}catch(h){l.e(h)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xR(this),0<this.B&&((this.L=function(e){return PT&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yT(this.ua,this)):this.A=PI(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){gR(this,s)}},sT.ua=function(){"undefined"!=typeof uT&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gI(this,"timeout"),this.abort(8))},sT.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,gI(this,"complete"),gI(this,"abort"),_R(this))},sT.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_R(this,!0)),hR.$.N.call(this)},sT.La=function(){this.s||(this.G||this.v||this.l?bR(this):this.kb())},sT.kb=function(){bR(this)},sT.isActive=function(){return!!this.g},sT.da=function(){try{return 2<wR(this)?this.g.status:-1}catch(jp){return-1}},sT.ja=function(){try{return this.g?this.g.responseText:""}catch(jp){return""}},sT.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fR(t)}},sT.Ia=function(){return this.m},sT.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(sT=jR.prototype).ra=8,sT.H=1,sT.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new cC(this,this.l,e),n=this.s;if(this.U&&(n?eI(n=XT(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=PR(this,t,r),RC(i=jC(this.I),"RID",e),RC(i,"CVER",22),this.F&&RC(i,"X-HTTP-Session-Id",this.F),AR(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(ER(n)))+"&"+r:this.o&&kR(i,this.o,n)),$C(this.i,t),this.bb&&RC(i,"TYPE","init"),this.P?(RC(i,"$req",r),RC(i,"SID","null"),t.aa=!0,hC(t,i,null)):hC(t,i,r),this.H=2}}else 3==this.H&&(e?OR(this,e):0==this.j.length||JC(this.i)||OR(this))},sT.Ma=function(){if(this.u=null,UR(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=QI(yT(this.jb,this),e)}},sT.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ZI(10),IR(this),UR(this))},sT.ib=function(){null!=this.v&&(this.v=null,IR(this),DR(this),ZI(19))},sT.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ZI(2)):(this.l.info("Failed to ping google.com"),ZI(1))},sT.isActive=function(){return!!this.h&&this.h.isActive(this)},(sT=GR.prototype).Ba=function(){},sT.Aa=function(){},sT.za=function(){},sT.ya=function(){},sT.isActive=function(){return!0},sT.Va=function(){},KR.prototype.g=function(e,t){return new YR(e,t)},_T(YR,vI),YR.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ZI(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=HR(e,null,e.Y),RR(e)},YR.prototype.close=function(){TR(this.g)},YR.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=bI(e),e=n);t.j.push(new KC(t.fb++,e)),3==t.H&&RR(t)},YR.prototype.N=function(){this.g.h=null,delete this.j,TR(this.g),delete this.g,YR.$.N.call(this)},_T(ZR,aC),_T(JR,oC),_T(QR,GR),QR.prototype.Ba=function(){gI(this.g,"a")},QR.prototype.Aa=function(e){gI(this.g,new ZR(e))},QR.prototype.za=function(e){gI(this.g,new JR)},QR.prototype.ya=function(){gI(this.g,"b")},_T(XR,(function(){this.blockSize=-1})),XR.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},XR.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)$R(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){$R(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){$R(this,r),i=0;break}}this.h=i,this.i+=t},XR.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var tO={};function nO(e){return-128<=e&&128>e?function(e,t){var n=tO;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new eO([0|e],0>e?-1:0)})):new eO([0|e],0>e?-1:0)}function rO(e){if(isNaN(e)||!isFinite(e))return aO;if(0>e)return uO(rO(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=iO;return new eO(t,0)}var iO=4294967296,aO=nO(0),oO=nO(1),sO=nO(16777216);function cO(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function lO(e){return-1==e.h}function uO(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new eO(n,~e.h).add(oO)}function dO(e,t){return e.add(uO(t))}function fO(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function hO(e,t){this.g=e,this.h=t}function pO(e,t){if(cO(t))throw Error("division by zero");if(cO(e))return new hO(aO,aO);if(lO(e))return t=pO(uO(e),t),new hO(uO(t.g),uO(t.h));if(lO(t))return t=pO(e,uO(t)),new hO(uO(t.g),t.h);if(30<e.g.length){if(lO(e)||lO(t))throw Error("slowDivide_ only works with positive integers.");for(var n=oO,r=t;0>=r.X(e);)n=mO(n),r=mO(r);var i=vO(n,1),a=vO(r,1);for(r=vO(r,2),n=vO(n,2);!cO(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=vO(r,1),n=vO(n,1)}return t=dO(e,i.R(t)),new hO(i,t)}for(i=aO;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=rO(n)).R(t);lO(o)||0<o.X(e);)o=(a=rO(n-=r)).R(t);cO(a)&&(a=oO),i=i.add(a),e=dO(e,o)}return new hO(i,e)}function mO(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new eO(n,e.h)}function vO(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new eO(i,e.h)}(sT=eO.prototype).ea=function(){if(lO(this))return-uO(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:iO+r)*t,t*=iO}return e},sT.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(cO(this))return"0";if(lO(this))return"-"+uO(this).toString(e);for(var t=rO(Math.pow(e,6)),n=this,r="";;){var i=pO(n,t).g,a=((0<(n=dO(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(cO(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},sT.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},sT.X=function(e){return lO(e=dO(this,e))?-1:cO(e)?0:1},sT.abs=function(){return lO(this)?uO(this):this},sT.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new eO(n,-2147483648&n[n.length-1]?-1:0)},sT.R=function(e){if(cO(this)||cO(e))return aO;if(lO(this))return lO(e)?uO(this).R(uO(e)):uO(uO(this).R(e));if(lO(e))return uO(this.R(uO(e)));if(0>this.X(sO)&&0>e.X(sO))return rO(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=o*c,fO(n,2*r+2*i),n[2*r+2*i+1]+=a*c,fO(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,fO(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,fO(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new eO(n,0)},sT.gb=function(e){return pO(this,e).h},sT.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new eO(n,this.h&e.h)},sT.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new eO(n,this.h|e.h)},sT.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new eO(n,this.h^e.h)},KR.prototype.createWebChannel=KR.prototype.g,YR.prototype.send=YR.prototype.u,YR.prototype.open=YR.prototype.m,YR.prototype.close=YR.prototype.close,XI.NO_ERROR=0,XI.TIMEOUT=8,XI.HTTP_ERROR=6,$I.COMPLETE="complete",nC.EventType=iC,iC.OPEN="a",iC.CLOSE="b",iC.ERROR="c",iC.MESSAGE="d",vI.prototype.listen=vI.prototype.O,hR.prototype.listenOnce=hR.prototype.P,hR.prototype.getLastError=hR.prototype.Sa,hR.prototype.getLastErrorCode=hR.prototype.Ia,hR.prototype.getStatus=hR.prototype.da,hR.prototype.getResponseJson=hR.prototype.Wa,hR.prototype.getResponseText=hR.prototype.ja,hR.prototype.send=hR.prototype.ha,hR.prototype.setWithCredentials=hR.prototype.Oa,XR.prototype.digest=XR.prototype.l,XR.prototype.reset=XR.prototype.reset,XR.prototype.update=XR.prototype.j,eO.prototype.add=eO.prototype.add,eO.prototype.multiply=eO.prototype.R,eO.prototype.modulo=eO.prototype.gb,eO.prototype.compare=eO.prototype.X,eO.prototype.toNumber=eO.prototype.ea,eO.prototype.toString=eO.prototype.toString,eO.prototype.getBits=eO.prototype.D,eO.fromNumber=rO,eO.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return uO(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=rO(Math.pow(n,8)),i=aO,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=rO(Math.pow(n,o)),i=i.R(o).add(rO(s))):i=(i=i.R(r)).add(rO(s))}return i};var gO=lT.createWebChannelTransport=function(){return new KR},yO=lT.getStatEventTarget=function(){return qI()},bO=lT.ErrorCode=XI,_O=lT.EventType=$I,xO=lT.Event=WI,wO=lT.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},SO=lT.FetchXmlHttpFactory=oR,EO=lT.WebChannel=nC,kO=lT.XhrIo=hR,NO=lT.Md5=XR,jO=lT.Integer=eO,TO="@firebase/firestore",IO=function(){function e(t){u(this,e),this.uid=t}return p(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();IO.UNAUTHENTICATED=new IO(null),IO.GOOGLE_CREDENTIALS=new IO("google-credentials-uid"),IO.FIRST_PARTY=new IO("first-party-uid"),IO.MOCK_USER=new IO("mock-user");var CO="9.23.0",RO=new Fm("@firebase/firestore");function OO(){return RO.logLevel}function AO(e){if(RO.logLevel<=Om.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(DO);RO.debug.apply(RO,["Firestore (".concat(CO,"): ").concat(e)].concat(l(i)))}}function PO(e){if(RO.logLevel<=Om.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(DO);RO.error.apply(RO,["Firestore (".concat(CO,"): ").concat(e)].concat(l(i)))}}function LO(e){if(RO.logLevel<=Om.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(DO);RO.warn.apply(RO,["Firestore (".concat(CO,"): ").concat(e)].concat(l(i)))}}function DO(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function MO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(CO,") INTERNAL ASSERTION FAILED: ")+e;throw PO(t),new Error(t)}function UO(e,t){e||MO()}function FO(e,t){return e}var VO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},BO=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return p(n)}(am),zO=p((function e(){var t=this;u(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),WO=p((function e(t,n){u(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),HO=function(){function e(){u(this,e)}return p(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(IO.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),qO=function(){function e(t){u(this,e),this.token=t,this.changeListener=null}return p(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),GO=function(){function e(t){u(this,e),this.t=t,this.currentUser=IO.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new zO;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new zO,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){AO("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(AO("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zO)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(AO("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(UO("string"==typeof n.accessToken),new WO(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return UO(null===e||"string"==typeof e),new IO(e)}}]),e}(),KO=function(){function e(t,n,r){u(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=IO.FIRST_PARTY,this.g=new Map}return p(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),YO=function(){function e(t,n,r){u(this,e),this.h=t,this.l=n,this.m=r}return p(e,[{key:"getToken",value:function(){return Promise.resolve(new KO(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(IO.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ZO=p((function e(t){u(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),JO=function(){function e(t){u(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&AO("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,AO("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){AO("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):AO("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(UO("string"==typeof t.token),e.T=t.token,new ZO(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function QO(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var XO=function(){function e(){u(this,e)}return p(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=QO(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function $O(e,t){return e<t?-1:e>t?1:0}function eA(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function tA(e){return e+"\0"}var nA=function(){function e(t,n){if(u(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new BO(VO.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new BO(VO.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new BO(VO.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new BO(VO.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return p(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?$O(this.nanoseconds,e.nanoseconds):$O(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),rA=function(){function e(t){u(this,e),this.timestamp=t}return p(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new nA(0,0))}},{key:"max",value:function(){return new e(new nA(253402300799,999999999))}}]),e}(),iA=function(){function e(t,n,r){u(this,e),void 0===n?n=0:n>t.length&&MO(),void 0===r?r=t.length-n:r>t.length-n&&MO(),this.segments=t,this.offset=n,this.len=r}return p(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),aA=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new BO(VO.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,l(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(iA),oA=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sA=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return oA.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new BO(VO.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new BO(VO.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new BO(VO.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new BO(VO.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(iA),cA=function(){function e(t){u(this,e),this.path=t}return p(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===aA.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(aA.fromString(t))}},{key:"fromName",value:function(t){return new e(aA.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(aA.emptyPath())}},{key:"comparator",value:function(e,t){return aA.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new aA(t.slice()))}}]),e}(),lA=p((function e(t,n,r,i){u(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function uA(e){return e.fields.find((function(e){return 2===e.kind}))}function dA(e){return e.fields.filter((function(e){return 2!==e.kind}))}lA.UNKNOWN_ID=-1;var fA=p((function e(t,n){u(this,e),this.fieldPath=t,this.kind=n}));var hA=function(){function e(t,n){u(this,e),this.sequenceNumber=t,this.offset=n}return p(e,null,[{key:"empty",value:function(){return new e(0,vA.min())}}]),e}();function pA(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=rA.fromTimestamp(1e9===r?new nA(n+1,0):new nA(n,r));return new vA(i,cA.empty(),t)}function mA(e){return new vA(e.readTime,e.key,-1)}var vA=function(){function e(t,n,r){u(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return p(e,null,[{key:"min",value:function(){return new e(rA.min(),cA.empty(),-1)}},{key:"max",value:function(){return new e(rA.max(),cA.empty(),-1)}}]),e}();function gA(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=cA.comparator(e.documentKey,t.documentKey))?n:$O(e.largestBatchId,t.largestBatchId)}var yA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bA=function(){function e(){u(this,e),this.onCommittedListeners=[]}return p(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function _A(e){return xA.apply(this,arguments)}function xA(){return(xA=Be(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===VO.FAILED_PRECONDITION&&t.message===yA){e.next=2;break}throw t;case 2:AO("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wA=function(){function e(t){var n=this;u(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return p(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&MO(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=N(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=c;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},c=0;c<i;c++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),SA=function(){function e(t,n){var r=this;u(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new zO,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new NA(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=RA(e.target.error);r.v.reject(new NA(t,n))}}return p(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(AO("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new TA(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new NA(n,t)}}}]),e}(),EA=function(){function e(t,n,r){u(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S($p())&&PO("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return p(e,[{key:"$",value:function(){var e=Be(Fe().mark((function e(t){var n=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return AO("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new NA(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new BO(VO.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new BO(VO.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new NA(t,n))},i.onupgradeneeded=function(e){AO("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){AO("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Be(Fe().mark((function e(t,n,r,i){var a,o,s,c,l=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=Fe().mark((function e(){var n,s,c,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,l.$(t);case 4:return l.db=e.sent,n=SA.open(l.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),wA.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.R;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),c=e.t1,u="FirebaseError"!==c.name&&o<3,AO("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),l.close(),u){e.next=18;break}return e.abrupt("return",{v:Promise.reject(c)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(c=e.t0)){e.next=7;break}return e.abrupt("return",c.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return AO("SimpleDb","Removing database:",e),IA(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!rm())return!1;if(e.C())return!0;var t=$p(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),kA=function(){function e(t){u(this,e),this.L=t,this.q=!1,this.U=null}return p(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return IA(this.L.delete())}}]),e}(),NA=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this,VO.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return p(n)}(BO);function jA(e){return"IndexedDbTransactionError"===e.name}var TA=function(){function e(t){u(this,e),this.store=t}return p(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(AO("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(AO("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),IA(n)}},{key:"add",value:function(e){return AO("SimpleDb","ADD",this.store.name,e,e),IA(this.store.add(e))}},{key:"get",value:function(e){var t=this;return IA(this.store.get(e)).next((function(n){return void 0===n&&(n=null),AO("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return AO("SimpleDb","DELETE",this.store.name,e),IA(this.store.delete(e))}},{key:"count",value:function(){return AO("SimpleDb","COUNT",this.store.name),IA(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new wA((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new wA((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){AO("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new wA((function(n,r){t.onerror=function(e){var t=RA(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new wA((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new kA(i),o=t(i.primaryKey,i.value,a);if(o instanceof wA){var s=o.catch((function(e){return a.done(),wA.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return wA.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function IA(e){return new wA((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=RA(e.target.error);n(t)}}))}var CA=!1;function RA(e){var t=EA.S($p());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new BO("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return CA||(CA=!0,setTimeout((function(){throw r}),0)),r}}return e}var OA=function(){function e(t,n){u(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return p(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;AO("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=AO,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!jA(e.t4)){e.next=17;break}AO("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,_A(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),AA=function(){function e(t,n){u(this,e),this.localStore=t,this.persistence=n}return p(e,[{key:"nt",value:function(){var e=Be(Fe().mark((function e(){var t,n=this,r=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return wA.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return AO("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return AO("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=mA(t);gA(r,n)>0&&(n=r)})),new vA(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),PA=function(){function e(t,n){var r=this;u(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return p(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function LA(e){return null==e}function DA(e){return 0===e&&1/e==-1/0}function MA(e){return"number"==typeof e&&Number.isInteger(e)&&!DA(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function UA(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=VA(t)),t=FA(e.get(n),t);return VA(t)}function FA(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function VA(e){return e+"\x01\x01"}function BA(e){var t=e.length;if(UO(t>=2),2===t)return UO("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),aA.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&MO(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),c=void 0;0===i.length?c=s:(c=i+=s,i=""),r.push(c);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:MO()}a=o+2}return new aA(r)}PA.ct=-1;var zA=["userId","batchId"];function WA(e,t){return[e,UA(t)]}function HA(e,t,n){return[e,UA(t),n]}var qA={},GA=["prefixPath","collectionGroup","readTime","documentId"],KA=["prefixPath","collectionGroup","documentId"],YA=["collectionGroup","readTime","prefixPath","documentId"],ZA=["canonicalId","targetId"],JA=["targetId","path"],QA=["path","targetId"],XA=["collectionId","parent"],$A=["indexId","uid"],eP=["uid","sequenceNumber"],tP=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nP=["indexId","uid","orderedDocumentKey"],rP=["userId","collectionPath","documentId"],iP=["userId","collectionPath","largestBatchId"],aP=["userId","collectionGroup","largestBatchId"],oP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),sP=[].concat(l(oP),["documentOverlays"]),cP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lP=cP,uP=[].concat(lP,["indexConfiguration","indexState","indexEntries"]),dP=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return p(n)}(bA);function fP(e,t){var n=FO(e);return EA.M(n.ht,t)}function hP(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pP(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mP(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var vP=function(){function e(t,n){u(this,e),this.comparator=t,this.root=n||yP.EMPTY}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yP.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yP.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new gP(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new gP(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new gP(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new gP(this.root,e,this.comparator,!0)}}]),e}(),gP=function(){function e(t,n,r,i){u(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return p(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),yP=function(){function e(t,n,r,i,a){u(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw MO();if(this.right.isRed())throw MO();var e=this.left.check();if(e!==this.right.check())throw MO();return e+(this.isRed()?0:1)}}]),e}();yP.EMPTY=null,yP.RED=!0,yP.BLACK=!1,yP.EMPTY=new(function(){function e(){u(this,e),this.size=0}return p(e,[{key:"key",get:function(){throw MO()}},{key:"value",get:function(){throw MO()}},{key:"color",get:function(){throw MO()}},{key:"left",get:function(){throw MO()}},{key:"right",get:function(){throw MO()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new yP(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var bP=function(){function e(t){u(this,e),this.comparator=t,this.data=new vP(this.comparator)}return p(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new _P(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new _P(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),_P=function(){function e(t){u(this,e),this.iter=t}return p(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function xP(e){return e.hasNext()?e.getNext():void 0}var wP=function(){function e(t){u(this,e),this.fields=t,t.sort(sA.comparator)}return p(e,[{key:"unionWith",value:function(t){var n,r=new bP(sA.comparator),i=N(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=N(t);try{for(s.s();!(o=s.n()).done;){var c=o.value;r=r.add(c)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=N(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return eA(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),SP=function(e){v(n,e);var t=_(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return p(n)}(w(Error));var EP=function(e){function t(e){u(this,t),this.binaryString=e}return p(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return $O(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new SP("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();EP.EMPTY_BYTE_STRING=new EP("");var kP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function NP(e){if(UO(!!e),"string"==typeof e){var t=0,n=kP.exec(e);if(UO(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:jP(e.seconds),nanos:jP(e.nanos)}}function jP(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function TP(e){return"string"==typeof e?EP.fromBase64String(e):EP.fromUint8Array(e)}function IP(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function CP(e){var t=e.mapValue.fields.__previous_value__;return IP(t)?CP(t):t}function RP(e){var t=NP(e.mapValue.fields.__local_write_time__.timestampValue);return new nA(t.seconds,t.nanos)}var OP=p((function e(t,n,r,i,a,o,s,c,l){u(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=c,this.useFetchStreams=l})),AP=function(){function e(t,n){u(this,e),this.projectId=t,this.database=n||"(default)"}return p(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),PP={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},LP={nullValue:"NULL_VALUE"};function DP(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?IP(e)?4:JP(e)?9007199254740991:10:MO()}function MP(e,t){if(e===t)return!0;var n=DP(e);if(n!==DP(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return RP(e).isEqual(RP(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=NP(e.timestampValue),r=NP(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return TP(e.bytesValue).isEqual(TP(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jP(e.geoPointValue.latitude)===jP(t.geoPointValue.latitude)&&jP(e.geoPointValue.longitude)===jP(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jP(e.integerValue)===jP(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=jP(e.doubleValue),r=jP(t.doubleValue);return n===r?DA(n)===DA(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return eA(e.arrayValue.values||[],t.arrayValue.values||[],MP);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(hP(n)!==hP(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!MP(n[i],r[i])))return!1;return!0}(e,t);default:return MO()}}function UP(e,t){return void 0!==(e.values||[]).find((function(e){return MP(e,t)}))}function FP(e,t){if(e===t)return 0;var n=DP(e),r=DP(t);if(n!==r)return $O(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $O(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=jP(e.integerValue||e.doubleValue),r=jP(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return VP(e.timestampValue,t.timestampValue);case 4:return VP(RP(e),RP(t));case 5:return $O(e.stringValue,t.stringValue);case 6:return function(e,t){var n=TP(e),r=TP(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=$O(n[i],r[i]);if(0!==a)return a}return $O(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=$O(jP(e.latitude),jP(t.latitude));return 0!==n?n:$O(jP(e.longitude),jP(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=FP(n[i],r[i]);if(a)return a}return $O(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===PP.mapValue&&t===PP.mapValue)return 0;if(e===PP.mapValue)return 1;if(t===PP.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=$O(r[o],a[o]);if(0!==s)return s;var c=FP(n[r[o]],i[a[o]]);if(0!==c)return c}return $O(r.length,a.length)}(e.mapValue,t.mapValue);default:throw MO()}}function VP(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $O(e,t);var n=NP(e),r=NP(t),i=$O(n.seconds,r.seconds);return 0!==i?i:$O(n.nanos,r.nanos)}function BP(e){return zP(e)}function zP(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=NP(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?TP(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,cA.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=N(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=zP(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=N(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(zP(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):MO();var t,n}function WP(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function HP(e){return!!e&&"integerValue"in e}function qP(e){return!!e&&"arrayValue"in e}function GP(e){return!!e&&"nullValue"in e}function KP(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function YP(e){return!!e&&"mapValue"in e}function ZP(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return pP(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ZP(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ZP(e.arrayValue.values[r]);return n}return Object.assign({},e)}function JP(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function QP(e){return"nullValue"in e?LP:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?WP(AP.empty(),cA.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:MO()}function XP(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?WP(AP.empty(),cA.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?PP:MO()}function $P(e,t){var n=FP(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function eL(e,t){var n=FP(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var tL=function(){function e(t){u(this,e),this.value=t}return p(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!YP(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ZP(t)}},{key:"setAll",value:function(e){var t=this,n=sA.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ZP(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());YP(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return MP(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];YP(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){pP(t,(function(t,n){return e[t]=n}));var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ZP(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function nL(e){var t=[];return pP(e.fields,(function(e,n){var r=new sA([e]);if(YP(n)){var i=nL(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=N(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(c){o.e(c)}finally{o.f()}}}else t.push(r)})),new wP(t)}var rL=function(){function e(t,n,r,i,a,o,s){u(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return p(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(rA.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=tL.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=tL.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=rA.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,rA.min(),rA.min(),rA.min(),tL.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,rA.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,rA.min(),rA.min(),tL.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,rA.min(),rA.min(),tL.empty(),2)}}]),e}(),iL=p((function e(t,n){u(this,e),this.position=t,this.inclusive=n}));function aL(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?cA.comparator(cA.fromName(o.referenceValue),n.key):FP(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function oL(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!MP(e.position[n],t.position[n]))return!1;return!0}var sL=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";u(this,e),this.field=t,this.dir=n}));function cL(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var lL=p((function e(){u(this,e)})),uL=function(e){v(n,e);var t=_(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(FP(t,this.value)):null!==t&&DP(this.value)===DP(t)&&this.matchesComparison(FP(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return MO()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new _L(e,t,r):"array-contains"===t?new EL(e,r):"in"===t?new kL(e,r):"not-in"===t?new NL(e,r):"array-contains-any"===t?new jL(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new xL(e,n):new wL(e,n)}}]),n}(lL),dL=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return p(n,[{key:"matches",value:function(e){return fL(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=N(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(lL);function fL(e){return"and"===e.op}function hL(e){return"or"===e.op}function pL(e){return mL(e)&&fL(e)}function mL(e){var t,n=N(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof dL)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function vL(e){if(e instanceof uL)return e.field.canonicalString()+e.op.toString()+BP(e.value);if(pL(e))return e.filters.map((function(e){return vL(e)})).join(",");var t=e.filters.map((function(e){return vL(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function gL(e,t){return e instanceof uL?function(e,t){return t instanceof uL&&e.op===t.op&&e.field.isEqual(t.field)&&MP(e.value,t.value)}(e,t):e instanceof dL?function(e,t){return t instanceof dL&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&gL(n,t.filters[r])}),!0)}(e,t):void MO()}function yL(e,t){var n=e.filters.concat(t);return dL.create(n,e.op)}function bL(e){return e instanceof uL?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(BP(e.value))}(e):e instanceof dL?function(e){return e.op.toString()+" {"+e.getFilters().map(bL).join(" ,")+"}"}(e):"Filter"}var _L=function(e){v(n,e);var t=_(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,e,r,i)).key=cA.fromName(i.referenceValue),a}return p(n,[{key:"matches",value:function(e){var t=cA.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(uL),xL=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,"in",r)).keys=SL("in",r),i}return p(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uL),wL=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,"not-in",r)).keys=SL("not-in",r),i}return p(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uL);function SL(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return cA.fromName(e.referenceValue)}))}var EL=function(e){v(n,e);var t=_(n);function n(e,r){return u(this,n),t.call(this,e,"array-contains",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return qP(t)&&UP(t.arrayValue,this.value)}}]),n}(uL),kL=function(e){v(n,e);var t=_(n);function n(e,r){return u(this,n),t.call(this,e,"in",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&UP(this.value.arrayValue,t)}}]),n}(uL),NL=function(e){v(n,e);var t=_(n);function n(e,r){return u(this,n),t.call(this,e,"not-in",r)}return p(n,[{key:"matches",value:function(e){if(UP(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!UP(this.value.arrayValue,t)}}]),n}(uL),jL=function(e){v(n,e);var t=_(n);function n(e,r){return u(this,n),t.call(this,e,"array-contains-any",r)}return p(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!qP(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return UP(t.value.arrayValue,e)}))}}]),n}(uL),TL=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;u(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function IL(e){return new TL(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function CL(e){var t=FO(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return vL(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),LA(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return BP(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return BP(e)})).join(",")),t.dt=n}return t.dt}function RL(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!cL(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!gL(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!oL(e.startAt,t.startAt)&&oL(e.endAt,t.endAt)}function OL(e){return cA.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function AL(e,t){return e.filters.filter((function(e){return e instanceof uL&&e.field.isEqual(t)}))}function PL(e,t,n){var r,i=LP,a=!0,o=N(AL(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,c=LP,l=!0;switch(s.op){case"<":case"<=":c=QP(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,l=!1;break;case"!=":case"not-in":c=LP}$P({value:i,inclusive:a},{value:c,inclusive:l})<0&&(i=c,a=l)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var u=0;u<e.orderBy.length;++u)if(e.orderBy[u].field.isEqual(t)){var d=n.position[u];$P({value:i,inclusive:a},{value:d,inclusive:n.inclusive})<0&&(i=d,a=n.inclusive);break}return{value:i,inclusive:a}}function LL(e,t,n){var r,i=PP,a=!0,o=N(AL(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,c=PP,l=!0;switch(s.op){case">=":case">":c=XP(s.value),l=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,l=!1;break;case"!=":case"not-in":c=PP}eL({value:i,inclusive:a},{value:c,inclusive:l})>0&&(i=c,a=l)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var u=0;u<e.orderBy.length;++u)if(e.orderBy[u].field.isEqual(t)){var d=n.position[u];eL({value:i,inclusive:a},{value:d,inclusive:n.inclusive})>0&&(i=d,a=n.inclusive);break}return{value:i,inclusive:a}}var DL=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;u(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=c,this.wt=null,this._t=null,this.startAt,this.endAt}));function ML(e,t,n,r,i,a,o,s){return new DL(e,t,n,r,i,a,o,s)}function UL(e){return new DL(e)}function FL(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function VL(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function BL(e){var t,n=N(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function zL(e){return null!==e.collectionGroup}function WL(e){var t=FO(e);if(null===t.wt){t.wt=[];var n=BL(t),r=VL(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new sL(n)),t.wt.push(new sL(sA.keyField(),"asc"));else{var i,a=!1,o=N(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new sL(sA.keyField(),c))}}}return t.wt}function HL(e){var t=FO(e);if(!t._t)if("F"===t.limitType)t._t=IL(t.path,t.collectionGroup,WL(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=N(WL(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new sL(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new iL(t.endAt.position,t.endAt.inclusive):null,c=t.startAt?new iL(t.startAt.position,t.startAt.inclusive):null;t._t=IL(t.path,t.collectionGroup,r,t.filters,t.limit,s,c)}return t._t}function qL(e,t){t.getFirstInequalityField(),BL(e);var n=e.filters.concat([t]);return new DL(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function GL(e,t,n){return new DL(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function KL(e,t){return RL(HL(e),HL(t))&&e.limitType===t.limitType}function YL(e){return"".concat(CL(HL(e)),"|lt:").concat(e.limitType)}function ZL(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return bL(e)})).join(", "),"]")),LA(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return BP(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return BP(e)})).join(",")),"Target(".concat(t,")")}(HL(e)),"; limitType=").concat(e.limitType,")")}function JL(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cA.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=N(WL(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=N(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=aL(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,WL(e),t))&&!(e.endAt&&!function(e,t,n){var r=aL(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,WL(e),t))}(e,t)}function QL(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function XL(e){return function(t,n){var r,i=!1,a=N(WL(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=$L(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(c){a.e(c)}finally{a.f()}return 0}}function $L(e,t,n){var r=e.field.isKeyField()?cA.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?FP(r,i):MO()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return MO()}}var eD=function(){function e(t,n){u(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return p(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=k(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){pP(this.inner,(function(t,n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=k(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return mP(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),tD=new vP(cA.comparator);function nD(){return tD}var rD=new vP(cA.comparator);function iD(){for(var e=rD,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function aD(e){var t=rD;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function oD(){return cD()}function sD(){return cD()}function cD(){return new eD((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var lD=new vP(cA.comparator),uD=new bP(cA.comparator);function dD(){for(var e=uD,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var fD=new bP($O);function hD(){return fD}function pD(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:DA(t)?"-0":t}}function mD(e){return{integerValue:""+e}}function vD(e,t){return MA(t)?mD(t):pD(e,t)}var gD=p((function e(){u(this,e),this._=void 0}));function yD(e,t,n){return e instanceof xD?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&IP(t)&&(t=CP(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wD?SD(e,t):e instanceof ED?kD(e,t):function(e,t){var n=_D(e,t),r=jD(n)+jD(e.gt);return HP(n)&&HP(e.gt)?mD(r):pD(e.serializer,r)}(e,t)}function bD(e,t,n){return e instanceof wD?SD(e,t):e instanceof ED?kD(e,t):n}function _D(e,t){return e instanceof ND?HP(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var xD=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n)}(gD),wD=function(e){v(n,e);var t=_(n);function n(e){var r;return u(this,n),(r=t.call(this)).elements=e,r}return p(n)}(gD);function SD(e,t){var n,r=TD(t),i=N(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return MP(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ED=function(e){v(n,e);var t=_(n);function n(e){var r;return u(this,n),(r=t.call(this)).elements=e,r}return p(n)}(gD);function kD(e,t){var n,r=TD(t),i=N(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!MP(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ND=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return p(n)}(gD);function jD(e){return jP(e.integerValue||e.doubleValue)}function TD(e){return qP(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ID=p((function e(t,n){u(this,e),this.field=t,this.transform=n}));var CD=p((function e(t,n){u(this,e),this.version=t,this.transformResults=n})),RD=function(){function e(t,n){u(this,e),this.updateTime=t,this.exists=n}return p(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function OD(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var AD=p((function e(){u(this,e)}));function PD(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new GD(e.key,RD.none()):new FD(e.key,e.data,RD.none());var n,r=e.data,i=tL.empty(),a=new bP(sA.comparator),o=N(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var c=r.field(s);null===c&&s.length>1&&(s=s.popLast(),c=r.field(s)),null===c?i.delete(s):i.set(s,c),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new VD(e.key,i,new wP(a.toArray()),RD.none())}function LD(e,t,n){e instanceof FD?function(e,t,n){var r=e.value.clone(),i=zD(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof VD?function(e,t,n){if(OD(e.precondition,t)){var r=zD(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(BD(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function DD(e,t,n,r){return e instanceof FD?function(e,t,n,r){if(!OD(e.precondition,t))return n;var i=e.value.clone(),a=WD(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof VD?function(e,t,n,r){if(!OD(e.precondition,t))return n;var i=WD(e.fieldTransforms,r,t),a=t.data;return a.setAll(BD(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return OD(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function MD(e,t){var n,r=null,i=N(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=_D(a.transform,o||null);null!=s&&(null===r&&(r=tL.empty()),r.set(a.field,s))}}catch(c){i.e(c)}finally{i.f()}return r||null}function UD(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&eA(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wD&&t instanceof wD||e instanceof ED&&t instanceof ED?eA(e.elements,t.elements,MP):e instanceof ND&&t instanceof ND?MP(e.gt,t.gt):e instanceof xD&&t instanceof xD}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var FD=function(e){v(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return u(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(AD),VD=function(e){v(n,e);var t=_(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return u(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return p(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(AD);function BD(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function zD(e,t,n){var r=new Map;UO(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,bD(o,s,n[i]))}return r}function WD(e,t,n){var r,i=new Map,a=N(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,c=n.data.field(o.field);i.set(o.field,yD(s,c,t))}}catch(l){a.e(l)}finally{a.f()}return i}var HD,qD,GD=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(AD),KD=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(AD),YD=function(){function e(t,n,r,i){u(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return p(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&LD(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=N(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=DD(i,e,t,this.localWriteTime))}}catch(c){r.e(c)}finally{r.f()}var a,o=N(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=DD(s,e,t,this.localWriteTime))}}catch(c){o.e(c)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=sD();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),c=PD(o,s=t.has(i.key)?null:s);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(rA.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),dD())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&eA(this.mutations,e.mutations,(function(e,t){return UD(e,t)}))&&eA(this.baseMutations,e.baseMutations,(function(e,t){return UD(e,t)}))}}]),e}(),ZD=function(){function e(t,n,r,i){u(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return p(e,null,[{key:"from",value:function(t,n,r){UO(t.mutations.length===r.length);for(var i=lD,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),JD=function(){function e(t,n){u(this,e),this.largestBatchId=t,this.mutation=n}return p(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),QD=p((function e(t,n){u(this,e),this.count=t,this.unchangedNames=n}));function XD(e){switch(e){default:return MO();case VO.CANCELLED:case VO.UNKNOWN:case VO.DEADLINE_EXCEEDED:case VO.RESOURCE_EXHAUSTED:case VO.INTERNAL:case VO.UNAVAILABLE:case VO.UNAUTHENTICATED:return!1;case VO.INVALID_ARGUMENT:case VO.NOT_FOUND:case VO.ALREADY_EXISTS:case VO.PERMISSION_DENIED:case VO.FAILED_PRECONDITION:case VO.ABORTED:case VO.OUT_OF_RANGE:case VO.UNIMPLEMENTED:case VO.DATA_LOSS:return!0}}function $D(e){if(void 0===e)return PO("GRPC error has no .code"),VO.UNKNOWN;switch(e){case HD.OK:return VO.OK;case HD.CANCELLED:return VO.CANCELLED;case HD.UNKNOWN:return VO.UNKNOWN;case HD.DEADLINE_EXCEEDED:return VO.DEADLINE_EXCEEDED;case HD.RESOURCE_EXHAUSTED:return VO.RESOURCE_EXHAUSTED;case HD.INTERNAL:return VO.INTERNAL;case HD.UNAVAILABLE:return VO.UNAVAILABLE;case HD.UNAUTHENTICATED:return VO.UNAUTHENTICATED;case HD.INVALID_ARGUMENT:return VO.INVALID_ARGUMENT;case HD.NOT_FOUND:return VO.NOT_FOUND;case HD.ALREADY_EXISTS:return VO.ALREADY_EXISTS;case HD.PERMISSION_DENIED:return VO.PERMISSION_DENIED;case HD.FAILED_PRECONDITION:return VO.FAILED_PRECONDITION;case HD.ABORTED:return VO.ABORTED;case HD.OUT_OF_RANGE:return VO.OUT_OF_RANGE;case HD.UNIMPLEMENTED:return VO.UNIMPLEMENTED;case HD.DATA_LOSS:return VO.DATA_LOSS;default:return MO()}}(qD=HD||(HD={}))[qD.OK=0]="OK",qD[qD.CANCELLED=1]="CANCELLED",qD[qD.UNKNOWN=2]="UNKNOWN",qD[qD.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qD[qD.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qD[qD.NOT_FOUND=5]="NOT_FOUND",qD[qD.ALREADY_EXISTS=6]="ALREADY_EXISTS",qD[qD.PERMISSION_DENIED=7]="PERMISSION_DENIED",qD[qD.UNAUTHENTICATED=16]="UNAUTHENTICATED",qD[qD.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qD[qD.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qD[qD.ABORTED=10]="ABORTED",qD[qD.OUT_OF_RANGE=11]="OUT_OF_RANGE",qD[qD.UNIMPLEMENTED=12]="UNIMPLEMENTED",qD[qD.INTERNAL=13]="INTERNAL",qD[qD.UNAVAILABLE=14]="UNAVAILABLE",qD[qD.DATA_LOSS=15]="DATA_LOSS";var eM=function(){function e(){u(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return p(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return tM}},{key:"getOrCreateInstance",value:function(){return null===tM&&(tM=new e),tM}}]),e}(),tM=null;function nM(){return new TextEncoder}var rM=new jO([4294967295,4294967295],0);function iM(e){var t=nM().encode(e),n=new NO;return n.update(t),new Uint8Array(n.digest())}function aM(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new jO([n,r],0),new jO([i,a],0)]}var oM=function(){function e(t,n,r){if(u(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sM("Invalid padding: ".concat(n));if(r<0)throw new sM("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new sM("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new sM("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=jO.fromNumber(this.It)}return p(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(jO.fromNumber(n)));return 1===r.compare(rM)&&(r=new jO([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=k(aM(iM(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=k(aM(iM(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),sM=function(e){v(n,e);var t=_(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return p(n)}(w(Error)),cM=function(){function e(t,n,r,i,a){u(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return p(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,lM.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(rA.min(),i,new vP($O),nD(),dD())}}]),e}(),lM=function(){function e(t,n,r,i,a){u(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return p(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,dD(),dD(),dD())}}]),e}(),uM=p((function e(t,n,r,i){u(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),dM=p((function e(t,n){u(this,e),this.targetId=t,this.Vt=n})),fM=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:EP.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;u(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),hM=function(){function e(){u(this,e),this.St=0,this.Dt=vM(),this.Ct=EP.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return p(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=dD(),t=dD(),n=dD();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:MO()}})),new lM(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=vM()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),pM=function(){function e(t){u(this,e),this.Gt=t,this.Qt=new Map,this.jt=nD(),this.zt=mM(),this.Wt=new vP($O)}return p(e,[{key:"Ht",value:function(e){var t,n=N(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=N(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:MO()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(OL(a))if(0===r){var o=new cA(a.path);this.Yt(n,o,rL.newNoDocument(o,rA.min()))}else UO(1===r);else{var s=this.ie(n);if(s!==r){var c=this.re(e,s);if(0!==c){this.ee(n);var l=2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,l)}null===(t=eM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,c,l={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(l.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(c=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.padding)&&void 0!==c?c:0}),l}(c,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,c=s.bitmap,l=void 0===c?"":c,u=s.padding,d=void 0===u?0:u,f=r.hashCount,h=void 0===f?0:f;try{a=TP(l).toUint8Array()}catch(e){if(e instanceof SP)return LO("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new oM(a,d,h)}catch(e){return LO(e instanceof sM?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&OL(a.target)){var o=new cA(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,rL.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=dD();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new cM(e,n,this.Wt,this.jt,r);return this.jt=nD(),this.zt=mM(),this.Wt=new vP($O),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new hM,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new bP($O),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||AO("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new hM),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function mM(){return new vP(cA.comparator)}function vM(){return new vP(cA.comparator)}var gM={asc:"ASCENDING",desc:"DESCENDING"},yM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bM={and:"AND",or:"OR"},_M=p((function e(t,n){u(this,e),this.databaseId=t,this.useProto3Json=n}));function xM(e,t){return e.useProto3Json||LA(t)?t:{value:t}}function wM(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function SM(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function EM(e,t){return wM(e,t.toTimestamp())}function kM(e){return UO(!!e),rA.fromTimestamp(function(e){var t=NP(e);return new nA(t.seconds,t.nanos)}(e))}function NM(e,t){return function(e){return new aA(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function jM(e){var t=aA.fromString(e);return UO(JM(t)),t}function TM(e,t){return NM(e.databaseId,t.path)}function IM(e,t){var n=jM(t);if(n.get(1)!==e.databaseId.projectId)throw new BO(VO.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new BO(VO.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cA(AM(n))}function CM(e,t){return NM(e.databaseId,t)}function RM(e){var t=jM(e);return 4===t.length?aA.emptyPath():AM(t)}function OM(e){return new aA(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function AM(e){return UO(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function PM(e,t,n){return{name:TM(e,t),fields:n.value.mapValue.fields}}function LM(e,t,n){var r=IM(e,t.name),i=kM(t.updateTime),a=t.createTime?kM(t.createTime):rA.min(),o=new tL({mapValue:{fields:t.fields}}),s=rL.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function DM(e,t){return"found"in t?function(e,t){UO(!!t.found),t.found.name,t.found.updateTime;var n=IM(e,t.found.name),r=kM(t.found.updateTime),i=t.found.createTime?kM(t.found.createTime):rA.min(),a=new tL({mapValue:{fields:t.found.fields}});return rL.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){UO(!!t.missing),UO(!!t.readTime);var n=IM(e,t.missing),r=kM(t.readTime);return rL.newNoDocument(n,r)}(e,t):MO()}function MM(e,t){var n;if(t instanceof FD)n={update:PM(e,t.key,t.value)};else if(t instanceof GD)n={delete:TM(e,t.key)};else if(t instanceof VD)n={update:PM(e,t.key,t.data),updateMask:ZM(t.fieldMask)};else{if(!(t instanceof KD))return MO();n={verify:TM(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof xD)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wD)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ED)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ND)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw MO()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:EM(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:MO()}(e,t.precondition)),n}function UM(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?RD.updateTime(kM(e.updateTime)):void 0!==e.exists?RD.exists(e.exists):RD.none()}(t.currentDocument):RD.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)UO("REQUEST_TIME"===t.setToServerValue),n=new xD;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new wD(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ED(i)}else"increment"in t?n=new ND(e,t.increment):MO();var a=sA.fromServerFormat(t.fieldPath);return new ID(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=IM(e,t.update.name),a=new tL({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new wP(t.map((function(e){return sA.fromServerFormat(e)})))}(t.updateMask);return new VD(i,a,o,n,r)}return new FD(i,a,n,r)}if(t.delete){var s=IM(e,t.delete);return new GD(s,n)}if(t.verify){var c=IM(e,t.verify);return new KD(c,n)}return MO()}function FM(e,t){return{documents:[CM(e,t.path)]}}function VM(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=CM(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=CM(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return YM(dL.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:GM(e.field),direction:WM(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=xM(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function BM(e){var t=RM(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){UO(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=zM(e);return t instanceof dL&&pL(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new sL(KM(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var c=null;n.limit&&(c=function(e){var t;return LA(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new iL(n,t)}(n.startAt));var u=null;return n.endAt&&(u=function(e){var t=!e.before,n=e.values||[];return new iL(n,t)}(n.endAt)),ML(t,i,s,o,c,"F",l,u)}function zM(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=KM(e.unaryFilter.field);return uL.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=KM(e.unaryFilter.field);return uL.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=KM(e.unaryFilter.field);return uL.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=KM(e.unaryFilter.field);return uL.create(i,"!=",{nullValue:"NULL_VALUE"});default:return MO()}}(e):void 0!==e.fieldFilter?function(e){return uL.create(KM(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return MO()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return dL.create(e.compositeFilter.filters.map((function(e){return zM(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return MO()}}(e.compositeFilter.op))}(e):MO()}function WM(e){return gM[e]}function HM(e){return yM[e]}function qM(e){return bM[e]}function GM(e){return{fieldPath:e.canonicalString()}}function KM(e){return sA.fromServerFormat(e.fieldPath)}function YM(e){return e instanceof uL?function(e){if("=="===e.op){if(KP(e.value))return{unaryFilter:{field:GM(e.field),op:"IS_NAN"}};if(GP(e.value))return{unaryFilter:{field:GM(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(KP(e.value))return{unaryFilter:{field:GM(e.field),op:"IS_NOT_NAN"}};if(GP(e.value))return{unaryFilter:{field:GM(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:GM(e.field),op:HM(e.op),value:e.value}}}(e):e instanceof dL?function(e){var t=e.getFilters().map((function(e){return YM(e)}));return 1===t.length?t[0]:{compositeFilter:{op:qM(e.op),filters:t}}}(e):MO()}function ZM(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function JM(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var QM=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rA.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rA.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:EP.EMPTY_BYTE_STRING,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;u(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=c}return p(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),XM=p((function e(t){u(this,e),this.fe=t}));function $M(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:eU(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:TM(e,t.key),fields:t.data.value.mapValue.fields,updateTime:wM(e,t.version.toTimestamp()),createTime:wM(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:tU(t.version)};else{if(!t.isUnknownDocument())return MO();r.unknownDocument={path:n.path.toArray(),version:tU(t.version)}}return r}function eU(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function tU(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function nU(e){var t=new nA(e.seconds,e.nanoseconds);return rA.fromTimestamp(t)}function rU(e,t){for(var n=(t.baseMutations||[]).map((function(t){return UM(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return UM(e.fe,t)})),s=nA.fromMillis(t.localWriteTimeMs);return new YD(t.batchId,s,n,o)}function iU(e){var t,n,r=nU(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?nU(e.lastLimboFreeSnapshotVersion):rA.min();return void 0!==e.query.documents?(UO(1===(n=e.query).documents.length),t=HL(UL(RM(n.documents[0])))):t=function(e){return HL(BM(e))}(e.query),new QM(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,EP.fromBase64String(e.resumeToken))}function aU(e,t){var n,r=tU(t.snapshotVersion),i=tU(t.lastLimboFreeSnapshotVersion);n=OL(t.target)?FM(e.fe,t.target):VM(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:CL(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function oU(e){var t=BM({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?GL(t,t.limit,"L"):t}function sU(e,t){return new JD(t.largestBatchId,UM(e.fe,t.overlayMutation))}function cU(e,t){var n=t.path.lastSegment();return[e,UA(t.path.popLast()),n]}function lU(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:tU(r.readTime),documentKey:UA(r.documentKey.path),largestBatchId:r.largestBatchId}}var uU=function(){function e(){u(this,e)}return p(e,[{key:"getBundleMetadata",value:function(e,t){return dU(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:nU(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return dU(e).put({bundleId:(n=t).id,createTime:tU(kM(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return fU(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:oU(t.bundledQuery),readTime:nU(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return fU(e).put(function(e){return{name:e.name,readTime:tU(kM(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function dU(e){return fP(e,"bundles")}function fU(e){return fP(e,"namedQueries")}var hU=function(){function e(t,n){u(this,e),this.serializer=t,this.userId=n}return p(e,[{key:"getOverlay",value:function(e,t){var n=this;return pU(e).get(cU(this.userId,t)).next((function(e){return e?sU(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=oD();return wA.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new JD(t,a);i.push(r.we(e,o))})),wA.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(UA(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(pU(e).J("collectionPathOverlayIndex",i))})),wA.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=oD(),a=UA(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return pU(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=sU(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=oD(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pU(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=sU(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return pU(e).put(function(e,t,n){var r=k(cU(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:MM(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function pU(e){return fP(e,"documentOverlays")}var mU=function(){function e(){u(this,e)}return p(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(jP(e.integerValue));else if("doubleValue"in e){var n=jP(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),DA(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(TP(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?JP(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):MO()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),cA.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function vU(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function gU(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=vU(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}mU.Ve=new mU;var yU=function(){function e(){u(this,e),this.buffer=new Uint8Array(1024),this.position=0}return p(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=gU(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=gU(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),bU=function(){function e(t){u(this,e),this.je=t}return p(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),_U=function(){function e(t){u(this,e),this.je=t}return p(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),xU=function(){function e(){u(this,e),this.je=new yU,this.ze=new bU(this.je),this.We=new _U(this.je)}return p(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),wU=function(){function e(t,n,r,i){u(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return p(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function SU(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=EU(e.arrayValue,t.arrayValue))?n:0!==(n=EU(e.directionalValue,t.directionalValue))?n:cA.comparator(e.documentKey,t.documentKey)}function EU(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var kU=function(){function e(t){u(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=N(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return p(e,[{key:"tn",value:function(e){UO(e.collectionGroup===this.collectionId);var t=uA(e);if(void 0!==t&&!this.en(t))return!1;for(var n=dA(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],s))return!1}return!0}},{key:"en",value:function(e){var t,n=N(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function NU(e){var t,n;if(UO(e instanceof uL||e instanceof dL),e instanceof uL){if(e instanceof kL){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return uL.create(e.field,"==",t)})))||[];return dL.create(r,"or")}return e}var i=e.filters.map((function(e){return NU(e)}));return dL.create(i,e.op)}function jU(e){if(0===e.getFilters().length)return[];var t=RU(NU(e));return UO(CU(t)),TU(t)||IU(t)?[t]:t.getFilters()}function TU(e){return e instanceof uL}function IU(e){return e instanceof dL&&pL(e)}function CU(e){return TU(e)||IU(e)||function(e){if(e instanceof dL&&hL(e)){var t,n=N(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!TU(r)&&!IU(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function RU(e){if(UO(e instanceof uL||e instanceof dL),e instanceof uL)return e;if(1===e.filters.length)return RU(e.filters[0]);var t=e.filters.map((function(e){return RU(e)})),n=dL.create(t,e.op);return CU(n=PU(n))?n:(UO(n instanceof dL),UO(fL(n)),UO(n.filters.length>1),n.filters.reduce((function(e,t){return OU(e,t)})))}function OU(e,t){var n;return UO(e instanceof uL||e instanceof dL),UO(t instanceof uL||t instanceof dL),n=e instanceof uL?t instanceof uL?function(e,t){return dL.create([e,t],"and")}(e,t):AU(e,t):t instanceof uL?AU(t,e):function(e,t){if(UO(e.filters.length>0&&t.filters.length>0),fL(e)&&fL(t))return yL(e,t.getFilters());var n=hL(e)?e:t,r=hL(e)?t:e,i=n.filters.map((function(e){return OU(e,r)}));return dL.create(i,"or")}(e,t),PU(n)}function AU(e,t){if(fL(t))return yL(t,e.getFilters());var n=t.filters.map((function(t){return OU(e,t)}));return dL.create(n,"or")}function PU(e){if(UO(e instanceof uL||e instanceof dL),e instanceof uL)return e;var t=e.getFilters();if(1===t.length)return PU(t[0]);if(mL(e))return e;var n=t.map((function(e){return PU(e)})),r=[];return n.forEach((function(t){t instanceof uL?r.push(t):t instanceof dL&&(t.op===e.op?r.push.apply(r,l(t.filters)):r.push(t))})),1===r.length?r[0]:dL.create(r,e.op)}var LU=function(){function e(){u(this,e),this.rn=new DU}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),wA.resolve()}},{key:"getCollectionParents",value:function(e,t){return wA.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return wA.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return wA.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return wA.resolve(null)}},{key:"getIndexType",value:function(e,t){return wA.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return wA.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return wA.resolve(null)}},{key:"getMinOffset",value:function(e,t){return wA.resolve(vA.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return wA.resolve(vA.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return wA.resolve()}},{key:"updateIndexEntries",value:function(e,t){return wA.resolve()}}]),e}(),DU=function(){function e(){u(this,e),this.index={}}return p(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bP(aA.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new bP(aA.comparator)).toArray()}}]),e}(),MU=new Uint8Array(0),UU=function(){function e(t,n){u(this,e),this.user=t,this.databaseId=n,this.on=new DU,this.un=new eD((function(e){return CL(e)}),(function(e,t){return RL(e,t)})),this.uid=t.uid||""}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:UA(i)};return FU(e).put(a)}return wA.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[tA(t),""],!1,!0);return FU(e).j(r).next((function(e){var r,i=N(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(BA(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=BU(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=zU(e);return a.next((function(e){o.put(lU(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=BU(e),r=zU(e),i=VU(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=VU(e),i=!0,a=new Map;return wA.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=dD(),o=[];return wA.forEach(a,(function(i,a){var s;AO("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(CL(t)));var c=function(e,t){var n=uA(t);if(void 0===n)return null;var r,i=N(AL(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=new Map,i=N(dA(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=N(AL(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var c=a.value;switch(c.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),c.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),c.value),Array.from(r.values())}}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=[],i=!0,a=N(dA(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?PL(e,o.fieldPath,e.startAt):LL(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new iL(r,i)}(a,i),d=function(e,t){var n,r=[],i=!0,a=N(dA(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?LL(e,o.fieldPath,e.endAt):PL(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new iL(r,i)}(a,i),f=n.hn(i,a,u),h=n.hn(i,a,d),p=n.ln(i,a,l),m=n.fn(i.indexId,c,f,u.inclusive,h,d.inclusive,p);return wA.forEach(m,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=cA.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return wA.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:jU(dL.create(e.filters,"and")).map((function(t){return IL(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var s=this,c=(null!=t?t.length:1)*Math.max(n.length,i.length),u=c/(null!=t?t.length:1),d=[],f=function(){var c=t?s.dn(t[h/u]):MU,f=s.wn(e,c,n[h%u],r),p=s._n(e,c,i[h%u],a),m=o.map((function(t){return s.wn(e,c,t,!0)}));d.push.apply(d,l(s.createRange(f,p,m)))},h=0;h<c;++h)f();return d}},{key:"wn",value:function(e,t,n,r){var i=new wU(e,cA.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new wU(e,cA.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new kU(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return wA.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new bP(sA.comparator),r=!1,i=N(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=N(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(d){o.e(d)}finally{o.f()}}}catch(d){i.e(d)}finally{i.f()}var c,l=N(e.orderBy);try{for(l.s();!(c=l.n()).done;){var u=c.value;u.field.isKeyField()||(n=n.add(u.field))}}catch(d){l.e(d)}finally{l.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new xU,i=N(dA(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.He(a.kind);mU.Ve._e(o,s)}}catch(c){i.e(c)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new xU;return mU.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new xU;return mU.Ve._e(WP(this.databaseId,t),n.He(function(e){var t=dA(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new xU);var i,a=0,o=N(dA(e));try{for(o.s();!(i=o.n()).done;){var s,c=i.value,l=n[a++],u=N(r);try{for(u.s();!(s=u.n()).done;){var d=s.value;if(this.yn(t,c.fieldPath)&&qP(l))r=this.pn(r,c,l);else{var f=d.He(c.kind);mU.Ve._e(l,f)}}}catch(h){u.e(h)}finally{u.f()}}}catch(h){o.e(h)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=l(e),a=[],o=N(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,c=r.value,u=N(i);try{for(u.s();!(s=u.n()).done;){var d=s.value,f=new xU;f.seed(d.Qe()),mU.Ve._e(c,f.He(t.kind)),a.push(f)}}catch(h){u.e(h)}finally{u.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof uL&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=BU(e),i=zU(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return wA.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new hA(t.sequenceNumber,new vA(nU(t.readTime),new cA(BA(t.documentKey)),t.largestBatchId)):hA.empty(),r=e.fields.map((function(e){var t=k(e,2),n=t[0],r=t[1];return new fA(sA.fromServerFormat(n),r)}));return new lA(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:$O(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=BU(e),a=zU(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return wA.forEach(t,(function(t){return a.put(lU(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return wA.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?wA.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),wA.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?wA.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return VU(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return VU(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=VU(e),i=new bP(SU);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new wU(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new bP(SU),r=this.mn(t,e);if(null==r)return n;var i=uA(t);if(null!=i){var a=e.data.field(i.fieldPath);if(qP(a)){var o,s=N(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var c=o.value;n=n.add(new wU(t.indexId,e.key,this.dn(c),r))}}catch(l){s.e(l)}finally{s.f()}}}else n=n.add(new wU(t.indexId,e.key,MU,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;AO("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=xP(a),c=xP(o);s||c;){var l=!1,u=!1;if(s&&c){var d=n(s,c);d<0?u=!0:d>0&&(l=!0)}else null!=s?u=!0:l=!0;l?(r(c),c=xP(o)):u?(i(s),s=xP(a)):(s=xP(a),c=xP(o))}}(r,i,SU,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),wA.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return zU(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return SU(e,t)})).filter((function(e,t,n){return!t||0!==SU(e,n[t-1])}));var r=[];r.push(e);var i,a=N(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=SU(o,e),c=SU(o,t);if(0===s)r[0]=e.Je();else if(s>0&&c<0)r.push(o),r.push(o.Je());else if(c>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var l=[],u=0;u<r.length;u+=2){if(this.bn(r[u],r[u+1]))return[];var d=[r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,MU,[]],f=[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,MU,[]];l.push(IDBKeyRange.bound(d,f))}return l}},{key:"bn",value:function(e,t){return SU(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(WU)}},{key:"getMinOffset",value:function(e,t){var n=this;return wA.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||MO()}))})).next(WU)}}]),e}();function FU(e){return fP(e,"collectionParents")}function VU(e){return fP(e,"indexEntries")}function BU(e){return fP(e,"indexConfiguration")}function zU(e){return fP(e,"indexState")}function WU(e){UO(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;gA(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new vA(t.readTime,t.documentKey,n)}var HU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qU=function(){function e(t,n,r){u(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return p(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function GU(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,c=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(c.next((function(){UO(1===s)})));var l,u=[],d=N(n.mutations);try{for(d.s();!(l=d.n()).done;){var f=l.value,h=HA(t,f.key.path,n.batchId);a.push(i.delete(h)),u.push(f.key)}}catch(p){d.e(p)}finally{d.f()}return wA.waitFor(a).next((function(){return u}))}function KU(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw MO();t=e.noDocument}return JSON.stringify(t).length}qU.DEFAULT_COLLECTION_PERCENTILE=10,qU.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qU.DEFAULT=new qU(41943040,qU.DEFAULT_COLLECTION_PERCENTILE,qU.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qU.DISABLED=new qU(-1,0,0);var YU=function(){function e(t,n,r,i){u(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return p(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return JU(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=QU(e),o=JU(e);return o.add({}).next((function(s){UO("number"==typeof s);var c,l=new YD(s,t,n,r),u=function(e,t,n){var r=n.baseMutations.map((function(t){return MM(e.fe,t)})),i=n.mutations.map((function(t){return MM(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,l),d=[],f=new bP((function(e,t){return $O(e.canonicalString(),t.canonicalString())})),h=N(r);try{for(h.s();!(c=h.n()).done;){var p=c.value,m=HA(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),d.push(o.put(u)),d.push(a.put(m,qA))}}catch(v){h.e(v)}finally{h.f()}return f.forEach((function(t){d.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[s]=l.keys()})),wA.waitFor(d).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return JU(e).get(t).next((function(e){return e?(UO(e.userId===n.userId),rU(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?wA.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return JU(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(UO(t.batchId>=r),a=rU(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return JU(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return JU(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return rU(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=WA(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return QU(e).X({range:i},(function(r,i,o){var s=k(r,3),c=s[0],l=s[1],u=s[2],d=BA(l);if(c===n.userId&&t.path.isEqual(d))return JU(e).get(u).next((function(e){if(!e)throw MO();UO(e.userId===n.userId),a.push(rU(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bP($O),i=[];return t.forEach((function(t){var a=WA(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=QU(e).X({range:o},(function(e,i,a){var o=k(e,3),s=o[0],c=o[1],l=o[2],u=BA(c);s===n.userId&&t.path.isEqual(u)?r=r.add(l):a.done()}));i.push(s)})),wA.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=WA(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new bP($O);return QU(e).X({range:o},(function(e,t,a){var o=k(e,3),c=o[0],l=o[1],u=o[2],d=BA(l);c===n.userId&&r.isPrefixOf(d)?d.length===i&&(s=s.add(u)):a.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(JU(e).get(t).next((function(e){if(null===e)throw MO();UO(e.userId===n.userId),r.push(rU(n.serializer,e))})))})),wA.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return GU(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),wA.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return wA.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return QU(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=BA(e[1]);i.push(a)}else r.done()})).next((function(){UO(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return ZU(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return XU(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return UO(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function ZU(e,t,n){var r=WA(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return QU(e).X({range:a,Y:!0},(function(e,n,r){var a=k(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function JU(e){return fP(e,"mutations")}function QU(e){return fP(e,"documentMutations")}function XU(e){return fP(e,"mutationQueues")}var $U=function(){function e(t){u(this,e),this.Nn=t}return p(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),eF=function(){function e(t,n){u(this,e),this.referenceDelegate=t,this.serializer=n}return p(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new $U(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return rA.fromTimestamp(new nA(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return tF(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return UO(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return tF(e).X((function(o,s){var c=iU(s);c.sequenceNumber<=t&&null===n.get(c.targetId)&&(i++,a.push(r.removeTargetData(e,c)))})).next((function(){return wA.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return tF(e).X((function(e,n){var r=iU(n);t(r)}))}},{key:"$n",value:function(e){return nF(e).get("targetGlobalKey").next((function(e){return UO(null!==e),e}))}},{key:"On",value:function(e,t){return nF(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return tF(e).put(aU(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=CL(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return tF(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=iU(n);RL(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=rF(e);return t.forEach((function(t){var o=UA(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),wA.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=rF(e);return wA.forEach(t,(function(t){var a=UA(t.path);return wA.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=rF(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=rF(e),i=dD();return r.X({range:n,Y:!0},(function(e,t,n){var r=BA(e[1]),a=new cA(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=UA(t.path),r=IDBKeyRange.bound([n],[tA(n)],!1,!0),i=0;return rF(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=k(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return tF(e).get(t).next((function(e){return e?iU(e):null}))}}]),e}();function tF(e){return fP(e,"targets")}function nF(e){return fP(e,"targetGlobal")}function rF(e){return fP(e,"targetDocuments")}function iF(e,t){var n=k(e,2),r=n[0],i=n[1],a=k(t,2),o=a[0],s=a[1],c=$O(r,o);return 0===c?$O(i,s):c}var aF=function(){function e(t){u(this,e),this.Ln=t,this.buffer=new bP(iF),this.qn=0}return p(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();iF(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),oF=function(){function e(t,n,r){u(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return p(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;AO("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!jA(e.t0)){e.next=12;break}AO("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,_A(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),sF=function(){function e(t,n){u(this,e),this.jn=t,this.params=n}return p(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return wA.resolve(PA.ct);var r=new aF(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(AO("LruGarbageCollector","Garbage collection skipped; disabled"),wA.resolve(HU)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(AO("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),HU):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,s,c,l=this,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(AO("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(l.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),OO()<=Om.DEBUG&&AO("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-s)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),wA.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function cF(e,t){return new sF(e,t)}var lF=function(){function e(t,n){u(this,e),this.db=t,this.garbageCollector=cF(this,n)}return p(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return uF(e,n)}},{key:"removeReference",value:function(e,t,n){return uF(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return uF(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return XU(e).Z((function(r){return ZU(e,r,t).next((function(e){return e&&(n=!0),wA.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,s){if(s<=t){var c=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,rA.min()),rF(e).delete([0,UA(o.path)])}))}));i.push(c)}})).next((function(){return wA.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return uF(e,t)}},{key:"Yn",value:function(e,t){var n,r=rF(e),i=PA.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=k(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==PA.ct&&t(new cA(BA(n)),i),i=c,n=s):i=PA.ct})).next((function(){i!==PA.ct&&t(new cA(BA(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function uF(e,t){return rF(e).put(function(e,t){return{targetId:0,path:UA(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var dF=function(){function e(){u(this,e),this.changes=new eD((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return p(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,rL.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?wA.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),fF=function(){function e(t){u(this,e),this.serializer=t}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return vF(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return vF(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],eU(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=rL.newInvalidDocument(t);return vF(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(gF(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:rL.newInvalidDocument(t)};return vF(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(gF(t))},(function(e,i){r={document:n.ts(t,i),size:KU(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=nD();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=nD(),i=new vP(cA.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,KU(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return wA.resolve();var r=new bP(bF);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(gF(r.first()),gF(r.last())),a=r.getIterator(),o=a.getNext();return vF(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=cA.fromSegments([].concat(l(t.prefixPath),[t.collectionGroup,t.documentId]));o&&bF(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(gF(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),eU(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vF(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=nD(),o=N(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,c=i.ts(cA.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);c.isFoundDocument()&&(JL(t,c)||r.has(c.key))&&(a=a.insert(c.key,c))}}catch(l){o.e(l)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=nD(),o=yF(t,n),s=yF(t,vA.max());return vF(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.ts(cA.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new pF(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return mF(e).get("remoteDocumentGlobalKey").next((function(e){return UO(!!e),e}))}},{key:"Zn",value:function(e,t){return mF(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=LM(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=cA.fromSegments(t.noDocument.path),i=nU(t.noDocument.readTime);n=rL.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return MO();var a=cA.fromSegments(t.unknownDocument.path),o=nU(t.unknownDocument.version);n=rL.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new nA(e[0],e[1]);return rA.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(rA.min()))return n}return rL.newInvalidDocument(e)}}]),e}();function hF(e){return new fF(e)}var pF=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new eD((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new bP((function(e,t){return $O(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.us.get(a);if(n.push(t.os.removeEntry(e,a,s.readTime)),o.isValidDocument()){var c=$M(t.os.serializer,o);i=i.add(a.path.popLast());var l=KU(c);r+=l-s.size,n.push(t.os.addEntry(e,a,c))}else if(r-=s.size,t.trackRemovals){var u=$M(t.os.serializer,o.convertToNoDocument(rA.min()));n.push(t.os.addEntry(e,a,u))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),wA.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(dF);function mF(e){return fP(e,"remoteDocumentGlobal")}function vF(e){return fP(e,"remoteDocumentsV14")}function gF(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function yF(e,t){var n=t.documentKey.path.toArray();return[e,eU(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bF(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=$O(n[a],r[a]))return i;return(i=$O(n.length,r.length))||((i=$O(n[n.length-2],r[r.length-2]))||$O(n[n.length-1],r[r.length-1]))}var _F=p((function e(t,n){u(this,e),this.overlayedDocument=t,this.mutatedFields=n})),xF=function(){function e(t,n,r,i){u(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return p(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&DD(r.mutation,e,wP.empty(),nA.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,dD()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dD(),i=oD();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=iD();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=oD();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,dD())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=nD(),a=cD(),o=cD();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof VD)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),DD(o.mutation,t,o.mutation.getFieldMask(),nA.now())):a.set(t.key,wP.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new _F(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=cD(),i=new vP((function(e,t){return e-t})),a=dD();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=N(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||wP.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||dD()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),c=function(){var i=s.getNext(),c=i.key,l=i.value,u=sD();l.forEach((function(e){if(!a.has(e)){var n=PD(t.get(e),r.get(e));null!==n&&u.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,c,u))};s.hasNext();)c();return wA.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return cA.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):wA.resolve(oD()),s=-1,c=a;return o.next((function(t){return wA.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?wA.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){c=c.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,c,t,dD())})).next((function(e){return{batchId:s,changes:aD(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new cA(t)).next((function(e){var t=iD();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=iD();return this.indexManager.getCollectionParents(e,i).next((function(o){return wA.forEach(o,(function(o){var s=function(e,t){return new DL(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,rL.newInvalidDocument(r)))}));var n=iD();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&DD(a.mutation,i,wP.empty(),nA.now()),JL(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),wF=function(){function e(t){u(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return p(e,[{key:"getBundleMetadata",value:function(e,t){return wA.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:kM(n.createTime)}),wA.resolve()}},{key:"getNamedQuery",value:function(e,t){return wA.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:oU(e.bundledQuery),readTime:kM(e.readTime)}}(t)),wA.resolve()}}]),e}(),SF=function(){function e(){u(this,e),this.overlays=new vP(cA.comparator),this.ls=new Map}return p(e,[{key:"getOverlay",value:function(e,t){return wA.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=oD();return wA.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),wA.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),wA.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=oD(),i=t.length+1,a=new cA(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,c=s.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return wA.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new vP((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=oD(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var c=oD(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return c.set(e,t)})),!(c.size()>=r)););return wA.resolve(c)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new JD(t,n));var a=this.ls.get(t);void 0===a&&(a=dD(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),EF=function(){function e(){u(this,e),this.fs=new bP(kF.ds),this.ws=new bP(kF._s)}return p(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new kF(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new kF(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new cA(new aA([])),r=new kF(n,e),i=new kF(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new cA(new aA([])),n=new kF(t,e),r=new kF(t,e+1),i=dD();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new kF(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),kF=function(){function e(t,n){u(this,e),this.key=t,this.As=n}return p(e,null,[{key:"ds",value:function(e,t){return cA.comparator(e.key,t.key)||$O(e.As,t.As)}},{key:"_s",value:function(e,t){return $O(e.As,t.As)||cA.comparator(e.key,t.key)}}]),e}(),NF=function(){function e(t,n){u(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new bP(kF.ds)}return p(e,[{key:"checkEmpty",value:function(e){return wA.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new YD(i,t,n,r);this.mutationQueue.push(a);var o,s=N(r);try{for(s.s();!(o=s.n()).done;){var c=o.value;this.Rs=this.Rs.add(new kF(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return wA.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return wA.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return wA.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return wA.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return wA.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new kF(t,0),i=new kF(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),wA.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bP($O);return t.forEach((function(e){var t=new kF(e,0),i=new kF(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),wA.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;cA.isDocumentKey(i)||(i=i.child(""));var a=new kF(new cA(i),0),o=new bP($O);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),wA.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;UO(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return wA.forEach(t.mutations,(function(i){var a=new kF(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new kF(t,0),r=this.Rs.firstAfterOrEqual(n);return wA.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,wA.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),jF=function(){function e(t){u(this,e),this.Ds=t,this.docs=new vP(cA.comparator),this.size=0}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return wA.resolve(n?n.document.mutableCopy():rL.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=nD();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():rL.newInvalidDocument(e))})),wA.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=nD(),a=t.path,o=new cA(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var c=s.getNext(),l=c.key,u=c.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||gA(mA(u),n)<=0||(r.has(u.key)||JL(t,u))&&(i=i.insert(u.key,u.mutableCopy()))}return wA.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){MO()}},{key:"Cs",value:function(e,t){return wA.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new TF(this)}},{key:"getSize",value:function(e){return wA.resolve(this.size)}}]),e}(),TF=function(e){v(n,e);var t=_(n);function n(e){var r;return u(this,n),(r=t.call(this)).os=e,r}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),wA.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(dF),IF=function(){function e(t){u(this,e),this.persistence=t,this.xs=new eD((function(e){return CL(e)}),RL),this.lastRemoteSnapshotVersion=rA.min(),this.highestTargetId=0,this.Ns=0,this.ks=new EF,this.targetCount=0,this.Ms=$U.kn()}return p(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),wA.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return wA.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return wA.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),wA.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),wA.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new $U(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,wA.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),wA.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,wA.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),wA.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return wA.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return wA.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),wA.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),wA.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),wA.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return wA.resolve(n)}},{key:"containsKey",value:function(e,t){return wA.resolve(this.ks.containsKey(t))}}]),e}(),CF=function(){function e(t,n){var r=this;u(this,e),this.$s={},this.overlays={},this.Os=new PA(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new IF(this),this.indexManager=new LU,this.remoteDocumentCache=new jF((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new XM(n),this.qs=new wF(this.serializer)}return p(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new SF,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new NF(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;AO("MemoryPersistence","Starting transaction:",e);var i=new RF(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return wA.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),RF=function(e){v(n,e);var t=_(n);function n(e){var r;return u(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return p(n)}(bA),OF=function(){function e(t){u(this,e),this.persistence=t,this.Qs=new EF,this.js=null}return p(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw MO()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),wA.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),wA.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),wA.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wA.forEach(this.Ws,(function(r){var i=cA.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,rA.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return wA.or([function(){return wA.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),AF=function(){function e(t){u(this,e),this.serializer=t}return p(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new SA("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zA,{unique:!0}),e.createObjectStore("documentMutations")}(e),PF(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=wA.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),PF(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rA.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zA,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return wA.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:rP});t.createIndex("collectionPathOverlayIndex",iP,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",aP,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:GA});t.createIndex("documentKeyIndex",KA),t.createIndex("collectionGroupIndex",YA)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:$A}).createIndex("sequenceNumberIndex",eP,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:tP}).createIndex("documentKeyIndex",nP,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=KU(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return wA.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return wA.forEach(r,(function(r){UO(r.userId===n.userId);var i=rU(t.serializer,r);return GU(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new aA(n),o=function(e){return[0,UA(e)]}(a);r.push(t.get(o).next((function(n){return n?wA.resolve():function(n){return t.put({targetId:0,path:UA(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return wA.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:XA});var n=t.store("collectionParents"),r=new DU,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:UA(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new aA(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=k(e,3),r=(n[0],n[1]),a=(n[2],BA(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=iU(r),a=aU(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new cA(aA.fromString(i.document.name).popFirst(5)):i.noDocument?cA.fromSegments(i.noDocument.path):i.unknownDocument?cA.fromSegments(i.unknownDocument.path):MO()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return wA.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=hF(this.serializer),a=new CF(OF.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:dD();rU(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),wA.forEach(r,(function(e,r){var o=new IO(r),s=hU.de(n.serializer,o),c=a.getIndexManager(o),l=YU.de(o,n.serializer,c,a.referenceDelegate);return new xF(i,l,s,c).recalculateAndSaveOverlaysForDocumentKeys(new dP(t,PA.ct),e).next()}))}))}}]),e}();function PF(e){e.createObjectStore("targetDocuments",{keyPath:JA}).createIndex("documentTargetsIndex",QA,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ZA,{unique:!0}),e.createObjectStore("targetGlobal")}var LF="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",DF=function(){function e(t,n,r,i,a,o,s,c,l,d){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(u(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=s,this.ri=l,this.oi=d,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new BO(VO.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lF(this,i),this.di=n+"main",this.serializer=new XM(c),this.wi=new EA(this.di,this.ui,new AF(this.serializer)),this.Bs=new eF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hF(this.serializer),this.qs=new uU,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===d&&PO("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return p(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new BO(VO.FAILED_PRECONDITION,LF);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new PA(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=Be(Fe().mark((function n(r){return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=Be(Fe().mark((function t(n){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return UF(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(jA(t))return AO("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return AO("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return MF(e).get("owner").next((function(e){return wA.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return UF(e).delete(this.clientId)}},{key:"bi",value:function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=fP(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return wA.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=N(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?wA.resolve(!0):MF(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new BO(VO.FAILED_PRECONDITION,LF);return!1}}return!(!t.networkEnabled||!t.inForeground)||UF(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&AO("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Be(Fe().mark((function e(){var t=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new dP(e,PA.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return UF(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return YU.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new UU(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return hU.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;AO("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?uP:14===i?lP:13===i?cP:12===i?sP:11===i?oP:void MO();return this.wi.runTransaction(e,o,s,(function(i){return a=new dP(i,r.Os?r.Os.next():PA.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw PO("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new BO(VO.FAILED_PRECONDITION,yA);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return MF(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new BO(VO.FAILED_PRECONDITION,LF)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return MF(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=MF(e);return n.get("owner").next((function(e){return t.Ri(e)?(AO("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):wA.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(PO("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;nm()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return AO("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return PO("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){PO("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return EA.D()}}]),e}();function MF(e){return fP(e,"owner")}function UF(e){return fP(e,"clientMetadata")}function FF(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var VF=function(){function e(t,n,r,i){u(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return p(e,null,[{key:"Li",value:function(t,n){var r,i=dD(),a=dD(),o=N(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(c){o.e(c)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),BF=function(){function e(){u(this,e),this.qi=!1}return p(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(FL(t))return wA.resolve(null);var r=HL(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=GL(t,null,"F"),r=HL(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=dD.apply(void 0,l(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,GL(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return FL(t)||r.isEqual(rA.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(OO()<=Om.DEBUG&&AO("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ZL(t)),i.Wi(e,o,t,pA(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new bP(XL(e));return t.forEach((function(t,r){JL(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return OO()<=Om.DEBUG&&AO("QueryEngine","Using full collection scan to execute query:",ZL(t)),this.Ui.getDocumentsMatchingQuery(e,t,vA.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),zF=function(){function e(t,n,r,i){u(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new vP($O),this.Yi=new eD((function(e){return CL(e)}),RL),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return p(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xF(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function WF(e,t,n,r){return new zF(e,t,n,r)}function HF(e,t){return qF.apply(this,arguments)}function qF(){return qF=Be(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=FO(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=dD(),c=N(t);try{for(c.s();!(i=c.n()).done;){var l=i.value;a.push(l.batchId);var u,d=N(l.mutations);try{for(d.s();!(u=d.n()).done;){var f=u.value;s=s.add(f.key)}}catch(b){d.e(b)}finally{d.f()}}}catch(b){c.e(b)}finally{c.f()}var h,p=N(n);try{for(p.s();!(h=p.n()).done;){var m=h.value;o.push(m.batchId);var v,g=N(m.mutations);try{for(g.s();!(v=g.n()).done;){var y=v.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),qF.apply(this,arguments)}function GF(e,t){var n=FO(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=wA.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);UO(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=dD(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function KF(e){var t=FO(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function YF(e,t){var n=FO(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var c=i.get(s);if(c){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?l=l.withResumeToken(EP.EMPTY_BYTE_STRING,rA.min()).withLastLimboFreeSnapshotVersion(rA.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(c,l,a)&&o.push(n.Bs.updateTargetData(e,l))}}));var s=nD(),c=dD();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ZF(e,a,t.documentUpdates).next((function(e){s=e.nr,c=e.sr}))),!r.isEqual(rA.min())){var l=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return wA.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,c)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function ZF(e,t,n){var r=dD(),i=dD();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=nD();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(rA.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):AO("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function JF(e,t){var n=FO(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function QF(e,t){var n=FO(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,wA.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new QM(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function XF(e,t,n){return $F.apply(this,arguments)}function $F(){return $F=Be(Fe().mark((function e(t,n,r){var i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=FO(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),jA(e.t1)){e.next=12;break}throw e.t1;case 12:AO("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),$F.apply(this,arguments)}function eV(e,t,n){var r=FO(e),i=rA.min(),a=dD();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=FO(e),i=r.Yi.get(n);return void 0!==i?wA.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,HL(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:rA.min(),n?a:dD())})).next((function(e){return rV(r,QL(t),e),{documents:e,ir:a}}))}))}function tV(e,t){var n=FO(e),r=FO(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function nV(e,t){var n=FO(e),r=n.Xi.get(t)||rA.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,pA(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return rV(n,t,e),e}))}function rV(e,t,n){var r=e.Xi.get(t)||rA.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function iV(e,t,n,r){return aV.apply(this,arguments)}function aV(){return aV=Be(Fe().mark((function e(t,n,r,i){var a,o,s,c,l,u,d,f,h,p;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=FO(t),o=dD(),s=nD(),c=N(r);try{for(c.s();!(l=c.n()).done;)u=l.value,d=n.rr(u.metadata.name),u.document&&(o=o.add(d)),(f=n.ur(u)).setReadTime(n.cr(u.metadata.readTime)),s=s.insert(d,f)}catch(m){c.e(m)}finally{c.f()}return h=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,QF(a,function(e){return HL(UL(aA.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ZF(e,h,s).next((function(t){return h.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),aV.apply(this,arguments)}function oV(e,t){return sV.apply(this,arguments)}function sV(){return sV=Be(Fe().mark((function e(t,n){var r,i,a,o=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:dD(),e.next=3,QF(t,HL(oU(n.bundledQuery)));case 3:return i=e.sent,a=FO(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=kM(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(EP.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),sV.apply(this,arguments)}function cV(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function lV(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function uV(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var dV=function(){function e(t,n,r,i){u(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return p(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new BO(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(PO("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),fV=function(){function e(t,n,r){u(this,e),this.targetId=t,this.state=n,this.error=r}return p(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new BO(i.error.code,i.error.message))),a?new e(t,i.state,r):(PO("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),hV=function(){function e(t,n){u(this,e),this.clientId=t,this.activeTargetIds=n}return p(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=hD(),o=0;i&&o<r.activeTargetIds.length;++o)i=MA(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(PO("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),pV=function(){function e(t,n){u(this,e),this.clientId=t,this.onlineState=n}return p(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(PO("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),mV=function(){function e(){u(this,e),this.activeTargetIds=hD()}return p(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),vV=function(){function e(t,n,r,i,a){u(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new vP($O),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=cV(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new mV),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return p(e,[{key:"start",value:function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a,o,s,c,l,u,d,f=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=N(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(cV(this.persistenceKey,i)))&&(o=hV.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(s=this.storage.getItem(this.vr))&&(c=this.br(s))&&this.Vr(c),l=N(this.yr);try{for(l.s();!(u=l.n()).done;)d=u.value,this.mr(d)}catch(h){l.e(h)}finally{l.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(uV(this.persistenceKey,e));if(n){var r=fV.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(uV(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return AO("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){AO("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){AO("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(AO("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void PO("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(Be(Fe().mark((function e(){var r,i,a,o,s,c,l;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}c=function(e){var t=PA.ct;if(null!=e)try{var n=JSON.parse(e);UO("number"==typeof n),t=n}catch(e){PO("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),c!==PA.ct&&t.sequenceNumberHandler(c),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return l=t.Gr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new dV(this.currentUser,e,t,n),i=lV(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=lV(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=uV(this.persistenceKey,e),i=new fV(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return hV.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return dV.ar(new IO(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return fV.ar(r,t)}},{key:"br",value:function(e){return pV.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=Be(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:AO("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=hD();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),gV=function(){function e(){u(this,e),this.Hr=new mV,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return p(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new mV,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),yV=function(){function e(){u(this,e)}return p(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),bV=function(){function e(){var t=this;u(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return p(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){AO("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=N(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){AO("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=N(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),_V=null;function xV(){return null===_V?_V=268435456+Math.round(2147483648*Math.random()):_V++,"0x"+_V.toString(16)}var wV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},SV=function(){function e(t){u(this,e),this.ro=t.ro,this.oo=t.oo}return p(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),EV="WebChannelConnection",kV=function(e){v(n,e);var t=_(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return p(n,[{key:"Ao",value:function(e,t,n,r){var i=xV();return new Promise((function(a,o){var s=new kO;s.setWithCredentials(!0),s.listenOnce(_O.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case bO.NO_ERROR:var t=s.getResponseJson();AO(EV,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case bO.TIMEOUT:AO(EV,"RPC '".concat(e,"' ").concat(i," timed out")),o(new BO(VO.DEADLINE_EXCEEDED,"Request time out"));break;case bO.HTTP_ERROR:var n=s.getStatus();if(AO(EV,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var c=null==r?void 0:r.error;if(c&&c.status&&c.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(VO).indexOf(t)>=0?t:VO.UNKNOWN}(c.status);o(new BO(l,c.message))}else o(new BO(VO.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new BO(VO.UNAVAILABLE,"Connection failed."));break;default:MO()}}finally{AO(EV,"RPC '".concat(e,"' ").concat(i," completed."))}}));var c=JSON.stringify(r);AO(EV,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",c,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=xV(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=gO(),o=yO(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.xmlHttpFactory=new SO({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var l=i.join("");AO(EV,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),s);var u=a.createWebChannel(l,s),d=!1,f=!1,h=new SV({ro:function(t){f?AO(EV,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(AO(EV,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),AO(EV,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:function(){return u.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(u,EO.EventType.OPEN,(function(){f||AO(EV,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,EO.EventType.CLOSE,(function(){f||(f=!0,AO(EV,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.wo())})),p(u,EO.EventType.ERROR,(function(t){f||(f=!0,LO(EV,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.wo(new BO(VO.UNAVAILABLE,"The operation could not be completed")))})),p(u,EO.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];UO(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){AO(EV,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,c=function(e){var t=HD[e];if(void 0!==t)return $D(t)}(s),l=o.message;void 0===c&&(c=VO.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),f=!0,h.wo(new BO(c,l)),u.close()}else AO(EV,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h._o(i)}})),p(o,xO.STAT_EVENT,(function(t){t.stat===wO.PROXY?AO(EV,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===wO.NOPROXY&&AO(EV,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.fo()}),0),h}}]),n}(function(){function e(t){u(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return p(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=xV(),o=this.To(e,t);AO("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return AO("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw LO("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+CO,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=wV[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function NV(){return"undefined"!=typeof window?window:null}function jV(){return"undefined"!=typeof document?document:null}function TV(e){return new _M(e,!0)}var IV=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;u(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return p(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&AO("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),CV=function(){function e(t,n,r,i,a,o,s,c){u(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new IV(t,n)}return p(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=Be(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===VO.RESOURCE_EXHAUSTED?(PO(n.toString()),PO("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===VO.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=k(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new BO(VO.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(Be(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return AO("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(AO("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),RV=function(e){v(n,e);var t=_(n);function n(e,r,i,a,o,s){var c;return u(this,n),(c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,c}return p(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:MO()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(UO(void 0===t||"string"==typeof t),EP.fromBase64String(t||"")):(UO(void 0===t||t instanceof Uint8Array),EP.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?VO.UNKNOWN:$D(e.code);return new BO(t,e.message||"")}(o);n=new fM(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var c=t.documentChange;c.document,c.document.name,c.document.updateTime;var l=IM(e,c.document.name),u=kM(c.document.updateTime),d=c.document.createTime?kM(c.document.createTime):rA.min(),f=new tL({mapValue:{fields:c.document.fields}}),h=rL.newFoundDocument(l,u,d,f),p=c.targetIds||[],m=c.removedTargetIds||[];n=new uM(p,m,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var g=IM(e,v.document),y=v.readTime?kM(v.readTime):rA.min(),b=rL.newNoDocument(g,y),_=v.removedTargetIds||[];n=new uM([],_,b.key,b)}else if("documentRemove"in t){t.documentRemove;var x=t.documentRemove;x.document;var w=IM(e,x.document),S=x.removedTargetIds||[];n=new uM([],S,w,null)}else{if(!("filter"in t))return MO();t.filter;var E=t.filter;E.targetId;var k=E.count,N=void 0===k?0:k,j=E.unchangedNames,T=new QD(N,j),I=E.targetId;n=new dM(I,T)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return rA.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?rA.min():t.readTime?kM(t.readTime):rA.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=OM(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=OL(r)?{documents:FM(e,r)}:{query:VM(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=SM(e,t.resumeToken);var i=xM(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(rA.min())>0){n.readTime=wM(e,t.snapshotVersion.toTimestamp());var a=xM(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return MO()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=OM(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(CV),OV=function(e){v(n,e);var t=_(n);function n(e,r,i,a,o,s){var c;return u(this,n),(c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,c.ru=!1,c}return p(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,oT(g(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(UO(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(UO(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?kM(e.updateTime):kM(t);return n.isEqual(rA.min())&&(n=kM(t)),new CD(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=kM(e.commitTime);return this.listener.cu(n,t)}return UO(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=OM(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return MM(t.serializer,e)}))};this.Wo(n)}}]),n}(CV),AV=function(e){v(n,e);var t=_(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return p(n,[{key:"fu",value:function(){if(this.lu)throw new BO(VO.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=k(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===VO.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new BO(VO.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=k(a,2),s=o[0],c=o[1];return i.connection.vo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===VO.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new BO(VO.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return p((function e(){u(this,e)}))}());var PV=function(){function e(t,n){u(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return p(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(PO(t),this.mu=!1):AO("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),LV=p((function e(t,n,r,i,a){var o=this;u(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=GV(o),!e.t0){e.next=5;break}return AO("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Be(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=FO(t)).vu.add(4),e.next=4,UV(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,DV(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new PV(r,i)}));function DV(e){return MV.apply(this,arguments)}function MV(){return(MV=Be(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!GV(t)){e.next=18;break}n=N(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function UV(e){return FV.apply(this,arguments)}function FV(){return(FV=Be(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=N(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function VV(e,t){var n=FO(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),qV(n)?HV(n):xB(n).Ko()&&zV(n,t))}function BV(e,t){var n=FO(e),r=xB(n);n.Au.delete(t),r.Ko()&&WV(n,t),0===n.Au.size&&(r.Ko()?r.jo():GV(n)&&n.bu.set("Unknown"))}function zV(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(rA.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xB(e).su(t)}function WV(e,t){e.Vu.qt(t),xB(e).iu(t)}function HV(e){e.Vu=new pM({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),xB(e).start(),e.bu.gu()}function qV(e){return GV(e)&&!xB(e).Uo()&&e.Au.size>0}function GV(e){return 0===FO(e).vu.size}function KV(e){e.Vu=void 0}function YV(e){return ZV.apply(this,arguments)}function ZV(){return(ZV=Be(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){zV(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JV(e,t){return QV.apply(this,arguments)}function QV(){return(QV=Be(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:KV(t),qV(t)?(t.bu.Iu(n),HV(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XV(e,t,n){return $V.apply(this,arguments)}function $V(){return $V=Be(Fe().mark((function e(t,n,r){var i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof fM&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Be(Fe().mark((function e(t,n){var r,i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=N(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),AO("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,eB(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof uM?t.Vu.Ht(n):n instanceof dM?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(rA.min())){e.next=29;break}return e.prev=14,e.next=17,KF(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(EP.EMPTY_BYTE_STRING,r.snapshotVersion)),WV(e,t);var i=new QM(r.target,t,n,r.sequenceNumber);zV(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),AO("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,eB(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),$V.apply(this,arguments)}function eB(e,t,n){return tB.apply(this,arguments)}function tB(){return(tB=Be(Fe().mark((function e(t,n,r){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jA(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,UV(t);case 5:t.bu.set("Offline"),r||(r=function(){return KF(t.localStore)}),t.asyncQueue.enqueueRetryable(Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AO("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,DV(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nB(e,t){return t().catch((function(n){return eB(e,n,t)}))}function rB(e){return iB.apply(this,arguments)}function iB(){return iB=Be(Fe().mark((function e(t){var n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=FO(t),r=wB(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!aB(n)){e.next=19;break}return e.prev=3,e.next=6,JF(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,oB(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,eB(n,e.t0);case 17:e.next=2;break;case 19:sB(n)&&cB(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),iB.apply(this,arguments)}function aB(e){return GV(e)&&e.Eu.length<10}function oB(e,t){e.Eu.push(t);var n=wB(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function sB(e){return GV(e)&&!wB(e).Uo()&&e.Eu.length>0}function cB(e){wB(e).start()}function lB(e){return uB.apply(this,arguments)}function uB(){return(uB=Be(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wB(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dB(e){return fB.apply(this,arguments)}function fB(){return(fB=Be(Fe().mark((function e(t){var n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wB(t),r=N(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hB(e,t,n){return pB.apply(this,arguments)}function pB(){return pB=Be(Fe().mark((function e(t,n,r){var i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=ZD.from(i,n,r),e.next=3,nB(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,rB(t);case 5:case"end":return e.stop()}}),e)}))),pB.apply(this,arguments)}function mB(e,t){return vB.apply(this,arguments)}function vB(){return vB=Be(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&wB(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=Be(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!XD(i=n.code)||i===VO.ABORTED){e.next=7;break}return r=t.Eu.shift(),wB(t).Qo(),e.next=5,nB(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,rB(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:sB(t)&&cB(t);case 5:case"end":return e.stop()}}),e)}))),vB.apply(this,arguments)}function gB(e,t){return yB.apply(this,arguments)}function yB(){return yB=Be(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=FO(t)).asyncQueue.verifyOperationInProgress(),AO("RemoteStore","RemoteStore received new credentials"),i=GV(r),r.vu.add(3),e.next=6,UV(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,DV(r);case 12:case"end":return e.stop()}}),e)}))),yB.apply(this,arguments)}function bB(e,t){return _B.apply(this,arguments)}function _B(){return(_B=Be(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=FO(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,DV(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,UV(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xB(e){return e.Su||(e.Su=function(e,t,n){var r=FO(e);return r.fu(),new RV(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:YV.bind(null,e),ao:JV.bind(null,e),nu:XV.bind(null,e)}),e.Ru.push(function(){var t=Be(Fe().mark((function t(n){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),qV(e)?HV(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:KV(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function wB(e){return e.Du||(e.Du=function(e,t,n){var r=FO(e);return r.fu(),new OV(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:lB.bind(null,e),ao:mB.bind(null,e),au:dB.bind(null,e),cu:hB.bind(null,e)}),e.Ru.push(function(){var t=Be(Fe().mark((function t(n){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,rB(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(AO("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var SB=function(){function e(t,n,r,i,a){u(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new zO,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return p(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new BO(VO.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function EB(e,t){if(PO("AsyncQueue","".concat(t,": ").concat(e)),jA(e))return new BO(VO.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var kB=function(){function e(t){u(this,e),this.comparator=t?function(e,n){return t(e,n)||cA.comparator(e.key,n.key)}:function(e,t){return cA.comparator(e.key,t.key)},this.keyedMap=iD(),this.sortedSet=new vP(this.comparator)}return p(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),NB=function(){function e(){u(this,e),this.Cu=new vP(cA.comparator)}return p(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):MO():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),jB=function(){function e(t,n,r,i,a,o,s,c,l){u(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=c,this.hasCachedResults=l}return p(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&KL(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,kB.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),TB=p((function e(){u(this,e),this.Nu=void 0,this.listeners=[]})),IB=p((function e(){u(this,e),this.queries=new eD((function(e){return YL(e)}),KL),this.onlineState="Unknown",this.ku=new Set}));function CB(e,t){return RB.apply(this,arguments)}function RB(){return RB=Be(Fe().mark((function e(t,n){var r,i,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=FO(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new TB),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=EB(e.t0,"Initialization of query '".concat(ZL(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&DB(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),RB.apply(this,arguments)}function OB(e,t){return AB.apply(this,arguments)}function AB(){return AB=Be(Fe().mark((function e(t,n){var r,i,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=FO(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),AB.apply(this,arguments)}function PB(e,t){var n,r=FO(e),i=!1,a=N(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,c=r.queries.get(s);if(c){var l,u=N(c.listeners);try{for(u.s();!(l=u.n()).done;){l.value.$u(o)&&(i=!0)}}catch(d){u.e(d)}finally{u.f()}c.Nu=o}}}catch(d){a.e(d)}finally{a.f()}i&&DB(r)}function LB(e,t,n){var r=FO(e),i=r.queries.get(t);if(i){var a,o=N(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function DB(e){e.ku.forEach((function(e){e.next()}))}var MB=function(){function e(t,n,r){u(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return p(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=N(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new jB(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=jB.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),UB=function(){function e(t,n){u(this,e),this.Gu=t,this.byteLength=n}return p(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),FB=function(){function e(t){u(this,e),this.serializer=t}return p(e,[{key:"rr",value:function(e){return IM(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?LM(this.serializer,e.document,!1):rL.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return kM(e)}}]),e}(),VB=function(){function e(t,n,r){u(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=BB(t)}return p(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=aA.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new FB(this.serializer),i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.rr(a.metadata.name),c=N(a.metadata.queries);try{for(c.s();!(o=c.n()).done;){var l=o.value,u=(n.get(l)||dD()).add(s);n.set(l,u)}}catch(d){c.e(d)}finally{c.f()}}}}catch(d){i.e(d)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iV(this.localStore,new FB(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=N(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,oV(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function BB(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var zB=p((function e(t){u(this,e),this.key=t})),WB=p((function e(t){u(this,e),this.key=t})),HB=function(){function e(t,n){u(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=dD(),this.mutatedKeys=dD(),this.tc=XL(t),this.ec=new kB(this.tc)}return p(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new NB,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var u=i.get(e),d=JL(n.query,t)?t:null,f=!!u&&n.mutatedKeys.has(u.key),h=!!d&&(d.hasLocalMutations||n.mutatedKeys.has(d.key)&&d.hasCommittedMutations),p=!1;u&&d?u.data.isEqual(d.data)?f!==h&&(r.track({type:3,doc:d}),p=!0):n.rc(u,d)||(r.track({type:2,doc:d}),p=!0,(c&&n.tc(d,c)>0||l&&n.tc(d,l)<0)&&(s=!0)):!u&&d?(r.track({type:0,doc:d}),p=!0):u&&!d&&(r.track({type:1,doc:u}),p=!0,(c||l)&&(s=!0)),p&&(d?(o=o.add(d),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return MO()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,c=s!==this.Xu;return this.Xu=s,0!==a.length||c?{snapshot:new jB(this.query,e.ec,i,a,e.mutatedKeys,0===s,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new NB,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=dD(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new WB(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new zB(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=dD();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return jB.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),qB=p((function e(t,n,r){u(this,e),this.query=t,this.targetId=n,this.view=r})),GB=p((function e(t){u(this,e),this.key=t,this.fc=!1})),KB=function(){function e(t,n,r,i,a,o){u(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new eD((function(e){return YL(e)}),KL),this._c=new Map,this.mc=new Set,this.gc=new vP(cA.comparator),this.yc=new Map,this.Ic=new EF,this.Tc={},this.Ec=new Map,this.Ac=$U.Mn(),this.onlineState="Unknown",this.vc=void 0}return p(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function YB(e,t){return ZB.apply(this,arguments)}function ZB(){return ZB=Be(Fe().mark((function e(t,n){var r,i,a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Bz(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,QF(r.localStore,HL(n));case 8:return s=e.sent,c=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,JB(r,n,i,"current"===c,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&VV(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),ZB.apply(this,arguments)}function JB(e,t,n,r,i){return QB.apply(this,arguments)}function QB(){return QB=Be(Fe().mark((function e(t,n,r,i,a){var o,s,c,l,u,d;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=Be(Fe().mark((function e(t,n,r,i){var a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,eV(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(gz(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,eV(t.localStore,n,!0);case 3:return o=e.sent,s=new HB(n,o.ir),c=s.sc(o.documents),l=lM.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),u=s.applyChanges(c,t.isPrimaryClient,l),gz(t,r,u.cc),d=new qB(n,r,s),e.abrupt("return",(t.wc.set(n,d),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),u.snapshot));case 11:case"end":return e.stop()}}),e)}))),QB.apply(this,arguments)}function XB(e,t){return $B.apply(this,arguments)}function $B(){return $B=Be(Fe().mark((function e(t,n){var r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=FO(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!KL(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,XF(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),BV(r.remoteStore,i.targetId),mz(r,i.targetId)})).catch(_A);case 9:e.next=14;break;case 11:return mz(r,i.targetId),e.next=14,XF(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),$B.apply(this,arguments)}function ez(e,t,n){return tz.apply(this,arguments)}function tz(){return tz=Be(Fe().mark((function e(t,n,r){var i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zz(t),e.prev=1,e.next=4,function(e,t){var n,r,i=FO(e),a=nA.now(),o=t.reduce((function(e,t){return e.add(t.key)}),dD());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=nD(),c=dD();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(c=c.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],c=N(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,u=MD(l,n.get(l.key).overlayedDocument);null!=u&&s.push(new VD(l.key,u,nL(u.value.mapValue),RD.exists(!0)))}}catch(d){c.e(d)}finally{c.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,c);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:aD(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new vP($O)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,_z(i,a.changes);case 9:return e.next=11,rB(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=EB(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),tz.apply(this,arguments)}function nz(e,t){return rz.apply(this,arguments)}function rz(){return rz=Be(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=FO(t),e.prev=1,e.next=4,YF(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(UO(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?UO(n.fc):e.removedDocuments.size>0&&(UO(n.fc),n.fc=!1))})),e.next=8,_z(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,_A(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),rz.apply(this,arguments)}function iz(e,t,n){var r=FO(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=FO(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=N(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&DB(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function az(e,t,n){return oz.apply(this,arguments)}function oz(){return oz=Be(Fe().mark((function e(t,n,r){var i,a,o,s,c,l;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=FO(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new vP(cA.comparator)).insert(o,rL.newNoDocument(o,rA.min())),c=dD().add(o),l=new cM(rA.min(),new Map,new vP($O),s,c),e.next=9,nz(i,l);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),bz(i),e.next=16;break;case 14:return e.next=16,XF(i.localStore,n,!1).then((function(){return mz(i,n,r)})).catch(_A);case 16:case"end":return e.stop()}}),e)}))),oz.apply(this,arguments)}function sz(e,t){return cz.apply(this,arguments)}function cz(){return cz=Be(Fe().mark((function e(t,n){var r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=FO(t),i=n.batch.batchId,e.prev=1,e.next=4,GF(r.localStore,n);case 4:return a=e.sent,pz(r,i,null),hz(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,_z(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,_A(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),cz.apply(this,arguments)}function lz(e,t,n){return uz.apply(this,arguments)}function uz(){return uz=Be(Fe().mark((function e(t,n,r){var i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=FO(t),e.prev=1,e.next=4,function(e,t){var n=FO(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return UO(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,pz(i,n,r),hz(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,_z(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,_A(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),uz.apply(this,arguments)}function dz(e,t){return fz.apply(this,arguments)}function fz(){return fz=Be(Fe().mark((function e(t,n){var r,i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GV((r=FO(t)).remoteStore)||AO("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=FO(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=EB(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),fz.apply(this,arguments)}function hz(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function pz(e,t,n){var r=FO(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function mz(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=N(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||vz(e,t)}))}function vz(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(BV(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),bz(e))}function gz(e,t,n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof zB?(e.Ic.addReference(a.key,t),yz(e,a)):a instanceof WB?(AO("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||vz(e,a.key)):MO()}}catch(o){i.e(o)}finally{i.f()}}function yz(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(AO("SyncEngine","New document in limbo: "+n),e.mc.add(r),bz(e))}function bz(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new cA(aA.fromString(t)),r=e.Ac.next();e.yc.set(r,new GB(n)),e.gc=e.gc.insert(n,r),VV(e.remoteStore,new QM(HL(UL(n.path)),r,"TargetPurposeLimboResolution",PA.ct))}}function _z(e,t,n){return xz.apply(this,arguments)}function xz(){return xz=Be(Fe().mark((function e(t,n,r){var i,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=FO(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=VF.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=Be(Fe().mark((function e(t,n){var r,i,a,o,s,c,l,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=FO(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return wA.forEach(n,(function(t){return wA.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return wA.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),jA(e.t0)){e.next=10;break}throw e.t0;case 10:AO("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=N(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(c=r.Ji.get(s),l=c.snapshotVersion,u=c.withLastLimboFreeSnapshotVersion(l),r.Ji=r.Ji.insert(s,u))}catch(d){i.e(d)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),xz.apply(this,arguments)}function wz(e,t){return Sz.apply(this,arguments)}function Sz(){return(Sz=Be(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=FO(t)).currentUser.isEqual(n)){e.next=11;break}return AO("SyncEngine","User change. New user:",n.toKey()),e.next=5,HF(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new BO(VO.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,_z(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ez(e,t){var n=FO(e),r=n.yc.get(t);if(r&&r.fc)return dD().add(r.key);var i=dD(),a=n._c.get(t);if(!a)return i;var o,s=N(a);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=n.wc.get(c);i=i.unionWith(l.view.nc)}}catch(u){s.e(u)}finally{s.f()}return i}function kz(e,t){return Nz.apply(this,arguments)}function Nz(){return Nz=Be(Fe().mark((function e(t,n){var r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=FO(t),e.next=3,eV(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&gz(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)}))),Nz.apply(this,arguments)}function jz(e,t){return Tz.apply(this,arguments)}function Tz(){return(Tz=Be(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=FO(t),e.abrupt("return",nV(r.localStore,n).then((function(e){return _z(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iz(e,t,n,r){return Cz.apply(this,arguments)}function Cz(){return Cz=Be(Fe().mark((function e(t,n,r,i){var a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=FO(t),e.next=3,function(e,t){var n=FO(e),r=FO(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):wA.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,rB(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(pz(a,n,i||null),hz(a,n),function(e,t){FO(FO(e).mutationQueue).Cn(t)}(a.localStore,n)):MO();case 11:return e.next=13,_z(a,o);case 13:e.next=16;break;case 15:AO("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Cz.apply(this,arguments)}function Rz(e,t){return Oz.apply(this,arguments)}function Oz(){return(Oz=Be(Fe().mark((function e(t,n){var r,i,a,o,s,c,l,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bz(r=FO(t)),zz(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Az(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,bB(r.remoteStore,!0);case 9:o=N(a);try{for(o.s();!(s=o.n()).done;)c=s.value,VV(r.remoteStore,c)}catch(d){o.e(d)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return l=[],u=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):u=u.then((function(){return mz(r,t),XF(r.localStore,t,!0)})),BV(r.remoteStore,t)})),e.next=19,u;case 19:return e.next=21,Az(r,l);case 21:return function(e){var t=FO(e);t.yc.forEach((function(e,n){BV(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new vP(cA.comparator)}(r),r.vc=!1,e.next=25,bB(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Az(e,t,n){return Pz.apply(this,arguments)}function Pz(){return Pz=Be(Fe().mark((function e(t,n,r){var i,a,o,s,c,l,u,d,f,h,p,m,v,g;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=FO(t),a=[],o=[],s=N(n),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=45;break}if(l=c.value,u=void 0,!(d=i._c.get(l))||0===d.length){e.next=34;break}return e.next=11,QF(i.localStore,HL(d[0]));case 11:u=e.sent,f=N(d),e.prev=13,f.s();case 15:if((h=f.n()).done){e.next=24;break}return p=h.value,m=i.wc.get(p),e.next=20,kz(i,m);case 20:(v=e.sent).snapshot&&o.push(v.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,tV(i.localStore,l);case 36:return g=e.sent,e.next=39,QF(i.localStore,g);case 39:return u=e.sent,e.next=42,JB(i,Lz(g),l,!1,u.resumeToken);case 42:a.push(u);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Pz.apply(this,arguments)}function Lz(e){return ML(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Dz(e){var t=FO(e);return FO(FO(t.localStore).persistence).$i()}function Mz(e,t,n,r){return Uz.apply(this,arguments)}function Uz(){return Uz=Be(Fe().mark((function e(t,n,r,i){var a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=FO(t)).vc){e.next=3;break}return e.abrupt("return",void AO("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,nV(a.localStore,QL(o[0]));case 10:return s=e.sent,c=cM.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,EP.EMPTY_BYTE_STRING),e.next=14,_z(a,s,c);case 14:return e.abrupt("break",20);case 15:return e.next=17,XF(a.localStore,n,!0);case 17:return mz(a,n,i),e.abrupt("break",20);case 19:MO();case 20:case"end":return e.stop()}}),e)}))),Uz.apply(this,arguments)}function Fz(e,t,n){return Vz.apply(this,arguments)}function Vz(){return Vz=Be(Fe().mark((function e(t,n,r){var i,a,o,s,c,l,u,d,f;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Bz(t)).vc){e.next=45;break}a=N(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return AO("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,tV(i.localStore,s);case 12:return c=e.sent,e.next=15,QF(i.localStore,c);case 15:return l=e.sent,e.next=18,JB(i,Lz(c),l.targetId,!1,l.resumeToken);case 18:VV(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:u=N(r),e.prev=30,f=Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,XF(i.localStore,t,!1).then((function(){BV(i.remoteStore,t),mz(i,t)})).catch(_A);case 5:case"end":return e.stop()}}),e)})),u.s();case 33:if((d=u.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),u.e(e.t2);case 42:return e.prev=42,u.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Vz.apply(this,arguments)}function Bz(e){var t=FO(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nz.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ez.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=az.bind(null,t),t.dc.nu=PB.bind(null,t.eventManager),t.dc.Pc=LB.bind(null,t.eventManager),t}function zz(e){var t=FO(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sz.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lz.bind(null,t),t}function Wz(e,t,n){var r=FO(e);(function(){var e=Be(Fe().mark((function e(t,n,r){var i,a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=FO(e),r=kM(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(BB(i)),a=new VB(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return c=e.sent,e.next=31,_z(t,c.Ju,void 0);case 31:return e.next=33,function(e,t){var n=FO(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(c.progress),e.abrupt("return",Promise.resolve(c.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(LO("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Hz=function(){function e(){u(this,e),this.synchronizeTabs=!1}return p(e,[{key:"initialize",value:function(){var e=Be(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=TV(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return WF(this.persistence,new BF,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new CF(OF.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new gV}},{key:"terminate",value:function(){var e=Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),qz=function(e){v(n,e);var t=_(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return p(n,[{key:"initialize",value:function(){var e=Be(Fe().mark((function e(t){var r=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oT(g(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,zz(this.Vc.syncEngine);case 6:return e.next=8,rB(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return WF(this.persistence,new BF,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new oF(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new AA(t,this.persistence);return new OA(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=FF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?qU.withCacheSize(this.cacheSizeBytes):qU.DEFAULT;return new DF(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,NV(),jV(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new gV}}]),n}(Hz),Gz=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return p(n,[{key:"initialize",value:function(){var e=Be(Fe().mark((function e(t){var r,i=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oT(g(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof vV,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:Iz.bind(null,r),zr:Mz.bind(null,r),Wr:Fz.bind(null,r),$i:Dz.bind(null,r),Qr:jz.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=Be(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rz(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=NV();if(!vV.D(t))throw new BO(VO.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=FF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vV(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(qz),Kz=function(){function e(){u(this,e)}return p(e,[{key:"initialize",value:function(){var e=Be(Fe().mark((function e(t,n){var r=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return iz(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wz.bind(null,this.syncEngine),e.next=12,bB(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new IB}},{key:"createDatastore",value:function(e){var t,n=TV(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new kV(t));return function(e,t,n,r){return new AV(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return iz(o.syncEngine,e,0)},a=bV.D()?new bV:new yV,new LV(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new KB(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Be(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=FO(t),AO("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,UV(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Yz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Be(Fe().mark((function r(){var i;return Fe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var Zz=function(){function e(t){u(this,e),this.observer=t,this.muted=!1}return p(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):PO("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Jz=function(){function e(t,n){var r=this;u(this,e),this.Cc=t,this.serializer=n,this.metadata=new zO,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return p(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new UB(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=Be(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=Be(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=Be(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Qz=function(){function e(t){u(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return p(e,[{key:"lookup",value:function(){var e=Be(Fe().mark((function e(t){var n,r=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new BO(VO.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Be(Fe().mark((function e(t,n){var r,i,a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=FO(t),i=OM(r.serializer)+"/documents",a={documents:n.map((function(e){return TM(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=DM(r.serializer,e);s.set(t.key.toString(),t)})),c=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());UO(!!t),c.push(t)})),c));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new GD(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Be(Fe().mark((function e(){var t,n=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=cA.fromPath(t);n.mutations.push(new KD(r,n.precondition(r)))})),e.next=7,function(){var e=Be(Fe().mark((function e(t,n){var r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=FO(t),i=OM(r.serializer)+"/documents",a={writes:n.map((function(e){return MM(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw MO();t=rA.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new BO(VO.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(rA.min())?RD.exists(!1):RD.updateTime(t):RD.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rA.min()))throw new BO(VO.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return RD.updateTime(t)}return RD.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Xz=function(){function e(t,n,r,i,a){u(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new IV(this.asyncQueue,"transaction_retry")}return p(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(Be(Fe().mark((function t(){var n,r;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Qz(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!LA(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!XD(t)}return!1}}]),e}(),$z=function(){function e(t,n,r,i){var a=this;u(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=IO.UNAUTHENTICATED,this.clientId=XO.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Be(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AO("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return AO("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return p(e,[{key:"getConfiguration",value:function(){var e=Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new BO(VO.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new zO;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Be(Fe().mark((function n(){var r;return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=EB(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function eW(e,t){return tW.apply(this,arguments)}function tW(){return tW=Be(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),AO("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Be(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,HF(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),tW.apply(this,arguments)}function nW(e,t){return rW.apply(this,arguments)}function rW(){return rW=Be(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,aW(t);case 3:return r=e.sent,AO("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return gB(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return gB(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),rW.apply(this,arguments)}function iW(e){return"FirebaseError"===e.name?e.code===VO.FAILED_PRECONDITION||e.code===VO.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function aW(e){return oW.apply(this,arguments)}function oW(){return(oW=Be(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return AO("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,eW(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),iW(n=e.t0)){e.next=13;break}throw n;case 13:return LO("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,eW(t,new Hz);case 16:e.next=21;break;case 18:return AO("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,eW(t,new Hz);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function sW(e){return cW.apply(this,arguments)}function cW(){return(cW=Be(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return AO("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,nW(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return AO("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,nW(t,new Kz);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lW(e){return aW(e).then((function(e){return e.persistence}))}function uW(e){return aW(e).then((function(e){return e.localStore}))}function dW(e){return sW(e).then((function(e){return e.remoteStore}))}function fW(e){return sW(e).then((function(e){return e.syncEngine}))}function hW(e){return sW(e).then((function(e){return e.datastore}))}function pW(e){return mW.apply(this,arguments)}function mW(){return(mW=Be(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sW(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=YB.bind(null,n.syncEngine),r.onUnlisten=XB.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new zO;return e.asyncQueue.enqueueAndForget(Be(Fe().mark((function i(){return Fe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Zz({next:function(a){t.enqueueAndForget((function(){return OB(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new BO(VO.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new BO(VO.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new MB(UL(n.path),a,{includeMetadataChanges:!0,Ku:!0});return CB(e,o)},i.next=3,pW(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function gW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new zO;return e.asyncQueue.enqueueAndForget(Be(Fe().mark((function i(){return Fe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Zz({next:function(n){t.enqueueAndForget((function(){return OB(e,o)})),n.fromCache&&"server"===r.source?i.reject(new BO(VO.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new MB(n,a,{includeMetadataChanges:!0,Ku:!0});return CB(e,o)},i.next=3,pW(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function yW(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var bW=new Map;function _W(e,t,n){if(!n)throw new BO(VO.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function xW(e,t,n,r){if(!0===t&&!0===r)throw new BO(VO.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function wW(e){if(!cA.isDocumentKey(e))throw new BO(VO.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function SW(e){if(cA.isDocumentKey(e))throw new BO(VO.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function EW(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":MO()}function kW(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new BO(VO.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=EW(e);throw new BO(VO.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function NW(e,t){if(t<=0)throw new BO(VO.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var jW=function(){function e(t){var n,r;if(u(this,e),void 0===t.host){if(void 0!==t.ssl)throw new BO(VO.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new BO(VO.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xW("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yW(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new BO(VO.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new BO(VO.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new BO(VO.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return p(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),TW=function(){function e(t,n,r,i){u(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jW({}),this._settingsFrozen=!1}return p(e,[{key:"app",get:function(){if(!this._app)throw new BO(VO.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new BO(VO.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jW(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new HO;switch(e.type){case"firstParty":return new YO(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new BO(VO.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=bW.get(e);t&&(AO("ComponentProvider","Removing Datastore"),bW.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function IW(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=kW(e,TW))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&LO("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,c;if("string"==typeof i.mockUserToken)s=i.mockUserToken,c=IO.MOCK_USER;else{s=Xp(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new BO(VO.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new IO(l)}e._authCredentials=new qO(new WO(s,c))}}var CW=function(){function e(t,n,r){u(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return p(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new OW(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),RW=function(){function e(t,n,r){u(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return p(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),OW=function(e){v(n,e);var t=_(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,e,r,UL(i)))._path=i,a.type="collection",a}return p(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new CW(this.firestore,null,new cA(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(RW);function AW(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nm(e),_W("collection","path",t),e instanceof TW){var a=aA.fromString.apply(aA,[t].concat(r));return SW(a),new OW(e,null,a)}if(!(e instanceof CW||e instanceof OW))throw new BO(VO.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(aA.fromString.apply(aA,[t].concat(r)));return SW(o),new OW(e.firestore,null,o)}function PW(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nm(e),1===arguments.length&&(t=XO.A()),_W("doc","path",t),e instanceof TW){var a=aA.fromString.apply(aA,[t].concat(r));return wW(a),new CW(e,null,new cA(a))}if(!(e instanceof CW||e instanceof OW))throw new BO(VO.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(aA.fromString.apply(aA,[t].concat(r)));return wW(o),new CW(e.firestore,e instanceof OW?e.converter:null,new cA(o))}function LW(e,t){return e=Nm(e),t=Nm(t),(e instanceof CW||e instanceof OW)&&(t instanceof CW||t instanceof OW)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function DW(e,t){return e=Nm(e),t=Nm(t),e instanceof RW&&t instanceof RW&&e.firestore===t.firestore&&KL(e._query,t._query)&&e.converter===t.converter}var MW=function(){function e(){var t=this;u(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new IV(this,"async_queue_retry"),this.Xc=function(){var e=jV();e&&AO("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=jV();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return p(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=jV();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new zO;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=Be(Fe().mark((function e(){var t=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),jA(e.t0)){e.next=12;break}throw e.t0;case 12:AO("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw PO("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=SB.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&MO()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=Be(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=N(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=N(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function UW(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=N(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var FW=function(){function e(){u(this,e),this._progressObserver={},this._taskCompletionResolver=new zO,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return p(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),VW=function(e){v(n,e);var t=_(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new MW,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return p(n,[{key:"_terminate",value:function(){return this._firestoreClient||zW(this),this._firestoreClient.terminate()}}]),n}(TW);function BW(e){return e._firestoreClient||zW(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zW(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new OP(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,yW(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new $z(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function WW(e,t,n){var r=new zO;return e.asyncQueue.enqueue(Be(Fe().mark((function i(){var a;return Fe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,eW(e,n);case 3:return i.next=5,nW(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),iW(a=i.t0)){i.next=13;break}throw a;case 13:LO("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function HW(e){return function(e){return e.asyncQueue.enqueue(Be(Fe().mark((function t(){var n,r;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lW(e);case 2:return n=t.sent,t.next=5,dW(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=FO(e);return t.vu.delete(0),DV(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(BW(e=kW(e,VW)))}function qW(e){return function(e){return e.asyncQueue.enqueue(Be(Fe().mark((function t(){var n,r;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lW(e);case 2:return n=t.sent,t.next=5,dW(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Be(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=FO(t)).vu.add(0),e.next=4,UV(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(BW(e=kW(e,VW)))}function GW(e,t){var n=BW(e=kW(e,VW)),r=new FW;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Jz(e,t)}(function(e,t){if(e instanceof Uint8Array)return Yz(e,t);if(e instanceof ArrayBuffer)return Yz(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?nM().encode(e):e),t)}(n,TV(t));e.asyncQueue.enqueueAndForget(Be(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wz,t.next=3,fW(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function KW(e,t){return function(e,t){return e.asyncQueue.enqueue(Be(Fe().mark((function n(){return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=FO(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,uW(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(BW(e=kW(e,VW)),t).then((function(t){return t?new RW(e,null,t.query):null}))}function YW(e){if(e._initialized||e._terminated)throw new BO(VO.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ZW=function(){function e(t){u(this,e),this._byteString=t}return p(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(EP.fromBase64String(t))}catch(t){throw new BO(VO.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(EP.fromUint8Array(t))}}]),e}(),JW=function(){function e(){u(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new BO(VO.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sA(n)}return p(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var QW=p((function e(t){u(this,e),this._methodName=t})),XW=function(){function e(t,n){if(u(this,e),!isFinite(t)||t<-90||t>90)throw new BO(VO.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new BO(VO.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return p(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return $O(this._lat,e._lat)||$O(this._long,e._long)}}]),e}(),$W=/^__.*__$/,eH=function(){function e(t,n,r){u(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new VD(e,this.data,this.fieldMask,t,this.fieldTransforms):new FD(e,this.data,t,this.fieldTransforms)}}]),e}(),tH=function(){function e(t,n,r){u(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return new VD(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function nH(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw MO()}}var rH=function(){function e(t,n,r,i,a,o){u(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return p(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return SH(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(nH(this.ca)&&$W.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),iH=function(){function e(t,n,r){u(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||TV(t)}return p(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new rH({ca:e,methodName:t,ga:n,path:sA.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function aH(e){var t=e._freezeSettings(),n=TV(e._databaseId);return new iH(e._databaseId,!!t.ignoreUndefinedProperties,n)}function oH(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);bH("Data must be an object, but it was:",o,r);var s,c,l=gH(r,o);if(a.merge)s=new wP(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){var u,d=[],f=N(a.mergeFields);try{for(f.s();!(u=f.n()).done;){var h=_H(t,u.value,n);if(!o.contains(h))throw new BO(VO.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));EH(d,h)||d.push(h)}}catch(p){f.e(p)}finally{f.f()}s=new wP(d),c=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,c=o.fieldTransforms;return new eH(new tL(l),s,c)}var sH=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(QW);function cH(e,t,n){return new rH({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var lH=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){return new ID(e.path,new xD)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(QW),uH=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e)).pa=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=cH(this,e,!0),n=this.pa.map((function(e){return vH(e,t)})),r=new wD(n);return new ID(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(QW),dH=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e)).pa=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=cH(this,e,!0),n=this.pa.map((function(e){return vH(e,t)})),r=new ED(n);return new ID(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(QW),fH=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e)).Ia=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=new ND(e.serializer,vD(e.serializer,this.Ia));return new ID(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(QW);function hH(e,t,n,r){var i=e.ya(1,t,n);bH("Data must be an object, but it was:",i,r);var a=[],o=tL.empty();pP(r,(function(e,r){var s=wH(t,e,n);r=Nm(r);var c=i.da(s);if(r instanceof sH)a.push(s);else{var l=vH(r,c);null!=l&&(a.push(s),o.set(s,l))}}));var s=new wP(a);return new tH(o,s,i.fieldTransforms)}function pH(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[_H(t,r,n)],c=[i];if(a.length%2!=0)throw new BO(VO.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(_H(t,a[l])),c.push(a[l+1]);for(var u=[],d=tL.empty(),f=s.length-1;f>=0;--f)if(!EH(u,s[f])){var h=s[f],p=c[f];p=Nm(p);var m=o.da(h);if(p instanceof sH)u.push(h);else{var v=vH(p,m);null!=v&&(u.push(h),d.set(h,v))}}var g=new wP(u);return new tH(d,g,o.fieldTransforms)}function mH(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return vH(n,e.ya(r?4:3,t))}function vH(e,t){if(yH(e=Nm(e)))return bH("Unsupported field value:",t,e),gH(e,t);if(e instanceof QW)return function(e,t){if(!nH(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=N(e);try{for(a.s();!(n=a.n()).done;){var o=vH(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Nm(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vD(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=nA.fromDate(e);return{timestampValue:wM(t.serializer,n)}}if(e instanceof nA){var r=new nA(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wM(t.serializer,r)}}if(e instanceof XW)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ZW)return{bytesValue:SM(t.serializer,e._byteString)};if(e instanceof CW){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:NM(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(EW(e)))}(e,t)}function gH(e,t){var n={};return mP(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pP(e,(function(e,r){var i=vH(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yH(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof nA||e instanceof XW||e instanceof ZW||e instanceof CW||e instanceof QW)}function bH(e,t,n){if(!yH(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=EW(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function _H(e,t,n){if((t=Nm(t))instanceof JW)return t._internalPath;if("string"==typeof t)return wH(e,t);throw SH("Field path arguments must be of type string or ",e,!1,void 0,n)}var xH=new RegExp("[~\\*/\\[\\]]");function wH(e,t,n){if(t.search(xH)>=0)throw SH("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return x(JW,l(t.split(".")))._internalPath}catch(Tp){throw SH("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function SH(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var c="";return(a||o)&&(c+=" (found",a&&(c+=" in field ".concat(r)),o&&(c+=" in document ".concat(i)),c+=")"),new BO(VO.INVALID_ARGUMENT,s+e+c)}function EH(e,t){return e.some((function(e){return e.isEqual(t)}))}var kH=function(){function e(t,n,r,i,a){u(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return p(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new CW(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new NH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(jH("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),NH=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){return oT(g(n.prototype),"data",this).call(this)}}]),n}(kH);function jH(e,t){return"string"==typeof t?wH(e,t):t instanceof JW?t._internalPath:t._delegate._internalPath}function TH(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new BO(VO.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var IH=p((function e(){u(this,e)})),CH=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n)}(IH);function RH(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof IH&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof AH})).length,n=e.filter((function(e){return e instanceof OH})).length;if(t>1||t>0&&n>0)throw new BO(VO.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=N(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(c){s.e(c)}finally{s.f()}return e}var OH=function(e){v(n,e);var t=_(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return p(n,[{key:"_apply",value:function(e){var t=this._parse(e);return qH(e._query,t),new RW(e.firestore,e.converter,qL(e._query,t))}},{key:"_parse",value:function(e){var t=aH(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new BO(VO.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){HH(o,a);var c,l=[],u=N(o);try{for(u.s();!(c=u.n()).done;){var d=c.value;l.push(WH(r,e,d))}}catch(f){u.e(f)}finally{u.f()}s={arrayValue:{values:l}}}else s=WH(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||HH(o,a),s=mH(n,"where",o,"in"===a||"not-in"===a);return uL.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(CH);var AH=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return p(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:dL.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=N(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;qH(r,a),r=qL(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new RW(e.firestore,e.converter,qL(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(IH);var PH=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return p(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new BO(VO.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new BO(VO.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new sL(t,n);return function(e,t){if(null===VL(e)){var n=BL(e);null!==n&&GH(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new RW(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new DL(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(CH);var LH=function(e){v(n,e);var t=_(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return p(n,[{key:"_apply",value:function(e){return new RW(e.firestore,e.converter,GL(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(CH);var DH=function(e){v(n,e);var t=_(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return p(n,[{key:"_apply",value:function(e){var t=zH(e,this.type,this._docOrFields,this._inclusive);return new RW(e.firestore,e.converter,function(e,t){return new DL(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(CH);function MH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return DH._create("startAt",t,!0)}function UH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return DH._create("startAfter",t,!1)}var FH=function(e){v(n,e);var t=_(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return p(n,[{key:"_apply",value:function(e){var t=zH(e,this.type,this._docOrFields,this._inclusive);return new RW(e.firestore,e.converter,function(e,t){return new DL(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(CH);function VH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return FH._create("endBefore",t,!1)}function BH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return FH._create("endAt",t,!0)}function zH(e,t,n,r){if(n[0]=Nm(n[0]),n[0]instanceof kH)return function(e,t,n,r,i){if(!r)throw new BO(VO.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=N(WL(e));try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.field.isKeyField())o.push(WP(t,r.key));else{var l=r.data.field(c.field);if(IP(l))throw new BO(VO.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var u=c.field.canonicalString();throw new BO(VO.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(u,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(d){s.e(d)}finally{s.f()}return new iL(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=aH(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new BO(VO.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],c=0;c<i.length;c++){var l=i[c];if(o[c].field.isKeyField()){if("string"!=typeof l)throw new BO(VO.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof l));if(!zL(e)&&-1!==l.indexOf("/"))throw new BO(VO.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var u=e.path.child(aA.fromString(l));if(!cA.isDocumentKey(u))throw new BO(VO.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(u,"' is not because it contains an odd number of segments."));var d=new cA(u);s.push(WP(t,d))}else{var f=mH(n,r,l);s.push(f)}}return new iL(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function WH(e,t,n){if("string"==typeof(n=Nm(n))){if(""===n)throw new BO(VO.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zL(t)&&-1!==n.indexOf("/"))throw new BO(VO.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(aA.fromString(n));if(!cA.isDocumentKey(r))throw new BO(VO.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return WP(e,new cA(r))}if(n instanceof CW)return WP(e,n._key);throw new BO(VO.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(EW(n),"."))}function HH(e,t){if(!Array.isArray(e)||0===e.length)throw new BO(VO.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function qH(e,t){if(t.isInequality()){var n=BL(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new BO(VO.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=VL(e);null!==i&&GH(e,r,i)}var a=function(e,t){var n,r=N(e);try{for(r.s();!(n=r.n()).done;){var i,a=N(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new BO(VO.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new BO(VO.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function GH(e,t,n){if(!n.isEqual(t))throw new BO(VO.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var KH=function(){function e(){u(this,e)}return p(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(DP(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jP(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(TP(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw MO()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return pP(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new XW(jP(e.latitude),jP(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=CP(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(RP(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=NP(e);return new nA(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=aA.fromString(e);UO(JM(n));var r=new AP(n.get(1),n.get(3)),i=new cA(n.popFirst(5));return r.isEqual(t)||PO("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function YH(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ZH=function(e){v(n,e);var t=_(n);function n(e){var r;return u(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new ZW(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new CW(this.firestore,null,t)}}]),n}(KH);var JH=function(){function e(t,n){u(this,e),this.hasPendingWrites=t,this.fromCache=n}return p(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),QH=function(e){v(n,e);var t=_(n);function n(e,r,i,a,o,s){var c;return u(this,n),(c=t.call(this,e,r,i,a,s))._firestore=e,c._firestoreImpl=e,c.metadata=o,c}return p(n,[{key:"exists",value:function(){return oT(g(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new XH(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(jH("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(kH),XH=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return oT(g(n.prototype),"data",this).call(this,e)}}]),n}(QH),$H=function(){function e(t,n,r,i){u(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new JH(i.hasPendingWrites,i.fromCache),this.query=r}return p(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new XH(n._firestore,n._userDataWriter,r.key,r,new JH(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new BO(VO.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new XH(e._firestore,e._userDataWriter,t.doc.key,t.doc,new JH(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new XH(e._firestore,e._userDataWriter,t.doc.key,t.doc,new JH(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:eq(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function eq(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return MO()}}function tq(e,t){return e instanceof QH&&t instanceof QH?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof $H&&t instanceof $H&&e._firestore===t._firestore&&DW(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var nq=function(e){v(n,e);var t=_(n);function n(e){var r;return u(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new ZW(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new CW(this.firestore,null,t)}}]),n}(KH);function rq(e){e=kW(e,CW);var t=kW(e.firestore,VW),n=BW(t),r=new nq(t);return function(e,t){var n=new zO;return e.asyncQueue.enqueueAndForget(Be(Fe().mark((function r(){return Fe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Be(Fe().mark((function e(t,n,r){var i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=FO(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new BO(VO.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=EB(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,uW(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new QH(t,r,e._key,n,new JH(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function iq(e){e=kW(e,RW);var t=kW(e.firestore,VW),n=BW(t),r=new nq(t);return function(e,t){var n=new zO;return e.asyncQueue.enqueueAndForget(Be(Fe().mark((function r(){return Fe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Be(Fe().mark((function e(t,n,r){var i,a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eV(t,n,!0);case 3:i=e.sent,a=new HB(n,i.ir),o=a.sc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=EB(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(c);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,uW(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new $H(t,r,e,n)}))}function aq(e,t,n){e=kW(e,CW);var r=kW(e.firestore,VW),i=YH(e.converter,t,n);return lq(r,[oH(aH(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,RD.none())])}function oq(e,t,n){e=kW(e,CW);for(var r=kW(e.firestore,VW),i=aH(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return lq(r,[("string"==typeof(t=Nm(t))||t instanceof JW?pH(i,"updateDoc",e._key,t,n,o):hH(i,"updateDoc",e._key,t)).toMutation(e._key,RD.exists(!0))])}function sq(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Nm(e);var s={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||UW(n[c])||(s=n[c],c++);var l,u,d,f={includeMetadataChanges:s.includeMetadataChanges};if(UW(n[c])){var h=n[c];n[c]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[c+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[c+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof CW)u=kW(e.firestore,VW),d=UL(e._key.path),l={next:function(t){n[c]&&n[c](uq(u,e,t))},error:n[c+1],complete:n[c+2]};else{var p=kW(e,RW);u=kW(p.firestore,VW),d=p._query;var m=new nq(u);l={next:function(e){n[c]&&n[c](new $H(u,m,p,e))},error:n[c+1],complete:n[c+2]},TH(e._query)}return function(e,t,n,r){var i=new Zz(r),a=new MB(t,i,n);return e.asyncQueue.enqueueAndForget(Be(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=CB,t.next=3,pW(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(Be(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=OB,t.next=3,pW(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(BW(u),d,f,l)}function cq(e,t){return function(e,t){var n=new Zz(t);return e.asyncQueue.enqueueAndForget(Be(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){FO(e).ku.add(t),t.next()},t.next=3,pW(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(Be(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){FO(e).ku.delete(t)},t.next=3,pW(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(BW(e=kW(e,VW)),UW(t)?t:{next:t})}function lq(e,t){return function(e,t){var n=new zO;return e.asyncQueue.enqueueAndForget(Be(Fe().mark((function r(){return Fe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ez,r.next=3,fW(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(BW(e),t)}function uq(e,t,n){var r=n.docs.get(t._key),i=new nq(e);return new QH(e,i,t._key,r,new JH(n.hasPendingWrites,n.fromCache),t.converter)}var dq={maxAttempts:5},fq=function(){function e(t,n){u(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=aH(t)}return p(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=hq(e,this._firestore),i=YH(r.converter,t,n),a=oH(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,RD.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=hq(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Nm(t))||t instanceof JW?pH(this._dataReader,"WriteBatch.update",i._key,t,n,o):hH(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,RD.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=hq(e,this._firestore);return this._mutations=this._mutations.concat(new GD(t._key,RD.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new BO(VO.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function hq(e,t){if((e=Nm(e)).firestore!==t)throw new BO(VO.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var pq=function(e){v(n,e);var t=_(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r))._firestore=e,i}return p(n,[{key:"get",value:function(e){var t=this,r=hq(e,this._firestore),i=new nq(this._firestore);return oT(g(n.prototype),"get",this).call(this,e).then((function(e){return new QH(t._firestore,i,r._key,e._document,new JH(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){u(this,e),this._firestore=t,this._transaction=n,this._dataReader=aH(t)}return p(e,[{key:"get",value:function(e){var t=this,n=hq(e,this._firestore),r=new ZH(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return MO();var i=e[0];if(i.isFoundDocument())return new kH(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new kH(t._firestore,r,n._key,null,n.converter);throw MO()}))}},{key:"set",value:function(e,t,n){var r=hq(e,this._firestore),i=YH(r.converter,t,n),a=oH(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=hq(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Nm(t))||t instanceof JW?pH(this._dataReader,"Transaction.update",i._key,t,n,o):hH(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=hq(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function mq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uH("arrayUnion",t)}function vq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dH("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){CO=e}(wv),mv(new jm("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new VW(new GO(e.getProvider("auth-internal")),new JO(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new BO(VO.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new AP(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Tv(TO,"3.13.0",e),Tv(TO,"3.13.0","esm2017")}();function gq(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new BO("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function yq(){if("undefined"===typeof Uint8Array)throw new BO("unimplemented","Uint8Arrays are not available in this environment.")}function bq(){if("undefined"==typeof atob)throw new BO("unimplemented","Blobs are unavailable in Firestore in this environment.")}var _q=function(){function e(t){u(this,e),this._delegate=t}return p(e,[{key:"toBase64",value:function(){return bq(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return yq(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return bq(),new e(ZW.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return yq(),new e(ZW.fromUint8Array(t))}}]),e}();function xq(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=N(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var wq=function(){function e(){u(this,e)}return p(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){YW(e=kW(e,VW));var n=BW(e);if(n._uninitializedComponentsProvider)throw new BO(VO.FAILED_PRECONDITION,"SDK cache is already specified.");LO("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new Kz;return WW(n,i,new qz(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){YW(e=kW(e,VW));var t=BW(e);if(t._uninitializedComponentsProvider)throw new BO(VO.FAILED_PRECONDITION,"SDK cache is already specified.");LO("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new Kz;return WW(t,r,new Gz(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new BO(VO.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new zO;return e._queue.enqueueAndForgetEvenWhileRestricted(Be(Fe().mark((function n(){return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Be(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(EA.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,EA.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(FF(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Sq=function(){function t(e,n,r){var i=this;u(this,t),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof AP||(this._appCompat=e)}return p(t,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||LO("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};IW(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return HW(this._delegate)}},{key:"disableNetwork",value:function(){return qW(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&xW("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new zO;return e.asyncQueue.enqueueAndForget(Be(Fe().mark((function n(){return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=dz,n.next=3,fW(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(BW(kW(this._delegate,VW)))}},{key:"onSnapshotsInSync",value:function(e){return cq(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new BO("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(t){try{return new Mq(this,AW(this._delegate,t))}catch(e){throw Iq(e,"collection()","Firestore.collection()")}}},{key:"doc",value:function(t){try{return new Tq(this,PW(this._delegate,t))}catch(e){throw Iq(e,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(t){try{return new Pq(this,function(e,t){if(e=kW(e,TW),_W("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new BO(VO.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new RW(e,null,function(e){return new DL(aA.emptyPath(),e)}(t))}(this._delegate,t))}catch(e){throw Iq(e,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=kW(e,VW);var r=Object.assign(Object.assign({},dq),n);return function(e){if(e.maxAttempts<1)throw new BO(VO.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new zO;return e.asyncQueue.enqueueAndForget(Be(Fe().mark((function i(){var a;return Fe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,hW(e);case 2:a=i.sent,new Xz(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(BW(e),(function(n){return t(new pq(e,n))}),r)}(this._delegate,(function(n){return e(new kq(t,n))}))}},{key:"batch",value:function(){var e=this;return BW(this._delegate),new Nq(new fq(this._delegate,(function(t){return lq(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return GW(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return KW(this._delegate,e).then((function(e){return e?new Pq(t,e):null}))}}]),t}(),Eq=function(e){v(n,e);var t=_(n);function n(e){var r;return u(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new _q(new ZW(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Tq.forKey(t,this.firestore,null)}}]),n}(KH);var kq=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Eq(t)}return p(e,[{key:"get",value:function(e){var t=this,n=Uq(e);return this._delegate.get(n).then((function(e){return new Oq(t._firestore,new QH(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Uq(e);return n?(gq("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Uq(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Uq(e);return this._delegate.delete(t),this}}]),e}(),Nq=function(){function e(t){u(this,e),this._delegate=t}return p(e,[{key:"set",value:function(e,t,n){var r=Uq(e);return n?(gq("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Uq(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Uq(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),jq=function(){function e(t,n,r){u(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return p(e,[{key:"fromFirestore",value:function(e,t){var n=new XH(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Aq(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Eq(t),n),i.set(n,a)),a}}]),e}();jq.INSTANCES=new WeakMap;var Tq=function(){function t(e,n){u(this,t),this.firestore=e,this._delegate=n,this._userDataWriter=new Eq(e)}return p(t,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Mq(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(t){try{return new Mq(this.firestore,AW(this._delegate,t))}catch(e){throw Iq(e,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Nm(e))instanceof CW&&LW(this._delegate,e)}},{key:"set",value:function(t,n){n=gq("DocumentReference.set",n);try{return n?aq(this._delegate,t,n):aq(this._delegate,t)}catch(e){throw Iq(e,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];try{return 1===arguments.length?oq(this._delegate,t):oq.apply(void 0,[this._delegate,t,n].concat(i))}catch(e){throw Iq(e,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return lq(kW((e=this._delegate).firestore,VW),[new GD(e._key,RD.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Cq(n),a=Rq(n,(function(t){return new Oq(e.firestore,new QH(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return sq(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?rq(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=kW(e,CW);var t=kW(e.firestore,VW);return vW(BW(t),e._key,{source:"server"}).then((function(n){return uq(t,e,n)}))}(this._delegate):function(e){e=kW(e,CW);var t=kW(e.firestore,VW);return vW(BW(t),e._key).then((function(n){return uq(t,e,n)}))}(this._delegate)).then((function(e){return new Oq(t.firestore,new QH(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(e){return new t(this.firestore,e?this._delegate.withConverter(jq.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(e,n,r){if(e.length%2!==0)throw new BO("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new t(n,new CW(n._delegate,r,new cA(e)))}},{key:"forKey",value:function(e,n,r){return new t(n,new CW(n._delegate,r,e))}}]),t}();function Iq(e,t,n){return e.message=e.message.replace(t,n),e}function Cq(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!xq(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Rq(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=xq(e[0])?e[0]:xq(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Oq=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"ref",get:function(){return new Tq(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return tq(this._delegate,e._delegate)}}]),e}(),Aq=function(e){v(n,e);var t=_(n);function n(){return u(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||MO(),t}}]),n}(Oq),Pq=function(){function t(e,n){u(this,t),this.firestore=e,this._delegate=n,this._userDataWriter=new Eq(e)}return p(t,[{key:"where",value:function(n,r,i){try{return new t(this.firestore,RH(this._delegate,function(e,t,n){var r=t,i=jH("where",e);return OH._create(i,r,n)}(n,r,i)))}catch(e){throw Iq(e,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(n,r){try{return new t(this.firestore,RH(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=jH("orderBy",e);return PH._create(n,t)}(n,r)))}catch(e){throw Iq(e,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(n){try{return new t(this.firestore,RH(this._delegate,(NW("limit",r=n),LH._create("limit",r,"F"))))}catch(e){throw Iq(e,"limit()","Query.limit()")}var r}},{key:"limitToLast",value:function(n){try{return new t(this.firestore,RH(this._delegate,(NW("limitToLast",r=n),LH._create("limitToLast",r,"L"))))}catch(e){throw Iq(e,"limitToLast()","Query.limitToLast()")}var r}},{key:"startAt",value:function(){try{return new t(this.firestore,RH(this._delegate,MH.apply(void 0,arguments)))}catch(e){throw Iq(e,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new t(this.firestore,RH(this._delegate,UH.apply(void 0,arguments)))}catch(e){throw Iq(e,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new t(this.firestore,RH(this._delegate,VH.apply(void 0,arguments)))}catch(e){throw Iq(e,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new t(this.firestore,RH(this._delegate,BH.apply(void 0,arguments)))}catch(e){throw Iq(e,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return DW(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?iq(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=kW(e,RW);var t=kW(e.firestore,VW),n=BW(t),r=new nq(t);return gW(n,e._query,{source:"server"}).then((function(n){return new $H(t,r,e,n)}))}(this._delegate):function(e){e=kW(e,RW);var t=kW(e.firestore,VW),n=BW(t),r=new nq(t);return TH(e._query),gW(n,e._query).then((function(n){return new $H(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Dq(n.firestore,new $H(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Cq(n),a=Rq(n,(function(t){return new Dq(e.firestore,new $H(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return sq(this._delegate,i,a)}},{key:"withConverter",value:function(e){return new t(this.firestore,e?this._delegate.withConverter(jq.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),t}(),Lq=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Aq(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Dq=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"query",get:function(){return new Pq(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Aq(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Lq(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Aq(n._firestore,r))}))}},{key:"isEqual",value:function(e){return tq(this._delegate,e._delegate)}}]),e}(),Mq=function(t){v(r,t);var n=_(r);function r(e,t){var i;return u(this,r),(i=n.call(this,e,t)).firestore=e,i._delegate=t,i}return p(r,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Tq(this.firestore,e):null}},{key:"doc",value:function(t){try{return new Tq(this.firestore,void 0===t?PW(this._delegate):PW(this._delegate,t))}catch(e){throw Iq(e,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=kW(e.firestore,VW),r=PW(e),i=YH(e.converter,t);return lq(n,[oH(aH(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,RD.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Tq(t.firestore,e)}))}},{key:"isEqual",value:function(e){return LW(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new r(this.firestore,e?this._delegate.withConverter(jq.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),r}(Pq);function Uq(e){return kW(e,CW)}var Fq=function(){function e(){u(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=x(JW,n)}return p(e,[{key:"isEqual",value:function(e){return(e=Nm(e))instanceof JW&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(sA.keyField().canonicalString())}}]),e}(),Vq=function(){function e(t){u(this,e),this._delegate=t}return p(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new lH("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new sH("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=mq.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=vq.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new fH("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Bq={Firestore:Sq,GeoPoint:XW,Timestamp:nA,Blob:_q,Transaction:kq,WriteBatch:Nq,DocumentReference:Tq,DocumentSnapshot:Oq,Query:Pq,QueryDocumentSnapshot:Aq,QuerySnapshot:Dq,CollectionReference:Mq,FieldPath:Fq,FieldValue:Vq,setLogLevel:function(e){var t;t=e,RO.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new jm("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Bq)))}(e,(function(e,t){return new Sq(e,t,new wq)})),e.registerVersion("@firebase/firestore-compat","0.3.12")}(k_);var zq=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1];(0,r.useEffect)((function(){i()}),[]);var i=function(){var e=Be(Fe().mark((function e(){var t,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=JSON.stringify({user_id:t}),e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/notification_list"),i,r);case 6:a=e.sent,n(a.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),a=k((0,r.useState)(!0),2),o=a[0],s=a[1];return setTimeout((function(){s(!1)}),2e3),(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"mobilewidth",children:1==o?(0,Er.jsx)("div",{className:"row justify-content-left",children:(0,Er.jsx)("div",{class:"spinner-border text-primary"})}):(0,Er.jsxs)("div",{className:"video-block section-padding",children:[(0,Er.jsx)("h5",{children:"Notification"}),(0,Er.jsx)("div",{className:"row",children:t&&t.length>0?t.map((function(e){var t,n,r;return(0,Er.jsxs)("div",{className:"col-lg-3  col-sm-12 col-md-3 mb-3",style:{paddingLeft:"12px",paddingRight:"25px"},children:[(0,Er.jsx)("div",{className:"main-title"}),(0,Er.jsxs)("div",{class:"video-card-image",style:{width:"100%",height:"200px",borderRadius:"10px"},children:[(0,Er.jsx)("span",{children:e.channel_data[0]&&(null===(t=e.channel_data[0])||void 0===t?void 0:t.image[0])&&(null===(n=e.channel_data[0].image[0])||void 0===n?void 0:n.filename)&&(0,Er.jsx)("img",{style:{height:"160px",width:"100%",borderRadius:"10px"},className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/").concat(e.channel_data[0].image[0].filename),alt:""})})," ",(0,Er.jsx)("p",{style:{color:"#888",fontSize:"13px",fontWeight:"500"},children:e.channel_data&&(null===(r=e.channel_data[0])||void 0===r?void 0:r.channel_name.slice(0,20))})]}),(0,Er.jsx)("br",{})]},e._id)})):(0,Er.jsx)("div",{className:"col-md-12 row justify-content-center",children:(0,Er.jsx)("div",{children:"No Data found."})})})]})})})})]})},Wq=function(){return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{className:"col-sm-7",children:(0,Er.jsxs)("div",{className:"card",children:[(0,Er.jsx)("div",{className:"card-header",children:(0,Er.jsx)("div",{className:"text-center",children:(0,Er.jsx)("img",{width:"100%",style:{},className:"img-fluid",src:"https://www.idfcfirstbank.com/content/dam/idfcfirstbank/images/blog/earn-money-by-referring-personal-loan-717x404.jpg",alt:""})})}),(0,Er.jsx)("div",{className:"card-boy",children:(0,Er.jsxs)("ol",{className:"ml-5",children:[(0,Er.jsx)("li",{style:{color:"blue",paddingTop:"10px"},children:"Share your referral code"}),(0,Er.jsx)("li",{style:{color:"blue",paddingTop:"10px"},children:"Friends get $10 on their frist gesture"}),(0,Er.jsx)("li",{style:{color:"blue",paddingTop:"10px"},children:"You get $10 off coupan"})]})}),(0,Er.jsxs)("div",{className:"card-footer",children:[(0,Er.jsx)("div",{className:"text-center",children:(0,Er.jsx)("span",{style:{backgroundColor:"blue",padding:"8px",borderRadius:"10px"},children:" GSVAS35"})}),(0,Er.jsx)("div",{className:"text-center mt-3",children:(0,Er.jsxs)("button",{className:"btn btn-info pl-3 pr-3",children:[(0,Er.jsx)(Fr,{})," Invite friends now"]})})]})]})})})})})})})})})})]})},Hq=function(){var e=k((0,r.useState)(""),2),t=e[0],n=e[1],i=k((0,r.useState)(""),2),a=i[0],o=i[1],s=k((0,r.useState)(""),2),c=s[0],l=s[1],u=Sr.Z.getItem("password");return(0,Er.jsxs)("div",{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{className:"",children:[(0,Er.jsx)("div",{className:"main-title"}),(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsxs)("div",{className:"col-sm-8 col-lg-5 bg-light shadow p-4",children:[(0,Er.jsx)("div",{children:(0,Er.jsx)("img",{width:"100%",src:"https://i.pinimg.com/736x/76/38/69/763869a33c8ac9e99a59500992c11127.jpg",alt:""})}),(0,Er.jsx)("div",{className:"text-center",children:(0,Er.jsx)("h6",{className:"p-3 shadow",style:{borderRadius:"10px"},children:"Change password"})}),(0,Er.jsx)("font",{style:{color:"blue"},children:c&&(0,Er.jsx)("div",{children:c})}),(0,Er.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r=Sr.Z.getItem("_id");t===u?gr.patch("".concat(wr[0].apiUrl,"api/change_password"),{_id:r,password:t,new_password:a}).then((function(e){"true"===e.data.result?l("Password changed successfully."):l(e.data.message),n(""),o("")})).catch((function(e){})):l("Invalid password. Please enter your current password correctly.")},children:[(0,Er.jsx)("div",{className:"form-group",children:(0,Er.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter your old password",value:t,onChange:function(e){return n(e.target.value)}})}),(0,Er.jsx)("div",{className:"form-group",children:(0,Er.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter your new password",value:a,onChange:function(e){return o(e.target.value)}})}),(0,Er.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})]})})})})})})]})},qq=function(){var e=k((0,r.useState)(null),2),t=e[0],n=e[1],i=k((0,r.useState)([]),2),a=i[0],o=i[1],s=Sr.Z.getItem("_id"),c=function(){var e=Be(Fe().mark((function e(n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),(r=new FormData).append("profile_image",t),r.append("_id",s),e.prev=4,e.next=7,gr.post("".concat(wr[0].apiUrl,"api/upload_user_image"),r,{headers:{"Content-Type":"multipart/form-data"}});case 7:e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){l()}),[]);var l=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/view_profile"),r,n);case 6:i=e.sent,o([i.data.data]),l(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),u=Sr.Z.getItem("imageurl");return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h6",{children:"Setting"})})}),(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#fafafa"},children:(0,Er.jsx)("a",{"data-toggle":"modal","data-target":"#myModal",href:!0,children:a&&a.length>0?(0,Er.jsx)(Er.Fragment,{children:a.map((function(e){return(0,Er.jsx)(r.Fragment,{children:e.profile_image&&e.profile_image.filename?(0,Er.jsx)("img",{className:"img-fluid",alt:"Avatar",src:"".concat(wr[0].apiUrl,"uploads/")+e.profile_image.filename}):(0,Er.jsx)("img",{className:"img-fluid",alt:"Avatar",src:"img/logo.png"})},null===e||void 0===e?void 0:e._id)}))}):(0,Er.jsx)("img",{alt:"Avatar",src:u})})})})]})})})})}),(0,Er.jsx)("div",{className:"modal",id:"myModal",children:(0,Er.jsx)("div",{className:"modal-dialog",children:(0,Er.jsxs)("div",{className:"modal-content",children:[(0,Er.jsxs)("div",{className:"modal-header",children:[(0,Er.jsx)("h4",{className:"modal-title",children:"Your Profile"}),(0,Er.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})]}),a.map((function(e){return(0,Er.jsx)("div",{className:"modal-body",children:(0,Er.jsxs)("div",{className:"single-channel-image",children:[e.profile_image&&e.profile_image.filename?(0,Er.jsx)("img",{style:{height:"100px"},className:"img-fluid",alt:"Avatar",src:"".concat(wr[0].apiUrl,"uploads/")+e.profile_image.filename}):(0,Er.jsx)("img",{style:{height:"100px"},className:"img-fluid",alt:"Avatar",src:"img/logo.png"}),(0,Er.jsxs)("div",{className:"channel-profile",children:[a.map((function(e){return(0,Er.jsx)(Er.Fragment,{children:e.profile_image&&e.profile_image.filename?(0,Er.jsx)("img",{className:"channel-profile-img",alt:"Avatar",src:"".concat(wr[0].apiUrl,"uploads/")+e.profile_image.filename}):(0,Er.jsx)("img",{className:"channel-profile-img",alt:"Avatar",src:"img/logo.png"})})})),(0,Er.jsxs)("div",{className:"social hidden-xs",children:[(0,Er.jsx)("a",{href:"settings.html",children:(0,Er.jsx)("i",{style:{fontSize:35,color:"white"},className:"fa fa-gear"})}),(0,Er.jsx)("a",{href:!0,children:(0,Er.jsx)("i",{style:{fontSize:35,color:"white"},className:"fa fa-edit"})})]})]})]})})})),(0,Er.jsxs)("div",{children:["             \xa0\xa0\xa0\xa0\xa0",(0,Er.jsxs)("label",{htmlFor:"profile-picture-input",children:[(0,Er.jsx)("span",{className:"btn btn-info",children:"Profile picture"}),(0,Er.jsx)("input",{id:"profile-picture-input",type:"file",onChange:function(e){n(e.target.files[0])},style:{display:"none"}})]}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("form",{onSubmit:c,children:["\xa0\xa0\xa0\xa0 ",(0,Er.jsx)("button",{onClick:l,className:"btn btn-info",type:"submit",children:"Updated"}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{})]})]})]})})})]})},Gq=function(){var e=k((0,r.useState)(""),2),t=e[0],n=e[1],i=_e(),a=Sr.Z.getItem("_id"),o=(Sr.Z.getItem("channel_name"),Sr.Z.getItem("channel_id")),s=k((0,r.useState)({user_id:a,channel_id:o,video_name:""}),2),c=s[0],l=s[1],u=k((0,r.useState)({user_video:""}),2),d=u[0],f=u[1],h=k((0,r.useState)({video_thumbnail:""}),2),p=h[0],m=h[1],v=k((0,r.useState)(""),2),g=v[0],y=v[1];return(0,Er.jsxs)("div",{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsxs)("form",{method:"post",onSubmit:function(e){if(e.preventDefault(),c.video_name.trim())if(c.channel_id)if(p.video_thumbnail)if(d.user_video){var t=new FormData;t.append("user_id",c.user_id),t.append("channel_id",c.channel_id),t.append("music_title",c.video_name),t.append("music_file",d.user_video),t.append("music_thumbnail",p.video_thumbnail),t.append("time_zone",Intl.DateTimeFormat().resolvedOptions().timeZone),gr.post("".concat(wr[0].apiUrl,"api/upload_music"),t).then((function(e){n("Music Uploaded successfully!"),i("/music")}))}else y("Please select a Audio file.");else y("Please select a thumbnail image.");else y("Please create channel First go to setting .");else y("Please enter a Music Title name.")},children:[(0,Er.jsx)("hr",{}),(0,Er.jsx)("font",{style:{color:"blue"},children:g&&(0,Er.jsx)("p",{children:g})}),(0,Er.jsx)("font",{style:{color:"blue"},children:t&&(0,Er.jsx)("p",{children:t})}),(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{className:"col-lg-12",children:[(0,Er.jsxs)("div",{className:"osahan-form",children:[(0,Er.jsx)("div",{className:"row",children:(0,Er.jsx)("div",{className:"col-lg-6",children:(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"e3",children:"Music"}),(0,Er.jsx)("input",{required:!0,type:"text",placeholder:"Name",name:"video_name",onChange:function(e){l(Tr(Tr({},c),{},Nr({},e.target.name,e.target.value)))},className:"form-control"})]})})}),(0,Er.jsx)("div",{className:"row ",children:(0,Er.jsx)("div",{className:"col-lg-12",children:(0,Er.jsx)("div",{className:"main-title"})})}),(0,Er.jsxs)("div",{className:"row category-checkbox",children:[(0,Er.jsx)("div",{className:"col-lg-6 col-xs-6 col-sm-12",children:(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"e1",children:"Select Music File"}),(0,Er.jsx)("input",{type:"file",placeholder:"Choose File Here...",name:"user_video",onChange:function(e){f(Tr(Tr({},d),{},Nr({},e.target.name,e.target.files[0])))},className:"form-control"})]})}),(0,Er.jsx)("div",{className:"col-lg-6",children:(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"e1",children:"Thumbnail"}),(0,Er.jsx)("input",{type:"file",placeholder:"Choose File Here...",name:"video_thumbnail",onChange:function(e){m(Tr(Tr({},p),{},Nr({},e.target.name,e.target.files[0])))},className:"form-control"})]})})]})]}),(0,Er.jsx)("div",{className:"osahan-area text-center mt-3",children:(0,Er.jsx)("button",{className:"btn btn-primary",type:"submit",style:{background:"#000080",borderRadius:4},children:"Upload"})})]})})]})})})})]})},Kq=function(){var e=k((0,r.useState)([]),2),t=(e[0],e[1]),n=k((0,r.useState)([]),2),i=n[0],a=n[1],o=k((0,r.useState)([]),2),s=(o[0],o[1]),c=k((0,r.useState)([]),2),l=c[0],u=c[1],d=k((0,r.useState)([]),2),f=(d[0],d[1],k((0,r.useState)(""),2)),h=f[0],p=f[1],m=function(e){var t=new Date(e),n=new Date,r=Math.abs(n-t),i=Math.floor(r/31536e6);if(i>0)return 1===i?"1 year ago":"".concat(i," years ago");var a=Math.floor(r/2592e6);if(a>0)return 1===a?"1 month ago":"".concat(a," months ago");var o=Math.floor(r/864e5);if(o>0)return 1===o?"1 day ago":"".concat(o," days ago");var s=Math.floor(r/36e5);if(s>0)return 1===s?"1 hour ago":"".concat(s," hours ago");var c=Math.floor(r/6e4);return c>0?1===c?"1 minute ago":"".concat(c," minutes ago"):"Just now"};(0,r.useEffect)((function(){v()}),[]);var v=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_music_playlist"),r,n);case 6:(i=e.sent).data.data&&i.data.data.length>0&&a(i.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){g()}),[]);var g=function(){var e=Be(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},e.prev=1,e.next=4,gr.get("".concat(wr[0].apiUrl,"api/get_music"),t);case 4:n=e.sent,u(n.data.data),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){y()}),[]);var y=function(){var e=Be(Fe().mark((function e(){var n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sr.Z.getItem("_id"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i={user_id:n},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_channel"),i,r);case 6:(a=e.sent).data.data&&a.data.data.length>0&&t(a.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){b()}),[]);var b=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_subscribe_channel"),r,n);case 6:(i=e.sent).data.data&&i.data.data.length>0&&s(i.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsxs)(mi,{className:"mt-2",children:[(0,Er.jsxs)(bi,{className:"single-channel-nav p-3 text-center",children:[(0,Er.jsx)(Ei,{selectedClassName:"my-selected-tab",style:{marginLeft:"15px",fontWeight:"600",fontSize:"14px"},children:"MUSIC"}),(0,Er.jsx)(Ei,{selectedClassName:"my-selected-tab",style:{marginLeft:"15px",fontWeight:"600",fontSize:"14px"},children:"PLAYLIST"})]}),(0,Er.jsx)(Ii,{children:(0,Er.jsx)("div",{className:"container-fluid",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"tab-content",id:"ex1-content",children:[(0,Er.jsx)("div",{className:"tab-pane fade show active",id:"ex1-tabs-1",role:"tabpanel","aria-labelledby":"ex1-tab-1",children:(0,Er.jsx)("div",{className:"row",children:l.map((function(e){var t,n,r,i,a;return(0,Er.jsx)("div",{className:"col-lg-3  col-sm-12 col-md-3 mb-3",style:{paddingLeft:10,paddingRight:0},children:(0,Er.jsx)("div",{className:"",style:{background:"none",paddingRight:"22px"},children:(0,Er.jsxs)("div",{className:"mt-2 video-card-image",style:{height:"210px",width:"100%",borderTopLeftRadius:"10px",borderTopRightRadius:"10px",borderRadius:"10px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id),Sr.Z.setItem("channelidaudio",null===e||void 0===e?void 0:e.channel_id)},to:"/audio",children:e.music[1]&&e.music[1]&&e.music[1].filename?(0,Er.jsx)("img",{style:{height:"140px",borderRadius:"10px"},className:"img-fluid",alt:"Channel Image",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e?void 0:e.music[1].filename)}):(0,Er.jsx)("img",{style:{height:"140px",borderRadius:"10px"},className:"img-fluid",src:"img/logo.png",alt:"sadasd"})}),(0,Er.jsx)("div",{className:" video-card-body",style:{backgroundColor:"none"},children:(0,Er.jsxs)("div",{className:"video-title",children:[(0,Er.jsx)(jt,{style:{color:"black",fontSize:"12px",fontWeight:"500"},onClick:function(){Sr.Z.setItem("getsingleaudio",e._id),Sr.Z.setItem("channelidaudio",null===e||void 0===e?void 0:e.channel_id)},to:"/audio",children:(null===e||void 0===e?void 0:e.music)&&(null===e||void 0===e||null===(t=e.music[0])||void 0===t||null===(n=t.originalname)||void 0===n?void 0:n.slice(0,24))}),(0,Er.jsx)("br",{}),(0,Er.jsx)(jt,{style:{color:"#4eda92"},onClick:function(){Sr.Z.setItem("getsingleaudio",e._id),Sr.Z.setItem("channelidaudio",null===e||void 0===e?void 0:e.channel_id)},to:"/audio",children:(0,Er.jsx)("font",{style:{color:"#888",fontSize:"12px"},children:null===e||void 0===e||null===(r=e.data[0])||void 0===r?void 0:r.channel_name.slice(0,24)})}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("p",{style:{fontSize:"12px",fontWeight:"600"},children:[e.audio_views&&(null===e||void 0===e?void 0:e.audio_views),"  views ",(0,Er.jsx)("i",{class:"fas fa-calendar-alt pr-1"})," ",m(null===e||void 0===e?void 0:e.current_date)]}),(0,Er.jsx)(jt,{style:{color:"#888"},onClick:function(){Sr.Z.setItem("getsingleaudio",e._id),Sr.Z.setItem("channelidaudio",null===e||void 0===e?void 0:e.channel_id)},to:"/audio",children:(null===e||void 0===e?void 0:e.music)&&(null===e||void 0===e||null===(i=e.music)||void 0===i||null===(a=i.channel_name)||void 0===a?void 0:a.slice(0,24))}),(0,Er.jsx)("br",{})]})})]})})},e._id)}))})}),(0,Er.jsx)("div",{className:"tab-pane fade",id:"ex1-tabs-3",role:"tabpanel","aria-labelledby":"ex1-tab-3",children:(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",style:{paddingLeft:10,paddingRight:0},children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:10},children:[(0,Er.jsx)("a",{className:"play-icon",href:"video-page.html",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:!0})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsxs)("div",{className:"time",style:{bottom:0,right:0},children:[(0,Er.jsx)("h3",{style:{position:"relative",top:35,left:25},children:"10"}),(0,Er.jsx)("svg",{viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",focusable:"false",className:"style-scope yt-icon",style:{pointerEvents:"none",display:"block",width:100,height:120},children:(0,Er.jsxs)("g",{className:"style-scope yt-icon",children:["sddfdf",(0,Er.jsx)("path",{d:"M22,7H2v1h20V7z M13,12H2v-1h11V12z M13,16H2v-1h11V16z M15,19v-8l7,4L15,19z",className:"style-scope yt-icon"})]})})]})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)("a",{href:"video-page.html",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:0,paddingRight:0},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)("a",{href:"viewprofile.html",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:!0})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("a",{href:"viewprofile.html",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})})})]})})})}),(0,Er.jsx)(Ii,{children:(0,Er.jsx)("div",{className:"container-fluid",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"tab-content",id:"ex1-content",children:[(0,Er.jsxs)("div",{className:"tab-pane fade show active",id:"ex1-tabs-1",role:"tabpanel","aria-labelledby":"ex1-tab-1",children:[(0,Er.jsx)("font",{style:{color:"blue"},children:h&&(0,Er.jsx)("p",{children:h})}),(0,Er.jsx)("div",{className:"row",children:i.map((function(e){return(0,Er.jsx)("div",{className:"col-lg-3  col-sm-12 col-md-3 mb-3",style:{paddingLeft:10,paddingRight:0},children:(0,Er.jsxs)("div",{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id),Sr.Z.setItem("channelidaudio",null===e||void 0===e?void 0:e.channel_id)},to:"/musiclist",className:"",style:{background:"none",paddingRight:"22px"},children:[(0,Er.jsx)("button",{style:{borderRadius:"15px",float:"right"},className:"fas fa-times-circle btn ",onClick:function(){return function(e){Sr.Z.getItem("_id");var t=JSON.stringify({_id:e});gr.post("".concat(wr[0].apiUrl,"api/delete_my_playlist_audio"),t,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){p("Delete successfully!"),v()})).catch((function(e){}))}(e._id)}}),(0,Er.jsxs)("div",{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id),Sr.Z.setItem("channelidaudio",null===e||void 0===e?void 0:e.channel_id)},to:"/musiclist",className:"mt-2 video-card-image",style:{height:"180px",width:"100%",borderTopLeftRadius:"10px",borderTopRightRadius:"10px",borderRadius:"10px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id),Sr.Z.setItem("channelidaudio",null===e||void 0===e?void 0:e.channel_id)},to:"/musiclist",children:(0,Er.jsx)("img",{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id)},to:"/musiclist",style:{height:"140px",borderRadius:"10px"},className:"img-fluid",src:"img/logo.png",alt:"sadasd"})}),(0,Er.jsx)("font",{onClick:function(){Sr.Z.setItem("getsingleaudio",e._id),Sr.Z.setItem("channelidaudio",null===e||void 0===e?void 0:e.channel_id)},to:"/musiclist",style:{color:"black"},children:(0,Er.jsx)("b",{children:(null===e||void 0===e?void 0:e.name)&&(null===e||void 0===e?void 0:e.name.slice(0,35))})})]})]})},e._id)}))})]}),(0,Er.jsx)("div",{className:"tab-pane fade",id:"ex1-tabs-3",role:"tabpanel","aria-labelledby":"ex1-tab-3",children:(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",style:{paddingLeft:10,paddingRight:0},children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:15},children:[(0,Er.jsx)("a",{className:"play-icon",href:"video-page.html",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:!0})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsxs)("div",{className:"time",style:{bottom:0,right:0},children:[(0,Er.jsx)("h3",{style:{position:"relative",top:35,left:25},children:"10"}),(0,Er.jsx)("svg",{viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",focusable:"false",className:"style-scope yt-icon",style:{pointerEvents:"none",display:"block",width:100,height:120},children:(0,Er.jsxs)("g",{className:"style-scope yt-icon",children:["sddfdf",(0,Er.jsx)("path",{d:"M22,7H2v1h20V7z M13,12H2v-1h11V12z M13,16H2v-1h11V16z M15,19v-8l7,4L15,19z",className:"style-scope yt-icon"})]})})]})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)("a",{href:"video-page.html",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:0,paddingRight:0},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)("a",{href:"viewprofile.html",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:!0})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("a",{href:"viewprofile.html",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})})})]})})})}),(0,Er.jsx)(Ii,{}),(0,Er.jsx)(Ii,{})]})})})]})},Yq=__webpack_require__(4142),Zq=__webpack_require__.n(Yq),Jq=function(){var e=k((0,r.useState)(""),2),t=e[0],n=e[1],i=k((0,r.useState)([]),2),a=i[0],o=i[1],s=k((0,r.useState)([]),2),c=(s[0],s[1]),l=k((0,r.useState)(""),2),u=(l[0],l[1],Sr.Z.getItem("_id")),d=k((0,r.useState)(""),2),f=d[0],h=d[1],p=k((0,r.useState)(""),2),m=p[0],v=p[1],g=function(){var e=Be(Fe().mark((function e(n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t){e.next=4;break}return h("Please enter a name."),e.abrupt("return");case 4:return r={user_id:u,name:t,time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone},e.prev=5,e.next=8,gr.post("".concat(wr[0].apiUrl,"api/create_music_playlist"),r,{headers:{"Content-Type":"application/json","X-Api-Key":"your-api-key"}});case 8:e.sent,y(),v("Music playlist created successfully."),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){y()}),[]);var y=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_music_playlist"),r,n);case 6:(i=e.sent).data.data&&i.data.data.length>0&&o(i.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){b()}),[]);var b=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_channel"),r,n);case 6:(i=e.sent).data.data&&i.data.data.length>0&&c(i.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsx)("div",{className:"col-xl-3 col-sm-3 mb-3",children:(0,Er.jsx)("div",{className:"category-item mt-0 mb-0",style:{background:"#fafafa"},children:(0,Er.jsxs)("a",{"data-toggle":"modal","data-target":"#myModal",href:!0,children:[(0,Er.jsx)("img",{className:"img-fluid",src:"img/profile.png",alt:""}),(0,Er.jsxs)("h5",{"data-toggle":"modal","data-target":"#myModal",children:["Add to Playlist"," ",(0,Er.jsx)("span",{"data-toggle":"modal","data-target":"#myModal",title:!0,"data-placement":"top","data-original-title":"Verified"})]})]})})})})})})})}),(0,Er.jsx)("div",{className:"modal",id:"myModal",children:(0,Er.jsx)("div",{className:"modal-dialog",children:(0,Er.jsxs)("div",{className:"modal-content",children:[(0,Er.jsxs)("div",{className:"modal-header",children:[(0,Er.jsx)("h4",{className:"modal-title",children:"Create New Playlist"}),(0,Er.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})]}),(0,Er.jsxs)("div",{className:"card-footer",children:[f&&(0,Er.jsx)("div",{className:"error-message",style:{color:"blue"},children:f}),m&&(0,Er.jsx)("div",{className:"success-message",style:{color:"blue"},children:m}),(0,Er.jsxs)("form",{onSubmit:g,children:[(0,Er.jsxs)("div",{children:[(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{})]}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"channelname",children:"Playlist Name:"}),(0,Er.jsx)("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)},className:"form-control profile1",id:"channelname"})]}),(0,Er.jsx)("br",{}),(0,Er.jsx)("button",{className:"btn btn-info",type:"submit",children:"Submit"})]}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),a.map((function(e){return(0,Er.jsxs)("p",{onClick:function(){return function(e,t){var n=Sr.Z.getItem("_id"),r=Sr.Z.getItem("getsingleaudio"),i=JSON.stringify({playlist_id:e,user_id:n,audio_id:r,playlist_name:t,time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone});gr.post("".concat(wr[0].apiUrl,"api/upload_my_playlist_audio"),i,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){v("Music added successfully.")})).catch((function(e){}))}(e._id,e.name&&e.name)},children:["   ",(0,Er.jsx)("span",{className:"btn btn-info",style:{color:"white"},children:(0,Er.jsx)(wp,{})}),"\xa0\xa0\xa0\xa0\xa0\xa0",e.name&&e.name]})})),(0,Er.jsx)("div",{})]})]})})})]})};var Qq=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1],i=k((0,r.useState)([]),2),a=i[0],o=i[1],s=k((0,r.useState)(0),2),c=s[0],l=s[1],u=k((0,r.useState)([]),2),d=u[0],f=u[1],h=k((0,r.useState)(""),2),p=h[0],m=h[1],v=_e(),g=k((0,r.useState)([]),2),y=(g[0],g[1]),b=k((0,r.useState)(""),2),_=(b[0],b[1]),x=k((0,r.useState)([]),2),w=x[0],S=x[1];(0,r.useEffect)((function(){E()}),[]);var E=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),n=Sr.Z.getItem("getsingleaudio"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=JSON.stringify({user_id:t,audio_id:n}),e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_like_single_audio_list"),i,r).then((function(e){f([e.data.data]),E()})).catch((function(e){}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sr.Z.getItem("getsingleaudio"),t=Sr.Z.getItem("_id"),n=Sr.Z.getItem("channelidaudio"),p){e.next=6;break}return _(""),e.abrupt("return");case 6:return r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=Sr.Z.getItem("getsingleaudio"),a=JSON.stringify({audio_id:i,user_id:t,channel_id:n,msg:p,time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone}),e.next=11,gr.post("".concat(wr[0].apiUrl,"api/send_audio_comment"),a,r).then((function(e){m(""),y(e.data.data),console.log("sadsad",e.data)})).catch((function(e){}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){j()}),[]);var j=function(){var e=Be(Fe().mark((function e(){var t,n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("getsingleaudio"),n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r=JSON.stringify({audio_id:t}),e.next=5,gr.post("".concat(wr[0].apiUrl,"api/get_audio_comment"),r,n).then((function(e){S(e.data.data),j()})).catch((function(e){}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Be(Fe().mark((function e(){var t,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("getsingleaudio"),r={headers:{"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=JSON.stringify({_id:t}),e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_single_music"),i,r);case 6:a=e.sent,n([a.data.data]),T(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){I()}),[]);var I=function(){var e=Be(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},e.prev=1,e.next=4,gr.get("".concat(wr[0].apiUrl,"api/get_music"),t);case 4:n=e.sent,o(n.data.data),T(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),C=Sr.Z.getItem("_id"),R=function(){v("/login")},O=function(e){var t=new Date(e),n=new Date,r=Math.abs(n-t),i=Math.floor(r/31536e6);if(i>0)return 1===i?"1 year ago":"".concat(i," years ago");var a=Math.floor(r/2592e6);if(a>0)return 1===a?"1 month ago":"".concat(a," months ago");var o=Math.floor(r/864e5);if(o>0)return 1===o?"1 day ago":"".concat(o," days ago");var s=Math.floor(r/36e5);if(s>0)return 1===s?"1 hour ago":"".concat(s," hours ago");var c=Math.floor(r/6e4);return c>0?1===c?"1 minute ago":"".concat(c," minutes ago"):"Just now"},A=Sr.Z.getItem("_id"),P=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("getsingleaudio"),n=Sr.Z.getItem("_id"),r=Sr.Z.getItem("channelidaudio"),i={headers:{"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},a=0===c?1:0,o=JSON.stringify({audio_id:t,user_id:n,channel_id:r,like_status:a}),e.prev=6,e.next=9,gr.post("".concat(wr[0].apiUrl,"api/like_audio"),o,i);case 9:e.sent,l(a),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){L()}),[]);var L=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("getsingleaudio"),n=Sr.Z.getItem("_id"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=JSON.stringify({audio_id:t,user_id:n}),e.next=6,gr.post("".concat(wr[0].apiUrl,"api/audio_views"),i,r).then((function(e){})).catch((function(e){}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("comentidd"),n=Sr.Z.getItem("_id"),r={headers:{"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i=JSON.stringify({comment_id:t,user_id:n}),e.prev=4,e.next=7,gr.post("".concat(wr[0].apiUrl,"api/like_audio_comment_user"),i,r);case 7:e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}(),M=k((0,r.useState)(!0),2),U=M[0],F=M[1];return setTimeout((function(){F(!1)}),3e3),(0,Er.jsxs)("div",{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{className:"col-md-12",children:[(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{className:"col-md-12",children:[(0,Er.jsx)("div",{className:"main-title",style:{textAlign:"center"},children:t.map((function(e){var t,n,r;return(0,Er.jsxs)("div",{className:"single-video-left",children:[(0,Er.jsxs)("div",{className:"single-video",children:[(0,Er.jsx)("div",{className:"thumbnail",children:(0,Er.jsx)("img",{src:"img/logo.png",alt:"thumbnail"})}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),(0,Er.jsx)("span",{style:{color:"black"},children:null===e||void 0===e||null===(t=e.music[0])||void 0===t?void 0:t.originalname}),(0,Er.jsx)(Zq(),{style:{height:"100px",width:"-webkit-fill-available"},src:"".concat(wr[0].apiUrl,"uploads/").concat(null===e||void 0===e||null===(r=e.music[0])||void 0===r?void 0:r.filename),autoPlay:!0,controls:!0,controlsList:"nodownload"},null===e||void 0===e||null===(n=e.music)||void 0===n?void 0:n.filename)]}),A?(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsxs)("div",{className:"col-lg-12 col-md-6 col-sm-12",children:[d.map((function(t){return(0,Er.jsxs)("span",{onClick:P,style:{color:"black"},children:[t&&1==t.like_status?(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)(Vr,{style:{marginBottom:"0px",height:"33px",width:"27px",color:"#007bff"}})}):(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)(Mr,{style:{marginBottom:"0px",height:"33px",width:"27px"}})})," ",(0,Er.jsx)("font",{children:null===e||void 0===e?void 0:e.audio_likes})]})})),"\xa0\xa0\xa0",(0,Er.jsx)("textarea",{className:"shadow",style:{marginBottom:"-9px",borderRadius:"15px",width:"50%",border:"1px solid",marginRight:"2px",paddingBottom:"4px",paddingLeft:"20px",height:"28px"},textarea:!0,required:!0,placeholder:"Comment",value:p,onChange:function(e){return m(e.target.value)}}),"\xa0\xa0\xa0",(0,Er.jsx)("button",{className:"btn btn-success shadow",style:{borderRadius:"10px",marginBottom:"0px"},onClick:N,children:"Send"})]})}):(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsxs)("div",{className:"col-lg-12 col-md-6 col-sm-12",onClick:R,children:[d.map((function(t){return(0,Er.jsxs)("span",{onClick:P,style:{color:"black"},children:[t&&1==t.like_status?(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)(Vr,{style:{marginBottom:"0px",height:"33px",width:"27px",color:"#007bff"}})}):(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)(Mr,{style:{marginBottom:"0px",height:"33px",width:"27px"}})})," ",(0,Er.jsx)("font",{children:null===e||void 0===e?void 0:e.audio_likes})]})})),"\xa0\xa0\xa0",(0,Er.jsx)("textarea",{className:"shadow",style:{marginBottom:"-9px",borderRadius:"15px",width:"50%",border:"1px solid",marginRight:"2px",paddingBottom:"4px",paddingLeft:"20px",height:"28px"},textarea:!0,required:!0,placeholder:"Comment",value:p,onChange:function(e){return m(e.target.value)}}),"\xa0\xa0\xa0",(0,Er.jsx)("button",{className:"btn btn-success shadow",style:{borderRadius:"10px",marginBottom:"0px"},onClick:N,children:"Send"})]})})]},null===e||void 0===e?void 0:e._id)}))}),(0,Er.jsx)("br",{}),(0,Er.jsx)("h6",{children:"Comments Section"})]})}),w&&w.length>0?w.slice().map((function(e){var t,n,r,i,a;return(0,Er.jsxs)("div",{children:[(0,Er.jsxs)("p",{className:"p-2 ",style:{marginLeft:"15px"},onClick:function(){Sr.Z.setItem("comentidd",null===e||void 0===e?void 0:e._id)},children:[e&&null!==e&&void 0!==e&&null!==(t=e.user_data)&&void 0!==t&&t.profile_image&&null!==e&&void 0!==e&&null!==(n=e.user_data)&&void 0!==n&&null!==(r=n.profile_image)&&void 0!==r&&r.filename?(0,Er.jsx)("img",{className:"img-fluid",style:{width:"38px",height:"33px",borderRadius:"50px"},alt:"Avatar",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(i=e.user_data)||void 0===i||null===(a=i.profile_image)||void 0===a?void 0:a.filename)}):(0,Er.jsx)("img",{className:"img-fluid",style:{width:"38px",height:"33px",borderRadius:"50px"},alt:"Avatar",src:"img/logo.png"}),"\xa0\xa0\xa0",(0,Er.jsx)("font",{children:null===e||void 0===e?void 0:e.msg.slice(0,50)}),(0,Er.jsxs)("p",{className:"bg-black",style:{textAlign:"left",marginTop:"10px"},children:[(0,Er.jsx)(jt,{onClick:function(){return function(e){var t=Sr.Z.getItem("_id"),n=JSON.stringify({user_id:t,comment_id:e});gr.post("".concat(wr[0].apiUrl,"api/delete_audio_comment_user"),n,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){w()})).catch((function(e){}))}(null===e||void 0===e?void 0:e._id)},children:A===(null===e||void 0===e?void 0:e.user_id)?(0,Er.jsx)(Dr,{}):""})," ","\xa0\xa0\xa0",(0,Er.jsx)("span",{children:"\xa0\xa0\xa0"}),(0,Er.jsxs)("span",{onClick:D,style:{color:"black"},children:[(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)(_p,{})}),"\xa0\xa0\xa0"]})," ",null===e||void 0===e?void 0:e.comment_likes]})]},null===e||void 0===e?void 0:e._id),(0,Er.jsx)("hr",{})]})})):(0,Er.jsx)("div",{className:"col-md-12",children:1==U?(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{class:"spinner-border text-primary"})}):(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{})})})]})})})})})}),(0,Er.jsx)("br",{}),null==C?(0,Er.jsx)("span",{onClick:R,children:(0,Er.jsx)(Jq,{})}):(0,Er.jsx)(Jq,{}),(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{id:"content-",children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"row justify-content-left",children:a.map((function(e){var t,n,r,i,a;return(0,Er.jsx)("div",{className:"col-lg-3  col-sm-12 col-md-3 mb-3",style:{borderRadius:"0px",width:"100%",marginLeft:"0px",marginRight:""},children:(0,Er.jsx)("div",{className:"video-card",style:{width:"100%",borderRadius:"0px"},children:(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",height:"210px"},children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",null===e||void 0===e?void 0:e._id),Sr.Z.setItem("channelidaudio",null===e||void 0===e?void 0:e.channel_id)},className:"play-icon",to:"/audio",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",null===e||void 0===e?void 0:e._id),Sr.Z.setItem("channelidaudio",null===e||void 0===e?void 0:e.channel_id)},to:"/audio",children:e.music[1]&&e.music[1]&&null!==e&&void 0!==e&&e.music[1].filename?(0,Er.jsx)("img",{style:{height:"140px",borderRadius:"10px"},className:"img-fluid",alt:"Channel Image",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.music[1])||void 0===t?void 0:t.filename)}):(0,Er.jsx)("img",{style:{height:"140px",borderRadius:"10px"},className:"img-fluid",src:"img/logo.png",alt:"sadasd"})}),(0,Er.jsxs)("div",{className:"video-title",children:[(0,Er.jsx)(jt,{style:{color:"black",fontSize:"12px",fontWeight:"500"},onClick:function(){Sr.Z.setItem("getsingleaudio",e._id),Sr.Z.setItem("channelidaudio",null===e||void 0===e?void 0:e.channel_id)},to:"/audio",children:(null===e||void 0===e?void 0:e.music)&&(null===e||void 0===e||null===(n=e.music[0])||void 0===n||null===(r=n.originalname)||void 0===r?void 0:r.slice(0,25))}),(0,Er.jsx)("br",{}),(0,Er.jsx)(jt,{style:{color:"#4eda92"},onClick:function(){Sr.Z.setItem("getsingleaudio",e._id),Sr.Z.setItem("channelidaudio",null===e||void 0===e?void 0:e.channel_id)},to:"/audio",children:(0,Er.jsx)("font",{style:{color:"#888",fontSize:"12px"},children:null===e||void 0===e||null===(i=e.data[0])||void 0===i?void 0:i.channel_name.slice(0,25)})}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("p",{style:{fontSize:"12px",fontWeight:"600"},children:[e.audio_views&&(null===e||void 0===e?void 0:e.audio_views)," views"," ",(0,Er.jsx)("i",{class:"fas fa-calendar-alt pr-1"})," ",O(null===e||void 0===e?void 0:e.current_date)]}),(0,Er.jsx)(jt,{style:{color:"#888"},onClick:function(){Sr.Z.setItem("getsingleaudio",e._id),Sr.Z.setItem("channelidaudio",null===e||void 0===e?void 0:e.channel_id)},to:"/audio",children:(null===e||void 0===e?void 0:e.music)&&(null===e||void 0===e||null===(a=e.music)||void 0===a?void 0:a.channel_name)}),(0,Er.jsx)("br",{})]})]})})})}))})})})})})]})},Xq=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1];(0,r.useEffect)((function(){i()}),[]);var i=function(){var e=Be(Fe().mark((function e(){var t,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),r=Sr.Z.getItem("getsingleaudio"),i={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},a=JSON.stringify({user_id:t,playlist_id:r}),e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_playlist_audio"),a,i).then((function(e){n(e.data.data)})).catch((function(e){}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=k((0,r.useState)(!0),2),o=a[0],s=a[1];return setTimeout((function(){s(!1)}),2e3),(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),1==o?(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{class:"spinner-border text-primary"})}):(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{children:(0,Er.jsxs)(mi,{className:"mt-0",children:[(0,Er.jsx)(Ii,{children:(0,Er.jsxs)("div",{className:"container-fluid",children:[(0,Er.jsx)("h5",{children:"Music Playlist "}),(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"tab-content",id:"ex1-content",children:(0,Er.jsx)("div",{className:"tab-pane fade show active",id:"ex1-tabs-1",role:"tabpanel","aria-labelledby":"ex1-tab-1",children:(0,Er.jsx)("div",{className:"row",children:(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){var t,n,r,i,a,o;return(0,Er.jsx)("div",{className:"col-sm-3 mb-4",style:{borderRadius:"0px",width:"100%",marginLeft:""},children:(0,Er.jsx)("div",{className:"video-card",style:{width:"100%",borderRadius:"0px"},children:(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",width:"100%",height:"190px"},children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",e.audio_id)},className:"play-icon",to:"/audio",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsxs)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",e.audio_id)},to:"/audio",children:[e.audio_data[0]&&e.audio_data[0].music&&e.audio_data[0].music?(0,Er.jsx)("img",{style:{height:"140px",borderRadius:"10px"},className:"img-fluid",alt:"Channel Image",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.audio_data[0])||void 0===t||null===(n=t.music[1])||void 0===n?void 0:n.filename)}):(0,Er.jsx)("img",{style:{height:"100%",borderRadius:"10px"},className:"img-fluid",src:"img/logo.png",alt:"sadasd"}),null!==e&&void 0!==e&&null!==(r=e.audio_data[0])&&void 0!==r&&null!==(i=r.music[0])&&void 0!==i&&i.originalname?(0,Er.jsx)("p",{children:null===e||void 0===e||null===(a=e.audio_data[0])||void 0===a||null===(o=a.music[0])||void 0===o?void 0:o.originalname.slice(0,40)}):(0,Er.jsx)("p",{children:"No songs"})]})]})})},e.audio_id)})):(0,Er.jsx)("p",{})})})})})]})}),(0,Er.jsx)(Ii,{}),(0,Er.jsx)(Ii,{})]})})})]})},$q=function(){var e=k((0,r.useState)(""),2),t=e[0],n=e[1],i=k((0,r.useState)(""),2),a=i[0],o=i[1],s=k((0,r.useState)(""),2),c=s[0],l=s[1],u=k((0,r.useState)(""),2),d=u[0],f=u[1],h=k((0,r.useState)(""),2),p=h[0],m=h[1],v=Sr.Z.getItem("email");return(0,Er.jsxs)("div",{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{className:"col-md-12",children:[(0,Er.jsx)("div",{className:"main-title"}),(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsxs)("div",{className:"col-sm-8 bg-light shadow p-4",children:[(0,Er.jsx)("div",{children:(0,Er.jsx)("img",{width:"100%",height:"243px",src:"img/help.jpg",alt:""})}),(0,Er.jsx)("div",{className:"text-center",children:(0,Er.jsx)("h6",{className:"p-3 shadow",style:{borderRadius:"10px"},children:"Submit A Request"})}),(0,Er.jsx)("font",{style:{color:"blue"},children:t&&(0,Er.jsx)("div",{children:t})}),(0,Er.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Sr.Z.getItem("_id");d===v?gr.post("".concat(wr[0].apiUrl,"api/help"),{user_id:t,first_name:a,last_name:c,email:d,message:p}).then((function(e){"true"===e.data.result?n("Request Submitted successfully."):n(e.data.message),o(""),l(""),f(""),m("")})).catch((function(e){console.log(e)})):n("Invalid Email-id. Please enter your current Email-id.")},children:[(0,Er.jsx)("div",{className:"form-group",children:(0,Er.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter your first name",value:a,onChange:function(e){return o(e.target.value)}})}),(0,Er.jsx)("div",{className:"form-group",children:(0,Er.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter your last name",value:c,onChange:function(e){return l(e.target.value)}})}),(0,Er.jsx)("div",{className:"form-group",children:(0,Er.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter your email",value:d,onChange:function(e){return f(e.target.value)}})}),(0,Er.jsx)("div",{className:"form-group",children:(0,Er.jsx)("textarea",{className:"form-control",placeholder:"Enter your message",value:p,onChange:function(e){return m(e.target.value)}})}),(0,Er.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})]})})})})})})]})},eG=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1],i=function(e){var t=new Date(e),n=new Date,r=Math.abs(n-t),i=Math.floor(r/31536e6);if(i>0)return 1===i?"1 year ago":"".concat(i," years ago");var a=Math.floor(r/2592e6);if(a>0)return 1===a?"1 month ago":"".concat(a," months ago");var o=Math.floor(r/864e5);if(o>0)return 1===o?"1 day ago":"".concat(o," days ago");var s=Math.floor(r/36e5);if(s>0)return 1===s?"1 hour ago":"".concat(s," hours ago");var c=Math.floor(r/6e4);return c>0?1===c?"1 minute ago":"".concat(c," minutes ago"):"Just now"};(0,r.useEffect)((function(){a()}),[]);var a=function(){var e=Be(Fe().mark((function e(){var t,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),r=Sr.Z.getItem("getsinglevideo"),i={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},a=JSON.stringify({user_id:t,playlist_id:r}),e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_my_playlist_video"),a,i).then((function(e){n(e.data.data)})).catch((function(e){}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=k((0,r.useState)(!0),2),s=o[0],c=o[1];return setTimeout((function(){c(!1)}),2e3),(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"",id:"",children:(0,Er.jsxs)("div",{className:"mobilewidth",children:[(0,Er.jsx)("h5",{children:"Video Playlist "}),(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"tab-content",id:"ex1-content",children:(0,Er.jsx)("div",{className:"tab-pane fade show active",id:"ex1-tabs-1",role:"tabpanel","aria-labelledby":"ex1-tab-1",children:(0,Er.jsx)("div",{className:"row",children:(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){var t,n,r,a;return(0,Er.jsx)("div",{className:"col-lg-4  col-sm-12 col-md-3 mb-3",style:{borderRadius:"0px",width:"100%",padding:"0px 24px 0 10px"},children:(0,Er.jsxs)("div",{className:"video-card",style:{width:"100%",height:"228px",borderRadius:"0px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",width:"100%",height:"160px"},children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",e.video_id)},className:"play-icon",to:"/video_page",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",e.video_id)},to:"/video_page",children:(0,Er.jsx)("img",{style:{height:"160px"},className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+e.channel_data[0].image[0].filename,alt:""})})]}),(0,Er.jsxs)("div",{className:"video-title",children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("getsingleaudio",e.video_id)},to:"/video_page",children:null===e||void 0===e||null===(t=e.video_data[0])||void 0===t?void 0:t.video_name.slice(0,23)}),(0,Er.jsx)("br",{}),(0,Er.jsx)(jt,{style:{color:"#888"},onClick:function(){Sr.Z.setItem("getsingleaudio",e.video_id)},to:"/video_page",children:null===e||void 0===e||null===(n=e.channel_data[0])||void 0===n?void 0:n.channel_name.slice(0,23)}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("p",{onClick:function(){Sr.Z.setItem("getsingleaudio",e.video_id)},to:"/video_page",children:[null===e||void 0===e||null===(r=e.video_data[0])||void 0===r?void 0:r.video_views," views"," ",(0,Er.jsx)("i",{class:"fas fa-calendar-alt pr-1"})," ",i(null===e||void 0===e||null===(a=e.video_data[0])||void 0===a?void 0:a.current_date)]})]})]})},e.video_id)})):(0,Er.jsx)("div",{className:"col-md-12",children:1==s?(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{class:"spinner-border text-primary"})}):(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{})})})})})})})]})})})]})},tG=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1],i=function(e){var t=new Date(e),n=new Date,r=Math.abs(n-t),i=Math.floor(r/31536e6);if(i>0)return 1===i?"1 year ago":"".concat(i," years ago");var a=Math.floor(r/2592e6);if(a>0)return 1===a?"1 month ago":"".concat(a," months ago");var o=Math.floor(r/864e5);if(o>0)return 1===o?"1 day ago":"".concat(o," days ago");var s=Math.floor(r/36e5);if(s>0)return 1===s?"1 hour ago":"".concat(s," hours ago");var c=Math.floor(r/6e4);return c>0?1===c?"1 minute ago":"".concat(c," minutes ago"):"Just now"};(0,r.useEffect)((function(){a()}),[]);var a=function(){var e=Be(Fe().mark((function e(){var t,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/get_save_watch_later"),i,r);case 6:a=e.sent,n(a.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),o=k((0,r.useState)(!0),2),s=o[0],c=o[1];return setTimeout((function(){c(!1)}),1e3),(0,Er.jsxs)("div",{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),1==s?(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{class:"spinner-border text-primary"})}):(0,Er.jsx)("div",{className:"video-block section-padding ",children:(0,Er.jsxs)("div",{className:"row",children:[(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title mobilewidth",children:(0,Er.jsx)("h5",{children:"Watch-later Videos"})})}),(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{id:"recipeCarousel",className:"carousel slide","data-bs-interval":"false",children:(0,Er.jsx)("div",{className:"carousel-inner mobilewidth",role:"listbox",children:(0,Er.jsx)("div",{className:"row justify-content-left",children:null===t||void 0===t?void 0:t.map((function(e){var t,n,r,o,s,c,l,u,d;return(0,Er.jsxs)("div",{className:"col-sm-4 mb-4  ",style:{borderRadius:"10px",width:"100%",margin:"0px -04px 0px -02px"},children:[(0,Er.jsx)("button",{style:{borderRadius:"15px"},className:"fas fa-times-circle btn ",onClick:function(){return function(e){var t=Sr.Z.getItem("_id"),n=JSON.stringify({user_id:t,video_id:e});gr.post("".concat(wr[0].apiUrl,"api/delete_save_watch_later"),n,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){a()})).catch((function(e){}))}(e.video_id)}}),(0,Er.jsxs)("div",{className:"video-card  boxdoticons",style:{width:"100%",borderRadius:"10px"},children:[(0,Er.jsxs)("div",{className:"video-card-image ",style:{borderRadius:"10px",width:"100%",height:"160px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.video_data[0].category_type)},children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.video_data[0].category_type)},children:(0,Er.jsx)("img",{style:{height:"160px"},onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.video_data[0].category_type)},className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(t=e.channel_data[0])||void 0===t||null===(n=t.image[1])||void 0===n?void 0:n.filename),alt:""})})]}),(0,Er.jsx)("div",{className:"video-card-body content mobilewidthcontnet",style:{paddingBottom:"10px"},children:(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:"0px"},children:[(0,Er.jsxs)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid Profile",src:"".concat(wr[0].apiUrl,"uploads/")+(null===e||void 0===e||null===(r=e.channel_data[0])||void 0===r||null===(o=r.image[0])||void 0===o?void 0:o.filename),alt:""})]}),(0,Er.jsx)(jt,{to:"/video_page",onClick:function(){Sr.Z.setItem("videoiid",e.video_id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.video_data[0].category_type)},children:(0,Er.jsx)("b",{className:"mobilewidthvideoname",style:{color:"black",fontSize:"16px",fontWeight:"500"},children:null===e||void 0===e||null===(s=e.video_data[0])||void 0===s?void 0:s.video_name.slice(0,18)})}),(0,Er.jsxs)("p",{className:"name",children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:(0,Er.jsx)("p",{"pr-10":!0,style:{color:"#888",fontSize:"12px"},className:"cname",onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:null===e||void 0===e||null===(c=e.channel_data[0])||void 0===c||null===(l=c.channel_name)||void 0===l?void 0:l.slice(0,10)})})," ",(0,Er.jsxs)("p",{className:"maincname",children:[(0,Er.jsxs)("span",{style:{fontSize:"12px",fontWeight:"600"},className:"cviews",children:[null===e||void 0===e||null===(u=e.video_data[0])||void 0===u?void 0:u.video_views," views \xa0"]}),(0,Er.jsxs)("span",{className:"cdate",style:{fontSize:"12px",fontWeight:"600"},children:[(0,Er.jsx)(Je,{}),i(null===e||void 0===e||null===(d=e.video_data[0])||void 0===d?void 0:d.current_date)]})]})]})]})})]})]})}))})})})})]})})]})},nG=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1],i=k((0,r.useState)(""),2),a=i[0],o=i[1];(0,r.useEffect)((function(){s()}),[]);var s=function(){var e=Be(Fe().mark((function e(){var t,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr.Z.getItem("_id"),r={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},i={user_id:t},e.prev=3,e.next=6,gr.post("".concat(wr[0].apiUrl,"api/block_user_list"),i,r);case 6:a=e.sent,n(a.data.data),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),c=k((0,r.useState)(!0),2),l=c[0],u=c[1];return setTimeout((function(){u(!1)}),1e3),(0,Er.jsxs)("div",{children:[(0,Er.jsx)(kr,{}),(0,Er.jsxs)("div",{id:"",children:[(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"",children:(0,Er.jsxs)("div",{className:"mobilewidth",children:[(0,Er.jsx)("h4",{children:"Blocked Users "}),(0,Er.jsx)("font",{style:{color:"blue"},children:a&&(0,Er.jsx)("p",{children:a})}),(0,Er.jsx)("br",{}),(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsxs)("div",{className:"tab-content",id:"ex1-content",children:[(0,Er.jsx)("div",{className:"tab-pane fade show active",id:"ex1-tabs-1",role:"tabpanel","aria-labelledby":"ex1-tab-1",children:(0,Er.jsx)("div",{className:"row",children:t&&t.length>0?t.map((function(e){return(0,Er.jsxs)("div",{className:"col-sm-4 mb-4  ",style:{borderRadius:"10px",width:"100%",marginLeft:"-6px"},children:[(0,Er.jsx)("img",{onClick:function(){return function(e){var t=Sr.Z.getItem("_id"),n=JSON.stringify({user_id:t,channel_id:e});gr.post("".concat(wr[0].apiUrl,"api/unblock_user"),n,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){s(),o("User unblocked successfully!")})).catch((function(e){}))}(e.channel_id)},style:{height:"41px",width:"33px",background:"none"},src:"img/block.jpg"}),(0,Er.jsxs)("div",{className:"video-card",style:{width:"100%",borderRadius:"10px"},children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px",width:"100%",height:"160px"},children:[(0,Er.jsx)(jt,{className:"play-icon",to:"#",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)(jt,{to:"#",children:(0,Er.jsx)("img",{className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+e.channel_data.image[1].filename,alt:!0})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)(jt,{to:"#"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:0,paddingRight:0},children:[(0,Er.jsxs)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"".concat(wr[0].apiUrl,"uploads/")+e.channel_data.image[0].filename,alt:!0})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id)},to:"/view_profile",children:(0,Er.jsx)("strong",{style:{color:"#888"},children:e.channel_data.channel_name})})," "]})]})]})]})]})})):(0,Er.jsx)("div",{className:"col-md-12"})})}),1==l?(0,Er.jsx)("div",{className:"row justify-content-center",children:(0,Er.jsx)("div",{class:"spinner-border text-primary"})}):(0,Er.jsx)("div",{className:"col-md-12"}),(0,Er.jsx)("div",{className:"tab-pane fade",id:"ex1-tabs-3",role:"tabpanel","aria-labelledby":"ex1-tab-3",children:(0,Er.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",style:{paddingLeft:10,paddingRight:0},children:(0,Er.jsxs)("div",{className:"video-card",children:[(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:"10px"},children:[(0,Er.jsx)("a",{className:"play-icon",href:"video-page.html",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsx)("img",{className:"img-fluid",src:"img/v1.png",alt:!0})}),(0,Er.jsx)("a",{href:"video-page.html",children:(0,Er.jsxs)("div",{className:"time",style:{bottom:0,right:0},children:[(0,Er.jsx)("h3",{style:{position:"relative",top:35,left:25},children:"10"}),(0,Er.jsx)("svg",{viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",focusable:"false",className:"style-scope yt-icon",style:{pointerEvents:"none",display:"block",width:100,height:120},children:(0,Er.jsxs)("g",{className:"style-scope yt-icon",children:["sddfdf",(0,Er.jsx)("path",{d:"M22,7H2v1h20V7z M13,12H2v-1h11V12z M13,16H2v-1h11V16z M15,19v-8l7,4L15,19z",className:"style-scope yt-icon"})]})})]})})]}),(0,Er.jsxs)("div",{className:"video-card-body",children:[(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsx)("a",{href:"video-page.html",children:"There are many variations of passages of Lorem"})}),(0,Er.jsxs)("div",{className:"single-video-author box mb-3",style:{paddingLeft:0,paddingRight:0},children:[(0,Er.jsxs)("div",{className:"float-right",children:[(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fas fa-eye"})," 10.4M"]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("i",{className:"fa fa-thumbs-up"})," 131K"]})]}),(0,Er.jsxs)("a",{href:"viewprofile.html",children:[" ",(0,Er.jsx)("img",{className:"img-fluid",src:"img/s4.png",alt:!0})]}),(0,Er.jsxs)("p",{children:[(0,Er.jsx)("a",{href:"viewprofile.html",children:(0,Er.jsx)("strong",{children:"History"})})," ",(0,Er.jsx)("span",{title:!0,"data-placement":"top","data-toggle":"tooltip","data-original-title":"Verified",children:(0,Er.jsx)("i",{className:"fas fa-check-circle text-success"})})]}),(0,Er.jsx)("p",{children:"3 Months ago"})]})]})]})})})]})})]})})]})]})},rG=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1];(0,r.useEffect)((function(){i()}),[]);var i=function(){var e=Be(Fe().mark((function e(){var t,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r=JSON.stringify({}),e.next=4,gr.get("".concat(wr[0].apiUrl,"api/report_history"),r,t).then((function(e){n(e.data.data)})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{id:"",children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{className:"col-md-12",children:[(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h6",{children:" Report History"})}),t.map((function(e){return(0,Er.jsx)("h6",{style:{textAlign:"justify"},children:e.tag})}))]})})})})})})]})},iG=__webpack_require__(4334),aG=__webpack_require__.n(iG);var oG=function(){var e=k((0,r.useState)(""),2),t=e[0],n=e[1],i=k((0,r.useState)(""),2),a=i[0],o=i[1],s=k((0,r.useState)(!1),2),c=(s[0],s[1],(0,r.useRef)(""),(0,r.useRef)(""),(0,r.useRef)(""),k((0,r.useState)(""),2)),l=c[0],u=c[1],d=_e(),f={client:null,joined:!1,published:!1,localStream:null,remoteStreams:[],params:{}},h=function(){var e=Be(Fe().mark((function e(){var n,r,i,a,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Sr.Z.getItem("_id"),r=Sr.Z.getItem("channel_id"),i=Sr.Z.getItem("channel_name"),t){e.next=6;break}return o("Please enter Video Name."),e.abrupt("return");case 6:return e.prev=6,e.next=9,fetch("".concat(wr[0].apiUrl,"api/generate_agrora_token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:n,channel_id:r,channel_name:i,video_name:t,thumbnail_image:"YOUR_THUMBNAIL_IMAGE",time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone})});case 9:return a=e.sent,e.next=12,a.json();case 12:s=e.sent,u(s),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){function e(){return(e=Be(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:return e.next=5,m();case 5:return e.next=7,v();case 7:return e.next=9,g();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var p=function(){var e=Be(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Sr.Z.getItem("channel_name"),n=JSON.stringify({uid:"12345",channel:t}),r={headers:{"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},e.next=6,gr.post("".concat(wr[0].apiUrl,"api/acquire"),n,r);case 6:i=e.sent,Sr.Z.setItem("resourceid",i.data.resourceId),console.log("ACQUIRE delete response",i),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Sr.Z.getItem("channel_name"),n=Sr.Z.getItem("resourceid"),r=JSON.stringify({uid:"12345",channel:t,resourceId:n,token:null===l||void 0===l?void 0:l.token}),i={headers:{"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},e.next=7,gr.post("".concat(wr[0].apiUrl,"api/start"),r,i);case 7:a=e.sent,Sr.Z.setItem("sidd",a.data.sid),console.log("START delete response",a),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Sr.Z.getItem("resourceid"),n=Sr.Z.getItem("sidd"),r=JSON.stringify({sid:n,resourceId:t}),i={headers:{"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},e.next=7,gr.post("".concat(wr[0].apiUrl,"api/query"),r,i);case 7:a=e.sent,console.log("QUERY delete response",a),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Be(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Sr.Z.getItem("resourceid"),n=Sr.Z.getItem("sidd"),r=JSON.stringify({sid:n,resourceId:t}),i={headers:{"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},e.next=7,gr.post("".concat(wr[0].apiUrl,"api/stop"),r,i);case 7:a=e.sent,Sr.Z.getItem("videourl",a.data.filename),console.log("STOP delete response",a),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){w()}));var y=Sr.Z.getItem("_id"),b=Sr.Z.getItem("channel_id"),_=Sr.Z.getItem("channel_name"),x=Sr.Z.getItem("videourl"),w={user_id:y,channel_id:b,channel_name:_,video_name:t,desc:"Live",category_type:"Live",video_url:"sasasas",videofiles:x,time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone};return gr.post("".concat(wr[0].apiUrl,"api/upload_video"),w).then((function(e){})),(0,Er.jsxs)("div",{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)("div",{id:"wrapper",children:(0,Er.jsx)("div",{id:"content-wrapper",children:(0,Er.jsx)("div",{className:"",children:(0,Er.jsxs)("div",{className:"row justify-content-center",children:[a&&(0,Er.jsx)("font",{style:{color:"blue"},children:a}),(0,Er.jsxs)("div",{className:"col-sm-12 col-lg-6  col-md-10 shadow m-1",children:[(0,Er.jsx)("input",{style:{width:"100%",margin:"5px",border:"none",padding:"10px"},className:"shadow",type:"text",value:t,onChange:function(e){return n(e.target.value)},placeholder:"Video Name"}),(0,Er.jsx)("button",{className:"btn btn-success m-2",onClick:function(){!function(e){if(t){var n={appID:"537ee9fcc8f24c33b4b823896c9db588",channel:Sr.Z.getItem("channel_name"),uid:null,token:null===l||void 0===l?void 0:l.token,key:"",secret:""};f.client=aG().createClient({mode:"live",codec:"h264"}),f.client.init(n.appID,(function(){f.client.join(n.token?n.token:null,n.channel,n.uid?+n.uid:null,(function(t){console.log("join channel: "+n.channel+" success, uid: "+t),f.params.uid=t,"host"===e&&(f.client.setClientRole("host"),f.localStream=aG().createStream({streamID:f.params.uid,audio:!0,video:!0,screen:!1}),f.localStream.init((function(){f.localStream.play("local_stream"),f.client.publish(f.localStream,(function(e){}))}),(function(e){})),f.client.on("connection-state-change",(function(e){}))),"audience"===e&&(f.client.on("connection-state-change",(function(e){})),f.client.on("stream-added",(function(e){var t=e.stream;t.getId()!==f.params.uid&&f.client.subscribe(t,(function(e){}))})),f.client.on("stream-removed",(function(e){e.stream.getId()})),f.client.on("stream-subscribed",(function(e){var t=e.stream;t.getId(),t.play("remote_video_")})),f.client.on("stream-unsubscribed",(function(e){var t=e.stream;t.getId(),t.pause("remote_video_")})))}),(function(e){}))}))}else o("Please enter Video Name.")}("host"),h()},children:"Go Live"}),(0,Er.jsx)("button",{className:"btn btn-danger m-2",style:{float:"right"},onClick:function(){var e=Sr.Z.getItem("_id"),t=Sr.Z.getItem("channel_id"),n=JSON.stringify({user_id:e,channel_id:t,token:null===l||void 0===l?void 0:l.token});gr.post("".concat(wr[0].apiUrl,"api/delete_live_video"),n,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){d("/")})).catch((function(e){console.error(e)}))},children:"Leave"}),(0,Er.jsx)("div",{id:"local_stream",className:"local_stream shadow",style:{width:"100%",height:"400px",marginTop:"10px"}}),(0,Er.jsx)("div",{id:"remote_video_",style:{}})]})]})})})})]})};var sG=function(){var e=_e();(0,r.useEffect)((function(){a()}),[]);var t=Sr.Z.getItem("livetoken"),n=k((0,r.useState)(t),1)[0],i=Sr.Z.getItem("_id"),a=function(){var e={user_id:i,token:n.token};gr.post("".concat(wr[0].apiUrl,"api/add_live_views"),e).then((function(e){return console.log("saasdasdsof livee",e)}))},o={client:null,joined:!1,published:!1,localStream:null,remoteStreams:[],params:{}},s={appID:"537ee9fcc8f24c33b4b823896c9db588",channel:Sr.Z.getItem("livechanennelname"),uid:null,token:n.token};(0,r.useEffect)((function(){o.client=aG().createClient({mode:"live",codec:"h264"}),o.client.init(s.appID,(function(){o.client.join(s.token?s.token:null,s.channel,s.uid?+s.uid:null,(function(e){console.log("join channel: "+s.channel+" success, uid: "+e),o.params.uid=e,o.client.on("connection-state-change",(function(e){})),o.client.on("stream-added",(function(e){var t=e.stream;t.getId()!==o.params.uid&&o.client.subscribe(t,(function(e){}))})),o.client.on("stream-removed",(function(e){e.stream.getId()})),o.client.on("stream-subscribed",(function(e){var t=e.stream;t.getId(),t.play("remote_video_")})),o.client.on("stream-unsubscribed",(function(e){var t=e.stream;t.getId(),t.pause("remote_video_")}))}),(function(e){}))}),(function(e){}))}),[]);var c=k((0,r.useState)(!1),2),l=c[0],u=c[1],d=k((0,r.useState)([]),2),f=d[0],h=(d[1],k((0,r.useState)({msg:""}),2));return h[0],h[1],(0,r.useEffect)((function(){}),[f]),(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"",children:(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"container-fluid",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{className:"col-sm-12",children:[(0,Er.jsx)("button",{className:"btn btn-primary shadow",style:{borderRadius:"10px",float:""},onClick:function(){var t=Sr.Z.getItem("_id"),n=Sr.Z.getItem("livetoken"),r=JSON.stringify({user_id:t,token:n});gr.post("".concat(wr[0].apiUrl,"api/remove_live_views"),r,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(t){e("/")})).catch((function(e){}))},children:"Leave"}),(0,Er.jsxs)("div",{style:{paddingRight:"31px",objectFit:"contain",width:"100%",height:"100%",backgroundColor:"white",borderRadius:15,alignItems:"center",justifyContent:"center",position:"fixed"},children:[(0,Er.jsx)("div",{onClick:function(){return u(!l)},id:"remote_video_",style:{width:"100%",height:"95%",borderRadius:15,backgroundColor:"rgba(0,0,0,.2)",backgroundRepeat:"no-repeat"}}),(0,Er.jsx)("div",{style:{width:"48%",height:"100%"}})]})]})})})})})})})};var cG=function(){var e=k((0,r.useState)(""),2),t=e[0];e[1],(0,r.useEffect)((function(){c()}),[]);var n,i=Sr.Z.getItem("livetoken");try{n=i?JSON.parse(i):null}catch(H_){n=null}var a=n?n.token:null,o=k((0,r.useState)({token:a}),1)[0],s=Sr.Z.getItem("_id"),c=function(){if(o){var e={user_id:s,token:null===o||void 0===o?void 0:o.token};gr.post("".concat(wr[0].apiUrl,"api/add_live_views"),e).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}))}},l={client:null,joined:!1,published:!1,localStream:null,remoteStreams:[],params:{}},u={appID:"537ee9fcc8f24c33b4b823896c9db588",channel:"aaj",uid:null,token:null===o||void 0===o?void 0:o.token};function d(e){l.client=aG().createClient({mode:"live",codec:"h264"}),l.client.init(u.appID,(function(){l.client.join(u.token,u.channel,u.uid?+u.uid:null,(function(e){console.log("join channel: "+u.channel+" success, uid: "+e),l.params.uid=e,l.client.on("connection-state-change",(function(e){})),l.client.on("stream-added",(function(e){var t=e.stream;t.getId()!==l.params.uid&&l.client.subscribe(t,(function(e){}))})),l.client.on("stream-removed",(function(e){e.stream.getId()})),l.client.on("stream-subscribed",(function(e){var t=e.stream;t.getId();t.play("remote_video_")})),l.client.on("stream-unsubscribed",(function(e){var t=e.stream;t.getId();t.pause("remote_video_")}))}),(function(e){}))}),(function(e){}))}(0,r.useEffect)((function(){d()}),[]);var f=k((0,r.useState)(!1),2),h=(f[0],f[1],k((0,r.useState)([]),2)),p=h[0],m=(h[1],k((0,r.useState)(""),2));return m[0],m[1],(0,r.useEffect)((function(){}),[p]),(0,Er.jsxs)("div",{children:[(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{id:"wrapper",children:(0,Er.jsx)("div",{id:"content-wrapper",children:(0,Er.jsx)("div",{className:"container-fluid",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{children:[(0,Er.jsx)("b",{children:JSON.stringify(t)})," ",(0,Er.jsx)("button",{onClick:function(){return d()},children:"Join Channel"}),(0,Er.jsx)("div",{id:"local_stream",className:"local_stream",style:{width:"500px",height:"300px"},children:(0,Er.jsx)("button",{onClick:function(){var e=Sr.Z.getItem("_id"),n=(Sr.Z.getItem("channel_id"),JSON.stringify({user_id:e,token:null===t||void 0===t?void 0:t.token}));gr.post("".concat(wr[0].apiUrl,"api/remove_live_views"),n,{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}}).then((function(e){})).catch((function(e){}))},children:"Delete Video"})}),(0,Er.jsx)("div",{id:"remote_video_",style:{width:"300px",height:"300px"}})]})})})})})})]})},lG=function(){var e=k((0,r.useState)(null),2),t=e[0],n=e[1],i=k((0,r.useState)(null),2),a=i[0],o=i[1],s=k((0,r.useState)(""),2),c=s[0],l=s[1],u=k((0,r.useState)(""),2),d=u[0],f=u[1],h=k((0,r.useState)(""),2),p=h[0],m=h[1],v=k((0,r.useState)(""),2),g=v[0],y=v[1],b=_e(),_=Sr.Z.getItem("channel_id"),x=function(){var e=Be(Fe().mark((function e(r){var i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t){e.next=4;break}return m("Please select a Profile image."),e.abrupt("return");case 4:if(a){e.next=7;break}return m("Please select a Cover image."),e.abrupt("return");case 7:return(i=new FormData).append("profile_image",t),i.append("cover_image",a),i.append("channel_name",d),i.append("handle",c),i.append("_id",_),e.prev=13,e.next=16,gr.post("".concat(wr[0].apiUrl,"api/update_channel"),i,{headers:{"Content-Type":"multipart/form-data","X-Api-Key":"your-api-key"}});case 16:e.sent,n(null),o(null),f(""),l(""),m(""),y("Channel updated successfully!"),b("/myaccount"),e.next=28;break;case 26:e.prev=26,e.t0=e.catch(13);case 28:case"end":return e.stop()}}),e,null,[[13,26]])})));return function(t){return e.apply(this,arguments)}}();return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{children:(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{className:"video-block section-padding",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsxs)("div",{className:"col-md-12",children:[(0,Er.jsx)("div",{className:"main-title",children:(0,Er.jsx)("h6",{children:" About"})}),(0,Er.jsxs)("div",{className:"card-footer",children:[(0,Er.jsx)("font",{style:{color:"blue"},children:(0,Er.jsx)("p",{children:g})}),(0,Er.jsx)("font",{style:{color:"blue"},children:p&&(0,Er.jsx)("p",{children:p})}),(0,Er.jsxs)("form",{onSubmit:x,children:[(0,Er.jsxs)("div",{children:[(0,Er.jsxs)("label",{htmlFor:"profile-picture-input",children:[(0,Er.jsx)("span",{className:"btn btn-info",children:"Profile picture"}),(0,Er.jsx)("input",{id:"profile-picture-input",type:"file",name:"profile-picture",onChange:function(e){n(e.target.files[0])},style:{display:"none"}})]}),(0,Er.jsx)("br",{}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("label",{htmlFor:"cover-image-input",children:[(0,Er.jsx)("span",{className:"btn btn-info",children:"Cover Photo"}),(0,Er.jsx)("input",{id:"cover-image-input",type:"file",onChange:function(e){o(e.target.files[0])},style:{display:"none"}})]})]}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"channelname",children:"Channel Name:"}),(0,Er.jsx)("input",{required:!0,type:"text",placeholder:"Enter Channel Name",value:d,onChange:function(e){return f(e.target.value)},className:"form-control profile1",id:"channelname"})]}),(0,Er.jsxs)("div",{className:"form-group",children:[(0,Er.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,Er.jsx)("input",{required:!0,type:"text",value:c,onChange:function(e){return l(e.target.value)},className:"form-control profile2",id:"description"})]}),(0,Er.jsx)("br",{}),(0,Er.jsx)("button",{className:"btn btn-info",type:"submit",children:"Submit"})]})]})]})})})})})})]})},uG=function(){var e=k((0,r.useState)([]),2),t=(e[0],e[1]),n=k((0,r.useState)(""),2),i=n[0],a=(n[1],k((0,r.useState)([]),2)),o=a[0];a[1],o.filter((function(e){return e.video_name.toLowerCase().includes(i.toLowerCase())}));(0,r.useEffect)((function(){s()}),[]);var s=function(){var e=Be(Fe().mark((function e(){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},r=JSON.stringify({}),e.next=4,gr.get("".concat(wr[0].apiUrl,"api/search"),r,n).then((function(e){t(e.data.data)})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=Sr.Z.getItem("video_value"),l=k((0,r.useState)([]),2),u=l[0],d=l[1];return(0,r.useEffect)((function(){gr("".concat(wr[0].apiUrl,"api/search?term=").concat(c)).then((function(e){d(e.data.data)}))}),[c,u]),(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)(kr,{}),(0,Er.jsx)(Pr,{}),(0,Er.jsx)("div",{className:"mobilewidth",children:(0,Er.jsx)("div",{className:"top-category section-padding mb-4",children:(0,Er.jsx)("div",{className:"row",children:(0,Er.jsx)("div",{className:"col-md-12",children:(0,Er.jsx)("div",{className:"main-title row",children:(0,Er.jsx)(Er.Fragment,{children:(0,Er.jsx)("div",{className:"col-lg-12  row p-1 m-1 shadow",children:u.map((function(e){return(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)("div",{className:"col-sm-4  shadow",children:(0,Er.jsx)(jt,{onClick:function(){Sr.Z.setItem("videoiid",e._id),Sr.Z.setItem("useridd",e.user_id),Sr.Z.setItem("channelid",e.channel_id),Sr.Z.setItem("categorytpee",e.category_type)},className:"dropdown-item",style:{width:"100%"},to:"/video_page",children:(0,Er.jsxs)("div",{className:"video-card-image",style:{borderRadius:15},children:[(0,Er.jsx)("a",{className:"play-icon",href:"",children:(0,Er.jsx)("i",{className:"fas fa-play-circle"})}),(0,Er.jsx)("a",{href:"",children:(0,Er.jsx)("img",{height:"200px",src:"".concat(wr[0].apiUrl,"uploads/")+e.video[1].filename})})]})})}),(0,Er.jsx)("div",{className:"col-sm-6",children:(0,Er.jsx)("div",{className:"",children:(0,Er.jsx)("div",{className:"",children:(0,Er.jsxs)("div",{className:"single-video-author mt-4",children:[(0,Er.jsx)("div",{style:{marginTop:"10px"}}),(0,Er.jsx)("br",{}),(0,Er.jsxs)("div",{className:"video-title",style:{marginTop:"10px"},children:[(0,Er.jsx)(jt,{to:"",children:"   ChannelName  :  "}),"  ",e.channel_name]}),(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsxs)("p",{style:{marginTop:"10px"},children:[(0,Er.jsx)(jt,{to:"",children:"      Title :  "}),e.video_name]})}),(0,Er.jsxs)("div",{className:"video-title",children:[(0,Er.jsxs)("p",{style:{marginTop:"10px"},children:[(0,Er.jsx)(jt,{to:"",children:"     TotalVies :   "}),e.video_views," ",(0,Er.jsx)("i",{style:{cursor:"pointer",fontSize:"13px"},className:"fas fa-eye "})]}),(0,Er.jsxs)("p",{style:{marginTop:"10px"},children:[(0,Er.jsx)(jt,{to:"",children:"     TotalLikes :   "}),e.video_likes," ",(0,Er.jsx)("i",{style:{cursor:"pointer",fontSize:"13px"},className:"fa fa-thumbs-up"})]})]}),(0,Er.jsx)("div",{className:"video-title",children:(0,Er.jsxs)("p",{style:{marginTop:"10px"},children:[(0,Er.jsx)(jt,{to:"",children:"   Description :  "})," ",e.description]})})]})})})})]})}))})})})})})})})]})},dG=function(){var e=k((0,r.useState)([]),2),t=e[0],n=e[1],i=k((0,r.useState)(0),2),a=i[0],o=i[1],s=(0,r.useRef)(null);(0,r.useEffect)((function(){c()}),[]);var c=function(){var e=Be(Fe().mark((function e(){var t,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gr.post("".concat(wr[0].apiUrl,"api/get_latest_video"),{},{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}});case 3:(t=e.sent).data&&t.data.data&&t.data.data.length>0&&(r=t.data.data.map((function(e){var t;return"".concat(wr[0].apiUrl,"api/uploads/").concat(null===e||void 0===e||null===(t=e.video[0])||void 0===t?void 0:t.filename)})),n(r),o(0)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,Er.jsx)("div",{children:t.length>0?(0,Er.jsx)(gp.Z,{ref:s,controls:!0,style:{width:"100%",height:"100%",objectFit:"contain"},url:t[a],width:"100%",playing:!0,onEnded:function(){o((function(e){return e<t.length-1?e+1:e}))}}):(0,Er.jsx)("p",{children:"No videos available"})})};var fG=function(){return(0,Er.jsxs)("div",{className:"App",children:[(0,Er.jsxs)(De,{children:[(0,Er.jsx)(Pe,{path:"/",element:(0,Er.jsx)(Wr,{})}),(0,Er.jsx)(Pe,{path:"/header",element:(0,Er.jsx)(kr,{})}),(0,Er.jsx)(Pe,{path:"/home",element:(0,Er.jsx)(Wr,{})}),(0,Er.jsx)(Pe,{path:"/history_page",element:(0,Er.jsx)(qr,{})}),(0,Er.jsx)(Pe,{path:"/channels",element:(0,Er.jsx)(Gr,{})}),(0,Er.jsx)(Pe,{path:"/single_channel",element:(0,Er.jsx)(Ci,{})}),(0,Er.jsx)(Pe,{path:"/video_page",element:(0,Er.jsx)(Sp,{})}),(0,Er.jsx)(Pe,{path:"/upload_video",element:(0,Er.jsx)(Ep,{})}),(0,Er.jsx)(Pe,{path:"/login",element:(0,Er.jsx)(Hj,{})}),(0,Er.jsx)(Pe,{path:"/register",element:(0,Er.jsx)(qj,{})}),(0,Er.jsx)(Pe,{path:"/category",element:(0,Er.jsx)(Gj,{})}),(0,Er.jsx)(Pe,{path:"/category_details",element:(0,Er.jsx)(Kj,{})}),(0,Er.jsx)(Pe,{path:"/chennal_category",element:(0,Er.jsx)(Yj,{})}),(0,Er.jsx)(Pe,{path:"/subscriptions",element:(0,Er.jsx)(Zj,{})}),(0,Er.jsx)(Pe,{path:"/upload",element:(0,Er.jsx)(Jj,{})}),(0,Er.jsx)(Pe,{path:"/view_profile",element:(0,Er.jsx)(Qj,{})}),(0,Er.jsx)(Pe,{path:"/myaccount",element:(0,Er.jsx)(tT,{})}),(0,Er.jsx)(Pe,{path:"/setting",element:(0,Er.jsx)(Xj,{})}),(0,Er.jsx)(Pe,{path:"/404",element:(0,Er.jsx)($j,{})}),(0,Er.jsx)(Pe,{path:"/blank",element:(0,Er.jsx)(nT,{})}),(0,Er.jsx)(Pe,{path:"/myvideo",element:(0,Er.jsx)(rT,{})}),(0,Er.jsx)(Pe,{path:"/permium",element:(0,Er.jsx)(iT,{})}),(0,Er.jsx)(Pe,{path:"/about",element:(0,Er.jsx)(aT,{})}),(0,Er.jsx)(Pe,{path:"/notification",element:(0,Er.jsx)(zq,{})}),(0,Er.jsx)(Pe,{path:"/refer",element:(0,Er.jsx)(Wq,{})}),(0,Er.jsx)(Pe,{path:"/changepassword",element:(0,Er.jsx)(Hq,{})}),(0,Er.jsx)(Pe,{path:"/forgotPassword",element:(0,Er.jsx)(eT,{})}),(0,Er.jsx)(Pe,{path:"/changeprofile",element:(0,Er.jsx)(qq,{})}),(0,Er.jsx)(Pe,{path:"/uploadmusic",element:(0,Er.jsx)(Gq,{})}),(0,Er.jsx)(Pe,{path:"/music",element:(0,Er.jsx)(Kq,{})}),(0,Er.jsx)(Pe,{path:"/audio",element:(0,Er.jsx)(Qq,{})}),(0,Er.jsx)(Pe,{path:"/musiclist",element:(0,Er.jsx)(Xq,{})}),(0,Er.jsx)(Pe,{path:"/help",element:(0,Er.jsx)($q,{})}),(0,Er.jsx)(Pe,{path:"/videoplaylist",element:(0,Er.jsx)(eG,{})}),(0,Er.jsx)(Pe,{path:"/watchlater",element:(0,Er.jsx)(tG,{})}),(0,Er.jsx)(Pe,{path:"/blockuser",element:(0,Er.jsx)(nG,{})}),(0,Er.jsx)(Pe,{path:"/appp",element:(0,Er.jsx)(oG,{})}),(0,Er.jsx)(Pe,{path:"/video_live",element:(0,Er.jsx)(sG,{})}),(0,Er.jsx)(Pe,{path:"/join",element:(0,Er.jsx)(cG,{})}),(0,Er.jsx)(Pe,{path:"/report",element:(0,Er.jsx)(rG,{})}),(0,Er.jsx)(Pe,{path:"/updatechannel",element:(0,Er.jsx)(lG,{})})]}),(0,Er.jsxs)(De,{children:[(0,Er.jsx)(Pe,{path:"/searchdata",element:(0,Er.jsx)(uG,{})}),(0,Er.jsx)(Pe,{path:"/reacta",element:(0,Er.jsx)(dG,{})})]})]})},hG=function(e){e&&e instanceof Function&&__webpack_require__.e(787).then(__webpack_require__.bind(__webpack_require__,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};a.createRoot(document.getElementById("root")).render((0,Er.jsx)(Et,{children:(0,Er.jsx)(fG,{})})),hG()}()})();
//# sourceMappingURL=main.4ef0fbff.js.map